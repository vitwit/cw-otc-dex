import { g as OS, c as oR } from "./__commonjsHelpers__-f3sTPFkQ.js";
function zn(t) {
  return Array.isArray(t);
}
function dr(t) {
  return t !== null && typeof t == "object" && t.constructor === Object;
}
function AS(t) {
  return t && typeof t == "object" ? t.op === "add" : !1;
}
function ES(t) {
  return t && typeof t == "object" ? t.op === "remove" : !1;
}
function H0(t) {
  return t && typeof t == "object" ? t.op === "replace" : !1;
}
function Yg(t) {
  return t && typeof t == "object" ? t.op === "copy" : !1;
}
function fc(t) {
  return t && typeof t == "object" ? t.op === "move" : !1;
}
function sR(t, e) {
  return JSON.stringify(t) === JSON.stringify(e);
}
function aR(t, e) {
  return t === e;
}
function MS(t) {
  return t.slice(0, t.length - 1);
}
function lR(t) {
  return t[t.length - 1];
}
function cR(t, e) {
  let n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : aR;
  if (t.length < e.length)
    return !1;
  for (let r = 0; r < e.length; r++)
    if (!n(t[r], e[r]))
      return !1;
  return !0;
}
function TS(t) {
  return typeof t == "object" && t !== null;
}
function U0(t) {
  if (zn(t)) {
    const e = t.slice();
    return Object.getOwnPropertySymbols(t).forEach((n) => {
      e[n] = t[n];
    }), e;
  } else if (dr(t)) {
    const e = {
      ...t
    };
    return Object.getOwnPropertySymbols(t).forEach((n) => {
      e[n] = t[n];
    }), e;
  } else
    return t;
}
function J0(t, e, n) {
  if (t[e] === n)
    return t;
  {
    const r = U0(t);
    return r[e] = n, r;
  }
}
function Xe(t, e) {
  let n = t, r = 0;
  for (; r < e.length; )
    dr(n) ? n = n[e[r]] : zn(n) ? n = n[parseInt(e[r])] : n = void 0, r++;
  return n;
}
function Mo(t, e, n) {
  let r = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : !1;
  if (e.length === 0)
    return n;
  const i = e[0], o = Mo(t ? t[i] : void 0, e.slice(1), n, r);
  if (dr(t) || zn(t))
    return J0(t, i, o);
  if (r) {
    const s = uR.test(i) ? [] : {};
    return s[i] = o, s;
  } else
    throw new Error("Path does not exist");
}
const uR = /^\d+$/;
function RS(t, e, n) {
  if (e.length === 0)
    return n(t);
  if (!TS(t))
    throw new Error("Path doesn't exist");
  const r = e[0], i = RS(t[r], e.slice(1), n);
  return J0(t, r, i);
}
function G0(t, e) {
  if (e.length === 0)
    return t;
  if (!TS(t))
    throw new Error("Path does not exist");
  if (e.length === 1) {
    const i = e[0];
    if (i in t) {
      const o = U0(t);
      return zn(o) && o.splice(parseInt(i), 1), dr(o) && delete o[i], o;
    } else
      return t;
  }
  const n = e[0], r = G0(t[n], e.slice(1));
  return J0(t, n, r);
}
function K0(t, e, n) {
  const r = e.slice(0, e.length - 1), i = e[e.length - 1];
  return RS(t, r, (o) => {
    if (!Array.isArray(o))
      throw new TypeError("Array expected at path " + JSON.stringify(r));
    const s = U0(o);
    return s.splice(parseInt(i), 0, n), s;
  });
}
function ho(t, e) {
  return t === void 0 ? !1 : e.length === 0 ? !0 : t === null ? !1 : ho(t[e[0]], e.slice(1));
}
function zo(t) {
  const e = t.split("/");
  return e.shift(), e.map((n) => n.replace(/~1/g, "/").replace(/~0/g, "~"));
}
function We(t) {
  return t.map(PS).join("");
}
function PS(t) {
  return "/" + String(t).replace(/~/g, "~0").replace(/\//g, "~1");
}
function h2(t, e) {
  return t + PS(e);
}
function Pp(t, e) {
  return t.startsWith(e) && (t.length === e.length || t[e.length] === "/");
}
function Do(t, e, n) {
  let r = t;
  for (let i = 0; i < e.length; i++) {
    yR(e[i]);
    let o = e[i];
    if (n && n.before) {
      const l = n.before(r, o);
      if (l !== void 0) {
        if (l.document !== void 0 && (r = l.document), l.json !== void 0)
          throw new Error('Deprecation warning: returned object property ".json" has been renamed to ".document"');
        l.operation !== void 0 && (o = l.operation);
      }
    }
    const s = r, a = us(r, o.path);
    if (o.op === "add")
      r = hR(r, a, o.value);
    else if (o.op === "remove")
      r = dR(r, a);
    else if (o.op === "replace")
      r = fR(r, a, o.value);
    else if (o.op === "copy")
      r = pR(r, a, Qg(o.from));
    else if (o.op === "move")
      r = mR(r, a, Qg(o.from));
    else if (o.op === "test")
      gR(r, a, o.value);
    else
      throw new Error("Unknown JSONPatch operation " + JSON.stringify(o));
    if (n && n.after) {
      const l = n.after(r, o, s);
      l !== void 0 && (r = l);
    }
  }
  return r;
}
function fR(t, e, n) {
  return Mo(t, e, n);
}
function dR(t, e) {
  return G0(t, e);
}
function hR(t, e, n) {
  return If(t, e) ? K0(t, e, n) : Mo(t, e, n);
}
function pR(t, e, n) {
  const r = Xe(t, n);
  if (If(t, e))
    return K0(t, e, r);
  {
    const i = Xe(t, n);
    return Mo(t, e, i);
  }
}
function mR(t, e, n) {
  const r = Xe(t, n), i = G0(t, n);
  return If(i, e) ? K0(i, e, r) : Mo(i, e, r);
}
function gR(t, e, n) {
  if (n === void 0)
    throw new Error(`Test failed: no value provided (path: "${We(e)}")`);
  if (!ho(t, e))
    throw new Error(`Test failed: path not found (path: "${We(e)}")`);
  const r = Xe(t, e);
  if (!sR(r, n))
    throw new Error(`Test failed, value differs (path: "${We(e)}")`);
}
function If(t, e) {
  if (e.length === 0)
    return !1;
  const n = Xe(t, MS(e));
  return Array.isArray(n);
}
function vR(t, e) {
  if (lR(e) !== "-")
    return e;
  const n = MS(e), r = Xe(t, n);
  return n.concat(r.length);
}
function yR(t) {
  if (!["add", "remove", "replace", "copy", "move", "test"].includes(t.op))
    throw new Error("Unknown JSONPatch op " + JSON.stringify(t.op));
  if (typeof t.path != "string")
    throw new Error('Required property "path" missing or not a string in operation ' + JSON.stringify(t));
  if ((t.op === "copy" || t.op === "move") && typeof t.from != "string")
    throw new Error('Required property "from" missing or not a string in operation ' + JSON.stringify(t));
}
function us(t, e) {
  return vR(t, zo(e));
}
function Qg(t) {
  return zo(t);
}
function IS(t, e, n) {
  let r = [];
  return Do(t, e, {
    before: (o, s) => {
      let a;
      const l = us(o, s.path);
      if (s.op === "add")
        a = LS(o, l);
      else if (s.op === "remove")
        a = DS(o, l);
      else if (s.op === "replace")
        a = NS(o, l);
      else if (s.op === "copy")
        a = bR(o, l);
      else if (s.op === "move")
        a = xR(o, l, Qg(s.from));
      else if (s.op === "test")
        a = [];
      else
        throw new Error("Unknown JSONPatch operation " + JSON.stringify(s));
      let c;
      if (n && n.before) {
        const u = n.before(o, s, a);
        if (u && u.revertOperations && (a = u.revertOperations), u && u.document && (c = u.document), u && u.json)
          throw new Error('Deprecation warning: returned object property ".json" has been renamed to ".document"');
      }
      if (r = a.concat(r), c !== void 0)
        return {
          document: c
        };
    }
  }), r;
}
function NS(t, e) {
  return [{
    op: "replace",
    path: We(e),
    value: Xe(t, e)
  }];
}
function DS(t, e) {
  return [{
    op: "add",
    path: We(e),
    value: Xe(t, e)
  }];
}
function LS(t, e) {
  return If(t, e) || !ho(t, e) ? [{
    op: "remove",
    path: We(e)
  }] : NS(t, e);
}
function bR(t, e) {
  return LS(t, e);
}
function xR(t, e, n) {
  if (e.length < n.length && cR(n, e))
    return [{
      op: "replace",
      path: We(e),
      value: t
    }];
  const r = {
    op: "move",
    from: We(e),
    path: We(n)
  };
  return !If(t, e) && ho(t, e) ? [r, ...DS(t, e)] : [r];
}
var kh = {}, p2 = {
  b: "\b",
  f: "\f",
  n: `
`,
  r: "\r",
  t: "	",
  '"': '"',
  "/": "/",
  "\\": "\\"
}, wR = 97;
kh.parse = function(t, e, n) {
  var r = {}, i = 0, o = 0, s = 0, a = n && n.bigint && typeof BigInt < "u";
  return {
    data: l("", !0),
    pointers: r
  };
  function l(z, _) {
    c();
    var B;
    x(z, "value");
    var I = m();
    switch (I) {
      case "t":
        p("rue"), B = !0;
        break;
      case "f":
        p("alse"), B = !1;
        break;
      case "n":
        p("ull"), B = null;
        break;
      case '"':
        B = u();
        break;
      case "[":
        B = d(z);
        break;
      case "{":
        B = h(z);
        break;
      default:
        g(), "-0123456789".indexOf(I) >= 0 ? B = f() : j();
    }
    return x(z, "valueEnd"), c(), _ && s < t.length && j(), B;
  }
  function c() {
    e:
      for (; s < t.length; ) {
        switch (t[s]) {
          case " ":
            o++;
            break;
          case "	":
            o += 4;
            break;
          case "\r":
            o = 0;
            break;
          case `
`:
            o = 0, i++;
            break;
          default:
            break e;
        }
        s++;
      }
  }
  function u() {
    for (var z = "", _; _ = m(), _ != '"'; )
      _ == "\\" ? (_ = m(), _ in p2 ? z += p2[_] : _ == "u" ? z += v() : k()) : z += _;
    return z;
  }
  function f() {
    var z = "", _ = !0;
    t[s] == "-" && (z += m()), z += t[s] == "0" ? m() : y(), t[s] == "." && (z += m() + y(), _ = !1), (t[s] == "e" || t[s] == "E") && (z += m(), (t[s] == "+" || t[s] == "-") && (z += m()), z += y(), _ = !1);
    var B = +z;
    return a && _ && (B > Number.MAX_SAFE_INTEGER || B < Number.MIN_SAFE_INTEGER) ? BigInt(z) : B;
  }
  function d(z) {
    c();
    var _ = [], B = 0;
    if (m() == "]")
      return _;
    for (g(); ; ) {
      var I = z + "/" + B;
      _.push(l(I)), c();
      var Y = m();
      if (Y == "]")
        break;
      Y != "," && k(), c(), B++;
    }
    return _;
  }
  function h(z) {
    c();
    var _ = {};
    if (m() == "}")
      return _;
    for (g(); ; ) {
      var B = w();
      m() != '"' && k();
      var I = u(), Y = z + "/" + Xg(I);
      b(Y, "key", B), x(Y, "keyEnd"), c(), m() != ":" && k(), c(), _[I] = l(Y), c();
      var R = m();
      if (R == "}")
        break;
      R != "," && k(), c();
    }
    return _;
  }
  function p(z) {
    for (var _ = 0; _ < z.length; _++)
      m() !== z[_] && k();
  }
  function m() {
    N();
    var z = t[s];
    return s++, o++, z;
  }
  function g() {
    s--, o--;
  }
  function v() {
    for (var z = 4, _ = 0; z--; ) {
      _ <<= 4;
      var B = m().toLowerCase();
      B >= "a" && B <= "f" ? _ += B.charCodeAt() - wR + 10 : B >= "0" && B <= "9" ? _ += +B : k();
    }
    return String.fromCharCode(_);
  }
  function y() {
    for (var z = ""; t[s] >= "0" && t[s] <= "9"; )
      z += m();
    if (z.length)
      return z;
    N(), j();
  }
  function x(z, _) {
    b(z, _, w());
  }
  function b(z, _, B) {
    r[z] = r[z] || {}, r[z][_] = B;
  }
  function w() {
    return {
      line: i,
      column: o,
      pos: s
    };
  }
  function j() {
    throw new SyntaxError("Unexpected token " + t[s] + " in JSON at position " + s);
  }
  function k() {
    g(), j();
  }
  function N() {
    if (s >= t.length)
      throw new SyntaxError("Unexpected end of JSON input");
  }
};
kh.stringify = function(t, e, n) {
  if (!cd(t))
    return;
  var r = 0, i, o, s = typeof n == "object" ? n.space : n;
  switch (typeof s) {
    case "number":
      var a = s > 10 ? 10 : s < 0 ? 0 : Math.floor(s);
      s = a && b(a, " "), i = a, o = a;
      break;
    case "string":
      s = s.slice(0, 10), i = 0, o = 0;
      for (var l = 0; l < s.length; l++) {
        var c = s[l];
        switch (c) {
          case " ":
            o++;
            break;
          case "	":
            o += 4;
            break;
          case "\r":
            o = 0;
            break;
          case `
`:
            o = 0, r++;
            break;
          default:
            throw new Error("whitespace characters not allowed in JSON");
        }
        i++;
      }
      break;
    default:
      s = void 0;
  }
  var u = "", f = {}, d = 0, h = 0, p = 0, m = n && n.es6 && typeof Map == "function";
  return g(t, 0, ""), {
    json: u,
    pointers: f
  };
  function g(w, j, k) {
    switch (x(k, "value"), typeof w) {
      case "number":
      case "bigint":
      case "boolean":
        v("" + w);
        break;
      case "string":
        v(ud(w));
        break;
      case "object":
        w === null ? v("null") : typeof w.toJSON == "function" ? v(ud(w.toJSON())) : Array.isArray(w) ? N() : m ? w.constructor.BYTES_PER_ELEMENT ? N() : w instanceof Map ? _() : w instanceof Set ? _(!0) : z() : z();
    }
    x(k, "valueEnd");
    function N() {
      if (w.length) {
        v("[");
        for (var B = j + 1, I = 0; I < w.length; I++) {
          I && v(","), y(B);
          var Y = cd(w[I]) ? w[I] : null, R = k + "/" + I;
          g(Y, B, R);
        }
        y(j), v("]");
      } else
        v("[]");
    }
    function z() {
      var B = Object.keys(w);
      if (B.length) {
        v("{");
        for (var I = j + 1, Y = 0; Y < B.length; Y++) {
          var R = B[Y], Z = w[R];
          if (cd(Z)) {
            Y && v(",");
            var ne = k + "/" + Xg(R);
            y(I), x(ne, "key"), v(ud(R)), x(ne, "keyEnd"), v(":"), s && v(" "), g(Z, I, ne);
          }
        }
        y(j), v("}");
      } else
        v("{}");
    }
    function _(B) {
      if (w.size) {
        v("{");
        for (var I = j + 1, Y = !0, R = w.entries(), Z = R.next(); !Z.done; ) {
          var ne = Z.value, V = ne[0], M = B ? !0 : ne[1];
          if (cd(M)) {
            Y || v(","), Y = !1;
            var F = k + "/" + Xg(V);
            y(I), x(F, "key"), v(ud(V)), x(F, "keyEnd"), v(":"), s && v(" "), g(M, I, F);
          }
          Z = R.next();
        }
        y(j), v("}");
      } else
        v("{}");
    }
  }
  function v(w) {
    h += w.length, p += w.length, u += w;
  }
  function y(w) {
    if (s) {
      for (u += `
` + b(w, s), d++, h = 0; w--; )
        r ? (d += r, h = o) : h += o, p += i;
      p += 1;
    }
  }
  function x(w, j) {
    f[w] = f[w] || {}, f[w][j] = {
      line: d,
      column: h,
      pos: p
    };
  }
  function b(w, j) {
    return Array(w + 1).join(j);
  }
};
var jR = ["number", "bigint", "boolean", "string", "object"];
function cd(t) {
  return jR.indexOf(typeof t) >= 0;
}
var $R = /"|\\/g, kR = /[\b]/g, SR = /\f/g, CR = /\n/g, _R = /\r/g, OR = /\t/g;
function ud(t) {
  return t = t.replace($R, "\\$&").replace(SR, "\\f").replace(kR, "\\b").replace(CR, "\\n").replace(_R, "\\r").replace(OR, "\\t"), '"' + t + '"';
}
var AR = /~/g, ER = /\//g;
function Xg(t) {
  return t.replace(AR, "~0").replace(ER, "~1");
}
class Xa extends Error {
  constructor(e, n) {
    super(e + " at position " + n), this.position = n;
  }
}
const fd = 92, Jm = 47, MR = 42, m2 = 123, dd = 125, g2 = 91, hd = 93, TR = 40, RR = 41, PR = 32, Y0 = 10, BS = 9, qS = 13, IR = 8, NR = 12, Sh = 34, v2 = 43, y2 = 45, zS = 39, FS = 48, VS = 57, pd = 44, DR = 46, LR = 58, BR = 59, qR = 65, zR = 97, FR = 69, VR = 101, WR = 70, HR = 102, UR = 160, JR = 8192, GR = 8202, KR = 8239, YR = 8287, QR = 12288, XR = 8220, ZR = 8221, eP = 8216, tP = 8217, nP = 96, rP = 180;
function iP(t) {
  return t >= FS && t <= VS || t >= qR && t <= WR || t >= zR && t <= HR;
}
function md(t) {
  return t >= FS && t <= VS;
}
function oP(t) {
  return t >= 32 && t <= 1114111;
}
function Gm(t) {
  return sP.test(t) || _h(t.charCodeAt(0));
}
const sP = /^[,:[\]{}()\n+]$/;
function b2(t) {
  return aP.test(t) || t && _h(t.charCodeAt(0));
}
const aP = /^[[{\w-]$/;
function lP(t) {
  return t === Y0 || t === qS || t === BS || t === IR || t === NR;
}
function Ch(t) {
  return t === PR || t === Y0 || t === BS || t === qS;
}
function cP(t) {
  return t === UR || t >= JR && t <= GR || t === KR || t === YR || t === QR;
}
function _h(t) {
  return WS(t) || Zg(t);
}
function WS(t) {
  return t === Sh || t === XR || t === ZR;
}
function x2(t) {
  return t === Sh;
}
function Zg(t) {
  return t === zS || t === eP || t === tP || t === nP || t === rP;
}
function w2(t) {
  return t === zS;
}
function gu(t, e) {
  let n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !1;
  const r = t.lastIndexOf(e);
  return r !== -1 ? t.substring(0, r) + (n ? "" : t.substring(r + 1)) : t;
}
function Ts(t, e) {
  let n = t.length;
  if (!Ch(t.charCodeAt(n - 1)))
    return t + e;
  for (; Ch(t.charCodeAt(n - 1)); )
    n--;
  return t.substring(0, n) + e + t.substring(n);
}
function uP(t, e, n) {
  return t.substring(0, e) + t.substring(e + n);
}
function fP(t) {
  return /[,\n][ \t\r]*$/.test(t);
}
const dP = {
  "\b": "\\b",
  "\f": "\\f",
  "\n": "\\n",
  "\r": "\\r",
  "	": "\\t"
}, hP = {
  '"': '"',
  "\\": "\\",
  "/": "/",
  b: "\b",
  f: "\f",
  n: `
`,
  r: "\r",
  t: "	"
  // note that \u is handled separately in parseString()
};
function fs(t) {
  let e = 0, n = "";
  o() || z();
  const i = c(pd);
  for (i && s(), b2(t[e]) && fP(n) ? (i || (n = Ts(n, ",")), p()) : i && (n = gu(n, ",")); t.charCodeAt(e) === dd || t.charCodeAt(e) === hd; )
    e++, s();
  if (e >= t.length)
    return n;
  N();
  function o() {
    s();
    const R = d() || h() || m() || v() || y() || b();
    return s(), R;
  }
  function s() {
    const R = e;
    let Z = a();
    do
      Z = l(), Z && (Z = a());
    while (Z);
    return e > R;
  }
  function a() {
    let R = "", Z;
    for (; (Z = Ch(t.charCodeAt(e))) || cP(t.charCodeAt(e)); )
      Z ? R += t[e] : R += " ", e++;
    return R.length > 0 ? (n += R, !0) : !1;
  }
  function l() {
    if (t.charCodeAt(e) === Jm && t.charCodeAt(e + 1) === MR) {
      for (; e < t.length && !pP(t, e); )
        e++;
      return e += 2, !0;
    }
    if (t.charCodeAt(e) === Jm && t.charCodeAt(e + 1) === Jm) {
      for (; e < t.length && t.charCodeAt(e) !== Y0; )
        e++;
      return !0;
    }
    return !1;
  }
  function c(R) {
    return t.charCodeAt(e) === R ? (n += t[e], e++, !0) : !1;
  }
  function u(R) {
    return t.charCodeAt(e) === R ? (e++, !0) : !1;
  }
  function f() {
    return u(fd);
  }
  function d() {
    if (t.charCodeAt(e) === m2) {
      n += "{", e++, s();
      let R = !0;
      for (; e < t.length && t.charCodeAt(e) !== dd; ) {
        let Z;
        if (R ? (Z = !0, R = !1) : (Z = c(pd), Z || (n = Ts(n, ",")), s()), !(m() || b())) {
          t.charCodeAt(e) === dd || t.charCodeAt(e) === m2 || t.charCodeAt(e) === hd || t.charCodeAt(e) === g2 || t[e] === void 0 ? n = gu(n, ",") : _();
          break;
        }
        s();
        const V = c(LR), M = e >= t.length;
        V || (b2(t[e]) || M ? n = Ts(n, ":") : B()), o() || (V || M ? n += "null" : B());
      }
      return t.charCodeAt(e) === dd ? (n += "}", e++) : n = Ts(n, "}"), !0;
    }
    return !1;
  }
  function h() {
    if (t.charCodeAt(e) === g2) {
      n += "[", e++, s();
      let R = !0;
      for (; e < t.length && t.charCodeAt(e) !== hd; )
        if (R ? R = !1 : c(pd) || (n = Ts(n, ",")), !o()) {
          n = gu(n, ",");
          break;
        }
      return t.charCodeAt(e) === hd ? (n += "]", e++) : n = Ts(n, "]"), !0;
    }
    return !1;
  }
  function p() {
    let R = !0, Z = !0;
    for (; Z; )
      R ? R = !1 : c(pd) || (n = Ts(n, ",")), Z = o();
    Z || (n = gu(n, ",")), n = `[
`.concat(n, `
]`);
  }
  function m() {
    let R = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !1, Z = t.charCodeAt(e) === fd;
    if (Z && (e++, Z = !0), _h(t.charCodeAt(e))) {
      const ne = x2(t.charCodeAt(e)) ? x2 : w2(t.charCodeAt(e)) ? w2 : Zg(t.charCodeAt(e)) ? Zg : WS, V = e, M = n.length;
      let F = '"';
      e++;
      const P = R ? (C) => Gm(t[C]) : (C) => ne(t.charCodeAt(C));
      for (; e < t.length && !P(e); ) {
        if (t.charCodeAt(e) === fd) {
          const C = t.charAt(e + 1);
          if (hP[C] !== void 0)
            F += t.slice(e, e + 2), e += 2;
          else if (C === "u") {
            let ie = 2;
            for (; ie < 6 && iP(t.charCodeAt(e + ie)); )
              ie++;
            ie === 6 ? (F += t.slice(e, e + 6), e += 6) : e + ie >= t.length ? e = t.length : I();
          } else
            F += C, e += 2;
        } else {
          const C = t.charAt(e), H = t.charCodeAt(e);
          H === Sh && t.charCodeAt(e - 1) !== fd ? (F += "\\" + C, e++) : lP(H) ? (F += dP[C], e++) : (oP(H) || k(C), F += C, e++);
        }
        Z && f();
      }
      const T = _h(t.charCodeAt(e));
      T ? (F += '"', e++) : F = Ts(F, '"'), n += F, s();
      const O = e >= t.length, L = Gm(t.charAt(e));
      return !R && (T && !O && !L || !T && O) ? (e = V, n = n.substring(0, M), m(!0)) : (g(), !0);
    }
    return !1;
  }
  function g() {
    let R = !1;
    for (s(); t.charCodeAt(e) === v2; ) {
      R = !0, e++, s(), n = gu(n, '"', !0);
      const Z = n.length;
      m() ? n = uP(n, Z, 1) : n = Ts(n, '"');
    }
    return R;
  }
  function v() {
    const R = e;
    if (t.charCodeAt(e) === y2 && (e++, j(R)))
      return !0;
    for (; md(t.charCodeAt(e)); )
      e++;
    if (t.charCodeAt(e) === DR) {
      if (e++, j(R))
        return !0;
      for (; md(t.charCodeAt(e)); )
        e++;
    }
    if (t.charCodeAt(e) === VR || t.charCodeAt(e) === FR) {
      if (e++, (t.charCodeAt(e) === y2 || t.charCodeAt(e) === v2) && e++, j(R))
        return !0;
      for (; md(t.charCodeAt(e)); )
        e++;
    }
    if (e > R) {
      const Z = t.slice(R, e), ne = /^0\d/.test(Z);
      return n += ne ? '"'.concat(Z, '"') : Z, !0;
    }
    return !1;
  }
  function y() {
    return x("true", "true") || x("false", "false") || x("null", "null") || // repair Python keywords True, False, None
    x("True", "true") || x("False", "false") || x("None", "null");
  }
  function x(R, Z) {
    return t.slice(e, e + R.length) === R ? (n += Z, e += R.length, !0) : !1;
  }
  function b() {
    const R = e;
    for (; e < t.length && !Gm(t[e]); )
      e++;
    if (e > R) {
      if (t.charCodeAt(e) === TR)
        return e++, o(), t.charCodeAt(e) === RR && (e++, t.charCodeAt(e) === BR && e++), !0;
      {
        for (; Ch(t.charCodeAt(e - 1)) && e > 0; )
          e--;
        const Z = t.slice(R, e);
        return n += Z === "undefined" ? "null" : JSON.stringify(Z), t.charCodeAt(e) === Sh && e++, !0;
      }
    }
  }
  function w(R) {
    if (!md(t.charCodeAt(e))) {
      const Z = t.slice(R, e);
      throw new Xa("Invalid number '".concat(Z, "', expecting a digit ").concat(Y()), e);
    }
  }
  function j(R) {
    return e >= t.length ? (n += t.slice(R, e) + "0", !0) : (w(R), !1);
  }
  function k(R) {
    throw new Xa("Invalid character " + JSON.stringify(R), e);
  }
  function N() {
    throw new Xa("Unexpected character " + JSON.stringify(t[e]), e);
  }
  function z() {
    throw new Xa("Unexpected end of json string", t.length);
  }
  function _() {
    throw new Xa("Object key expected", e);
  }
  function B() {
    throw new Xa("Colon expected", e);
  }
  function I() {
    const R = t.slice(e, e + 6);
    throw new Xa('Invalid unicode character "'.concat(R, '"'), e);
  }
  function Y() {
    return t[e] ? "but got '".concat(t[e], "'") : "but reached end of input";
  }
}
function pP(t, e) {
  return t[e] === "*" && t[e + 1] === "/";
}
var HS = typeof global == "object" && global && global.Object === Object && global, mP = typeof self == "object" && self && self.Object === Object && self, Ur = HS || mP || Function("return this")(), mi = Ur.Symbol, US = Object.prototype, gP = US.hasOwnProperty, vP = US.toString, vu = mi ? mi.toStringTag : void 0;
function yP(t) {
  var e = gP.call(t, vu), n = t[vu];
  try {
    t[vu] = void 0;
    var r = !0;
  } catch {
  }
  var i = vP.call(t);
  return r && (e ? t[vu] = n : delete t[vu]), i;
}
var bP = Object.prototype, xP = bP.toString;
function wP(t) {
  return xP.call(t);
}
var jP = "[object Null]", $P = "[object Undefined]", j2 = mi ? mi.toStringTag : void 0;
function Si(t) {
  return t == null ? t === void 0 ? $P : jP : j2 && j2 in Object(t) ? yP(t) : wP(t);
}
function $r(t) {
  return t != null && typeof t == "object";
}
var kP = "[object Symbol]";
function Di(t) {
  return typeof t == "symbol" || $r(t) && Si(t) == kP;
}
var SP = NaN;
function $2(t) {
  return typeof t == "number" ? t : Di(t) ? SP : +t;
}
function vr(t, e) {
  for (var n = -1, r = t == null ? 0 : t.length, i = Array(r); ++n < r; )
    i[n] = e(t[n], n, t);
  return i;
}
var Kt = Array.isArray, CP = 1 / 0, k2 = mi ? mi.prototype : void 0, S2 = k2 ? k2.toString : void 0;
function no(t) {
  if (typeof t == "string")
    return t;
  if (Kt(t))
    return vr(t, no) + "";
  if (Di(t))
    return S2 ? S2.call(t) : "";
  var e = t + "";
  return e == "0" && 1 / t == -CP ? "-0" : e;
}
function Ip(t, e) {
  return function(n, r) {
    var i;
    if (n === void 0 && r === void 0)
      return e;
    if (n !== void 0 && (i = n), r !== void 0) {
      if (i === void 0)
        return r;
      typeof n == "string" || typeof r == "string" ? (n = no(n), r = no(r)) : (n = $2(n), r = $2(r)), i = t(n, r);
    }
    return i;
  };
}
var _P = Ip(function(t, e) {
  return t + e;
}, 0);
const JS = _P;
var OP = /\s/;
function GS(t) {
  for (var e = t.length; e-- && OP.test(t.charAt(e)); )
    ;
  return e;
}
var AP = /^\s+/;
function KS(t) {
  return t && t.slice(0, GS(t) + 1).replace(AP, "");
}
function hr(t) {
  var e = typeof t;
  return t != null && (e == "object" || e == "function");
}
var C2 = NaN, EP = /^[-+]0x[0-9a-f]+$/i, MP = /^0b[01]+$/i, TP = /^0o[0-7]+$/i, RP = parseInt;
function Qi(t) {
  if (typeof t == "number")
    return t;
  if (Di(t))
    return C2;
  if (hr(t)) {
    var e = typeof t.valueOf == "function" ? t.valueOf() : t;
    t = hr(e) ? e + "" : e;
  }
  if (typeof t != "string")
    return t === 0 ? t : +t;
  t = KS(t);
  var n = MP.test(t);
  return n || TP.test(t) ? RP(t.slice(2), n ? 2 : 8) : EP.test(t) ? C2 : +t;
}
var _2 = 1 / 0, PP = 17976931348623157e292;
function ds(t) {
  if (!t)
    return t === 0 ? t : 0;
  if (t = Qi(t), t === _2 || t === -_2) {
    var e = t < 0 ? -1 : 1;
    return e * PP;
  }
  return t === t ? t : 0;
}
function nn(t) {
  var e = ds(t), n = e % 1;
  return e === e ? n ? e - n : e : 0;
}
var IP = "Expected a function";
function YS(t, e) {
  if (typeof e != "function")
    throw new TypeError(IP);
  return t = nn(t), function() {
    if (--t < 1)
      return e.apply(this, arguments);
  };
}
function yi(t) {
  return t;
}
var NP = "[object AsyncFunction]", DP = "[object Function]", LP = "[object GeneratorFunction]", BP = "[object Proxy]";
function js(t) {
  if (!hr(t))
    return !1;
  var e = Si(t);
  return e == DP || e == LP || e == NP || e == BP;
}
var oh = Ur["__core-js_shared__"], O2 = function() {
  var t = /[^.]+$/.exec(oh && oh.keys && oh.keys.IE_PROTO || "");
  return t ? "Symbol(src)_1." + t : "";
}();
function qP(t) {
  return !!O2 && O2 in t;
}
var zP = Function.prototype, FP = zP.toString;
function Pl(t) {
  if (t != null) {
    try {
      return FP.call(t);
    } catch {
    }
    try {
      return t + "";
    } catch {
    }
  }
  return "";
}
var VP = /[\\^$.*+?()[\]{}|]/g, WP = /^\[object .+?Constructor\]$/, HP = Function.prototype, UP = Object.prototype, JP = HP.toString, GP = UP.hasOwnProperty, KP = RegExp(
  "^" + JP.call(GP).replace(VP, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
);
function QS(t) {
  if (!hr(t) || qP(t))
    return !1;
  var e = js(t) ? KP : WP;
  return e.test(Pl(t));
}
function YP(t, e) {
  return t == null ? void 0 : t[e];
}
function Il(t, e) {
  var n = YP(t, e);
  return QS(n) ? n : void 0;
}
var ef = Il(Ur, "WeakMap"), Oh = ef && new ef(), XS = Oh ? function(t, e) {
  return Oh.set(t, e), t;
} : yi, A2 = Object.create, Wc = /* @__PURE__ */ function() {
  function t() {
  }
  return function(e) {
    if (!hr(e))
      return {};
    if (A2)
      return A2(e);
    t.prototype = e;
    var n = new t();
    return t.prototype = void 0, n;
  };
}();
function tf(t) {
  return function() {
    var e = arguments;
    switch (e.length) {
      case 0:
        return new t();
      case 1:
        return new t(e[0]);
      case 2:
        return new t(e[0], e[1]);
      case 3:
        return new t(e[0], e[1], e[2]);
      case 4:
        return new t(e[0], e[1], e[2], e[3]);
      case 5:
        return new t(e[0], e[1], e[2], e[3], e[4]);
      case 6:
        return new t(e[0], e[1], e[2], e[3], e[4], e[5]);
      case 7:
        return new t(e[0], e[1], e[2], e[3], e[4], e[5], e[6]);
    }
    var n = Wc(t.prototype), r = t.apply(n, e);
    return hr(r) ? r : n;
  };
}
var QP = 1;
function XP(t, e, n) {
  var r = e & QP, i = tf(t);
  function o() {
    var s = this && this !== Ur && this instanceof o ? i : t;
    return s.apply(r ? n : this, arguments);
  }
  return o;
}
function ro(t, e, n) {
  switch (n.length) {
    case 0:
      return t.call(e);
    case 1:
      return t.call(e, n[0]);
    case 2:
      return t.call(e, n[0], n[1]);
    case 3:
      return t.call(e, n[0], n[1], n[2]);
  }
  return t.apply(e, n);
}
var ZP = Math.max;
function ZS(t, e, n, r) {
  for (var i = -1, o = t.length, s = n.length, a = -1, l = e.length, c = ZP(o - s, 0), u = Array(l + c), f = !r; ++a < l; )
    u[a] = e[a];
  for (; ++i < s; )
    (f || i < o) && (u[n[i]] = t[i]);
  for (; c--; )
    u[a++] = t[i++];
  return u;
}
var e7 = Math.max;
function eC(t, e, n, r) {
  for (var i = -1, o = t.length, s = -1, a = n.length, l = -1, c = e.length, u = e7(o - a, 0), f = Array(u + c), d = !r; ++i < u; )
    f[i] = t[i];
  for (var h = i; ++l < c; )
    f[h + l] = e[l];
  for (; ++s < a; )
    (d || i < o) && (f[h + n[s]] = t[i++]);
  return f;
}
function t7(t, e) {
  for (var n = t.length, r = 0; n--; )
    t[n] === e && ++r;
  return r;
}
function Np() {
}
var n7 = 4294967295;
function $n(t) {
  this.__wrapped__ = t, this.__actions__ = [], this.__dir__ = 1, this.__filtered__ = !1, this.__iteratees__ = [], this.__takeCount__ = n7, this.__views__ = [];
}
$n.prototype = Wc(Np.prototype);
$n.prototype.constructor = $n;
function Kn() {
}
var Q0 = Oh ? function(t) {
  return Oh.get(t);
} : Kn, dc = {}, r7 = Object.prototype, i7 = r7.hasOwnProperty;
function sh(t) {
  for (var e = t.name + "", n = dc[e], r = i7.call(dc, e) ? n.length : 0; r--; ) {
    var i = n[r], o = i.func;
    if (o == null || o == t)
      return i.name;
  }
  return e;
}
function xo(t, e) {
  this.__wrapped__ = t, this.__actions__ = [], this.__chain__ = !!e, this.__index__ = 0, this.__values__ = void 0;
}
xo.prototype = Wc(Np.prototype);
xo.prototype.constructor = xo;
function Ni(t, e) {
  var n = -1, r = t.length;
  for (e || (e = Array(r)); ++n < r; )
    e[n] = t[n];
  return e;
}
function tC(t) {
  if (t instanceof $n)
    return t.clone();
  var e = new xo(t.__wrapped__, t.__chain__);
  return e.__actions__ = Ni(t.__actions__), e.__index__ = t.__index__, e.__values__ = t.__values__, e;
}
var o7 = Object.prototype, s7 = o7.hasOwnProperty;
function W(t) {
  if ($r(t) && !Kt(t) && !(t instanceof $n)) {
    if (t instanceof xo)
      return t;
    if (s7.call(t, "__wrapped__"))
      return tC(t);
  }
  return new xo(t);
}
W.prototype = Np.prototype;
W.prototype.constructor = W;
function ev(t) {
  var e = sh(t), n = W[e];
  if (typeof n != "function" || !(e in $n.prototype))
    return !1;
  if (t === n)
    return !0;
  var r = Q0(n);
  return !!r && t === r[0];
}
var a7 = 800, l7 = 16, c7 = Date.now;
function nC(t) {
  var e = 0, n = 0;
  return function() {
    var r = c7(), i = l7 - (r - n);
    if (n = r, i > 0) {
      if (++e >= a7)
        return arguments[0];
    } else
      e = 0;
    return t.apply(void 0, arguments);
  };
}
var u7 = nC(XS);
const rC = u7;
var f7 = /\{\n\/\* \[wrapped with (.+)\] \*/, d7 = /,? & /;
function h7(t) {
  var e = t.match(f7);
  return e ? e[1].split(d7) : [];
}
var p7 = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;
function m7(t, e) {
  var n = e.length;
  if (!n)
    return t;
  var r = n - 1;
  return e[r] = (n > 1 ? "& " : "") + e[r], e = e.join(n > 2 ? ", " : " "), t.replace(p7, `{
/* [wrapped with ` + e + `] */
`);
}
function Dp(t) {
  return function() {
    return t;
  };
}
var Ah = function() {
  try {
    var t = Il(Object, "defineProperty");
    return t({}, "", {}), t;
  } catch {
  }
}(), g7 = Ah ? function(t, e) {
  return Ah(t, "toString", {
    configurable: !0,
    enumerable: !1,
    value: Dp(e),
    writable: !0
  });
} : yi;
const v7 = g7;
var X0 = nC(v7);
function So(t, e) {
  for (var n = -1, r = t == null ? 0 : t.length; ++n < r && e(t[n], n, t) !== !1; )
    ;
  return t;
}
function Lp(t, e, n, r) {
  for (var i = t.length, o = n + (r ? 1 : -1); r ? o-- : ++o < i; )
    if (e(t[o], o, t))
      return o;
  return -1;
}
function iC(t) {
  return t !== t;
}
function y7(t, e, n) {
  for (var r = n - 1, i = t.length; ++r < i; )
    if (t[r] === e)
      return r;
  return -1;
}
function Hc(t, e, n) {
  return e === e ? y7(t, e, n) : Lp(t, iC, n);
}
function Bp(t, e) {
  var n = t == null ? 0 : t.length;
  return !!n && Hc(t, e, 0) > -1;
}
var b7 = 1, x7 = 2, w7 = 8, j7 = 16, $7 = 32, k7 = 64, S7 = 128, C7 = 256, _7 = 512, O7 = [
  ["ary", S7],
  ["bind", b7],
  ["bindKey", x7],
  ["curry", w7],
  ["curryRight", j7],
  ["flip", _7],
  ["partial", $7],
  ["partialRight", k7],
  ["rearg", C7]
];
function A7(t, e) {
  return So(O7, function(n) {
    var r = "_." + n[0];
    e & n[1] && !Bp(t, r) && t.push(r);
  }), t.sort();
}
function oC(t, e, n) {
  var r = e + "";
  return X0(t, m7(r, A7(h7(r), n)));
}
var E7 = 1, M7 = 2, T7 = 4, R7 = 8, E2 = 32, M2 = 64;
function sC(t, e, n, r, i, o, s, a, l, c) {
  var u = e & R7, f = u ? s : void 0, d = u ? void 0 : s, h = u ? o : void 0, p = u ? void 0 : o;
  e |= u ? E2 : M2, e &= ~(u ? M2 : E2), e & T7 || (e &= ~(E7 | M7));
  var m = [
    t,
    e,
    i,
    h,
    f,
    p,
    d,
    a,
    l,
    c
  ], g = n.apply(void 0, m);
  return ev(t) && rC(g, m), g.placeholder = r, oC(g, t, e);
}
function Uc(t) {
  var e = t;
  return e.placeholder;
}
var P7 = 9007199254740991, I7 = /^(?:0|[1-9]\d*)$/;
function ea(t, e) {
  var n = typeof t;
  return e = e ?? P7, !!e && (n == "number" || n != "symbol" && I7.test(t)) && t > -1 && t % 1 == 0 && t < e;
}
var N7 = Math.min;
function D7(t, e) {
  for (var n = t.length, r = N7(e.length, n), i = Ni(t); r--; ) {
    var o = e[r];
    t[r] = ea(o, n) ? i[o] : void 0;
  }
  return t;
}
var T2 = "__lodash_placeholder__";
function _a(t, e) {
  for (var n = -1, r = t.length, i = 0, o = []; ++n < r; ) {
    var s = t[n];
    (s === e || s === T2) && (t[n] = T2, o[i++] = n);
  }
  return o;
}
var L7 = 1, B7 = 2, q7 = 8, z7 = 16, F7 = 128, V7 = 512;
function qp(t, e, n, r, i, o, s, a, l, c) {
  var u = e & F7, f = e & L7, d = e & B7, h = e & (q7 | z7), p = e & V7, m = d ? void 0 : tf(t);
  function g() {
    for (var v = arguments.length, y = Array(v), x = v; x--; )
      y[x] = arguments[x];
    if (h)
      var b = Uc(g), w = t7(y, b);
    if (r && (y = ZS(y, r, i, h)), o && (y = eC(y, o, s, h)), v -= w, h && v < c) {
      var j = _a(y, b);
      return sC(
        t,
        e,
        qp,
        g.placeholder,
        n,
        y,
        j,
        a,
        l,
        c - v
      );
    }
    var k = f ? n : this, N = d ? k[t] : t;
    return v = y.length, a ? y = D7(y, a) : p && v > 1 && y.reverse(), u && l < v && (y.length = l), this && this !== Ur && this instanceof g && (N = m || tf(N)), N.apply(k, y);
  }
  return g;
}
function W7(t, e, n) {
  var r = tf(t);
  function i() {
    for (var o = arguments.length, s = Array(o), a = o, l = Uc(i); a--; )
      s[a] = arguments[a];
    var c = o < 3 && s[0] !== l && s[o - 1] !== l ? [] : _a(s, l);
    if (o -= c.length, o < n)
      return sC(
        t,
        e,
        qp,
        i.placeholder,
        void 0,
        s,
        c,
        void 0,
        void 0,
        n - o
      );
    var u = this && this !== Ur && this instanceof i ? r : t;
    return ro(u, this, s);
  }
  return i;
}
var H7 = 1;
function U7(t, e, n, r) {
  var i = e & H7, o = tf(t);
  function s() {
    for (var a = -1, l = arguments.length, c = -1, u = r.length, f = Array(u + l), d = this && this !== Ur && this instanceof s ? o : t; ++c < u; )
      f[c] = r[c];
    for (; l--; )
      f[c++] = arguments[++a];
    return ro(d, i ? n : this, f);
  }
  return s;
}
var R2 = "__lodash_placeholder__", Km = 1, J7 = 2, G7 = 4, P2 = 8, yu = 128, I2 = 256, K7 = Math.min;
function Y7(t, e) {
  var n = t[1], r = e[1], i = n | r, o = i < (Km | J7 | yu), s = r == yu && n == P2 || r == yu && n == I2 && t[7].length <= e[8] || r == (yu | I2) && e[7].length <= e[8] && n == P2;
  if (!(o || s))
    return t;
  r & Km && (t[2] = e[2], i |= n & Km ? 0 : G7);
  var a = e[3];
  if (a) {
    var l = t[3];
    t[3] = l ? ZS(l, a, e[4]) : a, t[4] = l ? _a(t[3], R2) : e[4];
  }
  return a = e[5], a && (l = t[5], t[5] = l ? eC(l, a, e[6]) : a, t[6] = l ? _a(t[5], R2) : e[6]), a = e[7], a && (t[7] = a), r & yu && (t[8] = t[8] == null ? e[8] : K7(t[8], e[8])), t[9] == null && (t[9] = e[9]), t[0] = e[0], t[1] = i, t;
}
var Q7 = "Expected a function", N2 = 1, X7 = 2, Ym = 8, Qm = 16, Xm = 32, D2 = 64, L2 = Math.max;
function ta(t, e, n, r, i, o, s, a) {
  var l = e & X7;
  if (!l && typeof t != "function")
    throw new TypeError(Q7);
  var c = r ? r.length : 0;
  if (c || (e &= ~(Xm | D2), r = i = void 0), s = s === void 0 ? s : L2(nn(s), 0), a = a === void 0 ? a : nn(a), c -= i ? i.length : 0, e & D2) {
    var u = r, f = i;
    r = i = void 0;
  }
  var d = l ? void 0 : Q0(t), h = [
    t,
    e,
    n,
    r,
    i,
    u,
    f,
    o,
    s,
    a
  ];
  if (d && Y7(h, d), t = h[0], e = h[1], n = h[2], r = h[3], i = h[4], a = h[9] = h[9] === void 0 ? l ? 0 : t.length : L2(h[9] - c, 0), !a && e & (Ym | Qm) && (e &= ~(Ym | Qm)), !e || e == N2)
    var p = XP(t, e, n);
  else
    e == Ym || e == Qm ? p = W7(t, e, a) : (e == Xm || e == (N2 | Xm)) && !i.length ? p = U7(t, e, n, r) : p = qp.apply(void 0, h);
  var m = d ? XS : rC;
  return oC(m(p, h), t, e);
}
var Z7 = 128;
function Z0(t, e, n) {
  return e = n ? void 0 : e, e = t && e == null ? t.length : e, ta(t, Z7, void 0, void 0, void 0, void 0, e);
}
function na(t, e, n) {
  e == "__proto__" && Ah ? Ah(t, e, {
    configurable: !0,
    enumerable: !0,
    value: n,
    writable: !0
  }) : t[e] = n;
}
function Co(t, e) {
  return t === e || t !== t && e !== e;
}
var eI = Object.prototype, tI = eI.hasOwnProperty;
function Nf(t, e, n) {
  var r = t[e];
  (!(tI.call(t, e) && Co(r, n)) || n === void 0 && !(e in t)) && na(t, e, n);
}
function $s(t, e, n, r) {
  var i = !n;
  n || (n = {});
  for (var o = -1, s = e.length; ++o < s; ) {
    var a = e[o], l = r ? r(n[a], t[a], a, n, t) : void 0;
    l === void 0 && (l = t[a]), i ? na(n, a, l) : Nf(n, a, l);
  }
  return n;
}
var B2 = Math.max;
function aC(t, e, n) {
  return e = B2(e === void 0 ? t.length - 1 : e, 0), function() {
    for (var r = arguments, i = -1, o = B2(r.length - e, 0), s = Array(o); ++i < o; )
      s[i] = r[e + i];
    i = -1;
    for (var a = Array(e + 1); ++i < e; )
      a[i] = r[i];
    return a[e] = n(s), ro(t, this, a);
  };
}
function hn(t, e) {
  return X0(aC(t, e, yi), t + "");
}
var nI = 9007199254740991;
function Df(t) {
  return typeof t == "number" && t > -1 && t % 1 == 0 && t <= nI;
}
function Ci(t) {
  return t != null && Df(t.length) && !js(t);
}
function ki(t, e, n) {
  if (!hr(n))
    return !1;
  var r = typeof e;
  return (r == "number" ? Ci(n) && ea(e, n.length) : r == "string" && e in n) ? Co(n[e], t) : !1;
}
function Jc(t) {
  return hn(function(e, n) {
    var r = -1, i = n.length, o = i > 1 ? n[i - 1] : void 0, s = i > 2 ? n[2] : void 0;
    for (o = t.length > 3 && typeof o == "function" ? (i--, o) : void 0, s && ki(n[0], n[1], s) && (o = i < 3 ? void 0 : o, i = 1), e = Object(e); ++r < i; ) {
      var a = n[r];
      a && t(e, a, r, o);
    }
    return e;
  });
}
var rI = Object.prototype;
function Lf(t) {
  var e = t && t.constructor, n = typeof e == "function" && e.prototype || rI;
  return t === n;
}
function e1(t, e) {
  for (var n = -1, r = Array(t); ++n < t; )
    r[n] = e(n);
  return r;
}
var iI = "[object Arguments]";
function q2(t) {
  return $r(t) && Si(t) == iI;
}
var lC = Object.prototype, oI = lC.hasOwnProperty, sI = lC.propertyIsEnumerable, Oa = q2(/* @__PURE__ */ function() {
  return arguments;
}()) ? q2 : function(t) {
  return $r(t) && oI.call(t, "callee") && !sI.call(t, "callee");
};
function zp() {
  return !1;
}
var cC = typeof exports == "object" && exports && !exports.nodeType && exports, z2 = cC && typeof module == "object" && module && !module.nodeType && module, aI = z2 && z2.exports === cC, F2 = aI ? Ur.Buffer : void 0, lI = F2 ? F2.isBuffer : void 0, cI = lI || zp;
const Hs = cI;
var uI = "[object Arguments]", fI = "[object Array]", dI = "[object Boolean]", hI = "[object Date]", pI = "[object Error]", mI = "[object Function]", gI = "[object Map]", vI = "[object Number]", yI = "[object Object]", bI = "[object RegExp]", xI = "[object Set]", wI = "[object String]", jI = "[object WeakMap]", $I = "[object ArrayBuffer]", kI = "[object DataView]", SI = "[object Float32Array]", CI = "[object Float64Array]", _I = "[object Int8Array]", OI = "[object Int16Array]", AI = "[object Int32Array]", EI = "[object Uint8Array]", MI = "[object Uint8ClampedArray]", TI = "[object Uint16Array]", RI = "[object Uint32Array]", sr = {};
sr[SI] = sr[CI] = sr[_I] = sr[OI] = sr[AI] = sr[EI] = sr[MI] = sr[TI] = sr[RI] = !0;
sr[uI] = sr[fI] = sr[$I] = sr[dI] = sr[kI] = sr[hI] = sr[pI] = sr[mI] = sr[gI] = sr[vI] = sr[yI] = sr[bI] = sr[xI] = sr[wI] = sr[jI] = !1;
function PI(t) {
  return $r(t) && Df(t.length) && !!sr[Si(t)];
}
function io(t) {
  return function(e) {
    return t(e);
  };
}
var uC = typeof exports == "object" && exports && !exports.nodeType && exports, Lu = uC && typeof module == "object" && module && !module.nodeType && module, II = Lu && Lu.exports === uC, Zm = II && HS.process, wo = function() {
  try {
    var t = Lu && Lu.require && Lu.require("util").types;
    return t || Zm && Zm.binding && Zm.binding("util");
  } catch {
  }
}(), V2 = wo && wo.isTypedArray, NI = V2 ? io(V2) : PI;
const Nl = NI;
var DI = Object.prototype, LI = DI.hasOwnProperty;
function fC(t, e) {
  var n = Kt(t), r = !n && Oa(t), i = !n && !r && Hs(t), o = !n && !r && !i && Nl(t), s = n || r || i || o, a = s ? e1(t.length, String) : [], l = a.length;
  for (var c in t)
    (e || LI.call(t, c)) && !(s && // Safari 9 has enumerable `arguments.length` in strict mode.
    (c == "length" || // Node.js 0.10 has enumerable non-index properties on buffers.
    i && (c == "offset" || c == "parent") || // PhantomJS 2 has enumerable non-index properties on typed arrays.
    o && (c == "buffer" || c == "byteLength" || c == "byteOffset") || // Skip index properties.
    ea(c, l))) && a.push(c);
  return a;
}
function dC(t, e) {
  return function(n) {
    return t(e(n));
  };
}
var BI = dC(Object.keys, Object), qI = Object.prototype, zI = qI.hasOwnProperty;
function t1(t) {
  if (!Lf(t))
    return BI(t);
  var e = [];
  for (var n in Object(t))
    zI.call(t, n) && n != "constructor" && e.push(n);
  return e;
}
function Ir(t) {
  return Ci(t) ? fC(t) : t1(t);
}
var FI = Object.prototype, VI = FI.hasOwnProperty, WI = Jc(function(t, e) {
  if (Lf(e) || Ci(e)) {
    $s(e, Ir(e), t);
    return;
  }
  for (var n in e)
    VI.call(e, n) && Nf(t, n, e[n]);
});
const hC = WI;
function HI(t) {
  var e = [];
  if (t != null)
    for (var n in Object(t))
      e.push(n);
  return e;
}
var UI = Object.prototype, JI = UI.hasOwnProperty;
function GI(t) {
  if (!hr(t))
    return HI(t);
  var e = Lf(t), n = [];
  for (var r in t)
    r == "constructor" && (e || !JI.call(t, r)) || n.push(r);
  return n;
}
function _i(t) {
  return Ci(t) ? fC(t, !0) : GI(t);
}
var KI = Jc(function(t, e) {
  $s(e, _i(e), t);
});
const Eh = KI;
var YI = Jc(function(t, e, n, r) {
  $s(e, _i(e), t, r);
});
const Oc = YI;
var QI = Jc(function(t, e, n, r) {
  $s(e, Ir(e), t, r);
});
const pC = QI;
var XI = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, ZI = /^\w*$/;
function n1(t, e) {
  if (Kt(t))
    return !1;
  var n = typeof t;
  return n == "number" || n == "symbol" || n == "boolean" || t == null || Di(t) ? !0 : ZI.test(t) || !XI.test(t) || e != null && t in Object(e);
}
var nf = Il(Object, "create");
function eN() {
  this.__data__ = nf ? nf(null) : {}, this.size = 0;
}
function tN(t) {
  var e = this.has(t) && delete this.__data__[t];
  return this.size -= e ? 1 : 0, e;
}
var nN = "__lodash_hash_undefined__", rN = Object.prototype, iN = rN.hasOwnProperty;
function oN(t) {
  var e = this.__data__;
  if (nf) {
    var n = e[t];
    return n === nN ? void 0 : n;
  }
  return iN.call(e, t) ? e[t] : void 0;
}
var sN = Object.prototype, aN = sN.hasOwnProperty;
function lN(t) {
  var e = this.__data__;
  return nf ? e[t] !== void 0 : aN.call(e, t);
}
var cN = "__lodash_hash_undefined__";
function uN(t, e) {
  var n = this.__data__;
  return this.size += this.has(t) ? 0 : 1, n[t] = nf && e === void 0 ? cN : e, this;
}
function vl(t) {
  var e = -1, n = t == null ? 0 : t.length;
  for (this.clear(); ++e < n; ) {
    var r = t[e];
    this.set(r[0], r[1]);
  }
}
vl.prototype.clear = eN;
vl.prototype.delete = tN;
vl.prototype.get = oN;
vl.prototype.has = lN;
vl.prototype.set = uN;
function fN() {
  this.__data__ = [], this.size = 0;
}
function Fp(t, e) {
  for (var n = t.length; n--; )
    if (Co(t[n][0], e))
      return n;
  return -1;
}
var dN = Array.prototype, hN = dN.splice;
function pN(t) {
  var e = this.__data__, n = Fp(e, t);
  if (n < 0)
    return !1;
  var r = e.length - 1;
  return n == r ? e.pop() : hN.call(e, n, 1), --this.size, !0;
}
function mN(t) {
  var e = this.__data__, n = Fp(e, t);
  return n < 0 ? void 0 : e[n][1];
}
function gN(t) {
  return Fp(this.__data__, t) > -1;
}
function vN(t, e) {
  var n = this.__data__, r = Fp(n, t);
  return r < 0 ? (++this.size, n.push([t, e])) : n[r][1] = e, this;
}
function ra(t) {
  var e = -1, n = t == null ? 0 : t.length;
  for (this.clear(); ++e < n; ) {
    var r = t[e];
    this.set(r[0], r[1]);
  }
}
ra.prototype.clear = fN;
ra.prototype.delete = pN;
ra.prototype.get = mN;
ra.prototype.has = gN;
ra.prototype.set = vN;
var rf = Il(Ur, "Map");
function yN() {
  this.size = 0, this.__data__ = {
    hash: new vl(),
    map: new (rf || ra)(),
    string: new vl()
  };
}
function bN(t) {
  var e = typeof t;
  return e == "string" || e == "number" || e == "symbol" || e == "boolean" ? t !== "__proto__" : t === null;
}
function Vp(t, e) {
  var n = t.__data__;
  return bN(e) ? n[typeof e == "string" ? "string" : "hash"] : n.map;
}
function xN(t) {
  var e = Vp(this, t).delete(t);
  return this.size -= e ? 1 : 0, e;
}
function wN(t) {
  return Vp(this, t).get(t);
}
function jN(t) {
  return Vp(this, t).has(t);
}
function $N(t, e) {
  var n = Vp(this, t), r = n.size;
  return n.set(t, e), this.size += n.size == r ? 0 : 1, this;
}
function ia(t) {
  var e = -1, n = t == null ? 0 : t.length;
  for (this.clear(); ++e < n; ) {
    var r = t[e];
    this.set(r[0], r[1]);
  }
}
ia.prototype.clear = yN;
ia.prototype.delete = xN;
ia.prototype.get = wN;
ia.prototype.has = jN;
ia.prototype.set = $N;
var kN = "Expected a function";
function Gc(t, e) {
  if (typeof t != "function" || e != null && typeof e != "function")
    throw new TypeError(kN);
  var n = function() {
    var r = arguments, i = e ? e.apply(this, r) : r[0], o = n.cache;
    if (o.has(i))
      return o.get(i);
    var s = t.apply(this, r);
    return n.cache = o.set(i, s) || o, s;
  };
  return n.cache = new (Gc.Cache || ia)(), n;
}
Gc.Cache = ia;
var SN = 500;
function CN(t) {
  var e = Gc(t, function(r) {
    return n.size === SN && n.clear(), r;
  }), n = e.cache;
  return e;
}
var _N = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, ON = /\\(\\)?/g, mC = CN(function(t) {
  var e = [];
  return t.charCodeAt(0) === 46 && e.push(""), t.replace(_N, function(n, r, i, o) {
    e.push(i ? o.replace(ON, "$1") : r || n);
  }), e;
});
function In(t) {
  return t == null ? "" : no(t);
}
function za(t, e) {
  return Kt(t) ? t : n1(t, e) ? [t] : mC(In(t));
}
var AN = 1 / 0;
function ks(t) {
  if (typeof t == "string" || Di(t))
    return t;
  var e = t + "";
  return e == "0" && 1 / t == -AN ? "-0" : e;
}
function Dl(t, e) {
  e = za(e, t);
  for (var n = 0, r = e.length; t != null && n < r; )
    t = t[ks(e[n++])];
  return n && n == r ? t : void 0;
}
function Wp(t, e, n) {
  var r = t == null ? void 0 : Dl(t, e);
  return r === void 0 ? n : r;
}
function r1(t, e) {
  for (var n = -1, r = e.length, i = Array(r), o = t == null; ++n < r; )
    i[n] = o ? void 0 : Wp(t, e[n]);
  return i;
}
function Fa(t, e) {
  for (var n = -1, r = e.length, i = t.length; ++n < r; )
    t[i + n] = e[n];
  return t;
}
var W2 = mi ? mi.isConcatSpreadable : void 0;
function EN(t) {
  return Kt(t) || Oa(t) || !!(W2 && t && t[W2]);
}
function ii(t, e, n, r, i) {
  var o = -1, s = t.length;
  for (n || (n = EN), i || (i = []); ++o < s; ) {
    var a = t[o];
    e > 0 && n(a) ? e > 1 ? ii(a, e - 1, n, r, i) : Fa(i, a) : r || (i[i.length] = a);
  }
  return i;
}
function i1(t) {
  var e = t == null ? 0 : t.length;
  return e ? ii(t, 1) : [];
}
function oa(t) {
  return X0(aC(t, void 0, i1), t + "");
}
var MN = oa(r1);
const gC = MN;
var Hp = dC(Object.getPrototypeOf, Object), TN = "[object Object]", RN = Function.prototype, PN = Object.prototype, vC = RN.toString, IN = PN.hasOwnProperty, NN = vC.call(Object);
function Kc(t) {
  if (!$r(t) || Si(t) != TN)
    return !1;
  var e = Hp(t);
  if (e === null)
    return !0;
  var n = IN.call(e, "constructor") && e.constructor;
  return typeof n == "function" && n instanceof n && vC.call(n) == NN;
}
var DN = "[object DOMException]", LN = "[object Error]";
function Up(t) {
  if (!$r(t))
    return !1;
  var e = Si(t);
  return e == LN || e == DN || typeof t.message == "string" && typeof t.name == "string" && !Kc(t);
}
var BN = hn(function(t, e) {
  try {
    return ro(t, void 0, e);
  } catch (n) {
    return Up(n) ? n : new Error(n);
  }
});
const o1 = BN;
var qN = "Expected a function";
function s1(t, e) {
  var n;
  if (typeof e != "function")
    throw new TypeError(qN);
  return t = nn(t), function() {
    return --t > 0 && (n = e.apply(this, arguments)), t <= 1 && (e = void 0), n;
  };
}
var zN = 1, FN = 32, a1 = hn(function(t, e, n) {
  var r = zN;
  if (n.length) {
    var i = _a(n, Uc(a1));
    r |= FN;
  }
  return ta(t, r, e, n, i);
});
a1.placeholder = {};
const l1 = a1;
var VN = oa(function(t, e) {
  return So(e, function(n) {
    n = ks(n), na(t, n, l1(t[n], t));
  }), t;
});
const yC = VN;
var WN = 1, HN = 2, UN = 32, c1 = hn(function(t, e, n) {
  var r = WN | HN;
  if (n.length) {
    var i = _a(n, Uc(c1));
    r |= UN;
  }
  return ta(e, r, t, n, i);
});
c1.placeholder = {};
const bC = c1;
function jo(t, e, n) {
  var r = -1, i = t.length;
  e < 0 && (e = -e > i ? 0 : i + e), n = n > i ? i : n, n < 0 && (n += i), i = e > n ? 0 : n - e >>> 0, e >>>= 0;
  for (var o = Array(i); ++r < i; )
    o[r] = t[r + e];
  return o;
}
function Va(t, e, n) {
  var r = t.length;
  return n = n === void 0 ? r : n, !e && n >= r ? t : jo(t, e, n);
}
var JN = "\\ud800-\\udfff", GN = "\\u0300-\\u036f", KN = "\\ufe20-\\ufe2f", YN = "\\u20d0-\\u20ff", QN = GN + KN + YN, XN = "\\ufe0e\\ufe0f", ZN = "\\u200d", e9 = RegExp("[" + ZN + JN + QN + XN + "]");
function Yc(t) {
  return e9.test(t);
}
function t9(t) {
  return t.split("");
}
var xC = "\\ud800-\\udfff", n9 = "\\u0300-\\u036f", r9 = "\\ufe20-\\ufe2f", i9 = "\\u20d0-\\u20ff", o9 = n9 + r9 + i9, s9 = "\\ufe0e\\ufe0f", a9 = "[" + xC + "]", tv = "[" + o9 + "]", nv = "\\ud83c[\\udffb-\\udfff]", l9 = "(?:" + tv + "|" + nv + ")", wC = "[^" + xC + "]", jC = "(?:\\ud83c[\\udde6-\\uddff]){2}", $C = "[\\ud800-\\udbff][\\udc00-\\udfff]", c9 = "\\u200d", kC = l9 + "?", SC = "[" + s9 + "]?", u9 = "(?:" + c9 + "(?:" + [wC, jC, $C].join("|") + ")" + SC + kC + ")*", f9 = SC + kC + u9, d9 = "(?:" + [wC + tv + "?", tv, jC, $C, a9].join("|") + ")", h9 = RegExp(nv + "(?=" + nv + ")|" + d9 + f9, "g");
function p9(t) {
  return t.match(h9) || [];
}
function Fo(t) {
  return Yc(t) ? p9(t) : t9(t);
}
function CC(t) {
  return function(e) {
    e = In(e);
    var n = Yc(e) ? Fo(e) : void 0, r = n ? n[0] : e.charAt(0), i = n ? Va(n, 1).join("") : e.slice(1);
    return r[t]() + i;
  };
}
var Jp = CC("toUpperCase");
function u1(t) {
  return Jp(In(t).toLowerCase());
}
function f1(t, e, n, r) {
  var i = -1, o = t == null ? 0 : t.length;
  for (r && o && (n = t[++i]); ++i < o; )
    n = e(n, t[i], i, t);
  return n;
}
function d1(t) {
  return function(e) {
    return t == null ? void 0 : t[e];
  };
}
var m9 = {
  // Latin-1 Supplement block.
  : "A",
  : "A",
  : "A",
  : "A",
  : "A",
  : "A",
  : "a",
  : "a",
  : "a",
  : "a",
  : "a",
  : "a",
  : "C",
  : "c",
  : "D",
  : "d",
  : "E",
  : "E",
  : "E",
  : "E",
  : "e",
  : "e",
  : "e",
  : "e",
  : "I",
  : "I",
  : "I",
  : "I",
  : "i",
  : "i",
  : "i",
  : "i",
  : "N",
  : "n",
  : "O",
  : "O",
  : "O",
  : "O",
  : "O",
  : "O",
  : "o",
  : "o",
  : "o",
  : "o",
  : "o",
  : "o",
  : "U",
  : "U",
  : "U",
  : "U",
  : "u",
  : "u",
  : "u",
  : "u",
  : "Y",
  : "y",
  : "y",
  : "Ae",
  : "ae",
  : "Th",
  : "th",
  : "ss",
  // Latin Extended-A block.
  : "A",
  : "A",
  : "A",
  : "a",
  : "a",
  : "a",
  : "C",
  : "C",
  : "C",
  : "C",
  : "c",
  : "c",
  : "c",
  : "c",
  : "D",
  : "D",
  : "d",
  : "d",
  : "E",
  : "E",
  : "E",
  : "E",
  : "E",
  : "e",
  : "e",
  : "e",
  : "e",
  : "e",
  : "G",
  : "G",
  : "G",
  : "G",
  : "g",
  : "g",
  : "g",
  : "g",
  : "H",
  : "H",
  : "h",
  : "h",
  : "I",
  : "I",
  : "I",
  : "I",
  : "I",
  : "i",
  : "i",
  : "i",
  : "i",
  : "i",
  : "J",
  : "j",
  : "K",
  : "k",
  : "k",
  : "L",
  : "L",
  : "L",
  : "L",
  : "L",
  : "l",
  : "l",
  : "l",
  : "l",
  : "l",
  : "N",
  : "N",
  : "N",
  : "N",
  : "n",
  : "n",
  : "n",
  : "n",
  : "O",
  : "O",
  : "O",
  : "o",
  : "o",
  : "o",
  : "R",
  : "R",
  : "R",
  : "r",
  : "r",
  : "r",
  : "S",
  : "S",
  : "S",
  : "S",
  : "s",
  : "s",
  : "s",
  : "s",
  : "T",
  : "T",
  : "T",
  : "t",
  : "t",
  : "t",
  : "U",
  : "U",
  : "U",
  : "U",
  : "U",
  : "U",
  : "u",
  : "u",
  : "u",
  : "u",
  : "u",
  : "u",
  : "W",
  : "w",
  : "Y",
  : "y",
  : "Y",
  : "Z",
  : "Z",
  : "Z",
  : "z",
  : "z",
  : "z",
  : "IJ",
  : "ij",
  : "Oe",
  : "oe",
  : "'n",
  : "s"
}, g9 = d1(m9);
const v9 = g9;
var y9 = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g, b9 = "\\u0300-\\u036f", x9 = "\\ufe20-\\ufe2f", w9 = "\\u20d0-\\u20ff", j9 = b9 + x9 + w9, $9 = "[" + j9 + "]", k9 = RegExp($9, "g");
function h1(t) {
  return t = In(t), t && t.replace(y9, v9).replace(k9, "");
}
var S9 = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;
function C9(t) {
  return t.match(S9) || [];
}
var _9 = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;
function O9(t) {
  return _9.test(t);
}
var _C = "\\ud800-\\udfff", A9 = "\\u0300-\\u036f", E9 = "\\ufe20-\\ufe2f", M9 = "\\u20d0-\\u20ff", T9 = A9 + E9 + M9, OC = "\\u2700-\\u27bf", AC = "a-z\\xdf-\\xf6\\xf8-\\xff", R9 = "\\xac\\xb1\\xd7\\xf7", P9 = "\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf", I9 = "\\u2000-\\u206f", N9 = " \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000", EC = "A-Z\\xc0-\\xd6\\xd8-\\xde", D9 = "\\ufe0e\\ufe0f", MC = R9 + P9 + I9 + N9, TC = "[']", H2 = "[" + MC + "]", L9 = "[" + T9 + "]", RC = "\\d+", B9 = "[" + OC + "]", PC = "[" + AC + "]", IC = "[^" + _C + MC + RC + OC + AC + EC + "]", q9 = "\\ud83c[\\udffb-\\udfff]", z9 = "(?:" + L9 + "|" + q9 + ")", F9 = "[^" + _C + "]", NC = "(?:\\ud83c[\\udde6-\\uddff]){2}", DC = "[\\ud800-\\udbff][\\udc00-\\udfff]", Yl = "[" + EC + "]", V9 = "\\u200d", U2 = "(?:" + PC + "|" + IC + ")", W9 = "(?:" + Yl + "|" + IC + ")", J2 = "(?:" + TC + "(?:d|ll|m|re|s|t|ve))?", G2 = "(?:" + TC + "(?:D|LL|M|RE|S|T|VE))?", LC = z9 + "?", BC = "[" + D9 + "]?", H9 = "(?:" + V9 + "(?:" + [F9, NC, DC].join("|") + ")" + BC + LC + ")*", U9 = "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])", J9 = "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])", G9 = BC + LC + H9, K9 = "(?:" + [B9, NC, DC].join("|") + ")" + G9, Y9 = RegExp([
  Yl + "?" + PC + "+" + J2 + "(?=" + [H2, Yl, "$"].join("|") + ")",
  W9 + "+" + G2 + "(?=" + [H2, Yl + U2, "$"].join("|") + ")",
  Yl + "?" + U2 + "+" + J2,
  Yl + "+" + G2,
  J9,
  U9,
  RC,
  K9
].join("|"), "g");
function Q9(t) {
  return t.match(Y9) || [];
}
function p1(t, e, n) {
  return t = In(t), e = n ? void 0 : e, e === void 0 ? O9(t) ? Q9(t) : C9(t) : t.match(e) || [];
}
var X9 = "[']", Z9 = RegExp(X9, "g");
function Qc(t) {
  return function(e) {
    return f1(p1(h1(e).replace(Z9, "")), t, "");
  };
}
var eD = Qc(function(t, e, n) {
  return e = e.toLowerCase(), t + (n ? u1(e) : e);
});
const qC = eD;
function zC() {
  if (!arguments.length)
    return [];
  var t = arguments[0];
  return Kt(t) ? t : [t];
}
var tD = Ur.isFinite, nD = Math.min;
function m1(t) {
  var e = Math[t];
  return function(n, r) {
    if (n = Qi(n), r = r == null ? 0 : nD(nn(r), 292), r && tD(n)) {
      var i = (In(n) + "e").split("e"), o = e(i[0] + "e" + (+i[1] + r));
      return i = (In(o) + "e").split("e"), +(i[0] + "e" + (+i[1] - r));
    }
    return e(n);
  };
}
var rD = m1("ceil");
const FC = rD;
function g1(t) {
  var e = W(t);
  return e.__chain__ = !0, e;
}
var iD = Math.ceil, oD = Math.max;
function VC(t, e, n) {
  (n ? ki(t, e, n) : e === void 0) ? e = 1 : e = oD(nn(e), 0);
  var r = t == null ? 0 : t.length;
  if (!r || e < 1)
    return [];
  for (var i = 0, o = 0, s = Array(iD(r / e)); i < r; )
    s[o++] = jo(t, i, i += e);
  return s;
}
function Ll(t, e, n) {
  return t === t && (n !== void 0 && (t = t <= n ? t : n), e !== void 0 && (t = t >= e ? t : e)), t;
}
function WC(t, e, n) {
  return n === void 0 && (n = e, e = void 0), n !== void 0 && (n = Qi(n), n = n === n ? n : 0), e !== void 0 && (e = Qi(e), e = e === e ? e : 0), Ll(Qi(t), e, n);
}
function sD() {
  this.__data__ = new ra(), this.size = 0;
}
function aD(t) {
  var e = this.__data__, n = e.delete(t);
  return this.size = e.size, n;
}
function lD(t) {
  return this.__data__.get(t);
}
function cD(t) {
  return this.__data__.has(t);
}
var uD = 200;
function fD(t, e) {
  var n = this.__data__;
  if (n instanceof ra) {
    var r = n.__data__;
    if (!rf || r.length < uD - 1)
      return r.push([t, e]), this.size = ++n.size, this;
    n = this.__data__ = new ia(r);
  }
  return n.set(t, e), this.size = n.size, this;
}
function Lo(t) {
  var e = this.__data__ = new ra(t);
  this.size = e.size;
}
Lo.prototype.clear = sD;
Lo.prototype.delete = aD;
Lo.prototype.get = lD;
Lo.prototype.has = cD;
Lo.prototype.set = fD;
function HC(t, e) {
  return t && $s(e, Ir(e), t);
}
function dD(t, e) {
  return t && $s(e, _i(e), t);
}
var UC = typeof exports == "object" && exports && !exports.nodeType && exports, K2 = UC && typeof module == "object" && module && !module.nodeType && module, hD = K2 && K2.exports === UC, Y2 = hD ? Ur.Buffer : void 0, Q2 = Y2 ? Y2.allocUnsafe : void 0;
function JC(t, e) {
  if (e)
    return t.slice();
  var n = t.length, r = Q2 ? Q2(n) : new t.constructor(n);
  return t.copy(r), r;
}
function Wa(t, e) {
  for (var n = -1, r = t == null ? 0 : t.length, i = 0, o = []; ++n < r; ) {
    var s = t[n];
    e(s, n, t) && (o[i++] = s);
  }
  return o;
}
function Gp() {
  return [];
}
var pD = Object.prototype, mD = pD.propertyIsEnumerable, X2 = Object.getOwnPropertySymbols, v1 = X2 ? function(t) {
  return t == null ? [] : (t = Object(t), Wa(X2(t), function(e) {
    return mD.call(t, e);
  }));
} : Gp;
function gD(t, e) {
  return $s(t, v1(t), e);
}
var vD = Object.getOwnPropertySymbols, GC = vD ? function(t) {
  for (var e = []; t; )
    Fa(e, v1(t)), t = Hp(t);
  return e;
} : Gp;
function yD(t, e) {
  return $s(t, GC(t), e);
}
function KC(t, e, n) {
  var r = e(t);
  return Kt(t) ? r : Fa(r, n(t));
}
function rv(t) {
  return KC(t, Ir, v1);
}
function y1(t) {
  return KC(t, _i, GC);
}
var iv = Il(Ur, "DataView"), ov = Il(Ur, "Promise"), hc = Il(Ur, "Set"), Z2 = "[object Map]", bD = "[object Object]", ex = "[object Promise]", tx = "[object Set]", nx = "[object WeakMap]", rx = "[object DataView]", xD = Pl(iv), wD = Pl(rf), jD = Pl(ov), $D = Pl(hc), kD = Pl(ef), tl = Si;
(iv && tl(new iv(new ArrayBuffer(1))) != rx || rf && tl(new rf()) != Z2 || ov && tl(ov.resolve()) != ex || hc && tl(new hc()) != tx || ef && tl(new ef()) != nx) && (tl = function(t) {
  var e = Si(t), n = e == bD ? t.constructor : void 0, r = n ? Pl(n) : "";
  if (r)
    switch (r) {
      case xD:
        return rx;
      case wD:
        return Z2;
      case jD:
        return ex;
      case $D:
        return tx;
      case kD:
        return nx;
    }
  return e;
});
const ps = tl;
var SD = Object.prototype, CD = SD.hasOwnProperty;
function _D(t) {
  var e = t.length, n = new t.constructor(e);
  return e && typeof t[0] == "string" && CD.call(t, "index") && (n.index = t.index, n.input = t.input), n;
}
var Mh = Ur.Uint8Array;
function b1(t) {
  var e = new t.constructor(t.byteLength);
  return new Mh(e).set(new Mh(t)), e;
}
function OD(t, e) {
  var n = e ? b1(t.buffer) : t.buffer;
  return new t.constructor(n, t.byteOffset, t.byteLength);
}
var AD = /\w*$/;
function ED(t) {
  var e = new t.constructor(t.source, AD.exec(t));
  return e.lastIndex = t.lastIndex, e;
}
var ix = mi ? mi.prototype : void 0, ox = ix ? ix.valueOf : void 0;
function MD(t) {
  return ox ? Object(ox.call(t)) : {};
}
function YC(t, e) {
  var n = e ? b1(t.buffer) : t.buffer;
  return new t.constructor(n, t.byteOffset, t.length);
}
var TD = "[object Boolean]", RD = "[object Date]", PD = "[object Map]", ID = "[object Number]", ND = "[object RegExp]", DD = "[object Set]", LD = "[object String]", BD = "[object Symbol]", qD = "[object ArrayBuffer]", zD = "[object DataView]", FD = "[object Float32Array]", VD = "[object Float64Array]", WD = "[object Int8Array]", HD = "[object Int16Array]", UD = "[object Int32Array]", JD = "[object Uint8Array]", GD = "[object Uint8ClampedArray]", KD = "[object Uint16Array]", YD = "[object Uint32Array]";
function QD(t, e, n) {
  var r = t.constructor;
  switch (e) {
    case qD:
      return b1(t);
    case TD:
    case RD:
      return new r(+t);
    case zD:
      return OD(t, n);
    case FD:
    case VD:
    case WD:
    case HD:
    case UD:
    case JD:
    case GD:
    case KD:
    case YD:
      return YC(t, n);
    case PD:
      return new r();
    case ID:
    case LD:
      return new r(t);
    case ND:
      return ED(t);
    case DD:
      return new r();
    case BD:
      return MD(t);
  }
}
function QC(t) {
  return typeof t.constructor == "function" && !Lf(t) ? Wc(Hp(t)) : {};
}
var XD = "[object Map]";
function ZD(t) {
  return $r(t) && ps(t) == XD;
}
var sx = wo && wo.isMap, eL = sx ? io(sx) : ZD;
const x1 = eL;
var tL = "[object Set]";
function nL(t) {
  return $r(t) && ps(t) == tL;
}
var ax = wo && wo.isSet, rL = ax ? io(ax) : nL;
const w1 = rL;
var iL = 1, oL = 2, sL = 4, XC = "[object Arguments]", aL = "[object Array]", lL = "[object Boolean]", cL = "[object Date]", uL = "[object Error]", ZC = "[object Function]", fL = "[object GeneratorFunction]", dL = "[object Map]", hL = "[object Number]", e3 = "[object Object]", pL = "[object RegExp]", mL = "[object Set]", gL = "[object String]", vL = "[object Symbol]", yL = "[object WeakMap]", bL = "[object ArrayBuffer]", xL = "[object DataView]", wL = "[object Float32Array]", jL = "[object Float64Array]", $L = "[object Int8Array]", kL = "[object Int16Array]", SL = "[object Int32Array]", CL = "[object Uint8Array]", _L = "[object Uint8ClampedArray]", OL = "[object Uint16Array]", AL = "[object Uint32Array]", nr = {};
nr[XC] = nr[aL] = nr[bL] = nr[xL] = nr[lL] = nr[cL] = nr[wL] = nr[jL] = nr[$L] = nr[kL] = nr[SL] = nr[dL] = nr[hL] = nr[e3] = nr[pL] = nr[mL] = nr[gL] = nr[vL] = nr[CL] = nr[_L] = nr[OL] = nr[AL] = !0;
nr[uL] = nr[ZC] = nr[yL] = !1;
function po(t, e, n, r, i, o) {
  var s, a = e & iL, l = e & oL, c = e & sL;
  if (n && (s = i ? n(t, r, i, o) : n(t)), s !== void 0)
    return s;
  if (!hr(t))
    return t;
  var u = Kt(t);
  if (u) {
    if (s = _D(t), !a)
      return Ni(t, s);
  } else {
    var f = ps(t), d = f == ZC || f == fL;
    if (Hs(t))
      return JC(t, a);
    if (f == e3 || f == XC || d && !i) {
      if (s = l || d ? {} : QC(t), !a)
        return l ? yD(t, dD(s, t)) : gD(t, HC(s, t));
    } else {
      if (!nr[f])
        return i ? t : {};
      s = QD(t, f, a);
    }
  }
  o || (o = new Lo());
  var h = o.get(t);
  if (h)
    return h;
  o.set(t, s), w1(t) ? t.forEach(function(g) {
    s.add(po(g, e, n, g, t, o));
  }) : x1(t) && t.forEach(function(g, v) {
    s.set(v, po(g, e, n, v, t, o));
  });
  var p = c ? l ? y1 : rv : l ? _i : Ir, m = u ? void 0 : p(t);
  return So(m || t, function(g, v) {
    m && (v = g, g = t[v]), Nf(s, v, po(g, e, n, v, t, o));
  }), s;
}
var EL = 4;
function t3(t) {
  return po(t, EL);
}
var ML = 1, TL = 4;
function n3(t) {
  return po(t, ML | TL);
}
var RL = 1, PL = 4;
function j1(t, e) {
  return e = typeof e == "function" ? e : void 0, po(t, RL | PL, e);
}
var IL = 4;
function r3(t, e) {
  return e = typeof e == "function" ? e : void 0, po(t, IL, e);
}
function sv() {
  return new xo(this.value(), this.__chain__);
}
function i3(t) {
  for (var e = -1, n = t == null ? 0 : t.length, r = 0, i = []; ++e < n; ) {
    var o = t[e];
    o && (i[r++] = o);
  }
  return i;
}
function o3() {
  var t = arguments.length;
  if (!t)
    return [];
  for (var e = Array(t - 1), n = arguments[0], r = t; r--; )
    e[r - 1] = arguments[r];
  return Fa(Kt(n) ? Ni(n) : [n], ii(e, 1));
}
var NL = "__lodash_hash_undefined__";
function DL(t) {
  return this.__data__.set(t, NL), this;
}
function LL(t) {
  return this.__data__.has(t);
}
function yl(t) {
  var e = -1, n = t == null ? 0 : t.length;
  for (this.__data__ = new ia(); ++e < n; )
    this.add(t[e]);
}
yl.prototype.add = yl.prototype.push = DL;
yl.prototype.has = LL;
function $1(t, e) {
  for (var n = -1, r = t == null ? 0 : t.length; ++n < r; )
    if (e(t[n], n, t))
      return !0;
  return !1;
}
function of(t, e) {
  return t.has(e);
}
var BL = 1, qL = 2;
function s3(t, e, n, r, i, o) {
  var s = n & BL, a = t.length, l = e.length;
  if (a != l && !(s && l > a))
    return !1;
  var c = o.get(t), u = o.get(e);
  if (c && u)
    return c == e && u == t;
  var f = -1, d = !0, h = n & qL ? new yl() : void 0;
  for (o.set(t, e), o.set(e, t); ++f < a; ) {
    var p = t[f], m = e[f];
    if (r)
      var g = s ? r(m, p, f, e, t, o) : r(p, m, f, t, e, o);
    if (g !== void 0) {
      if (g)
        continue;
      d = !1;
      break;
    }
    if (h) {
      if (!$1(e, function(v, y) {
        if (!of(h, y) && (p === v || i(p, v, n, r, o)))
          return h.push(y);
      })) {
        d = !1;
        break;
      }
    } else if (!(p === m || i(p, m, n, r, o))) {
      d = !1;
      break;
    }
  }
  return o.delete(t), o.delete(e), d;
}
function k1(t) {
  var e = -1, n = Array(t.size);
  return t.forEach(function(r, i) {
    n[++e] = [i, r];
  }), n;
}
function Kp(t) {
  var e = -1, n = Array(t.size);
  return t.forEach(function(r) {
    n[++e] = r;
  }), n;
}
var zL = 1, FL = 2, VL = "[object Boolean]", WL = "[object Date]", HL = "[object Error]", UL = "[object Map]", JL = "[object Number]", GL = "[object RegExp]", KL = "[object Set]", YL = "[object String]", QL = "[object Symbol]", XL = "[object ArrayBuffer]", ZL = "[object DataView]", lx = mi ? mi.prototype : void 0, eg = lx ? lx.valueOf : void 0;
function eB(t, e, n, r, i, o, s) {
  switch (n) {
    case ZL:
      if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset)
        return !1;
      t = t.buffer, e = e.buffer;
    case XL:
      return !(t.byteLength != e.byteLength || !o(new Mh(t), new Mh(e)));
    case VL:
    case WL:
    case JL:
      return Co(+t, +e);
    case HL:
      return t.name == e.name && t.message == e.message;
    case GL:
    case YL:
      return t == e + "";
    case UL:
      var a = k1;
    case KL:
      var l = r & zL;
      if (a || (a = Kp), t.size != e.size && !l)
        return !1;
      var c = s.get(t);
      if (c)
        return c == e;
      r |= FL, s.set(t, e);
      var u = s3(a(t), a(e), r, i, o, s);
      return s.delete(t), u;
    case QL:
      if (eg)
        return eg.call(t) == eg.call(e);
  }
  return !1;
}
var tB = 1, nB = Object.prototype, rB = nB.hasOwnProperty;
function iB(t, e, n, r, i, o) {
  var s = n & tB, a = rv(t), l = a.length, c = rv(e), u = c.length;
  if (l != u && !s)
    return !1;
  for (var f = l; f--; ) {
    var d = a[f];
    if (!(s ? d in e : rB.call(e, d)))
      return !1;
  }
  var h = o.get(t), p = o.get(e);
  if (h && p)
    return h == e && p == t;
  var m = !0;
  o.set(t, e), o.set(e, t);
  for (var g = s; ++f < l; ) {
    d = a[f];
    var v = t[d], y = e[d];
    if (r)
      var x = s ? r(y, v, d, e, t, o) : r(v, y, d, t, e, o);
    if (!(x === void 0 ? v === y || i(v, y, n, r, o) : x)) {
      m = !1;
      break;
    }
    g || (g = d == "constructor");
  }
  if (m && !g) {
    var b = t.constructor, w = e.constructor;
    b != w && "constructor" in t && "constructor" in e && !(typeof b == "function" && b instanceof b && typeof w == "function" && w instanceof w) && (m = !1);
  }
  return o.delete(t), o.delete(e), m;
}
var oB = 1, cx = "[object Arguments]", ux = "[object Array]", gd = "[object Object]", sB = Object.prototype, fx = sB.hasOwnProperty;
function aB(t, e, n, r, i, o) {
  var s = Kt(t), a = Kt(e), l = s ? ux : ps(t), c = a ? ux : ps(e);
  l = l == cx ? gd : l, c = c == cx ? gd : c;
  var u = l == gd, f = c == gd, d = l == c;
  if (d && Hs(t)) {
    if (!Hs(e))
      return !1;
    s = !0, u = !1;
  }
  if (d && !u)
    return o || (o = new Lo()), s || Nl(t) ? s3(t, e, n, r, i, o) : eB(t, e, l, n, r, i, o);
  if (!(n & oB)) {
    var h = u && fx.call(t, "__wrapped__"), p = f && fx.call(e, "__wrapped__");
    if (h || p) {
      var m = h ? t.value() : t, g = p ? e.value() : e;
      return o || (o = new Lo()), i(m, g, n, r, o);
    }
  }
  return d ? (o || (o = new Lo()), iB(t, e, n, r, i, o)) : !1;
}
function Bf(t, e, n, r, i) {
  return t === e ? !0 : t == null || e == null || !$r(t) && !$r(e) ? t !== t && e !== e : aB(t, e, n, r, Bf, i);
}
var lB = 1, cB = 2;
function S1(t, e, n, r) {
  var i = n.length, o = i, s = !r;
  if (t == null)
    return !o;
  for (t = Object(t); i--; ) {
    var a = n[i];
    if (s && a[2] ? a[1] !== t[a[0]] : !(a[0] in t))
      return !1;
  }
  for (; ++i < o; ) {
    a = n[i];
    var l = a[0], c = t[l], u = a[1];
    if (s && a[2]) {
      if (c === void 0 && !(l in t))
        return !1;
    } else {
      var f = new Lo();
      if (r)
        var d = r(c, u, l, t, e, f);
      if (!(d === void 0 ? Bf(u, c, lB | cB, r, f) : d))
        return !1;
    }
  }
  return !0;
}
function a3(t) {
  return t === t && !hr(t);
}
function C1(t) {
  for (var e = Ir(t), n = e.length; n--; ) {
    var r = e[n], i = t[r];
    e[n] = [r, i, a3(i)];
  }
  return e;
}
function l3(t, e) {
  return function(n) {
    return n == null ? !1 : n[t] === e && (e !== void 0 || t in Object(n));
  };
}
function c3(t) {
  var e = C1(t);
  return e.length == 1 && e[0][2] ? l3(e[0][0], e[0][1]) : function(n) {
    return n === t || S1(n, t, e);
  };
}
function uB(t, e) {
  return t != null && e in Object(t);
}
function u3(t, e, n) {
  e = za(e, t);
  for (var r = -1, i = e.length, o = !1; ++r < i; ) {
    var s = ks(e[r]);
    if (!(o = t != null && n(t, s)))
      break;
    t = t[s];
  }
  return o || ++r != i ? o : (i = t == null ? 0 : t.length, !!i && Df(i) && ea(s, i) && (Kt(t) || Oa(t)));
}
function Yp(t, e) {
  return t != null && u3(t, e, uB);
}
var fB = 1, dB = 2;
function f3(t, e) {
  return n1(t) && a3(e) ? l3(ks(t), e) : function(n) {
    var r = Wp(n, t);
    return r === void 0 && r === e ? Yp(n, t) : Bf(e, r, fB | dB);
  };
}
function _1(t) {
  return function(e) {
    return e == null ? void 0 : e[t];
  };
}
function hB(t) {
  return function(e) {
    return Dl(e, t);
  };
}
function O1(t) {
  return n1(t) ? _1(ks(t)) : hB(t);
}
function Yt(t) {
  return typeof t == "function" ? t : t == null ? yi : typeof t == "object" ? Kt(t) ? f3(t[0], t[1]) : c3(t) : O1(t);
}
var pB = "Expected a function";
function d3(t) {
  var e = t == null ? 0 : t.length, n = Yt;
  return t = e ? vr(t, function(r) {
    if (typeof r[1] != "function")
      throw new TypeError(pB);
    return [n(r[0]), r[1]];
  }) : [], hn(function(r) {
    for (var i = -1; ++i < e; ) {
      var o = t[i];
      if (ro(o[0], this, r))
        return ro(o[1], this, r);
    }
  });
}
function h3(t, e, n) {
  var r = n.length;
  if (t == null)
    return !r;
  for (t = Object(t); r--; ) {
    var i = n[r], o = e[i], s = t[i];
    if (s === void 0 && !(i in t) || !o(s))
      return !1;
  }
  return !0;
}
function mB(t) {
  var e = Ir(t);
  return function(n) {
    return h3(n, t, e);
  };
}
var gB = 1;
function p3(t) {
  return mB(po(t, gB));
}
function m3(t, e) {
  return e == null || h3(t, e, Ir(e));
}
function vB(t, e, n, r) {
  for (var i = -1, o = t == null ? 0 : t.length; ++i < o; ) {
    var s = t[i];
    e(r, s, n(s), t);
  }
  return r;
}
function g3(t) {
  return function(e, n, r) {
    for (var i = -1, o = Object(e), s = r(e), a = s.length; a--; ) {
      var l = s[t ? a : ++i];
      if (n(o[l], l, o) === !1)
        break;
    }
    return e;
  };
}
var A1 = g3();
function Ss(t, e) {
  return t && A1(t, e, Ir);
}
function v3(t, e) {
  return function(n, r) {
    if (n == null)
      return n;
    if (!Ci(n))
      return t(n, r);
    for (var i = n.length, o = e ? i : -1, s = Object(n); (e ? o-- : ++o < i) && r(s[o], o, s) !== !1; )
      ;
    return n;
  };
}
var Ha = v3(Ss);
function yB(t, e, n, r) {
  return Ha(t, function(i, o, s) {
    e(r, i, n(i), s);
  }), r;
}
function Qp(t, e) {
  return function(n, r) {
    var i = Kt(n) ? vB : yB, o = e ? e() : {};
    return i(n, t, Yt(r), o);
  };
}
var bB = Object.prototype, xB = bB.hasOwnProperty, wB = Qp(function(t, e, n) {
  xB.call(t, n) ? ++t[n] : na(t, n, 1);
});
const y3 = wB;
function b3(t, e) {
  var n = Wc(t);
  return e == null ? n : HC(n, e);
}
var jB = 8;
function Xp(t, e, n) {
  e = n ? void 0 : e;
  var r = ta(t, jB, void 0, void 0, void 0, void 0, void 0, e);
  return r.placeholder = Xp.placeholder, r;
}
Xp.placeholder = {};
var $B = 16;
function Zp(t, e, n) {
  e = n ? void 0 : e;
  var r = ta(t, $B, void 0, void 0, void 0, void 0, void 0, e);
  return r.placeholder = Zp.placeholder, r;
}
Zp.placeholder = {};
var kB = function() {
  return Ur.Date.now();
};
const Bu = kB;
var SB = "Expected a function", CB = Math.max, _B = Math.min;
function Xc(t, e, n) {
  var r, i, o, s, a, l, c = 0, u = !1, f = !1, d = !0;
  if (typeof t != "function")
    throw new TypeError(SB);
  e = Qi(e) || 0, hr(n) && (u = !!n.leading, f = "maxWait" in n, o = f ? CB(Qi(n.maxWait) || 0, e) : o, d = "trailing" in n ? !!n.trailing : d);
  function h(j) {
    var k = r, N = i;
    return r = i = void 0, c = j, s = t.apply(N, k), s;
  }
  function p(j) {
    return c = j, a = setTimeout(v, e), u ? h(j) : s;
  }
  function m(j) {
    var k = j - l, N = j - c, z = e - k;
    return f ? _B(z, o - N) : z;
  }
  function g(j) {
    var k = j - l, N = j - c;
    return l === void 0 || k >= e || k < 0 || f && N >= o;
  }
  function v() {
    var j = Bu();
    if (g(j))
      return y(j);
    a = setTimeout(v, m(j));
  }
  function y(j) {
    return a = void 0, d && r ? h(j) : (r = i = void 0, s);
  }
  function x() {
    a !== void 0 && clearTimeout(a), c = 0, r = l = i = a = void 0;
  }
  function b() {
    return a === void 0 ? s : y(Bu());
  }
  function w() {
    var j = Bu(), k = g(j);
    if (r = arguments, i = this, l = j, k) {
      if (a === void 0)
        return p(l);
      if (f)
        return clearTimeout(a), a = setTimeout(v, e), h(l);
    }
    return a === void 0 && (a = setTimeout(v, e)), s;
  }
  return w.cancel = x, w.flush = b, w;
}
function x3(t, e) {
  return t == null || t !== t ? e : t;
}
var w3 = Object.prototype, OB = w3.hasOwnProperty, AB = hn(function(t, e) {
  t = Object(t);
  var n = -1, r = e.length, i = r > 2 ? e[2] : void 0;
  for (i && ki(e[0], e[1], i) && (r = 1); ++n < r; )
    for (var o = e[n], s = _i(o), a = -1, l = s.length; ++a < l; ) {
      var c = s[a], u = t[c];
      (u === void 0 || Co(u, w3[c]) && !OB.call(t, c)) && (t[c] = o[c]);
    }
  return t;
});
const j3 = AB;
function av(t, e, n) {
  (n !== void 0 && !Co(t[e], n) || n === void 0 && !(e in t)) && na(t, e, n);
}
function _r(t) {
  return $r(t) && Ci(t);
}
function lv(t, e) {
  if (!(e === "constructor" && typeof t[e] == "function") && e != "__proto__")
    return t[e];
}
function E1(t) {
  return $s(t, _i(t));
}
function EB(t, e, n, r, i, o, s) {
  var a = lv(t, n), l = lv(e, n), c = s.get(l);
  if (c) {
    av(t, n, c);
    return;
  }
  var u = o ? o(a, l, n + "", t, e, s) : void 0, f = u === void 0;
  if (f) {
    var d = Kt(l), h = !d && Hs(l), p = !d && !h && Nl(l);
    u = l, d || h || p ? Kt(a) ? u = a : _r(a) ? u = Ni(a) : h ? (f = !1, u = JC(l, !0)) : p ? (f = !1, u = YC(l, !0)) : u = [] : Kc(l) || Oa(l) ? (u = a, Oa(a) ? u = E1(a) : (!hr(a) || js(a)) && (u = QC(l))) : f = !1;
  }
  f && (s.set(l, u), i(u, l, r, o, s), s.delete(l)), av(t, n, u);
}
function em(t, e, n, r, i) {
  t !== e && A1(e, function(o, s) {
    if (i || (i = new Lo()), hr(o))
      EB(t, e, s, n, em, r, i);
    else {
      var a = r ? r(lv(t, s), o, s + "", t, e, i) : void 0;
      a === void 0 && (a = o), av(t, s, a);
    }
  }, _i);
}
function $3(t, e, n, r, i, o) {
  return hr(t) && hr(e) && (o.set(e, t), em(t, e, void 0, $3, o), o.delete(e)), t;
}
var MB = Jc(function(t, e, n, r) {
  em(t, e, n, r);
});
const M1 = MB;
var TB = hn(function(t) {
  return t.push(void 0, $3), ro(M1, void 0, t);
});
const k3 = TB;
var RB = "Expected a function";
function S3(t, e, n) {
  if (typeof t != "function")
    throw new TypeError(RB);
  return setTimeout(function() {
    t.apply(void 0, n);
  }, e);
}
var PB = hn(function(t, e) {
  return S3(t, 1, e);
});
const C3 = PB;
var IB = hn(function(t, e, n) {
  return S3(t, Qi(e) || 0, n);
});
const _3 = IB;
function T1(t, e, n) {
  for (var r = -1, i = t == null ? 0 : t.length; ++r < i; )
    if (n(e, t[r]))
      return !0;
  return !1;
}
var NB = 200;
function qf(t, e, n, r) {
  var i = -1, o = Bp, s = !0, a = t.length, l = [], c = e.length;
  if (!a)
    return l;
  n && (e = vr(e, io(n))), r ? (o = T1, s = !1) : e.length >= NB && (o = of, s = !1, e = new yl(e));
  e:
    for (; ++i < a; ) {
      var u = t[i], f = n == null ? u : n(u);
      if (u = r || u !== 0 ? u : 0, s && f === f) {
        for (var d = c; d--; )
          if (e[d] === f)
            continue e;
        l.push(u);
      } else
        o(e, f, r) || l.push(u);
    }
  return l;
}
var DB = hn(function(t, e) {
  return _r(t) ? qf(t, ii(e, 1, _r, !0)) : [];
});
const O3 = DB;
function _t(t) {
  var e = t == null ? 0 : t.length;
  return e ? t[e - 1] : void 0;
}
var LB = hn(function(t, e) {
  var n = _t(e);
  return _r(n) && (n = void 0), _r(t) ? qf(t, ii(e, 1, _r, !0), Yt(n)) : [];
});
const A3 = LB;
var BB = hn(function(t, e) {
  var n = _t(e);
  return _r(n) && (n = void 0), _r(t) ? qf(t, ii(e, 1, _r, !0), void 0, n) : [];
});
const E3 = BB;
var qB = Ip(function(t, e) {
  return t / e;
}, 1);
const M3 = qB;
function T3(t, e, n) {
  var r = t == null ? 0 : t.length;
  return r ? (e = n || e === void 0 ? 1 : nn(e), jo(t, e < 0 ? 0 : e, r)) : [];
}
function R3(t, e, n) {
  var r = t == null ? 0 : t.length;
  return r ? (e = n || e === void 0 ? 1 : nn(e), e = r - e, jo(t, 0, e < 0 ? 0 : e)) : [];
}
function tm(t, e, n, r) {
  for (var i = t.length, o = r ? i : -1; (r ? o-- : ++o < i) && e(t[o], o, t); )
    ;
  return n ? jo(t, r ? 0 : o, r ? o + 1 : i) : jo(t, r ? o + 1 : 0, r ? i : o);
}
function P3(t, e) {
  return t && t.length ? tm(t, Yt(e), !0, !0) : [];
}
function I3(t, e) {
  return t && t.length ? tm(t, Yt(e), !0) : [];
}
function Cs(t) {
  return typeof t == "function" ? t : yi;
}
function Th(t, e) {
  var n = Kt(t) ? So : Ha;
  return n(t, Cs(e));
}
function zB(t, e) {
  for (var n = t == null ? 0 : t.length; n-- && e(t[n], n, t) !== !1; )
    ;
  return t;
}
var N3 = g3(!0);
function R1(t, e) {
  return t && N3(t, e, Ir);
}
var D3 = v3(R1, !0);
function sf(t, e) {
  var n = Kt(t) ? zB : D3;
  return n(t, Cs(e));
}
function L3(t, e, n) {
  t = In(t), e = no(e);
  var r = t.length;
  n = n === void 0 ? r : Ll(nn(n), 0, r);
  var i = n;
  return n -= e.length, n >= 0 && t.slice(n, i) == e;
}
function FB(t, e) {
  return vr(e, function(n) {
    return [n, t[n]];
  });
}
function VB(t) {
  var e = -1, n = Array(t.size);
  return t.forEach(function(r) {
    n[++e] = [r, r];
  }), n;
}
var WB = "[object Map]", HB = "[object Set]";
function B3(t) {
  return function(e) {
    var n = ps(e);
    return n == WB ? k1(e) : n == HB ? VB(e) : FB(e, t(e));
  };
}
var UB = B3(Ir);
const Rh = UB;
var JB = B3(_i);
const Ph = JB;
var GB = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#39;"
}, KB = d1(GB);
const YB = KB;
var q3 = /[&<>"']/g, QB = RegExp(q3.source);
function P1(t) {
  return t = In(t), t && QB.test(t) ? t.replace(q3, YB) : t;
}
var z3 = /[\\^$.*+?()[\]{}|]/g, XB = RegExp(z3.source);
function F3(t) {
  return t = In(t), t && XB.test(t) ? t.replace(z3, "\\$&") : t;
}
function V3(t, e) {
  for (var n = -1, r = t == null ? 0 : t.length; ++n < r; )
    if (!e(t[n], n, t))
      return !1;
  return !0;
}
function ZB(t, e) {
  var n = !0;
  return Ha(t, function(r, i, o) {
    return n = !!e(r, i, o), n;
  }), n;
}
function W3(t, e, n) {
  var r = Kt(t) ? V3 : ZB;
  return n && ki(t, e, n) && (e = void 0), r(t, Yt(e));
}
var eq = 4294967295;
function I1(t) {
  return t ? Ll(nn(t), 0, eq) : 0;
}
function tq(t, e, n, r) {
  var i = t.length;
  for (n = nn(n), n < 0 && (n = -n > i ? 0 : i + n), r = r === void 0 || r > i ? i : nn(r), r < 0 && (r += i), r = n > r ? 0 : I1(r); n < r; )
    t[n++] = e;
  return t;
}
function H3(t, e, n, r) {
  var i = t == null ? 0 : t.length;
  return i ? (n && typeof n != "number" && ki(t, e, n) && (n = 0, r = i), tq(t, e, n, r)) : [];
}
function U3(t, e) {
  var n = [];
  return Ha(t, function(r, i, o) {
    e(r, i, o) && n.push(r);
  }), n;
}
function J3(t, e) {
  var n = Kt(t) ? Wa : U3;
  return n(t, Yt(e));
}
function G3(t) {
  return function(e, n, r) {
    var i = Object(e);
    if (!Ci(e)) {
      var o = Yt(n);
      e = Ir(e), n = function(a) {
        return o(i[a], a, i);
      };
    }
    var s = t(e, n, r);
    return s > -1 ? i[o ? e[s] : s] : void 0;
  };
}
var nq = Math.max;
function N1(t, e, n) {
  var r = t == null ? 0 : t.length;
  if (!r)
    return -1;
  var i = n == null ? 0 : nn(n);
  return i < 0 && (i = nq(r + i, 0)), Lp(t, Yt(e), i);
}
var rq = G3(N1);
const K3 = rq;
function Y3(t, e, n) {
  var r;
  return n(t, function(i, o, s) {
    if (e(i, o, s))
      return r = o, !1;
  }), r;
}
function Q3(t, e) {
  return Y3(t, Yt(e), Ss);
}
var iq = Math.max, oq = Math.min;
function D1(t, e, n) {
  var r = t == null ? 0 : t.length;
  if (!r)
    return -1;
  var i = r - 1;
  return n !== void 0 && (i = nn(n), i = n < 0 ? iq(r + i, 0) : oq(i, r - 1)), Lp(t, Yt(e), i, !0);
}
var sq = G3(D1);
const X3 = sq;
function Z3(t, e) {
  return Y3(t, Yt(e), R1);
}
function Xi(t) {
  return t && t.length ? t[0] : void 0;
}
function e8(t, e) {
  var n = -1, r = Ci(t) ? Array(t.length) : [];
  return Ha(t, function(i, o, s) {
    r[++n] = e(i, o, s);
  }), r;
}
function Zc(t, e) {
  var n = Kt(t) ? vr : e8;
  return n(t, Yt(e));
}
function t8(t, e) {
  return ii(Zc(t, e), 1);
}
var aq = 1 / 0;
function n8(t, e) {
  return ii(Zc(t, e), aq);
}
function r8(t, e, n) {
  return n = n === void 0 ? 1 : nn(n), ii(Zc(t, e), n);
}
var lq = 1 / 0;
function i8(t) {
  var e = t == null ? 0 : t.length;
  return e ? ii(t, lq) : [];
}
function o8(t, e) {
  var n = t == null ? 0 : t.length;
  return n ? (e = e === void 0 ? 1 : nn(e), ii(t, e)) : [];
}
var cq = 512;
function s8(t) {
  return ta(t, cq);
}
var uq = m1("floor");
const a8 = uq;
var fq = "Expected a function", dq = 8, hq = 32, pq = 128, mq = 256;
function l8(t) {
  return oa(function(e) {
    var n = e.length, r = n, i = xo.prototype.thru;
    for (t && e.reverse(); r--; ) {
      var o = e[r];
      if (typeof o != "function")
        throw new TypeError(fq);
      if (i && !s && sh(o) == "wrapper")
        var s = new xo([], !0);
    }
    for (r = s ? r : n; ++r < n; ) {
      o = e[r];
      var a = sh(o), l = a == "wrapper" ? Q0(o) : void 0;
      l && ev(l[0]) && l[1] == (pq | dq | hq | mq) && !l[4].length && l[9] == 1 ? s = s[sh(l[0])].apply(s, l[3]) : s = o.length == 1 && ev(o) ? s[a]() : s.thru(o);
    }
    return function() {
      var c = arguments, u = c[0];
      if (s && c.length == 1 && Kt(u))
        return s.plant(u).value();
      for (var f = 0, d = n ? e[f].apply(this, c) : u; ++f < n; )
        d = e[f].call(this, d);
      return d;
    };
  });
}
var gq = l8();
const c8 = gq;
var vq = l8(!0);
const u8 = vq;
function f8(t, e) {
  return t == null ? t : A1(t, Cs(e), _i);
}
function d8(t, e) {
  return t == null ? t : N3(t, Cs(e), _i);
}
function h8(t, e) {
  return t && Ss(t, Cs(e));
}
function p8(t, e) {
  return t && R1(t, Cs(e));
}
function m8(t) {
  for (var e = -1, n = t == null ? 0 : t.length, r = {}; ++e < n; ) {
    var i = t[e];
    r[i[0]] = i[1];
  }
  return r;
}
function nm(t, e) {
  return Wa(e, function(n) {
    return js(t[n]);
  });
}
function g8(t) {
  return t == null ? [] : nm(t, Ir(t));
}
function v8(t) {
  return t == null ? [] : nm(t, _i(t));
}
var yq = Object.prototype, bq = yq.hasOwnProperty, xq = Qp(function(t, e, n) {
  bq.call(t, n) ? t[n].push(e) : na(t, n, [e]);
});
const eu = xq;
function L1(t, e) {
  return t > e;
}
function rm(t) {
  return function(e, n) {
    return typeof e == "string" && typeof n == "string" || (e = Qi(e), n = Qi(n)), t(e, n);
  };
}
var wq = rm(L1);
const y8 = wq;
var jq = rm(function(t, e) {
  return t >= e;
});
const b8 = jq;
var $q = Object.prototype, kq = $q.hasOwnProperty;
function Sq(t, e) {
  return t != null && kq.call(t, e);
}
function x8(t, e) {
  return t != null && u3(t, e, Sq);
}
var Cq = Math.max, _q = Math.min;
function Oq(t, e, n) {
  return t >= _q(e, n) && t < Cq(e, n);
}
function w8(t, e, n) {
  return e = ds(e), n === void 0 ? (n = e, e = 0) : n = ds(n), t = Qi(t), Oq(t, e, n);
}
var Aq = "[object String]";
function zf(t) {
  return typeof t == "string" || !Kt(t) && $r(t) && Si(t) == Aq;
}
function B1(t, e) {
  return vr(e, function(n) {
    return t[n];
  });
}
function Bl(t) {
  return t == null ? [] : B1(t, Ir(t));
}
var Eq = Math.max;
function j8(t, e, n, r) {
  t = Ci(t) ? t : Bl(t), n = n && !r ? nn(n) : 0;
  var i = t.length;
  return n < 0 && (n = Eq(i + n, 0)), zf(t) ? n <= i && t.indexOf(e, n) > -1 : !!i && Hc(t, e, n) > -1;
}
var Mq = Math.max;
function $8(t, e, n) {
  var r = t == null ? 0 : t.length;
  if (!r)
    return -1;
  var i = n == null ? 0 : nn(n);
  return i < 0 && (i = Mq(r + i, 0)), Hc(t, e, i);
}
function Zt(t) {
  var e = t == null ? 0 : t.length;
  return e ? jo(t, 0, -1) : [];
}
var Tq = Math.min;
function q1(t, e, n) {
  for (var r = n ? T1 : Bp, i = t[0].length, o = t.length, s = o, a = Array(o), l = 1 / 0, c = []; s--; ) {
    var u = t[s];
    s && e && (u = vr(u, io(e))), l = Tq(u.length, l), a[s] = !n && (e || i >= 120 && u.length >= 120) ? new yl(s && u) : void 0;
  }
  u = t[0];
  var f = -1, d = a[0];
  e:
    for (; ++f < i && c.length < l; ) {
      var h = u[f], p = e ? e(h) : h;
      if (h = n || h !== 0 ? h : 0, !(d ? of(d, p) : r(c, p, n))) {
        for (s = o; --s; ) {
          var m = a[s];
          if (!(m ? of(m, p) : r(t[s], p, n)))
            continue e;
        }
        d && d.push(p), c.push(h);
      }
    }
  return c;
}
function z1(t) {
  return _r(t) ? t : [];
}
var Rq = hn(function(t) {
  var e = vr(t, z1);
  return e.length && e[0] === t[0] ? q1(e) : [];
});
const k8 = Rq;
var Pq = hn(function(t) {
  var e = _t(t), n = vr(t, z1);
  return e === _t(n) ? e = void 0 : n.pop(), n.length && n[0] === t[0] ? q1(n, Yt(e)) : [];
});
const S8 = Pq;
var Iq = hn(function(t) {
  var e = _t(t), n = vr(t, z1);
  return e = typeof e == "function" ? e : void 0, e && n.pop(), n.length && n[0] === t[0] ? q1(n, void 0, e) : [];
});
const C8 = Iq;
function Nq(t, e, n, r) {
  return Ss(t, function(i, o, s) {
    e(r, n(i), o, s);
  }), r;
}
function _8(t, e) {
  return function(n, r) {
    return Nq(n, t, e(r), {});
  };
}
var Dq = Object.prototype, Lq = Dq.toString, Bq = _8(function(t, e, n) {
  e != null && typeof e.toString != "function" && (e = Lq.call(e)), t[e] = n;
}, Dp(yi));
const O8 = Bq;
var A8 = Object.prototype, qq = A8.hasOwnProperty, zq = A8.toString, Fq = _8(function(t, e, n) {
  e != null && typeof e.toString != "function" && (e = zq.call(e)), qq.call(t, e) ? t[e].push(n) : t[e] = [n];
}, Yt);
const E8 = Fq;
function M8(t, e) {
  return e.length < 2 ? t : Dl(t, jo(e, 0, -1));
}
function Ff(t, e, n) {
  e = za(e, t), t = M8(t, e);
  var r = t == null ? t : t[ks(_t(e))];
  return r == null ? void 0 : ro(r, t, n);
}
var Vq = hn(Ff);
const T8 = Vq;
var Wq = hn(function(t, e, n) {
  var r = -1, i = typeof e == "function", o = Ci(t) ? Array(t.length) : [];
  return Ha(t, function(s) {
    o[++r] = i ? ro(e, s, n) : Ff(s, e, n);
  }), o;
});
const R8 = Wq;
var Hq = "[object ArrayBuffer]";
function Uq(t) {
  return $r(t) && Si(t) == Hq;
}
var dx = wo && wo.isArrayBuffer, Jq = dx ? io(dx) : Uq;
const P8 = Jq;
var Gq = "[object Boolean]";
function I8(t) {
  return t === !0 || t === !1 || $r(t) && Si(t) == Gq;
}
var Kq = "[object Date]";
function Yq(t) {
  return $r(t) && Si(t) == Kq;
}
var hx = wo && wo.isDate, Qq = hx ? io(hx) : Yq;
const N8 = Qq;
function D8(t) {
  return $r(t) && t.nodeType === 1 && !Kc(t);
}
var Xq = "[object Map]", Zq = "[object Set]", ez = Object.prototype, tz = ez.hasOwnProperty;
function dn(t) {
  if (t == null)
    return !0;
  if (Ci(t) && (Kt(t) || typeof t == "string" || typeof t.splice == "function" || Hs(t) || Nl(t) || Oa(t)))
    return !t.length;
  var e = ps(t);
  if (e == Xq || e == Zq)
    return !t.size;
  if (Lf(t))
    return !t1(t).length;
  for (var n in t)
    if (tz.call(t, n))
      return !1;
  return !0;
}
function en(t, e) {
  return Bf(t, e);
}
function L8(t, e, n) {
  n = typeof n == "function" ? n : void 0;
  var r = n ? n(t, e) : void 0;
  return r === void 0 ? Bf(t, e, void 0, n) : !!r;
}
var nz = Ur.isFinite;
function B8(t) {
  return typeof t == "number" && nz(t);
}
function F1(t) {
  return typeof t == "number" && t == nn(t);
}
function q8(t, e) {
  return t === e || S1(t, e, C1(e));
}
function z8(t, e, n) {
  return n = typeof n == "function" ? n : void 0, S1(t, e, C1(e), n);
}
var rz = "[object Number]";
function V1(t) {
  return typeof t == "number" || $r(t) && Si(t) == rz;
}
function F8(t) {
  return V1(t) && t != +t;
}
var iz = oh ? js : zp, oz = "Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";
function V8(t) {
  if (iz(t))
    throw new Error(oz);
  return QS(t);
}
function W8(t) {
  return t == null;
}
function H8(t) {
  return t === null;
}
var sz = "[object RegExp]";
function az(t) {
  return $r(t) && Si(t) == sz;
}
var px = wo && wo.isRegExp, lz = px ? io(px) : az;
const im = lz;
var mx = 9007199254740991;
function U8(t) {
  return F1(t) && t >= -mx && t <= mx;
}
function J8(t) {
  return t === void 0;
}
var cz = "[object WeakMap]";
function G8(t) {
  return $r(t) && ps(t) == cz;
}
var uz = "[object WeakSet]";
function K8(t) {
  return $r(t) && Si(t) == uz;
}
var fz = 1;
function Y8(t) {
  return Yt(typeof t == "function" ? t : po(t, fz));
}
var dz = Array.prototype, hz = dz.join;
function Q8(t, e) {
  return t == null ? "" : hz.call(t, e);
}
var pz = Qc(function(t, e, n) {
  return t + (n ? "-" : "") + e.toLowerCase();
});
const X8 = pz;
var mz = Qp(function(t, e, n) {
  na(t, n, e);
});
const Z8 = mz;
function gz(t, e, n) {
  for (var r = n + 1; r--; )
    if (t[r] === e)
      return r;
  return r;
}
var vz = Math.max, yz = Math.min;
function e6(t, e, n) {
  var r = t == null ? 0 : t.length;
  if (!r)
    return -1;
  var i = r;
  return n !== void 0 && (i = nn(n), i = i < 0 ? vz(r + i, 0) : yz(i, r - 1)), e === e ? gz(t, e, i) : Lp(t, iC, i, !0);
}
var bz = Qc(function(t, e, n) {
  return t + (n ? " " : "") + e.toLowerCase();
});
const t6 = bz;
var xz = CC("toLowerCase");
const n6 = xz;
function W1(t, e) {
  return t < e;
}
var wz = rm(W1);
const r6 = wz;
var jz = rm(function(t, e) {
  return t <= e;
});
const i6 = jz;
function o6(t, e) {
  var n = {};
  return e = Yt(e), Ss(t, function(r, i, o) {
    na(n, e(r, i, o), r);
  }), n;
}
function H1(t, e) {
  var n = {};
  return e = Yt(e), Ss(t, function(r, i, o) {
    na(n, i, e(r, i, o));
  }), n;
}
var $z = 1;
function s6(t) {
  return c3(po(t, $z));
}
var kz = 1;
function a6(t, e) {
  return f3(t, po(e, kz));
}
function om(t, e, n) {
  for (var r = -1, i = t.length; ++r < i; ) {
    var o = t[r], s = e(o);
    if (s != null && (a === void 0 ? s === s && !Di(s) : n(s, a)))
      var a = s, l = o;
  }
  return l;
}
function l6(t) {
  return t && t.length ? om(t, yi, L1) : void 0;
}
function c6(t, e) {
  return t && t.length ? om(t, Yt(e), L1) : void 0;
}
function U1(t, e) {
  for (var n, r = -1, i = t.length; ++r < i; ) {
    var o = e(t[r]);
    o !== void 0 && (n = n === void 0 ? o : n + o);
  }
  return n;
}
var Sz = NaN;
function u6(t, e) {
  var n = t == null ? 0 : t.length;
  return n ? U1(t, e) / n : Sz;
}
function f6(t) {
  return u6(t, yi);
}
function d6(t, e) {
  return u6(t, Yt(e));
}
var Cz = Jc(function(t, e, n) {
  em(t, e, n);
});
const h6 = Cz;
var _z = hn(function(t, e) {
  return function(n) {
    return Ff(n, t, e);
  };
});
const p6 = _z;
var Oz = hn(function(t, e) {
  return function(n) {
    return Ff(t, n, e);
  };
});
const m6 = Oz;
function g6(t) {
  return t && t.length ? om(t, yi, W1) : void 0;
}
function rc(t, e) {
  return t && t.length ? om(t, Yt(e), W1) : void 0;
}
function J1(t, e, n) {
  var r = Ir(e), i = nm(e, r), o = !(hr(n) && "chain" in n) || !!n.chain, s = js(t);
  return So(i, function(a) {
    var l = e[a];
    t[a] = l, s && (t.prototype[a] = function() {
      var c = this.__chain__;
      if (o || c) {
        var u = t(this.__wrapped__), f = u.__actions__ = Ni(this.__actions__);
        return f.push({ func: l, args: arguments, thisArg: t }), u.__chain__ = c, u;
      }
      return l.apply(t, Fa([this.value()], arguments));
    });
  }), t;
}
var Az = Ip(function(t, e) {
  return t * e;
}, 1);
const v6 = Az;
var Ez = "Expected a function";
function tu(t) {
  if (typeof t != "function")
    throw new TypeError(Ez);
  return function() {
    var e = arguments;
    switch (e.length) {
      case 0:
        return !t.call(this);
      case 1:
        return !t.call(this, e[0]);
      case 2:
        return !t.call(this, e[0], e[1]);
      case 3:
        return !t.call(this, e[0], e[1], e[2]);
    }
    return !t.apply(this, e);
  };
}
function Mz(t) {
  for (var e, n = []; !(e = t.next()).done; )
    n.push(e.value);
  return n;
}
var Tz = "[object Map]", Rz = "[object Set]", tg = mi ? mi.iterator : void 0;
function G1(t) {
  if (!t)
    return [];
  if (Ci(t))
    return zf(t) ? Fo(t) : Ni(t);
  if (tg && t[tg])
    return Mz(t[tg]());
  var e = ps(t), n = e == Tz ? k1 : e == Rz ? Kp : Bl;
  return n(t);
}
function cv() {
  this.__values__ === void 0 && (this.__values__ = G1(this.value()));
  var t = this.__index__ >= this.__values__.length, e = t ? void 0 : this.__values__[this.__index__++];
  return { done: t, value: e };
}
function y6(t, e) {
  var n = t.length;
  if (n)
    return e += e < 0 ? n : 0, ea(e, n) ? t[e] : void 0;
}
function b6(t, e) {
  return t && t.length ? y6(t, nn(e)) : void 0;
}
function x6(t) {
  return t = nn(t), hn(function(e) {
    return y6(e, t);
  });
}
function K1(t, e) {
  return e = za(e, t), t = M8(t, e), t == null || delete t[ks(_t(e))];
}
function Pz(t) {
  return Kc(t) ? void 0 : t;
}
var Iz = 1, Nz = 2, Dz = 4, Lz = oa(function(t, e) {
  var n = {};
  if (t == null)
    return n;
  var r = !1;
  e = vr(e, function(o) {
    return o = za(o, t), r || (r = o.length > 1), o;
  }), $s(t, y1(t), n), r && (n = po(n, Iz | Nz | Dz, Pz));
  for (var i = e.length; i--; )
    K1(n, e[i]);
  return n;
});
const w6 = Lz;
function Vf(t, e, n, r) {
  if (!hr(t))
    return t;
  e = za(e, t);
  for (var i = -1, o = e.length, s = o - 1, a = t; a != null && ++i < o; ) {
    var l = ks(e[i]), c = n;
    if (l === "__proto__" || l === "constructor" || l === "prototype")
      return t;
    if (i != s) {
      var u = a[l];
      c = r ? r(u, l, a) : void 0, c === void 0 && (c = hr(u) ? u : ea(e[i + 1]) ? [] : {});
    }
    Nf(a, l, c), a = a[l];
  }
  return t;
}
function j6(t, e, n) {
  for (var r = -1, i = e.length, o = {}; ++r < i; ) {
    var s = e[r], a = Dl(t, s);
    n(a, s) && Vf(o, za(s, t), a);
  }
  return o;
}
function Y1(t, e) {
  if (t == null)
    return {};
  var n = vr(y1(t), function(r) {
    return [r];
  });
  return e = Yt(e), j6(t, n, function(r, i) {
    return e(r, i[0]);
  });
}
function $6(t, e) {
  return Y1(t, tu(Yt(e)));
}
function k6(t) {
  return s1(2, t);
}
function Bz(t, e) {
  var n = t.length;
  for (t.sort(e); n--; )
    t[n] = t[n].value;
  return t;
}
function S6(t, e) {
  if (t !== e) {
    var n = t !== void 0, r = t === null, i = t === t, o = Di(t), s = e !== void 0, a = e === null, l = e === e, c = Di(e);
    if (!a && !c && !o && t > e || o && s && l && !a && !c || r && s && l || !n && l || !i)
      return 1;
    if (!r && !o && !c && t < e || c && n && i && !r && !o || a && n && i || !s && i || !l)
      return -1;
  }
  return 0;
}
function qz(t, e, n) {
  for (var r = -1, i = t.criteria, o = e.criteria, s = i.length, a = n.length; ++r < s; ) {
    var l = S6(i[r], o[r]);
    if (l) {
      if (r >= a)
        return l;
      var c = n[r];
      return l * (c == "desc" ? -1 : 1);
    }
  }
  return t.index - e.index;
}
function C6(t, e, n) {
  e.length ? e = vr(e, function(o) {
    return Kt(o) ? function(s) {
      return Dl(s, o.length === 1 ? o[0] : o);
    } : o;
  }) : e = [yi];
  var r = -1;
  e = vr(e, io(Yt));
  var i = e8(t, function(o, s, a) {
    var l = vr(e, function(c) {
      return c(o);
    });
    return { criteria: l, index: ++r, value: o };
  });
  return Bz(i, function(o, s) {
    return qz(o, s, n);
  });
}
function _6(t, e, n, r) {
  return t == null ? [] : (Kt(e) || (e = e == null ? [] : [e]), n = r ? void 0 : n, Kt(n) || (n = n == null ? [] : [n]), C6(t, e, n));
}
function Q1(t) {
  return oa(function(e) {
    return e = vr(e, io(Yt)), hn(function(n) {
      var r = this;
      return t(e, function(i) {
        return ro(i, r, n);
      });
    });
  });
}
var zz = Q1(vr);
const O6 = zz;
var Fz = hn, Vz = Math.min, Wz = Fz(function(t, e) {
  e = e.length == 1 && Kt(e[0]) ? vr(e[0], io(Yt)) : vr(ii(e, 1), io(Yt));
  var n = e.length;
  return hn(function(r) {
    for (var i = -1, o = Vz(r.length, n); ++i < o; )
      r[i] = e[i].call(this, r[i]);
    return ro(t, this, r);
  });
});
const A6 = Wz;
var Hz = Q1(V3);
const E6 = Hz;
var Uz = Q1($1);
const M6 = Uz;
var Jz = 9007199254740991, Gz = Math.floor;
function uv(t, e) {
  var n = "";
  if (!t || e < 1 || e > Jz)
    return n;
  do
    e % 2 && (n += t), e = Gz(e / 2), e && (t += t);
  while (e);
  return n;
}
var Kz = _1("length"), T6 = "\\ud800-\\udfff", Yz = "\\u0300-\\u036f", Qz = "\\ufe20-\\ufe2f", Xz = "\\u20d0-\\u20ff", Zz = Yz + Qz + Xz, eF = "\\ufe0e\\ufe0f", tF = "[" + T6 + "]", fv = "[" + Zz + "]", dv = "\\ud83c[\\udffb-\\udfff]", nF = "(?:" + fv + "|" + dv + ")", R6 = "[^" + T6 + "]", P6 = "(?:\\ud83c[\\udde6-\\uddff]){2}", I6 = "[\\ud800-\\udbff][\\udc00-\\udfff]", rF = "\\u200d", N6 = nF + "?", D6 = "[" + eF + "]?", iF = "(?:" + rF + "(?:" + [R6, P6, I6].join("|") + ")" + D6 + N6 + ")*", oF = D6 + N6 + iF, sF = "(?:" + [R6 + fv + "?", fv, P6, I6, tF].join("|") + ")", gx = RegExp(dv + "(?=" + dv + ")|" + sF + oF, "g");
function aF(t) {
  for (var e = gx.lastIndex = 0; gx.test(t); )
    ++e;
  return e;
}
function nu(t) {
  return Yc(t) ? aF(t) : Kz(t);
}
var lF = Math.ceil;
function Ih(t, e) {
  e = e === void 0 ? " " : no(e);
  var n = e.length;
  if (n < 2)
    return n ? uv(e, t) : e;
  var r = uv(e, lF(t / nu(e)));
  return Yc(e) ? Va(Fo(r), 0, t).join("") : r.slice(0, t);
}
var cF = Math.ceil, uF = Math.floor;
function L6(t, e, n) {
  t = In(t), e = nn(e);
  var r = e ? nu(t) : 0;
  if (!e || r >= e)
    return t;
  var i = (e - r) / 2;
  return Ih(uF(i), n) + t + Ih(cF(i), n);
}
function B6(t, e, n) {
  t = In(t), e = nn(e);
  var r = e ? nu(t) : 0;
  return e && r < e ? t + Ih(e - r, n) : t;
}
function q6(t, e, n) {
  t = In(t), e = nn(e);
  var r = e ? nu(t) : 0;
  return e && r < e ? Ih(e - r, n) + t : t;
}
var fF = /^\s+/, dF = Ur.parseInt;
function z6(t, e, n) {
  return n || e == null ? e = 0 : e && (e = +e), dF(In(t).replace(fF, ""), e || 0);
}
var hF = 32, X1 = hn(function(t, e) {
  var n = _a(e, Uc(X1));
  return ta(t, hF, void 0, e, n);
});
X1.placeholder = {};
const Z1 = X1;
var pF = 64, ey = hn(function(t, e) {
  var n = _a(e, Uc(ey));
  return ta(t, pF, void 0, e, n);
});
ey.placeholder = {};
const F6 = ey;
var mF = Qp(function(t, e, n) {
  t[n ? 0 : 1].push(e);
}, function() {
  return [[], []];
});
const ty = mF;
function gF(t, e) {
  return j6(t, e, function(n, r) {
    return Yp(t, r);
  });
}
var vF = oa(function(t, e) {
  return t == null ? {} : gF(t, e);
});
const V6 = vF;
function hv(t) {
  for (var e, n = this; n instanceof Np; ) {
    var r = tC(n);
    r.__index__ = 0, r.__values__ = void 0, e ? i.__wrapped__ = r : e = r;
    var i = r;
    n = n.__wrapped__;
  }
  return i.__wrapped__ = t, e;
}
function W6(t) {
  return function(e) {
    return t == null ? void 0 : Dl(t, e);
  };
}
function yF(t, e, n, r) {
  for (var i = n - 1, o = t.length; ++i < o; )
    if (r(t[i], e))
      return i;
  return -1;
}
var bF = Array.prototype, vx = bF.splice;
function ny(t, e, n, r) {
  var i = r ? yF : Hc, o = -1, s = e.length, a = t;
  for (t === e && (e = Ni(e)), n && (a = vr(t, io(n))); ++o < s; )
    for (var l = 0, c = e[o], u = n ? n(c) : c; (l = i(a, u, l, r)) > -1; )
      a !== t && vx.call(a, l, 1), vx.call(t, l, 1);
  return t;
}
function ry(t, e) {
  return t && t.length && e && e.length ? ny(t, e) : t;
}
var xF = hn(ry);
const H6 = xF;
function U6(t, e, n) {
  return t && t.length && e && e.length ? ny(t, e, Yt(n)) : t;
}
function J6(t, e, n) {
  return t && t.length && e && e.length ? ny(t, e, void 0, n) : t;
}
var wF = Array.prototype, jF = wF.splice;
function G6(t, e) {
  for (var n = t ? e.length : 0, r = n - 1; n--; ) {
    var i = e[n];
    if (n == r || i !== o) {
      var o = i;
      ea(i) ? jF.call(t, i, 1) : K1(t, i);
    }
  }
  return t;
}
var $F = oa(function(t, e) {
  var n = t == null ? 0 : t.length, r = r1(t, e);
  return G6(t, vr(e, function(i) {
    return ea(i, n) ? +i : i;
  }).sort(S6)), r;
});
const K6 = $F;
var kF = Math.floor, SF = Math.random;
function iy(t, e) {
  return t + kF(SF() * (e - t + 1));
}
var CF = parseFloat, _F = Math.min, OF = Math.random;
function Y6(t, e, n) {
  if (n && typeof n != "boolean" && ki(t, e, n) && (e = n = void 0), n === void 0 && (typeof e == "boolean" ? (n = e, e = void 0) : typeof t == "boolean" && (n = t, t = void 0)), t === void 0 && e === void 0 ? (t = 0, e = 1) : (t = ds(t), e === void 0 ? (e = t, t = 0) : e = ds(e)), t > e) {
    var r = t;
    t = e, e = r;
  }
  if (n || t % 1 || e % 1) {
    var i = OF();
    return _F(t + i * (e - t + CF("1e-" + ((i + "").length - 1))), e);
  }
  return iy(t, e);
}
var AF = Math.ceil, EF = Math.max;
function MF(t, e, n, r) {
  for (var i = -1, o = EF(AF((e - t) / (n || 1)), 0), s = Array(o); o--; )
    s[r ? o : ++i] = t, t += n;
  return s;
}
function Q6(t) {
  return function(e, n, r) {
    return r && typeof r != "number" && ki(e, n, r) && (n = r = void 0), e = ds(e), n === void 0 ? (n = e, e = 0) : n = ds(n), r = r === void 0 ? e < n ? 1 : -1 : ds(r), MF(e, n, r, t);
  };
}
var oy = Q6(), TF = Q6(!0);
const X6 = TF;
var RF = 256, PF = oa(function(t, e) {
  return ta(t, RF, void 0, void 0, void 0, e);
});
const Z6 = PF;
function e5(t, e, n, r, i) {
  return i(t, function(o, s, a) {
    n = r ? (r = !1, o) : e(n, o, s, a);
  }), n;
}
function t5(t, e, n) {
  var r = Kt(t) ? f1 : e5, i = arguments.length < 3;
  return r(t, Yt(e), n, i, Ha);
}
function IF(t, e, n, r) {
  var i = t == null ? 0 : t.length;
  for (r && i && (n = t[--i]); i--; )
    n = e(n, t[i], i, t);
  return n;
}
function n5(t, e, n) {
  var r = Kt(t) ? IF : e5, i = arguments.length < 3;
  return r(t, Yt(e), n, i, D3);
}
function r5(t, e) {
  var n = Kt(t) ? Wa : U3;
  return n(t, tu(Yt(e)));
}
function i5(t, e) {
  var n = [];
  if (!(t && t.length))
    return n;
  var r = -1, i = [], o = t.length;
  for (e = Yt(e); ++r < o; ) {
    var s = t[r];
    e(s, r, t) && (n.push(s), i.push(r));
  }
  return G6(t, i), n;
}
function o5(t, e, n) {
  return (n ? ki(t, e, n) : e === void 0) ? e = 1 : e = nn(e), uv(In(t), e);
}
function s5() {
  var t = arguments, e = In(t[0]);
  return t.length < 3 ? e : e.replace(t[1], t[2]);
}
var NF = "Expected a function";
function a5(t, e) {
  if (typeof t != "function")
    throw new TypeError(NF);
  return e = e === void 0 ? e : nn(e), hn(t, e);
}
function l5(t, e, n) {
  e = za(e, t);
  var r = -1, i = e.length;
  for (i || (i = 1, t = void 0); ++r < i; ) {
    var o = t == null ? void 0 : t[ks(e[r])];
    o === void 0 && (r = i, o = n), t = js(o) ? o.call(t) : o;
  }
  return t;
}
var DF = Array.prototype, LF = DF.reverse;
function Nh(t) {
  return t == null ? t : LF.call(t);
}
var BF = m1("round");
const c5 = BF;
function u5(t) {
  var e = t.length;
  return e ? t[iy(0, e - 1)] : void 0;
}
function qF(t) {
  return u5(Bl(t));
}
function f5(t) {
  var e = Kt(t) ? u5 : qF;
  return e(t);
}
function sm(t, e) {
  var n = -1, r = t.length, i = r - 1;
  for (e = e === void 0 ? r : e; ++n < e; ) {
    var o = iy(n, i), s = t[o];
    t[o] = t[n], t[n] = s;
  }
  return t.length = e, t;
}
function zF(t, e) {
  return sm(Ni(t), Ll(e, 0, t.length));
}
function FF(t, e) {
  var n = Bl(t);
  return sm(n, Ll(e, 0, n.length));
}
function d5(t, e, n) {
  (n ? ki(t, e, n) : e === void 0) ? e = 1 : e = nn(e);
  var r = Kt(t) ? zF : FF;
  return r(t, e);
}
function h5(t, e, n) {
  return t == null ? t : Vf(t, e, n);
}
function p5(t, e, n, r) {
  return r = typeof r == "function" ? r : void 0, t == null ? t : Vf(t, e, n, r);
}
function VF(t) {
  return sm(Ni(t));
}
function WF(t) {
  return sm(Bl(t));
}
function m5(t) {
  var e = Kt(t) ? VF : WF;
  return e(t);
}
var HF = "[object Map]", UF = "[object Set]";
function g5(t) {
  if (t == null)
    return 0;
  if (Ci(t))
    return zf(t) ? nu(t) : t.length;
  var e = ps(t);
  return e == HF || e == UF ? t.size : t1(t).length;
}
function v5(t, e, n) {
  var r = t == null ? 0 : t.length;
  return r ? (n && typeof n != "number" && ki(t, e, n) ? (e = 0, n = r) : (e = e == null ? 0 : nn(e), n = n === void 0 ? r : nn(n)), jo(t, e, n)) : [];
}
var JF = Qc(function(t, e, n) {
  return t + (n ? "_" : "") + e.toLowerCase();
});
const y5 = JF;
function GF(t, e) {
  var n;
  return Ha(t, function(r, i, o) {
    return n = e(r, i, o), !n;
  }), !!n;
}
function b5(t, e, n) {
  var r = Kt(t) ? $1 : GF;
  return n && ki(t, e, n) && (e = void 0), r(t, Yt(e));
}
var KF = hn(function(t, e) {
  if (t == null)
    return [];
  var n = e.length;
  return n > 1 && ki(t, e[0], e[1]) ? e = [] : n > 2 && ki(e[0], e[1], e[2]) && (e = [e[0]]), C6(t, ii(e, 1), []);
});
const sy = KF;
var YF = 4294967295, QF = YF - 1, XF = Math.floor, ZF = Math.min;
function ay(t, e, n, r) {
  var i = 0, o = t == null ? 0 : t.length;
  if (o === 0)
    return 0;
  e = n(e);
  for (var s = e !== e, a = e === null, l = Di(e), c = e === void 0; i < o; ) {
    var u = XF((i + o) / 2), f = n(t[u]), d = f !== void 0, h = f === null, p = f === f, m = Di(f);
    if (s)
      var g = r || p;
    else
      c ? g = p && (r || d) : a ? g = p && d && (r || !h) : l ? g = p && d && !h && (r || !m) : h || m ? g = !1 : g = r ? f <= e : f < e;
    g ? i = u + 1 : o = u;
  }
  return ZF(o, QF);
}
var eV = 4294967295, tV = eV >>> 1;
function am(t, e, n) {
  var r = 0, i = t == null ? r : t.length;
  if (typeof e == "number" && e === e && i <= tV) {
    for (; r < i; ) {
      var o = r + i >>> 1, s = t[o];
      s !== null && !Di(s) && (n ? s <= e : s < e) ? r = o + 1 : i = o;
    }
    return i;
  }
  return ay(t, e, yi, n);
}
function x5(t, e) {
  return am(t, e);
}
function w5(t, e, n) {
  return ay(t, e, Yt(n));
}
function j5(t, e) {
  var n = t == null ? 0 : t.length;
  if (n) {
    var r = am(t, e);
    if (r < n && Co(t[r], e))
      return r;
  }
  return -1;
}
function $5(t, e) {
  return am(t, e, !0);
}
function k5(t, e, n) {
  return ay(t, e, Yt(n), !0);
}
function S5(t, e) {
  var n = t == null ? 0 : t.length;
  if (n) {
    var r = am(t, e, !0) - 1;
    if (Co(t[r], e))
      return r;
  }
  return -1;
}
function C5(t, e) {
  for (var n = -1, r = t.length, i = 0, o = []; ++n < r; ) {
    var s = t[n], a = e ? e(s) : s;
    if (!n || !Co(a, l)) {
      var l = a;
      o[i++] = s === 0 ? 0 : s;
    }
  }
  return o;
}
function _5(t) {
  return t && t.length ? C5(t) : [];
}
function O5(t, e) {
  return t && t.length ? C5(t, Yt(e)) : [];
}
var nV = 4294967295;
function A5(t, e, n) {
  return n && typeof n != "number" && ki(t, e, n) && (e = n = void 0), n = n === void 0 ? nV : n >>> 0, n ? (t = In(t), t && (typeof e == "string" || e != null && !im(e)) && (e = no(e), !e && Yc(t)) ? Va(Fo(t), 0, n) : t.split(e, n)) : [];
}
var rV = "Expected a function", iV = Math.max;
function E5(t, e) {
  if (typeof t != "function")
    throw new TypeError(rV);
  return e = e == null ? 0 : iV(nn(e), 0), hn(function(n) {
    var r = n[e], i = Va(n, 0, e);
    return r && Fa(i, r), ro(t, this, i);
  });
}
var oV = Qc(function(t, e, n) {
  return t + (n ? " " : "") + Jp(e);
});
const M5 = oV;
function T5(t, e, n) {
  return t = In(t), n = n == null ? 0 : Ll(nn(n), 0, t.length), e = no(e), t.slice(n, n + e.length) == e;
}
function R5() {
  return {};
}
function P5() {
  return "";
}
function I5() {
  return !0;
}
var sV = Ip(function(t, e) {
  return t - e;
}, 0);
const N5 = sV;
function D5(t) {
  return t && t.length ? U1(t, yi) : 0;
}
function L5(t, e) {
  return t && t.length ? U1(t, Yt(e)) : 0;
}
function B5(t) {
  var e = t == null ? 0 : t.length;
  return e ? jo(t, 1, e) : [];
}
function q5(t, e, n) {
  return t && t.length ? (e = n || e === void 0 ? 1 : nn(e), jo(t, 0, e < 0 ? 0 : e)) : [];
}
function z5(t, e, n) {
  var r = t == null ? 0 : t.length;
  return r ? (e = n || e === void 0 ? 1 : nn(e), e = r - e, jo(t, e < 0 ? 0 : e, r)) : [];
}
function F5(t, e) {
  return t && t.length ? tm(t, Yt(e), !1, !0) : [];
}
function V5(t, e) {
  return t && t.length ? tm(t, Yt(e)) : [];
}
function W5(t, e) {
  return e(t), t;
}
var H5 = Object.prototype, aV = H5.hasOwnProperty;
function yx(t, e, n, r) {
  return t === void 0 || Co(t, H5[n]) && !aV.call(r, n) ? e : t;
}
var lV = {
  "\\": "\\",
  "'": "'",
  "\n": "n",
  "\r": "r",
  "\u2028": "u2028",
  "\u2029": "u2029"
};
function cV(t) {
  return "\\" + lV[t];
}
var uV = /<%=([\s\S]+?)%>/g;
const U5 = uV;
var fV = /<%-([\s\S]+?)%>/g;
const dV = fV;
var hV = /<%([\s\S]+?)%>/g;
const pV = hV;
var mV = {
  /**
   * Used to detect `data` property values to be HTML-escaped.
   *
   * @memberOf _.templateSettings
   * @type {RegExp}
   */
  escape: dV,
  /**
   * Used to detect code to be evaluated.
   *
   * @memberOf _.templateSettings
   * @type {RegExp}
   */
  evaluate: pV,
  /**
   * Used to detect `data` property values to inject.
   *
   * @memberOf _.templateSettings
   * @type {RegExp}
   */
  interpolate: U5,
  /**
   * Used to reference the data object in the template text.
   *
   * @memberOf _.templateSettings
   * @type {string}
   */
  variable: "",
  /**
   * Used to import variables into the compiled template.
   *
   * @memberOf _.templateSettings
   * @type {Object}
   */
  imports: {
    /**
     * A reference to the `lodash` function.
     *
     * @memberOf _.templateSettings.imports
     * @type {Function}
     */
    _: { escape: P1 }
  }
};
const Dh = mV;
var gV = "Invalid `variable` option passed into `_.template`", vV = /\b__p \+= '';/g, yV = /\b(__p \+=) '' \+/g, bV = /(__e\(.*?\)|\b__t\)) \+\n'';/g, xV = /[()=,{}\[\]\/\s]/, wV = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, vd = /($^)/, jV = /['\n\r\u2028\u2029\\]/g, $V = Object.prototype, bx = $V.hasOwnProperty;
function J5(t, e, n) {
  var r = Dh.imports._.templateSettings || Dh;
  n && ki(t, e, n) && (e = void 0), t = In(t), e = Oc({}, e, r, yx);
  var i = Oc({}, e.imports, r.imports, yx), o = Ir(i), s = B1(i, o), a, l, c = 0, u = e.interpolate || vd, f = "__p += '", d = RegExp(
    (e.escape || vd).source + "|" + u.source + "|" + (u === U5 ? wV : vd).source + "|" + (e.evaluate || vd).source + "|$",
    "g"
  ), h = bx.call(e, "sourceURL") ? "//# sourceURL=" + (e.sourceURL + "").replace(/\s/g, " ") + `
` : "";
  t.replace(d, function(g, v, y, x, b, w) {
    return y || (y = x), f += t.slice(c, w).replace(jV, cV), v && (a = !0, f += `' +
__e(` + v + `) +
'`), b && (l = !0, f += `';
` + b + `;
__p += '`), y && (f += `' +
((__t = (` + y + `)) == null ? '' : __t) +
'`), c = w + g.length, g;
  }), f += `';
`;
  var p = bx.call(e, "variable") && e.variable;
  if (!p)
    f = `with (obj) {
` + f + `
}
`;
  else if (xV.test(p))
    throw new Error(gV);
  f = (l ? f.replace(vV, "") : f).replace(yV, "$1").replace(bV, "$1;"), f = "function(" + (p || "obj") + `) {
` + (p ? "" : `obj || (obj = {});
`) + "var __t, __p = ''" + (a ? ", __e = _.escape" : "") + (l ? `, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
` : `;
`) + f + `return __p
}`;
  var m = o1(function() {
    return Function(o, h + "return " + f).apply(void 0, s);
  });
  if (m.source = f, Up(m))
    throw m;
  return m;
}
var kV = "Expected a function";
function ly(t, e, n) {
  var r = !0, i = !0;
  if (typeof t != "function")
    throw new TypeError(kV);
  return hr(n) && (r = "leading" in n ? !!n.leading : r, i = "trailing" in n ? !!n.trailing : i), Xc(t, e, {
    leading: r,
    maxWait: e,
    trailing: i
  });
}
function ru(t, e) {
  return e(t);
}
var SV = 9007199254740991, ng = 4294967295, CV = Math.min;
function cy(t, e) {
  if (t = nn(t), t < 1 || t > SV)
    return [];
  var n = ng, r = CV(t, ng);
  e = Cs(e), t -= ng;
  for (var i = e1(r, e); ++n < t; )
    e(n);
  return i;
}
function pv() {
  return this;
}
function G5(t, e) {
  var n = t;
  return n instanceof $n && (n = n.value()), f1(e, function(r, i) {
    return i.func.apply(i.thisArg, Fa([r], i.args));
  }, n);
}
function ll() {
  return G5(this.__wrapped__, this.__actions__);
}
function K5(t) {
  return In(t).toLowerCase();
}
function Y5(t) {
  return Kt(t) ? vr(t, ks) : Di(t) ? [t] : Ni(mC(In(t)));
}
var xx = 9007199254740991;
function Q5(t) {
  return t ? Ll(nn(t), -xx, xx) : t === 0 ? t : 0;
}
function X5(t) {
  return In(t).toUpperCase();
}
function Z5(t, e, n) {
  var r = Kt(t), i = r || Hs(t) || Nl(t);
  if (e = Yt(e), n == null) {
    var o = t && t.constructor;
    i ? n = r ? new o() : [] : hr(t) ? n = js(o) ? Wc(Hp(t)) : {} : n = {};
  }
  return (i ? So : Ss)(t, function(s, a, l) {
    return e(n, s, a, l);
  }), n;
}
function e_(t, e) {
  for (var n = t.length; n-- && Hc(e, t[n], 0) > -1; )
    ;
  return n;
}
function t_(t, e) {
  for (var n = -1, r = t.length; ++n < r && Hc(e, t[n], 0) > -1; )
    ;
  return n;
}
function n_(t, e, n) {
  if (t = In(t), t && (n || e === void 0))
    return KS(t);
  if (!t || !(e = no(e)))
    return t;
  var r = Fo(t), i = Fo(e), o = t_(r, i), s = e_(r, i) + 1;
  return Va(r, o, s).join("");
}
function r_(t, e, n) {
  if (t = In(t), t && (n || e === void 0))
    return t.slice(0, GS(t) + 1);
  if (!t || !(e = no(e)))
    return t;
  var r = Fo(t), i = e_(r, Fo(e)) + 1;
  return Va(r, 0, i).join("");
}
var _V = /^\s+/;
function i_(t, e, n) {
  if (t = In(t), t && (n || e === void 0))
    return t.replace(_V, "");
  if (!t || !(e = no(e)))
    return t;
  var r = Fo(t), i = t_(r, Fo(e));
  return Va(r, i).join("");
}
var OV = 30, AV = "...", EV = /\w*$/;
function o_(t, e) {
  var n = OV, r = AV;
  if (hr(e)) {
    var i = "separator" in e ? e.separator : i;
    n = "length" in e ? nn(e.length) : n, r = "omission" in e ? no(e.omission) : r;
  }
  t = In(t);
  var o = t.length;
  if (Yc(t)) {
    var s = Fo(t);
    o = s.length;
  }
  if (n >= o)
    return t;
  var a = n - nu(r);
  if (a < 1)
    return r;
  var l = s ? Va(s, 0, a).join("") : t.slice(0, a);
  if (i === void 0)
    return l + r;
  if (s && (a += l.length - a), im(i)) {
    if (t.slice(a).search(i)) {
      var c, u = l;
      for (i.global || (i = RegExp(i.source, In(EV.exec(i)) + "g")), i.lastIndex = 0; c = i.exec(u); )
        var f = c.index;
      l = l.slice(0, f === void 0 ? a : f);
    }
  } else if (t.indexOf(no(i), a) != a) {
    var d = l.lastIndexOf(i);
    d > -1 && (l = l.slice(0, d));
  }
  return l + r;
}
function s_(t) {
  return Z0(t, 1);
}
var MV = {
  "&amp;": "&",
  "&lt;": "<",
  "&gt;": ">",
  "&quot;": '"',
  "&#39;": "'"
}, TV = d1(MV);
const RV = TV;
var a_ = /&(?:amp|lt|gt|quot|#39);/g, PV = RegExp(a_.source);
function l_(t) {
  return t = In(t), t && PV.test(t) ? t.replace(a_, RV) : t;
}
var IV = 1 / 0, NV = hc && 1 / Kp(new hc([, -0]))[1] == IV ? function(t) {
  return new hc(t);
} : Kn, DV = 200;
function Aa(t, e, n) {
  var r = -1, i = Bp, o = t.length, s = !0, a = [], l = a;
  if (n)
    s = !1, i = T1;
  else if (o >= DV) {
    var c = e ? null : NV(t);
    if (c)
      return Kp(c);
    s = !1, i = of, l = new yl();
  } else
    l = e ? [] : a;
  e:
    for (; ++r < o; ) {
      var u = t[r], f = e ? e(u) : u;
      if (u = n || u !== 0 ? u : 0, s && f === f) {
        for (var d = l.length; d--; )
          if (l[d] === f)
            continue e;
        e && l.push(f), a.push(u);
      } else
        i(l, f, n) || (l !== a && l.push(f), a.push(u));
    }
  return a;
}
var LV = hn(function(t) {
  return Aa(ii(t, 1, _r, !0));
});
const c_ = LV;
var BV = hn(function(t) {
  var e = _t(t);
  return _r(e) && (e = void 0), Aa(ii(t, 1, _r, !0), Yt(e));
});
const u_ = BV;
var qV = hn(function(t) {
  var e = _t(t);
  return e = typeof e == "function" ? e : void 0, Aa(ii(t, 1, _r, !0), void 0, e);
});
const f_ = qV;
function d_(t) {
  return t && t.length ? Aa(t) : [];
}
function h_(t, e) {
  return t && t.length ? Aa(t, Yt(e)) : [];
}
function p_(t, e) {
  return e = typeof e == "function" ? e : void 0, t && t.length ? Aa(t, void 0, e) : [];
}
var zV = 0;
function Ea(t) {
  var e = ++zV;
  return In(t) + e;
}
function m_(t, e) {
  return t == null ? !0 : K1(t, e);
}
var FV = Math.max;
function lm(t) {
  if (!(t && t.length))
    return [];
  var e = 0;
  return t = Wa(t, function(n) {
    if (_r(n))
      return e = FV(n.length, e), !0;
  }), e1(e, function(n) {
    return vr(t, _1(n));
  });
}
function uy(t, e) {
  if (!(t && t.length))
    return [];
  var n = lm(t);
  return e == null ? n : vr(n, function(r) {
    return ro(e, void 0, r);
  });
}
function g_(t, e, n, r) {
  return Vf(t, e, n(Dl(t, e)), r);
}
function v_(t, e, n) {
  return t == null ? t : g_(t, e, Cs(n));
}
function y_(t, e, n, r) {
  return r = typeof r == "function" ? r : void 0, t == null ? t : g_(t, e, Cs(n), r);
}
var VV = Qc(function(t, e, n) {
  return t + (n ? " " : "") + e.toUpperCase();
});
const b_ = VV;
function x_(t) {
  return t == null ? [] : B1(t, _i(t));
}
var WV = hn(function(t, e) {
  return _r(t) ? qf(t, e) : [];
});
const w_ = WV;
function j_(t, e) {
  return Z1(Cs(e), t);
}
var HV = oa(function(t) {
  var e = t.length, n = e ? t[0] : 0, r = this.__wrapped__, i = function(o) {
    return r1(o, t);
  };
  return e > 1 || this.__actions__.length || !(r instanceof $n) || !ea(n) ? this.thru(i) : (r = r.slice(n, +n + (e ? 1 : 0)), r.__actions__.push({
    func: ru,
    args: [i],
    thisArg: void 0
  }), new xo(r, this.__chain__).thru(function(o) {
    return e && !o.length && o.push(void 0), o;
  }));
});
const $_ = HV;
function k_() {
  return g1(this);
}
function S_() {
  var t = this.__wrapped__;
  if (t instanceof $n) {
    var e = t;
    return this.__actions__.length && (e = new $n(this)), e = e.reverse(), e.__actions__.push({
      func: ru,
      args: [Nh],
      thisArg: void 0
    }), new xo(e, this.__chain__);
  }
  return this.thru(Nh);
}
function fy(t, e, n) {
  var r = t.length;
  if (r < 2)
    return r ? Aa(t[0]) : [];
  for (var i = -1, o = Array(r); ++i < r; )
    for (var s = t[i], a = -1; ++a < r; )
      a != i && (o[i] = qf(o[i] || s, t[a], e, n));
  return Aa(ii(o, 1), e, n);
}
var UV = hn(function(t) {
  return fy(Wa(t, _r));
});
const C_ = UV;
var JV = hn(function(t) {
  var e = _t(t);
  return _r(e) && (e = void 0), fy(Wa(t, _r), Yt(e));
});
const __ = JV;
var GV = hn(function(t) {
  var e = _t(t);
  return e = typeof e == "function" ? e : void 0, fy(Wa(t, _r), void 0, e);
});
const O_ = GV;
var KV = hn(lm);
const A_ = KV;
function E_(t, e, n) {
  for (var r = -1, i = t.length, o = e.length, s = {}; ++r < i; ) {
    var a = r < o ? e[r] : void 0;
    n(s, t[r], a);
  }
  return s;
}
function M_(t, e) {
  return E_(t || [], e || [], Nf);
}
function T_(t, e) {
  return E_(t || [], e || [], Vf);
}
var YV = hn(function(t) {
  var e = t.length, n = e > 1 ? t[e - 1] : void 0;
  return n = typeof n == "function" ? (t.pop(), n) : void 0, uy(t, n);
});
const R_ = YV, mt = {
  chunk: VC,
  compact: i3,
  concat: o3,
  difference: O3,
  differenceBy: A3,
  differenceWith: E3,
  drop: T3,
  dropRight: R3,
  dropRightWhile: P3,
  dropWhile: I3,
  fill: H3,
  findIndex: N1,
  findLastIndex: D1,
  first: Xi,
  flatten: i1,
  flattenDeep: i8,
  flattenDepth: o8,
  fromPairs: m8,
  head: Xi,
  indexOf: $8,
  initial: Zt,
  intersection: k8,
  intersectionBy: S8,
  intersectionWith: C8,
  join: Q8,
  last: _t,
  lastIndexOf: e6,
  nth: b6,
  pull: H6,
  pullAll: ry,
  pullAllBy: U6,
  pullAllWith: J6,
  pullAt: K6,
  remove: i5,
  reverse: Nh,
  slice: v5,
  sortedIndex: x5,
  sortedIndexBy: w5,
  sortedIndexOf: j5,
  sortedLastIndex: $5,
  sortedLastIndexBy: k5,
  sortedLastIndexOf: S5,
  sortedUniq: _5,
  sortedUniqBy: O5,
  tail: B5,
  take: q5,
  takeRight: z5,
  takeRightWhile: F5,
  takeWhile: V5,
  union: c_,
  unionBy: u_,
  unionWith: f_,
  uniq: d_,
  uniqBy: h_,
  uniqWith: p_,
  unzip: lm,
  unzipWith: uy,
  without: w_,
  xor: C_,
  xorBy: __,
  xorWith: O_,
  zip: A_,
  zipObject: M_,
  zipObjectDeep: T_,
  zipWith: R_
}, Qn = {
  countBy: y3,
  each: Th,
  eachRight: sf,
  every: W3,
  filter: J3,
  find: K3,
  findLast: X3,
  flatMap: t8,
  flatMapDeep: n8,
  flatMapDepth: r8,
  forEach: Th,
  forEachRight: sf,
  groupBy: eu,
  includes: j8,
  invokeMap: R8,
  keyBy: Z8,
  map: Zc,
  orderBy: _6,
  partition: ty,
  reduce: t5,
  reduceRight: n5,
  reject: r5,
  sample: f5,
  sampleSize: d5,
  shuffle: m5,
  size: g5,
  some: b5,
  sortBy: sy
}, QV = {
  now: Bu
}, Ar = {
  after: YS,
  ary: Z0,
  before: s1,
  bind: l1,
  bindKey: bC,
  curry: Xp,
  curryRight: Zp,
  debounce: Xc,
  defer: C3,
  delay: _3,
  flip: s8,
  memoize: Gc,
  negate: tu,
  once: k6,
  overArgs: A6,
  partial: Z1,
  partialRight: F6,
  rearg: Z6,
  rest: a5,
  spread: E5,
  throttle: ly,
  unary: s_,
  wrap: j_
}, Pt = {
  castArray: zC,
  clone: t3,
  cloneDeep: n3,
  cloneDeepWith: j1,
  cloneWith: r3,
  conformsTo: m3,
  eq: Co,
  gt: y8,
  gte: b8,
  isArguments: Oa,
  isArray: Kt,
  isArrayBuffer: P8,
  isArrayLike: Ci,
  isArrayLikeObject: _r,
  isBoolean: I8,
  isBuffer: Hs,
  isDate: N8,
  isElement: D8,
  isEmpty: dn,
  isEqual: en,
  isEqualWith: L8,
  isError: Up,
  isFinite: B8,
  isFunction: js,
  isInteger: F1,
  isLength: Df,
  isMap: x1,
  isMatch: q8,
  isMatchWith: z8,
  isNaN: F8,
  isNative: V8,
  isNil: W8,
  isNull: H8,
  isNumber: V1,
  isObject: hr,
  isObjectLike: $r,
  isPlainObject: Kc,
  isRegExp: im,
  isSafeInteger: U8,
  isSet: w1,
  isString: zf,
  isSymbol: Di,
  isTypedArray: Nl,
  isUndefined: J8,
  isWeakMap: G8,
  isWeakSet: K8,
  lt: r6,
  lte: i6,
  toArray: G1,
  toFinite: ds,
  toInteger: nn,
  toLength: I1,
  toNumber: Qi,
  toPlainObject: E1,
  toSafeInteger: Q5,
  toString: In
}, Oi = {
  add: JS,
  ceil: FC,
  divide: M3,
  floor: a8,
  max: l6,
  maxBy: c6,
  mean: f6,
  meanBy: d6,
  min: g6,
  minBy: rc,
  multiply: v6,
  round: c5,
  subtract: N5,
  sum: D5,
  sumBy: L5
}, dy = {
  clamp: WC,
  inRange: w8,
  random: Y6
}, Ht = {
  assign: hC,
  assignIn: Eh,
  assignInWith: Oc,
  assignWith: pC,
  at: gC,
  create: b3,
  defaults: j3,
  defaultsDeep: k3,
  entries: Rh,
  entriesIn: Ph,
  extend: Eh,
  extendWith: Oc,
  findKey: Q3,
  findLastKey: Z3,
  forIn: f8,
  forInRight: d8,
  forOwn: h8,
  forOwnRight: p8,
  functions: g8,
  functionsIn: v8,
  get: Wp,
  has: x8,
  hasIn: Yp,
  invert: O8,
  invertBy: E8,
  invoke: T8,
  keys: Ir,
  keysIn: _i,
  mapKeys: o6,
  mapValues: H1,
  merge: h6,
  mergeWith: M1,
  omit: w6,
  omitBy: $6,
  pick: V6,
  pickBy: Y1,
  result: l5,
  set: h5,
  setWith: p5,
  toPairs: Rh,
  toPairsIn: Ph,
  transform: Z5,
  unset: m_,
  update: v_,
  updateWith: y_,
  values: Bl,
  valuesIn: x_
}, _s = {
  at: $_,
  chain: g1,
  commit: sv,
  lodash: W,
  next: cv,
  plant: hv,
  reverse: S_,
  tap: W5,
  thru: ru,
  toIterator: pv,
  toJSON: ll,
  value: ll,
  valueOf: ll,
  wrapperChain: k_
}, Nn = {
  camelCase: qC,
  capitalize: u1,
  deburr: h1,
  endsWith: L3,
  escape: P1,
  escapeRegExp: F3,
  kebabCase: X8,
  lowerCase: t6,
  lowerFirst: n6,
  pad: L6,
  padEnd: B6,
  padStart: q6,
  parseInt: z6,
  repeat: o5,
  replace: s5,
  snakeCase: y5,
  split: A5,
  startCase: M5,
  startsWith: T5,
  template: J5,
  templateSettings: Dh,
  toLower: K5,
  toUpper: X5,
  trim: n_,
  trimEnd: r_,
  trimStart: i_,
  truncate: o_,
  unescape: l_,
  upperCase: b_,
  upperFirst: Jp,
  words: p1
}, Fn = {
  attempt: o1,
  bindAll: yC,
  cond: d3,
  conforms: p3,
  constant: Dp,
  defaultTo: x3,
  flow: c8,
  flowRight: u8,
  identity: yi,
  iteratee: Y8,
  matches: s6,
  matchesProperty: a6,
  method: p6,
  methodOf: m6,
  mixin: J1,
  noop: Kn,
  nthArg: x6,
  over: O6,
  overEvery: E6,
  overSome: M6,
  property: O1,
  propertyOf: W6,
  range: oy,
  rangeRight: X6,
  stubArray: Gp,
  stubFalse: zp,
  stubObject: R5,
  stubString: P5,
  stubTrue: I5,
  times: cy,
  toPath: Y5,
  uniqueId: Ea
};
function XV() {
  var t = new $n(this.__wrapped__);
  return t.__actions__ = Ni(this.__actions__), t.__dir__ = this.__dir__, t.__filtered__ = this.__filtered__, t.__iteratees__ = Ni(this.__iteratees__), t.__takeCount__ = this.__takeCount__, t.__views__ = Ni(this.__views__), t;
}
function ZV() {
  if (this.__filtered__) {
    var t = new $n(this);
    t.__dir__ = -1, t.__filtered__ = !0;
  } else
    t = this.clone(), t.__dir__ *= -1;
  return t;
}
var eW = Math.max, tW = Math.min;
function nW(t, e, n) {
  for (var r = -1, i = n.length; ++r < i; ) {
    var o = n[r], s = o.size;
    switch (o.type) {
      case "drop":
        t += s;
        break;
      case "dropRight":
        e -= s;
        break;
      case "take":
        e = tW(e, t + s);
        break;
      case "takeRight":
        t = eW(t, e - s);
        break;
    }
  }
  return { start: t, end: e };
}
var rW = 1, iW = 2, oW = Math.min;
function sW() {
  var t = this.__wrapped__.value(), e = this.__dir__, n = Kt(t), r = e < 0, i = n ? t.length : 0, o = nW(0, i, this.__views__), s = o.start, a = o.end, l = a - s, c = r ? a : s - 1, u = this.__iteratees__, f = u.length, d = 0, h = oW(l, this.__takeCount__);
  if (!n || !r && i == l && h == l)
    return G5(t, this.__actions__);
  var p = [];
  e:
    for (; l-- && d < h; ) {
      c += e;
      for (var m = -1, g = t[c]; ++m < f; ) {
        var v = u[m], y = v.iteratee, x = v.type, b = y(g);
        if (x == iW)
          g = b;
        else if (!b) {
          if (x == rW)
            continue e;
          break e;
        }
      }
      p[d++] = g;
    }
  return p;
}
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
var aW = "4.17.21", lW = 2, cW = 1, uW = 3, P_ = 4294967295, fW = Array.prototype, dW = Object.prototype, I_ = dW.hasOwnProperty, wx = mi ? mi.iterator : void 0, hW = Math.max, jx = Math.min, hy = /* @__PURE__ */ function(t) {
  return function(e, n, r) {
    if (r == null) {
      var i = hr(n), o = i && Ir(n), s = o && o.length && nm(n, o);
      (s ? s.length : i) || (r = n, n = e, e = this);
    }
    return t(e, n, r);
  };
}(J1);
W.after = Ar.after;
W.ary = Ar.ary;
W.assign = Ht.assign;
W.assignIn = Ht.assignIn;
W.assignInWith = Ht.assignInWith;
W.assignWith = Ht.assignWith;
W.at = Ht.at;
W.before = Ar.before;
W.bind = Ar.bind;
W.bindAll = Fn.bindAll;
W.bindKey = Ar.bindKey;
W.castArray = Pt.castArray;
W.chain = _s.chain;
W.chunk = mt.chunk;
W.compact = mt.compact;
W.concat = mt.concat;
W.cond = Fn.cond;
W.conforms = Fn.conforms;
W.constant = Fn.constant;
W.countBy = Qn.countBy;
W.create = Ht.create;
W.curry = Ar.curry;
W.curryRight = Ar.curryRight;
W.debounce = Ar.debounce;
W.defaults = Ht.defaults;
W.defaultsDeep = Ht.defaultsDeep;
W.defer = Ar.defer;
W.delay = Ar.delay;
W.difference = mt.difference;
W.differenceBy = mt.differenceBy;
W.differenceWith = mt.differenceWith;
W.drop = mt.drop;
W.dropRight = mt.dropRight;
W.dropRightWhile = mt.dropRightWhile;
W.dropWhile = mt.dropWhile;
W.fill = mt.fill;
W.filter = Qn.filter;
W.flatMap = Qn.flatMap;
W.flatMapDeep = Qn.flatMapDeep;
W.flatMapDepth = Qn.flatMapDepth;
W.flatten = mt.flatten;
W.flattenDeep = mt.flattenDeep;
W.flattenDepth = mt.flattenDepth;
W.flip = Ar.flip;
W.flow = Fn.flow;
W.flowRight = Fn.flowRight;
W.fromPairs = mt.fromPairs;
W.functions = Ht.functions;
W.functionsIn = Ht.functionsIn;
W.groupBy = Qn.groupBy;
W.initial = mt.initial;
W.intersection = mt.intersection;
W.intersectionBy = mt.intersectionBy;
W.intersectionWith = mt.intersectionWith;
W.invert = Ht.invert;
W.invertBy = Ht.invertBy;
W.invokeMap = Qn.invokeMap;
W.iteratee = Fn.iteratee;
W.keyBy = Qn.keyBy;
W.keys = Ir;
W.keysIn = Ht.keysIn;
W.map = Qn.map;
W.mapKeys = Ht.mapKeys;
W.mapValues = Ht.mapValues;
W.matches = Fn.matches;
W.matchesProperty = Fn.matchesProperty;
W.memoize = Ar.memoize;
W.merge = Ht.merge;
W.mergeWith = Ht.mergeWith;
W.method = Fn.method;
W.methodOf = Fn.methodOf;
W.mixin = hy;
W.negate = tu;
W.nthArg = Fn.nthArg;
W.omit = Ht.omit;
W.omitBy = Ht.omitBy;
W.once = Ar.once;
W.orderBy = Qn.orderBy;
W.over = Fn.over;
W.overArgs = Ar.overArgs;
W.overEvery = Fn.overEvery;
W.overSome = Fn.overSome;
W.partial = Ar.partial;
W.partialRight = Ar.partialRight;
W.partition = Qn.partition;
W.pick = Ht.pick;
W.pickBy = Ht.pickBy;
W.property = Fn.property;
W.propertyOf = Fn.propertyOf;
W.pull = mt.pull;
W.pullAll = mt.pullAll;
W.pullAllBy = mt.pullAllBy;
W.pullAllWith = mt.pullAllWith;
W.pullAt = mt.pullAt;
W.range = Fn.range;
W.rangeRight = Fn.rangeRight;
W.rearg = Ar.rearg;
W.reject = Qn.reject;
W.remove = mt.remove;
W.rest = Ar.rest;
W.reverse = mt.reverse;
W.sampleSize = Qn.sampleSize;
W.set = Ht.set;
W.setWith = Ht.setWith;
W.shuffle = Qn.shuffle;
W.slice = mt.slice;
W.sortBy = Qn.sortBy;
W.sortedUniq = mt.sortedUniq;
W.sortedUniqBy = mt.sortedUniqBy;
W.split = Nn.split;
W.spread = Ar.spread;
W.tail = mt.tail;
W.take = mt.take;
W.takeRight = mt.takeRight;
W.takeRightWhile = mt.takeRightWhile;
W.takeWhile = mt.takeWhile;
W.tap = _s.tap;
W.throttle = Ar.throttle;
W.thru = ru;
W.toArray = Pt.toArray;
W.toPairs = Ht.toPairs;
W.toPairsIn = Ht.toPairsIn;
W.toPath = Fn.toPath;
W.toPlainObject = Pt.toPlainObject;
W.transform = Ht.transform;
W.unary = Ar.unary;
W.union = mt.union;
W.unionBy = mt.unionBy;
W.unionWith = mt.unionWith;
W.uniq = mt.uniq;
W.uniqBy = mt.uniqBy;
W.uniqWith = mt.uniqWith;
W.unset = Ht.unset;
W.unzip = mt.unzip;
W.unzipWith = mt.unzipWith;
W.update = Ht.update;
W.updateWith = Ht.updateWith;
W.values = Ht.values;
W.valuesIn = Ht.valuesIn;
W.without = mt.without;
W.words = Nn.words;
W.wrap = Ar.wrap;
W.xor = mt.xor;
W.xorBy = mt.xorBy;
W.xorWith = mt.xorWith;
W.zip = mt.zip;
W.zipObject = mt.zipObject;
W.zipObjectDeep = mt.zipObjectDeep;
W.zipWith = mt.zipWith;
W.entries = Ht.toPairs;
W.entriesIn = Ht.toPairsIn;
W.extend = Ht.assignIn;
W.extendWith = Ht.assignInWith;
hy(W, W);
W.add = Oi.add;
W.attempt = Fn.attempt;
W.camelCase = Nn.camelCase;
W.capitalize = Nn.capitalize;
W.ceil = Oi.ceil;
W.clamp = dy.clamp;
W.clone = Pt.clone;
W.cloneDeep = Pt.cloneDeep;
W.cloneDeepWith = Pt.cloneDeepWith;
W.cloneWith = Pt.cloneWith;
W.conformsTo = Pt.conformsTo;
W.deburr = Nn.deburr;
W.defaultTo = Fn.defaultTo;
W.divide = Oi.divide;
W.endsWith = Nn.endsWith;
W.eq = Pt.eq;
W.escape = Nn.escape;
W.escapeRegExp = Nn.escapeRegExp;
W.every = Qn.every;
W.find = Qn.find;
W.findIndex = mt.findIndex;
W.findKey = Ht.findKey;
W.findLast = Qn.findLast;
W.findLastIndex = mt.findLastIndex;
W.findLastKey = Ht.findLastKey;
W.floor = Oi.floor;
W.forEach = Qn.forEach;
W.forEachRight = Qn.forEachRight;
W.forIn = Ht.forIn;
W.forInRight = Ht.forInRight;
W.forOwn = Ht.forOwn;
W.forOwnRight = Ht.forOwnRight;
W.get = Ht.get;
W.gt = Pt.gt;
W.gte = Pt.gte;
W.has = Ht.has;
W.hasIn = Ht.hasIn;
W.head = mt.head;
W.identity = yi;
W.includes = Qn.includes;
W.indexOf = mt.indexOf;
W.inRange = dy.inRange;
W.invoke = Ht.invoke;
W.isArguments = Pt.isArguments;
W.isArray = Kt;
W.isArrayBuffer = Pt.isArrayBuffer;
W.isArrayLike = Pt.isArrayLike;
W.isArrayLikeObject = Pt.isArrayLikeObject;
W.isBoolean = Pt.isBoolean;
W.isBuffer = Pt.isBuffer;
W.isDate = Pt.isDate;
W.isElement = Pt.isElement;
W.isEmpty = Pt.isEmpty;
W.isEqual = Pt.isEqual;
W.isEqualWith = Pt.isEqualWith;
W.isError = Pt.isError;
W.isFinite = Pt.isFinite;
W.isFunction = Pt.isFunction;
W.isInteger = Pt.isInteger;
W.isLength = Pt.isLength;
W.isMap = Pt.isMap;
W.isMatch = Pt.isMatch;
W.isMatchWith = Pt.isMatchWith;
W.isNaN = Pt.isNaN;
W.isNative = Pt.isNative;
W.isNil = Pt.isNil;
W.isNull = Pt.isNull;
W.isNumber = Pt.isNumber;
W.isObject = hr;
W.isObjectLike = Pt.isObjectLike;
W.isPlainObject = Pt.isPlainObject;
W.isRegExp = Pt.isRegExp;
W.isSafeInteger = Pt.isSafeInteger;
W.isSet = Pt.isSet;
W.isString = Pt.isString;
W.isSymbol = Pt.isSymbol;
W.isTypedArray = Pt.isTypedArray;
W.isUndefined = Pt.isUndefined;
W.isWeakMap = Pt.isWeakMap;
W.isWeakSet = Pt.isWeakSet;
W.join = mt.join;
W.kebabCase = Nn.kebabCase;
W.last = _t;
W.lastIndexOf = mt.lastIndexOf;
W.lowerCase = Nn.lowerCase;
W.lowerFirst = Nn.lowerFirst;
W.lt = Pt.lt;
W.lte = Pt.lte;
W.max = Oi.max;
W.maxBy = Oi.maxBy;
W.mean = Oi.mean;
W.meanBy = Oi.meanBy;
W.min = Oi.min;
W.minBy = Oi.minBy;
W.stubArray = Fn.stubArray;
W.stubFalse = Fn.stubFalse;
W.stubObject = Fn.stubObject;
W.stubString = Fn.stubString;
W.stubTrue = Fn.stubTrue;
W.multiply = Oi.multiply;
W.nth = mt.nth;
W.noop = Fn.noop;
W.now = QV.now;
W.pad = Nn.pad;
W.padEnd = Nn.padEnd;
W.padStart = Nn.padStart;
W.parseInt = Nn.parseInt;
W.random = dy.random;
W.reduce = Qn.reduce;
W.reduceRight = Qn.reduceRight;
W.repeat = Nn.repeat;
W.replace = Nn.replace;
W.result = Ht.result;
W.round = Oi.round;
W.sample = Qn.sample;
W.size = Qn.size;
W.snakeCase = Nn.snakeCase;
W.some = Qn.some;
W.sortedIndex = mt.sortedIndex;
W.sortedIndexBy = mt.sortedIndexBy;
W.sortedIndexOf = mt.sortedIndexOf;
W.sortedLastIndex = mt.sortedLastIndex;
W.sortedLastIndexBy = mt.sortedLastIndexBy;
W.sortedLastIndexOf = mt.sortedLastIndexOf;
W.startCase = Nn.startCase;
W.startsWith = Nn.startsWith;
W.subtract = Oi.subtract;
W.sum = Oi.sum;
W.sumBy = Oi.sumBy;
W.template = Nn.template;
W.times = Fn.times;
W.toFinite = Pt.toFinite;
W.toInteger = nn;
W.toLength = Pt.toLength;
W.toLower = Nn.toLower;
W.toNumber = Pt.toNumber;
W.toSafeInteger = Pt.toSafeInteger;
W.toString = Pt.toString;
W.toUpper = Nn.toUpper;
W.trim = Nn.trim;
W.trimEnd = Nn.trimEnd;
W.trimStart = Nn.trimStart;
W.truncate = Nn.truncate;
W.unescape = Nn.unescape;
W.uniqueId = Fn.uniqueId;
W.upperCase = Nn.upperCase;
W.upperFirst = Nn.upperFirst;
W.each = Qn.forEach;
W.eachRight = Qn.forEachRight;
W.first = mt.head;
hy(W, function() {
  var t = {};
  return Ss(W, function(e, n) {
    I_.call(W.prototype, n) || (t[n] = e);
  }), t;
}(), { chain: !1 });
W.VERSION = aW;
(W.templateSettings = Nn.templateSettings).imports._ = W;
So(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function(t) {
  W[t].placeholder = W;
});
So(["drop", "take"], function(t, e) {
  $n.prototype[t] = function(n) {
    n = n === void 0 ? 1 : hW(nn(n), 0);
    var r = this.__filtered__ && !e ? new $n(this) : this.clone();
    return r.__filtered__ ? r.__takeCount__ = jx(n, r.__takeCount__) : r.__views__.push({
      size: jx(n, P_),
      type: t + (r.__dir__ < 0 ? "Right" : "")
    }), r;
  }, $n.prototype[t + "Right"] = function(n) {
    return this.reverse()[t](n).reverse();
  };
});
So(["filter", "map", "takeWhile"], function(t, e) {
  var n = e + 1, r = n == cW || n == uW;
  $n.prototype[t] = function(i) {
    var o = this.clone();
    return o.__iteratees__.push({
      iteratee: Yt(i),
      type: n
    }), o.__filtered__ = o.__filtered__ || r, o;
  };
});
So(["head", "last"], function(t, e) {
  var n = "take" + (e ? "Right" : "");
  $n.prototype[t] = function() {
    return this[n](1).value()[0];
  };
});
So(["initial", "tail"], function(t, e) {
  var n = "drop" + (e ? "" : "Right");
  $n.prototype[t] = function() {
    return this.__filtered__ ? new $n(this) : this[n](1);
  };
});
$n.prototype.compact = function() {
  return this.filter(yi);
};
$n.prototype.find = function(t) {
  return this.filter(t).head();
};
$n.prototype.findLast = function(t) {
  return this.reverse().find(t);
};
$n.prototype.invokeMap = hn(function(t, e) {
  return typeof t == "function" ? new $n(this) : this.map(function(n) {
    return Ff(n, t, e);
  });
});
$n.prototype.reject = function(t) {
  return this.filter(tu(Yt(t)));
};
$n.prototype.slice = function(t, e) {
  t = nn(t);
  var n = this;
  return n.__filtered__ && (t > 0 || e < 0) ? new $n(n) : (t < 0 ? n = n.takeRight(-t) : t && (n = n.drop(t)), e !== void 0 && (e = nn(e), n = e < 0 ? n.dropRight(-e) : n.take(e - t)), n);
};
$n.prototype.takeRightWhile = function(t) {
  return this.reverse().takeWhile(t).reverse();
};
$n.prototype.toArray = function() {
  return this.take(P_);
};
Ss($n.prototype, function(t, e) {
  var n = /^(?:filter|find|map|reject)|While$/.test(e), r = /^(?:head|last)$/.test(e), i = W[r ? "take" + (e == "last" ? "Right" : "") : e], o = r || /^find/.test(e);
  i && (W.prototype[e] = function() {
    var s = this.__wrapped__, a = r ? [1] : arguments, l = s instanceof $n, c = a[0], u = l || Kt(s), f = function(v) {
      var y = i.apply(W, Fa([v], a));
      return r && d ? y[0] : y;
    };
    u && n && typeof c == "function" && c.length != 1 && (l = u = !1);
    var d = this.__chain__, h = !!this.__actions__.length, p = o && !d, m = l && !h;
    if (!o && u) {
      s = m ? s : new $n(this);
      var g = t.apply(s, a);
      return g.__actions__.push({ func: ru, args: [f], thisArg: void 0 }), new xo(g, d);
    }
    return p && m ? t.apply(this, a) : (g = this.thru(f), p ? r ? g.value()[0] : g.value() : g);
  });
});
So(["pop", "push", "shift", "sort", "splice", "unshift"], function(t) {
  var e = fW[t], n = /^(?:push|sort|unshift)$/.test(t) ? "tap" : "thru", r = /^(?:pop|shift)$/.test(t);
  W.prototype[t] = function() {
    var i = arguments;
    if (r && !this.__chain__) {
      var o = this.value();
      return e.apply(Kt(o) ? o : [], i);
    }
    return this[n](function(s) {
      return e.apply(Kt(s) ? s : [], i);
    });
  };
});
Ss($n.prototype, function(t, e) {
  var n = W[e];
  if (n) {
    var r = n.name + "";
    I_.call(dc, r) || (dc[r] = []), dc[r].push({ name: e, func: n });
  }
});
dc[qp(void 0, lW).name] = [{
  name: "wrapper",
  func: void 0
}];
$n.prototype.clone = XV;
$n.prototype.reverse = ZV;
$n.prototype.value = sW;
W.prototype.at = _s.at;
W.prototype.chain = _s.wrapperChain;
W.prototype.commit = _s.commit;
W.prototype.next = _s.next;
W.prototype.plant = _s.plant;
W.prototype.reverse = _s.reverse;
W.prototype.toJSON = W.prototype.valueOf = W.prototype.value = _s.value;
W.prototype.first = W.prototype.head;
wx && (W.prototype[wx] = _s.toIterator);
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
const pW = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  add: JS,
  after: YS,
  ary: Z0,
  assign: hC,
  assignIn: Eh,
  assignInWith: Oc,
  assignWith: pC,
  at: gC,
  attempt: o1,
  before: s1,
  bind: l1,
  bindAll: yC,
  bindKey: bC,
  camelCase: qC,
  capitalize: u1,
  castArray: zC,
  ceil: FC,
  chain: g1,
  chunk: VC,
  clamp: WC,
  clone: t3,
  cloneDeep: n3,
  cloneDeepWith: j1,
  cloneWith: r3,
  commit: sv,
  compact: i3,
  concat: o3,
  cond: d3,
  conforms: p3,
  conformsTo: m3,
  constant: Dp,
  countBy: y3,
  create: b3,
  curry: Xp,
  curryRight: Zp,
  debounce: Xc,
  deburr: h1,
  default: W,
  defaultTo: x3,
  defaults: j3,
  defaultsDeep: k3,
  defer: C3,
  delay: _3,
  difference: O3,
  differenceBy: A3,
  differenceWith: E3,
  divide: M3,
  drop: T3,
  dropRight: R3,
  dropRightWhile: P3,
  dropWhile: I3,
  each: Th,
  eachRight: sf,
  endsWith: L3,
  entries: Rh,
  entriesIn: Ph,
  eq: Co,
  escape: P1,
  escapeRegExp: F3,
  every: W3,
  extend: Eh,
  extendWith: Oc,
  fill: H3,
  filter: J3,
  find: K3,
  findIndex: N1,
  findKey: Q3,
  findLast: X3,
  findLastIndex: D1,
  findLastKey: Z3,
  first: Xi,
  flatMap: t8,
  flatMapDeep: n8,
  flatMapDepth: r8,
  flatten: i1,
  flattenDeep: i8,
  flattenDepth: o8,
  flip: s8,
  floor: a8,
  flow: c8,
  flowRight: u8,
  forEach: Th,
  forEachRight: sf,
  forIn: f8,
  forInRight: d8,
  forOwn: h8,
  forOwnRight: p8,
  fromPairs: m8,
  functions: g8,
  functionsIn: v8,
  get: Wp,
  groupBy: eu,
  gt: y8,
  gte: b8,
  has: x8,
  hasIn: Yp,
  head: Xi,
  identity: yi,
  inRange: w8,
  includes: j8,
  indexOf: $8,
  initial: Zt,
  intersection: k8,
  intersectionBy: S8,
  intersectionWith: C8,
  invert: O8,
  invertBy: E8,
  invoke: T8,
  invokeMap: R8,
  isArguments: Oa,
  isArray: Kt,
  isArrayBuffer: P8,
  isArrayLike: Ci,
  isArrayLikeObject: _r,
  isBoolean: I8,
  isBuffer: Hs,
  isDate: N8,
  isElement: D8,
  isEmpty: dn,
  isEqual: en,
  isEqualWith: L8,
  isError: Up,
  isFinite: B8,
  isFunction: js,
  isInteger: F1,
  isLength: Df,
  isMap: x1,
  isMatch: q8,
  isMatchWith: z8,
  isNaN: F8,
  isNative: V8,
  isNil: W8,
  isNull: H8,
  isNumber: V1,
  isObject: hr,
  isObjectLike: $r,
  isPlainObject: Kc,
  isRegExp: im,
  isSafeInteger: U8,
  isSet: w1,
  isString: zf,
  isSymbol: Di,
  isTypedArray: Nl,
  isUndefined: J8,
  isWeakMap: G8,
  isWeakSet: K8,
  iteratee: Y8,
  join: Q8,
  kebabCase: X8,
  keyBy: Z8,
  keys: Ir,
  keysIn: _i,
  last: _t,
  lastIndexOf: e6,
  lodash: W,
  lowerCase: t6,
  lowerFirst: n6,
  lt: r6,
  lte: i6,
  map: Zc,
  mapKeys: o6,
  mapValues: H1,
  matches: s6,
  matchesProperty: a6,
  max: l6,
  maxBy: c6,
  mean: f6,
  meanBy: d6,
  memoize: Gc,
  merge: h6,
  mergeWith: M1,
  method: p6,
  methodOf: m6,
  min: g6,
  minBy: rc,
  mixin: J1,
  multiply: v6,
  negate: tu,
  next: cv,
  noop: Kn,
  now: Bu,
  nth: b6,
  nthArg: x6,
  omit: w6,
  omitBy: $6,
  once: k6,
  orderBy: _6,
  over: O6,
  overArgs: A6,
  overEvery: E6,
  overSome: M6,
  pad: L6,
  padEnd: B6,
  padStart: q6,
  parseInt: z6,
  partial: Z1,
  partialRight: F6,
  partition: ty,
  pick: V6,
  pickBy: Y1,
  plant: hv,
  property: O1,
  propertyOf: W6,
  pull: H6,
  pullAll: ry,
  pullAllBy: U6,
  pullAllWith: J6,
  pullAt: K6,
  random: Y6,
  range: oy,
  rangeRight: X6,
  rearg: Z6,
  reduce: t5,
  reduceRight: n5,
  reject: r5,
  remove: i5,
  repeat: o5,
  replace: s5,
  rest: a5,
  result: l5,
  reverse: Nh,
  round: c5,
  sample: f5,
  sampleSize: d5,
  set: h5,
  setWith: p5,
  shuffle: m5,
  size: g5,
  slice: v5,
  snakeCase: y5,
  some: b5,
  sortBy: sy,
  sortedIndex: x5,
  sortedIndexBy: w5,
  sortedIndexOf: j5,
  sortedLastIndex: $5,
  sortedLastIndexBy: k5,
  sortedLastIndexOf: S5,
  sortedUniq: _5,
  sortedUniqBy: O5,
  split: A5,
  spread: E5,
  startCase: M5,
  startsWith: T5,
  stubArray: Gp,
  stubFalse: zp,
  stubObject: R5,
  stubString: P5,
  stubTrue: I5,
  subtract: N5,
  sum: D5,
  sumBy: L5,
  tail: B5,
  take: q5,
  takeRight: z5,
  takeRightWhile: F5,
  takeWhile: V5,
  tap: W5,
  template: J5,
  templateSettings: Dh,
  throttle: ly,
  thru: ru,
  times: cy,
  toArray: G1,
  toFinite: ds,
  toInteger: nn,
  toIterator: pv,
  toJSON: ll,
  toLength: I1,
  toLower: K5,
  toNumber: Qi,
  toPairs: Rh,
  toPairsIn: Ph,
  toPath: Y5,
  toPlainObject: E1,
  toSafeInteger: Q5,
  toString: In,
  toUpper: X5,
  transform: Z5,
  trim: n_,
  trimEnd: r_,
  trimStart: i_,
  truncate: o_,
  unary: s_,
  unescape: l_,
  union: c_,
  unionBy: u_,
  unionWith: f_,
  uniq: d_,
  uniqBy: h_,
  uniqWith: p_,
  uniqueId: Ea,
  unset: m_,
  unzip: lm,
  unzipWith: uy,
  update: v_,
  updateWith: y_,
  upperCase: b_,
  upperFirst: Jp,
  value: ll,
  valueOf: ll,
  values: Bl,
  valuesIn: x_,
  without: w_,
  words: p1,
  wrap: j_,
  wrapperAt: $_,
  wrapperChain: k_,
  wrapperCommit: sv,
  wrapperLodash: W,
  wrapperNext: cv,
  wrapperPlant: hv,
  wrapperReverse: S_,
  wrapperToIterator: pv,
  wrapperValue: ll,
  xor: C_,
  xorBy: __,
  xorWith: O_,
  zip: A_,
  zipObject: M_,
  zipObjectDeep: T_,
  zipWith: R_
}, Symbol.toStringTag, { value: "Module" }));
var mW = {
  prefix: "far",
  iconName: "lightbulb",
  icon: [384, 512, [128161], "f0eb", "M297.2 248.9C311.6 228.3 320 203.2 320 176c0-70.7-57.3-128-128-128S64 105.3 64 176c0 27.2 8.4 52.3 22.8 72.9c3.7 5.3 8.1 11.3 12.8 17.7l0 0c12.9 17.7 28.3 38.9 39.8 59.8c10.4 19 15.7 38.8 18.3 57.5H109c-2.2-12-5.9-23.7-11.8-34.5c-9.9-18-22.2-34.9-34.5-51.8l0 0 0 0c-5.2-7.1-10.4-14.2-15.4-21.4C27.6 247.9 16 213.3 16 176C16 78.8 94.8 0 192 0s176 78.8 176 176c0 37.3-11.6 71.9-31.4 100.3c-5 7.2-10.2 14.3-15.4 21.4l0 0 0 0c-12.3 16.8-24.6 33.7-34.5 51.8c-5.9 10.8-9.6 22.5-11.8 34.5H226.4c2.6-18.7 7.9-38.6 18.3-57.5c11.5-20.9 26.9-42.1 39.8-59.8l0 0 0 0 0 0c4.7-6.4 9-12.4 12.7-17.7zM192 128c-26.5 0-48 21.5-48 48c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-44.2 35.8-80 80-80c8.8 0 16 7.2 16 16s-7.2 16-16 16zm0 384c-44.2 0-80-35.8-80-80V416H272v16c0 44.2-35.8 80-80 80z"]
}, gW = {
  prefix: "far",
  iconName: "square-check",
  icon: [448, 512, [9745, 9989, 61510, "check-square"], "f14a", "M64 80c-8.8 0-16 7.2-16 16V416c0 8.8 7.2 16 16 16H384c8.8 0 16-7.2 16-16V96c0-8.8-7.2-16-16-16H64zM0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]
}, af = gW, lf = {
  prefix: "far",
  iconName: "square",
  icon: [448, 512, [9632, 9723, 9724, 61590], "f0c8", "M384 80c8.8 0 16 7.2 16 16V416c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V96c0-8.8 7.2-16 16-16H384zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z"]
}, vW = {
  prefix: "far",
  iconName: "clock",
  icon: [512, 512, [128339, "clock-four"], "f017", "M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]
}, mv = {
  prefix: "fas",
  iconName: "trash-can",
  icon: [448, 512, [61460, "trash-alt"], "f2ed", "M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"]
}, ha = {
  prefix: "fas",
  iconName: "caret-right",
  icon: [256, 512, [], "f0da", "M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"]
}, N_ = {
  prefix: "fas",
  iconName: "paste",
  icon: [512, 512, ["file-clipboard"], "f0ea", "M160 0c-23.7 0-44.4 12.9-55.4 32H48C21.5 32 0 53.5 0 80V400c0 26.5 21.5 48 48 48H192V176c0-44.2 35.8-80 80-80h48V80c0-26.5-21.5-48-48-48H215.4C204.4 12.9 183.7 0 160 0zM272 128c-26.5 0-48 21.5-48 48V448v16c0 26.5 21.5 48 48 48H464c26.5 0 48-21.5 48-48V243.9c0-12.7-5.1-24.9-14.1-33.9l-67.9-67.9c-9-9-21.2-14.1-33.9-14.1H320 272zM160 40a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]
}, yW = {
  prefix: "fas",
  iconName: "circle-notch",
  icon: [512, 512, [], "f1ce", "M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z"]
}, bW = {
  prefix: "fas",
  iconName: "scissors",
  icon: [512, 512, [9984, 9986, 9988, "cut"], "f0c4", "M256 192l-39.5-39.5c4.9-12.6 7.5-26.2 7.5-40.5C224 50.1 173.9 0 112 0S0 50.1 0 112s50.1 112 112 112c14.3 0 27.9-2.7 40.5-7.5L192 256l-39.5 39.5c-12.6-4.9-26.2-7.5-40.5-7.5C50.1 288 0 338.1 0 400s50.1 112 112 112s112-50.1 112-112c0-14.3-2.7-27.9-7.5-40.5L499.2 76.8c7.1-7.1 7.1-18.5 0-25.6c-28.3-28.3-74.1-28.3-102.4 0L256 192zm22.6 150.6L396.8 460.8c28.3 28.3 74.1 28.3 102.4 0c7.1-7.1 7.1-18.5 0-25.6L342.6 278.6l-64 64zM64 112a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm48 240a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]
}, pc = bW, xW = {
  prefix: "fas",
  iconName: "square-caret-down",
  icon: [448, 512, ["caret-square-down"], "f150", "M384 480c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0zM224 352c-6.7 0-13-2.8-17.6-7.7l-104-112c-6.5-7-8.2-17.2-4.4-25.9s12.5-14.4 22-14.4l208 0c9.5 0 18.2 5.7 22 14.4s2.1 18.9-4.4 25.9l-104 112c-4.5 4.9-10.9 7.7-17.6 7.7z"]
}, wW = xW, jW = {
  prefix: "fas",
  iconName: "caret-left",
  icon: [256, 512, [], "f0d9", "M9.4 278.6c-12.5-12.5-12.5-32.8 0-45.3l128-128c9.2-9.2 22.9-11.9 34.9-6.9s19.8 16.6 19.8 29.6l0 256c0 12.9-7.8 24.6-19.8 29.6s-25.7 2.2-34.9-6.9l-128-128z"]
}, $W = {
  prefix: "fas",
  iconName: "pen-to-square",
  icon: [512, 512, ["edit"], "f044", "M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"]
}, $x = $W, kW = {
  prefix: "fas",
  iconName: "chevron-up",
  icon: [512, 512, [], "f077", "M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]
}, D_ = {
  prefix: "fas",
  iconName: "angle-right",
  icon: [320, 512, [8250], "f105", "M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]
}, SW = {
  prefix: "fas",
  iconName: "square-caret-up",
  icon: [448, 512, ["caret-square-up"], "f151", "M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM224 160c6.7 0 13 2.8 17.6 7.7l104 112c6.5 7 8.2 17.2 4.4 25.9s-12.5 14.4-22 14.4H120c-9.5 0-18.2-5.7-22-14.4s-2.1-18.9 4.4-25.9l104-112c4.5-4.9 10.9-7.7 17.6-7.7z"]
}, CW = SW, kx = {
  prefix: "fas",
  iconName: "caret-up",
  icon: [320, 512, [], "f0d8", "M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H288c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"]
}, cm = {
  prefix: "fas",
  iconName: "filter",
  icon: [512, 512, [], "f0b0", "M3.9 54.9C10.5 40.9 24.5 32 40 32H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9V448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6V320.9L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]
}, Ma = {
  prefix: "fas",
  iconName: "code",
  icon: [640, 512, [], "f121", "M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"]
}, um = {
  prefix: "fas",
  iconName: "wrench",
  icon: [512, 512, [128295], "f0ad", "M352 320c88.4 0 160-71.6 160-160c0-15.3-2.2-30.1-6.2-44.2c-3.1-10.8-16.4-13.2-24.3-5.3l-76.8 76.8c-3 3-7.1 4.7-11.3 4.7H336c-8.8 0-16-7.2-16-16V118.6c0-4.2 1.7-8.3 4.7-11.3l76.8-76.8c7.9-7.9 5.4-21.2-5.3-24.3C382.1 2.2 367.3 0 352 0C263.6 0 192 71.6 192 160c0 19.1 3.4 37.5 9.5 54.5L19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L297.5 310.5c17 6.2 35.4 9.5 54.5 9.5zM80 408a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]
}, _W = {
  prefix: "fas",
  iconName: "eye",
  icon: [576, 512, [128065], "f06e", "M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]
}, mc = {
  prefix: "fas",
  iconName: "pen",
  icon: [512, 512, [128394], "f304", "M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"]
}, OW = {
  prefix: "fas",
  iconName: "arrow-rotate-right",
  icon: [512, 512, [8635, "arrow-right-rotate", "arrow-rotate-forward", "redo"], "f01e", "M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H464c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"]
}, py = OW, AW = {
  prefix: "fas",
  iconName: "arrow-rotate-left",
  icon: [512, 512, [8634, "arrow-left-rotate", "arrow-rotate-back", "arrow-rotate-backward", "undo"], "f0e2", "M125.7 160H176c17.7 0 32 14.3 32 32s-14.3 32-32 32H48c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32s32 14.3 32 32v51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"]
}, my = AW, EW = {
  prefix: "fas",
  iconName: "crop-simple",
  icon: [512, 512, ["crop-alt"], "f565", "M128 32c0-17.7-14.3-32-32-32S64 14.3 64 32V64H32C14.3 64 0 78.3 0 96s14.3 32 32 32H64V384c0 35.3 28.7 64 64 64H352V384H128V32zM384 480c0 17.7 14.3 32 32 32s32-14.3 32-32V448h32c17.7 0 32-14.3 32-32s-14.3-32-32-32H448l0-256c0-35.3-28.7-64-64-64L160 64v64l224 0 0 352z"]
}, MW = EW, TW = {
  prefix: "fas",
  iconName: "gear",
  icon: [512, 512, [9881, "cog"], "f013", "M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]
}, RW = TW, uo = {
  prefix: "fas",
  iconName: "caret-down",
  icon: [320, 512, [], "f0d7", "M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"]
}, PW = {
  prefix: "fas",
  iconName: "ellipsis-vertical",
  icon: [128, 512, ["ellipsis-v"], "f142", "M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"]
}, L_ = PW, yd = {
  prefix: "fas",
  iconName: "arrow-right-arrow-left",
  icon: [448, 512, [8644, "exchange"], "f0ec", "M438.6 150.6c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.7 96 32 96C14.3 96 0 110.3 0 128s14.3 32 32 32l306.7 0-41.4 41.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l96-96zm-333.3 352c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 416 416 416c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0 41.4-41.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96z"]
}, IW = {
  prefix: "fas",
  iconName: "arrow-down-short-wide",
  icon: [576, 512, ["sort-amount-desc", "sort-amount-down-alt"], "f884", "M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]
}, fm = IW, NW = {
  prefix: "fas",
  iconName: "angle-down",
  icon: [448, 512, [8964], "f107", "M201.4 342.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 274.7 86.6 137.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]
}, DW = {
  prefix: "fas",
  iconName: "arrow-down",
  icon: [384, 512, [8595], "f063", "M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]
}, LW = {
  prefix: "fas",
  iconName: "magnifying-glass",
  icon: [512, 512, [128269, "search"], "f002", "M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]
}, gy = LW, BW = {
  prefix: "fas",
  iconName: "chevron-down",
  icon: [512, 512, [], "f078", "M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]
}, ba = {
  prefix: "fas",
  iconName: "copy",
  icon: [448, 512, [], "f0c5", "M208 0H332.1c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48zM48 128h80v64H64V448H256V416h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48z"]
}, ic = {
  prefix: "fas",
  iconName: "plus",
  icon: [448, 512, [10133, 61543, "add"], "2b", "M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]
}, B_ = {
  prefix: "fas",
  iconName: "xmark",
  icon: [384, 512, [128473, 10005, 10006, 10060, 215, "close", "multiply", "remove", "times"], "f00d", "M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]
}, Sx = B_, Ac = B_, qW = {
  prefix: "fas",
  iconName: "rotate",
  icon: [512, 512, [128260, "sync-alt"], "f2f1", "M142.9 142.9c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H463.5c0 0 0 0 0 0H472c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5c7.7-21.8 20.2-42.3 37.8-59.8zM16 312v7.6 .7V440c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2l41.6-41.6c87.6 86.5 228.7 86.2 315.8-1c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.2 62.2-162.7 62.5-225.3 1L185 329c6.9-6.9 8.9-17.2 5.2-26.2s-12.5-14.8-22.2-14.8H48.4h-.7H40c-13.3 0-24 10.7-24 24z"]
}, q_ = {
  prefix: "fas",
  iconName: "clone",
  icon: [512, 512, [], "f24d", "M288 448H64V224h64V160H64c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H288v64zm-64-96H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64z"]
}, cf = {
  prefix: "fas",
  iconName: "check",
  icon: [448, 512, [10003, 10004], "f00c", "M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]
}, zW = {
  prefix: "fas",
  iconName: "triangle-exclamation",
  icon: [512, 512, [9888, "exclamation-triangle", "warning"], "f071", "M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]
}, ql = zW, z_ = { exports: {} };
/*
 * @version    1.4.0
 * @date       2015-10-26
 * @stability  3 - Stable
 * @author     Lauri Rooden (https://github.com/litejs/natural-compare-lite)
 * @license    MIT License
 */
var Cx = function(t, e) {
  var n, r, i = 1, o = 0, s = 0, a = String.alphabet;
  function l(c, u, f) {
    if (f) {
      for (n = u; f = l(c, n), f < 76 && f > 65; )
        ++n;
      return +c.slice(u - 1, n);
    }
    return f = a && a.indexOf(c.charAt(u)), f > -1 ? f + 76 : (f = c.charCodeAt(u) || 0, f < 45 || f > 127 ? f : f < 46 ? 65 : f < 48 ? f - 1 : f < 58 ? f + 18 : f < 65 ? f - 11 : f < 91 ? f + 11 : f < 97 ? f - 37 : f < 123 ? f + 5 : f - 63);
  }
  if ((t += "") != (e += "")) {
    for (; i; )
      if (r = l(t, o++), i = l(e, s++), r < 76 && i < 76 && r > 66 && i > 66 && (r = l(t, o, o), i = l(e, s, o = n), s = n), r != i)
        return r < i ? -1 : 1;
  }
  return 0;
};
try {
  z_.exports = Cx;
} catch {
  String.naturalCompare = Cx;
}
var FW = z_.exports;
const VW = /* @__PURE__ */ OS(FW);
var _x = Number.isNaN || function(e) {
  return typeof e == "number" && e !== e;
};
function WW(t, e) {
  return !!(t === e || _x(t) && _x(e));
}
function HW(t, e) {
  if (t.length !== e.length)
    return !1;
  for (var n = 0; n < t.length; n++)
    if (!WW(t[n], e[n]))
      return !1;
  return !0;
}
function Wf(t, e) {
  e === void 0 && (e = HW);
  var n = null;
  function r() {
    for (var i = [], o = 0; o < arguments.length; o++)
      i[o] = arguments[o];
    if (n && n.lastThis === this && e(i, n.lastArgs))
      return n.lastResult;
    var s = t.apply(this, i);
    return n = {
      lastResult: s,
      lastArgs: i,
      lastThis: this
    }, s;
  }
  return r.clear = function() {
    n = null;
  }, r;
}
class Pn {
  /**
  Get the line description around the given position.
  */
  lineAt(e) {
    if (e < 0 || e > this.length)
      throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);
    return this.lineInner(e, !1, 1, 0);
  }
  /**
  Get the description for the given (1-based) line number.
  */
  line(e) {
    if (e < 1 || e > this.lines)
      throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);
    return this.lineInner(e, !0, 1, 0);
  }
  /**
  Replace a range of the text with the given content.
  */
  replace(e, n, r) {
    [e, n] = Ec(this, e, n);
    let i = [];
    return this.decompose(
      0,
      e,
      i,
      2
      /* Open.To */
    ), r.length && r.decompose(
      0,
      r.length,
      i,
      3
      /* Open.To */
    ), this.decompose(
      n,
      this.length,
      i,
      1
      /* Open.From */
    ), rs.from(i, this.length - (n - e) + r.length);
  }
  /**
  Append another document to this one.
  */
  append(e) {
    return this.replace(this.length, this.length, e);
  }
  /**
  Retrieve the text between the given points.
  */
  slice(e, n = this.length) {
    [e, n] = Ec(this, e, n);
    let r = [];
    return this.decompose(e, n, r, 0), rs.from(r, n - e);
  }
  /**
  Test whether this text is equal to another instance.
  */
  eq(e) {
    if (e == this)
      return !0;
    if (e.length != this.length || e.lines != this.lines)
      return !1;
    let n = this.scanIdentical(e, 1), r = this.length - this.scanIdentical(e, -1), i = new qu(this), o = new qu(e);
    for (let s = n, a = n; ; ) {
      if (i.next(s), o.next(s), s = 0, i.lineBreak != o.lineBreak || i.done != o.done || i.value != o.value)
        return !1;
      if (a += i.value.length, i.done || a >= r)
        return !0;
    }
  }
  /**
  Iterate over the text. When `dir` is `-1`, iteration happens
  from end to start. This will return lines and the breaks between
  them as separate strings.
  */
  iter(e = 1) {
    return new qu(this, e);
  }
  /**
  Iterate over a range of the text. When `from` > `to`, the
  iterator will run in reverse.
  */
  iterRange(e, n = this.length) {
    return new F_(this, e, n);
  }
  /**
  Return a cursor that iterates over the given range of lines,
  _without_ returning the line breaks between, and yielding empty
  strings for empty lines.
  
  When `from` and `to` are given, they should be 1-based line numbers.
  */
  iterLines(e, n) {
    let r;
    if (e == null)
      r = this.iter();
    else {
      n == null && (n = this.lines + 1);
      let i = this.line(e).from;
      r = this.iterRange(i, Math.max(i, n == this.lines + 1 ? this.length : n <= 1 ? 0 : this.line(n - 1).to));
    }
    return new V_(r);
  }
  /**
  Return the document as a string, using newline characters to
  separate lines.
  */
  toString() {
    return this.sliceString(0);
  }
  /**
  Convert the document to an array of lines (which can be
  deserialized again via [`Text.of`](https://codemirror.net/6/docs/ref/#state.Text^of)).
  */
  toJSON() {
    let e = [];
    return this.flatten(e), e;
  }
  /**
  @internal
  */
  constructor() {
  }
  /**
  Create a `Text` instance for the given array of lines.
  */
  static of(e) {
    if (e.length == 0)
      throw new RangeError("A document must have at least one line");
    return e.length == 1 && !e[0] ? Pn.empty : e.length <= 32 ? new Mr(e) : rs.from(Mr.split(e, []));
  }
}
class Mr extends Pn {
  constructor(e, n = UW(e)) {
    super(), this.text = e, this.length = n;
  }
  get lines() {
    return this.text.length;
  }
  get children() {
    return null;
  }
  lineInner(e, n, r, i) {
    for (let o = 0; ; o++) {
      let s = this.text[o], a = i + s.length;
      if ((n ? r : a) >= e)
        return new JW(i, a, r, s);
      i = a + 1, r++;
    }
  }
  decompose(e, n, r, i) {
    let o = e <= 0 && n >= this.length ? this : new Mr(Ox(this.text, e, n), Math.min(n, this.length) - Math.max(0, e));
    if (i & 1) {
      let s = r.pop(), a = ah(o.text, s.text.slice(), 0, o.length);
      if (a.length <= 32)
        r.push(new Mr(a, s.length + o.length));
      else {
        let l = a.length >> 1;
        r.push(new Mr(a.slice(0, l)), new Mr(a.slice(l)));
      }
    } else
      r.push(o);
  }
  replace(e, n, r) {
    if (!(r instanceof Mr))
      return super.replace(e, n, r);
    [e, n] = Ec(this, e, n);
    let i = ah(this.text, ah(r.text, Ox(this.text, 0, e)), n), o = this.length + r.length - (n - e);
    return i.length <= 32 ? new Mr(i, o) : rs.from(Mr.split(i, []), o);
  }
  sliceString(e, n = this.length, r = `
`) {
    [e, n] = Ec(this, e, n);
    let i = "";
    for (let o = 0, s = 0; o <= n && s < this.text.length; s++) {
      let a = this.text[s], l = o + a.length;
      o > e && s && (i += r), e < l && n > o && (i += a.slice(Math.max(0, e - o), n - o)), o = l + 1;
    }
    return i;
  }
  flatten(e) {
    for (let n of this.text)
      e.push(n);
  }
  scanIdentical() {
    return 0;
  }
  static split(e, n) {
    let r = [], i = -1;
    for (let o of e)
      r.push(o), i += o.length + 1, r.length == 32 && (n.push(new Mr(r, i)), r = [], i = -1);
    return i > -1 && n.push(new Mr(r, i)), n;
  }
}
class rs extends Pn {
  constructor(e, n) {
    super(), this.children = e, this.length = n, this.lines = 0;
    for (let r of e)
      this.lines += r.lines;
  }
  lineInner(e, n, r, i) {
    for (let o = 0; ; o++) {
      let s = this.children[o], a = i + s.length, l = r + s.lines - 1;
      if ((n ? l : a) >= e)
        return s.lineInner(e, n, r, i);
      i = a + 1, r = l + 1;
    }
  }
  decompose(e, n, r, i) {
    for (let o = 0, s = 0; s <= n && o < this.children.length; o++) {
      let a = this.children[o], l = s + a.length;
      if (e <= l && n >= s) {
        let c = i & ((s <= e ? 1 : 0) | (l >= n ? 2 : 0));
        s >= e && l <= n && !c ? r.push(a) : a.decompose(e - s, n - s, r, c);
      }
      s = l + 1;
    }
  }
  replace(e, n, r) {
    if ([e, n] = Ec(this, e, n), r.lines < this.lines)
      for (let i = 0, o = 0; i < this.children.length; i++) {
        let s = this.children[i], a = o + s.length;
        if (e >= o && n <= a) {
          let l = s.replace(e - o, n - o, r), c = this.lines - s.lines + l.lines;
          if (l.lines < c >> 4 && l.lines > c >> 6) {
            let u = this.children.slice();
            return u[i] = l, new rs(u, this.length - (n - e) + r.length);
          }
          return super.replace(o, a, l);
        }
        o = a + 1;
      }
    return super.replace(e, n, r);
  }
  sliceString(e, n = this.length, r = `
`) {
    [e, n] = Ec(this, e, n);
    let i = "";
    for (let o = 0, s = 0; o < this.children.length && s <= n; o++) {
      let a = this.children[o], l = s + a.length;
      s > e && o && (i += r), e < l && n > s && (i += a.sliceString(e - s, n - s, r)), s = l + 1;
    }
    return i;
  }
  flatten(e) {
    for (let n of this.children)
      n.flatten(e);
  }
  scanIdentical(e, n) {
    if (!(e instanceof rs))
      return 0;
    let r = 0, [i, o, s, a] = n > 0 ? [0, 0, this.children.length, e.children.length] : [this.children.length - 1, e.children.length - 1, -1, -1];
    for (; ; i += n, o += n) {
      if (i == s || o == a)
        return r;
      let l = this.children[i], c = e.children[o];
      if (l != c)
        return r + l.scanIdentical(c, n);
      r += l.length + 1;
    }
  }
  static from(e, n = e.reduce((r, i) => r + i.length + 1, -1)) {
    let r = 0;
    for (let h of e)
      r += h.lines;
    if (r < 32) {
      let h = [];
      for (let p of e)
        p.flatten(h);
      return new Mr(h, n);
    }
    let i = Math.max(
      32,
      r >> 5
      /* Tree.BranchShift */
    ), o = i << 1, s = i >> 1, a = [], l = 0, c = -1, u = [];
    function f(h) {
      let p;
      if (h.lines > o && h instanceof rs)
        for (let m of h.children)
          f(m);
      else
        h.lines > s && (l > s || !l) ? (d(), a.push(h)) : h instanceof Mr && l && (p = u[u.length - 1]) instanceof Mr && h.lines + p.lines <= 32 ? (l += h.lines, c += h.length + 1, u[u.length - 1] = new Mr(p.text.concat(h.text), p.length + 1 + h.length)) : (l + h.lines > i && d(), l += h.lines, c += h.length + 1, u.push(h));
    }
    function d() {
      l != 0 && (a.push(u.length == 1 ? u[0] : rs.from(u, c)), c = -1, l = u.length = 0);
    }
    for (let h of e)
      f(h);
    return d(), a.length == 1 ? a[0] : new rs(a, n);
  }
}
Pn.empty = /* @__PURE__ */ new Mr([""], 0);
function UW(t) {
  let e = -1;
  for (let n of t)
    e += n.length + 1;
  return e;
}
function ah(t, e, n = 0, r = 1e9) {
  for (let i = 0, o = 0, s = !0; o < t.length && i <= r; o++) {
    let a = t[o], l = i + a.length;
    l >= n && (l > r && (a = a.slice(0, r - i)), i < n && (a = a.slice(n - i)), s ? (e[e.length - 1] += a, s = !1) : e.push(a)), i = l + 1;
  }
  return e;
}
function Ox(t, e, n) {
  return ah(t, [""], e, n);
}
class qu {
  constructor(e, n = 1) {
    this.dir = n, this.done = !1, this.lineBreak = !1, this.value = "", this.nodes = [e], this.offsets = [n > 0 ? 1 : (e instanceof Mr ? e.text.length : e.children.length) << 1];
  }
  nextInner(e, n) {
    for (this.done = this.lineBreak = !1; ; ) {
      let r = this.nodes.length - 1, i = this.nodes[r], o = this.offsets[r], s = o >> 1, a = i instanceof Mr ? i.text.length : i.children.length;
      if (s == (n > 0 ? a : 0)) {
        if (r == 0)
          return this.done = !0, this.value = "", this;
        n > 0 && this.offsets[r - 1]++, this.nodes.pop(), this.offsets.pop();
      } else if ((o & 1) == (n > 0 ? 0 : 1)) {
        if (this.offsets[r] += n, e == 0)
          return this.lineBreak = !0, this.value = `
`, this;
        e--;
      } else if (i instanceof Mr) {
        let l = i.text[s + (n < 0 ? -1 : 0)];
        if (this.offsets[r] += n, l.length > Math.max(0, e))
          return this.value = e == 0 ? l : n > 0 ? l.slice(e) : l.slice(0, l.length - e), this;
        e -= l.length;
      } else {
        let l = i.children[s + (n < 0 ? -1 : 0)];
        e > l.length ? (e -= l.length, this.offsets[r] += n) : (n < 0 && this.offsets[r]--, this.nodes.push(l), this.offsets.push(n > 0 ? 1 : (l instanceof Mr ? l.text.length : l.children.length) << 1));
      }
    }
  }
  next(e = 0) {
    return e < 0 && (this.nextInner(-e, -this.dir), e = this.value.length), this.nextInner(e, this.dir);
  }
}
class F_ {
  constructor(e, n, r) {
    this.value = "", this.done = !1, this.cursor = new qu(e, n > r ? -1 : 1), this.pos = n > r ? e.length : 0, this.from = Math.min(n, r), this.to = Math.max(n, r);
  }
  nextInner(e, n) {
    if (n < 0 ? this.pos <= this.from : this.pos >= this.to)
      return this.value = "", this.done = !0, this;
    e += Math.max(0, n < 0 ? this.pos - this.to : this.from - this.pos);
    let r = n < 0 ? this.pos - this.from : this.to - this.pos;
    e > r && (e = r), r -= e;
    let { value: i } = this.cursor.next(e);
    return this.pos += (i.length + e) * n, this.value = i.length <= r ? i : n < 0 ? i.slice(i.length - r) : i.slice(0, r), this.done = !this.value, this;
  }
  next(e = 0) {
    return e < 0 ? e = Math.max(e, this.from - this.pos) : e > 0 && (e = Math.min(e, this.to - this.pos)), this.nextInner(e, this.cursor.dir);
  }
  get lineBreak() {
    return this.cursor.lineBreak && this.value != "";
  }
}
class V_ {
  constructor(e) {
    this.inner = e, this.afterBreak = !0, this.value = "", this.done = !1;
  }
  next(e = 0) {
    let { done: n, lineBreak: r, value: i } = this.inner.next(e);
    return n && this.afterBreak ? (this.value = "", this.afterBreak = !1) : n ? (this.done = !0, this.value = "") : r ? this.afterBreak ? this.value = "" : (this.afterBreak = !0, this.next()) : (this.value = i, this.afterBreak = !1), this;
  }
  get lineBreak() {
    return !1;
  }
}
typeof Symbol < "u" && (Pn.prototype[Symbol.iterator] = function() {
  return this.iter();
}, qu.prototype[Symbol.iterator] = F_.prototype[Symbol.iterator] = V_.prototype[Symbol.iterator] = function() {
  return this;
});
class JW {
  /**
  @internal
  */
  constructor(e, n, r, i) {
    this.from = e, this.to = n, this.number = r, this.text = i;
  }
  /**
  The length of the line (not including any line break after it).
  */
  get length() {
    return this.to - this.from;
  }
}
function Ec(t, e, n) {
  return e = Math.max(0, Math.min(t.length, e)), [e, Math.max(e, Math.min(t.length, n))];
}
let gc = /* @__PURE__ */ "lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((t) => t ? parseInt(t, 36) : 1);
for (let t = 1; t < gc.length; t++)
  gc[t] += gc[t - 1];
function GW(t) {
  for (let e = 1; e < gc.length; e += 2)
    if (gc[e] > t)
      return gc[e - 1] <= t;
  return !1;
}
function Ax(t) {
  return t >= 127462 && t <= 127487;
}
const Ex = 8205;
function ni(t, e, n = !0, r = !0) {
  return (n ? W_ : KW)(t, e, r);
}
function W_(t, e, n) {
  if (e == t.length)
    return e;
  e && H_(t.charCodeAt(e)) && U_(t.charCodeAt(e - 1)) && e--;
  let r = Qr(t, e);
  for (e += lo(r); e < t.length; ) {
    let i = Qr(t, e);
    if (r == Ex || i == Ex || n && GW(i))
      e += lo(i), r = i;
    else if (Ax(i)) {
      let o = 0, s = e - 2;
      for (; s >= 0 && Ax(Qr(t, s)); )
        o++, s -= 2;
      if (o % 2 == 0)
        break;
      e += 2;
    } else
      break;
  }
  return e;
}
function KW(t, e, n) {
  for (; e > 0; ) {
    let r = W_(t, e - 2, n);
    if (r < e)
      return r;
    e--;
  }
  return 0;
}
function H_(t) {
  return t >= 56320 && t < 57344;
}
function U_(t) {
  return t >= 55296 && t < 56320;
}
function Qr(t, e) {
  let n = t.charCodeAt(e);
  if (!U_(n) || e + 1 == t.length)
    return n;
  let r = t.charCodeAt(e + 1);
  return H_(r) ? (n - 55296 << 10) + (r - 56320) + 65536 : n;
}
function vy(t) {
  return t <= 65535 ? String.fromCharCode(t) : (t -= 65536, String.fromCharCode((t >> 10) + 55296, (t & 1023) + 56320));
}
function lo(t) {
  return t < 65536 ? 1 : 2;
}
const gv = /\r\n?|\n/;
var wi = /* @__PURE__ */ function(t) {
  return t[t.Simple = 0] = "Simple", t[t.TrackDel = 1] = "TrackDel", t[t.TrackBefore = 2] = "TrackBefore", t[t.TrackAfter = 3] = "TrackAfter", t;
}(wi || (wi = {}));
class hs {
  // Sections are encoded as pairs of integers. The first is the
  // length in the current document, and the second is -1 for
  // unaffected sections, and the length of the replacement content
  // otherwise. So an insertion would be (0, n>0), a deletion (n>0,
  // 0), and a replacement two positive numbers.
  /**
  @internal
  */
  constructor(e) {
    this.sections = e;
  }
  /**
  The length of the document before the change.
  */
  get length() {
    let e = 0;
    for (let n = 0; n < this.sections.length; n += 2)
      e += this.sections[n];
    return e;
  }
  /**
  The length of the document after the change.
  */
  get newLength() {
    let e = 0;
    for (let n = 0; n < this.sections.length; n += 2) {
      let r = this.sections[n + 1];
      e += r < 0 ? this.sections[n] : r;
    }
    return e;
  }
  /**
  False when there are actual changes in this set.
  */
  get empty() {
    return this.sections.length == 0 || this.sections.length == 2 && this.sections[1] < 0;
  }
  /**
  Iterate over the unchanged parts left by these changes. `posA`
  provides the position of the range in the old document, `posB`
  the new position in the changed document.
  */
  iterGaps(e) {
    for (let n = 0, r = 0, i = 0; n < this.sections.length; ) {
      let o = this.sections[n++], s = this.sections[n++];
      s < 0 ? (e(r, i, o), i += o) : i += s, r += o;
    }
  }
  /**
  Iterate over the ranges changed by these changes. (See
  [`ChangeSet.iterChanges`](https://codemirror.net/6/docs/ref/#state.ChangeSet.iterChanges) for a
  variant that also provides you with the inserted text.)
  `fromA`/`toA` provides the extent of the change in the starting
  document, `fromB`/`toB` the extent of the replacement in the
  changed document.
  
  When `individual` is true, adjacent changes (which are kept
  separate for [position mapping](https://codemirror.net/6/docs/ref/#state.ChangeDesc.mapPos)) are
  reported separately.
  */
  iterChangedRanges(e, n = !1) {
    vv(this, e, n);
  }
  /**
  Get a description of the inverted form of these changes.
  */
  get invertedDesc() {
    let e = [];
    for (let n = 0; n < this.sections.length; ) {
      let r = this.sections[n++], i = this.sections[n++];
      i < 0 ? e.push(r, i) : e.push(i, r);
    }
    return new hs(e);
  }
  /**
  Compute the combined effect of applying another set of changes
  after this one. The length of the document after this set should
  match the length before `other`.
  */
  composeDesc(e) {
    return this.empty ? e : e.empty ? this : J_(this, e);
  }
  /**
  Map this description, which should start with the same document
  as `other`, over another set of changes, so that it can be
  applied after it. When `before` is true, map as if the changes
  in `other` happened before the ones in `this`.
  */
  mapDesc(e, n = !1) {
    return e.empty ? this : yv(this, e, n);
  }
  mapPos(e, n = -1, r = wi.Simple) {
    let i = 0, o = 0;
    for (let s = 0; s < this.sections.length; ) {
      let a = this.sections[s++], l = this.sections[s++], c = i + a;
      if (l < 0) {
        if (c > e)
          return o + (e - i);
        o += a;
      } else {
        if (r != wi.Simple && c >= e && (r == wi.TrackDel && i < e && c > e || r == wi.TrackBefore && i < e || r == wi.TrackAfter && c > e))
          return null;
        if (c > e || c == e && n < 0 && !a)
          return e == i || n < 0 ? o : o + l;
        o += l;
      }
      i = c;
    }
    if (e > i)
      throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);
    return o;
  }
  /**
  Check whether these changes touch a given range. When one of the
  changes entirely covers the range, the string `"cover"` is
  returned.
  */
  touchesRange(e, n = e) {
    for (let r = 0, i = 0; r < this.sections.length && i <= n; ) {
      let o = this.sections[r++], s = this.sections[r++], a = i + o;
      if (s >= 0 && i <= n && a >= e)
        return i < e && a > n ? "cover" : !0;
      i = a;
    }
    return !1;
  }
  /**
  @internal
  */
  toString() {
    let e = "";
    for (let n = 0; n < this.sections.length; ) {
      let r = this.sections[n++], i = this.sections[n++];
      e += (e ? " " : "") + r + (i >= 0 ? ":" + i : "");
    }
    return e;
  }
  /**
  Serialize this change desc to a JSON-representable value.
  */
  toJSON() {
    return this.sections;
  }
  /**
  Create a change desc from its JSON representation (as produced
  by [`toJSON`](https://codemirror.net/6/docs/ref/#state.ChangeDesc.toJSON).
  */
  static fromJSON(e) {
    if (!Array.isArray(e) || e.length % 2 || e.some((n) => typeof n != "number"))
      throw new RangeError("Invalid JSON representation of ChangeDesc");
    return new hs(e);
  }
  /**
  @internal
  */
  static create(e) {
    return new hs(e);
  }
}
class Br extends hs {
  constructor(e, n) {
    super(e), this.inserted = n;
  }
  /**
  Apply the changes to a document, returning the modified
  document.
  */
  apply(e) {
    if (this.length != e.length)
      throw new RangeError("Applying change set to a document with the wrong length");
    return vv(this, (n, r, i, o, s) => e = e.replace(i, i + (r - n), s), !1), e;
  }
  mapDesc(e, n = !1) {
    return yv(this, e, n, !0);
  }
  /**
  Given the document as it existed _before_ the changes, return a
  change set that represents the inverse of this set, which could
  be used to go from the document created by the changes back to
  the document as it existed before the changes.
  */
  invert(e) {
    let n = this.sections.slice(), r = [];
    for (let i = 0, o = 0; i < n.length; i += 2) {
      let s = n[i], a = n[i + 1];
      if (a >= 0) {
        n[i] = a, n[i + 1] = s;
        let l = i >> 1;
        for (; r.length < l; )
          r.push(Pn.empty);
        r.push(s ? e.slice(o, o + s) : Pn.empty);
      }
      o += s;
    }
    return new Br(n, r);
  }
  /**
  Combine two subsequent change sets into a single set. `other`
  must start in the document produced by `this`. If `this` goes
  `docA`  `docB` and `other` represents `docB`  `docC`, the
  returned value will represent the change `docA`  `docC`.
  */
  compose(e) {
    return this.empty ? e : e.empty ? this : J_(this, e, !0);
  }
  /**
  Given another change set starting in the same document, maps this
  change set over the other, producing a new change set that can be
  applied to the document produced by applying `other`. When
  `before` is `true`, order changes as if `this` comes before
  `other`, otherwise (the default) treat `other` as coming first.
  
  Given two changes `A` and `B`, `A.compose(B.map(A))` and
  `B.compose(A.map(B, true))` will produce the same document. This
  provides a basic form of [operational
  transformation](https://en.wikipedia.org/wiki/Operational_transformation),
  and can be used for collaborative editing.
  */
  map(e, n = !1) {
    return e.empty ? this : yv(this, e, n, !0);
  }
  /**
  Iterate over the changed ranges in the document, calling `f` for
  each, with the range in the original document (`fromA`-`toA`)
  and the range that replaces it in the new document
  (`fromB`-`toB`).
  
  When `individual` is true, adjacent changes are reported
  separately.
  */
  iterChanges(e, n = !1) {
    vv(this, e, n);
  }
  /**
  Get a [change description](https://codemirror.net/6/docs/ref/#state.ChangeDesc) for this change
  set.
  */
  get desc() {
    return hs.create(this.sections);
  }
  /**
  @internal
  */
  filter(e) {
    let n = [], r = [], i = [], o = new uf(this);
    e:
      for (let s = 0, a = 0; ; ) {
        let l = s == e.length ? 1e9 : e[s++];
        for (; a < l || a == l && o.len == 0; ) {
          if (o.done)
            break e;
          let u = Math.min(o.len, l - a);
          ci(i, u, -1);
          let f = o.ins == -1 ? -1 : o.off == 0 ? o.ins : 0;
          ci(n, u, f), f > 0 && pa(r, n, o.text), o.forward(u), a += u;
        }
        let c = e[s++];
        for (; a < c; ) {
          if (o.done)
            break e;
          let u = Math.min(o.len, c - a);
          ci(n, u, -1), ci(i, u, o.ins == -1 ? -1 : o.off == 0 ? o.ins : 0), o.forward(u), a += u;
        }
      }
    return {
      changes: new Br(n, r),
      filtered: hs.create(i)
    };
  }
  /**
  Serialize this change set to a JSON-representable value.
  */
  toJSON() {
    let e = [];
    for (let n = 0; n < this.sections.length; n += 2) {
      let r = this.sections[n], i = this.sections[n + 1];
      i < 0 ? e.push(r) : i == 0 ? e.push([r]) : e.push([r].concat(this.inserted[n >> 1].toJSON()));
    }
    return e;
  }
  /**
  Create a change set for the given changes, for a document of the
  given length, using `lineSep` as line separator.
  */
  static of(e, n, r) {
    let i = [], o = [], s = 0, a = null;
    function l(u = !1) {
      if (!u && !i.length)
        return;
      s < n && ci(i, n - s, -1);
      let f = new Br(i, o);
      a = a ? a.compose(f.map(a)) : f, i = [], o = [], s = 0;
    }
    function c(u) {
      if (Array.isArray(u))
        for (let f of u)
          c(f);
      else if (u instanceof Br) {
        if (u.length != n)
          throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${n})`);
        l(), a = a ? a.compose(u.map(a)) : u;
      } else {
        let { from: f, to: d = f, insert: h } = u;
        if (f > d || f < 0 || d > n)
          throw new RangeError(`Invalid change range ${f} to ${d} (in doc of length ${n})`);
        let p = h ? typeof h == "string" ? Pn.of(h.split(r || gv)) : h : Pn.empty, m = p.length;
        if (f == d && m == 0)
          return;
        f < s && l(), f > s && ci(i, f - s, -1), ci(i, d - f, m), pa(o, i, p), s = d;
      }
    }
    return c(e), l(!a), a;
  }
  /**
  Create an empty changeset of the given length.
  */
  static empty(e) {
    return new Br(e ? [e, -1] : [], []);
  }
  /**
  Create a changeset from its JSON representation (as produced by
  [`toJSON`](https://codemirror.net/6/docs/ref/#state.ChangeSet.toJSON).
  */
  static fromJSON(e) {
    if (!Array.isArray(e))
      throw new RangeError("Invalid JSON representation of ChangeSet");
    let n = [], r = [];
    for (let i = 0; i < e.length; i++) {
      let o = e[i];
      if (typeof o == "number")
        n.push(o, -1);
      else {
        if (!Array.isArray(o) || typeof o[0] != "number" || o.some((s, a) => a && typeof s != "string"))
          throw new RangeError("Invalid JSON representation of ChangeSet");
        if (o.length == 1)
          n.push(o[0], 0);
        else {
          for (; r.length < i; )
            r.push(Pn.empty);
          r[i] = Pn.of(o.slice(1)), n.push(o[0], r[i].length);
        }
      }
    }
    return new Br(n, r);
  }
  /**
  @internal
  */
  static createSet(e, n) {
    return new Br(e, n);
  }
}
function ci(t, e, n, r = !1) {
  if (e == 0 && n <= 0)
    return;
  let i = t.length - 2;
  i >= 0 && n <= 0 && n == t[i + 1] ? t[i] += e : e == 0 && t[i] == 0 ? t[i + 1] += n : r ? (t[i] += e, t[i + 1] += n) : t.push(e, n);
}
function pa(t, e, n) {
  if (n.length == 0)
    return;
  let r = e.length - 2 >> 1;
  if (r < t.length)
    t[t.length - 1] = t[t.length - 1].append(n);
  else {
    for (; t.length < r; )
      t.push(Pn.empty);
    t.push(n);
  }
}
function vv(t, e, n) {
  let r = t.inserted;
  for (let i = 0, o = 0, s = 0; s < t.sections.length; ) {
    let a = t.sections[s++], l = t.sections[s++];
    if (l < 0)
      i += a, o += a;
    else {
      let c = i, u = o, f = Pn.empty;
      for (; c += a, u += l, l && r && (f = f.append(r[s - 2 >> 1])), !(n || s == t.sections.length || t.sections[s + 1] < 0); )
        a = t.sections[s++], l = t.sections[s++];
      e(i, c, o, u, f), i = c, o = u;
    }
  }
}
function yv(t, e, n, r = !1) {
  let i = [], o = r ? [] : null, s = new uf(t), a = new uf(e);
  for (let l = -1; ; )
    if (s.ins == -1 && a.ins == -1) {
      let c = Math.min(s.len, a.len);
      ci(i, c, -1), s.forward(c), a.forward(c);
    } else if (a.ins >= 0 && (s.ins < 0 || l == s.i || s.off == 0 && (a.len < s.len || a.len == s.len && !n))) {
      let c = a.len;
      for (ci(i, a.ins, -1); c; ) {
        let u = Math.min(s.len, c);
        s.ins >= 0 && l < s.i && s.len <= u && (ci(i, 0, s.ins), o && pa(o, i, s.text), l = s.i), s.forward(u), c -= u;
      }
      a.next();
    } else if (s.ins >= 0) {
      let c = 0, u = s.len;
      for (; u; )
        if (a.ins == -1) {
          let f = Math.min(u, a.len);
          c += f, u -= f, a.forward(f);
        } else if (a.ins == 0 && a.len < u)
          u -= a.len, a.next();
        else
          break;
      ci(i, c, l < s.i ? s.ins : 0), o && l < s.i && pa(o, i, s.text), l = s.i, s.forward(s.len - u);
    } else {
      if (s.done && a.done)
        return o ? Br.createSet(i, o) : hs.create(i);
      throw new Error("Mismatched change set lengths");
    }
}
function J_(t, e, n = !1) {
  let r = [], i = n ? [] : null, o = new uf(t), s = new uf(e);
  for (let a = !1; ; ) {
    if (o.done && s.done)
      return i ? Br.createSet(r, i) : hs.create(r);
    if (o.ins == 0)
      ci(r, o.len, 0, a), o.next();
    else if (s.len == 0 && !s.done)
      ci(r, 0, s.ins, a), i && pa(i, r, s.text), s.next();
    else {
      if (o.done || s.done)
        throw new Error("Mismatched change set lengths");
      {
        let l = Math.min(o.len2, s.len), c = r.length;
        if (o.ins == -1) {
          let u = s.ins == -1 ? -1 : s.off ? 0 : s.ins;
          ci(r, l, u, a), i && u && pa(i, r, s.text);
        } else
          s.ins == -1 ? (ci(r, o.off ? 0 : o.len, l, a), i && pa(i, r, o.textBit(l))) : (ci(r, o.off ? 0 : o.len, s.off ? 0 : s.ins, a), i && !s.off && pa(i, r, s.text));
        a = (o.ins > l || s.ins >= 0 && s.len > l) && (a || r.length > c), o.forward2(l), s.forward(l);
      }
    }
  }
}
class uf {
  constructor(e) {
    this.set = e, this.i = 0, this.next();
  }
  next() {
    let { sections: e } = this.set;
    this.i < e.length ? (this.len = e[this.i++], this.ins = e[this.i++]) : (this.len = 0, this.ins = -2), this.off = 0;
  }
  get done() {
    return this.ins == -2;
  }
  get len2() {
    return this.ins < 0 ? this.len : this.ins;
  }
  get text() {
    let { inserted: e } = this.set, n = this.i - 2 >> 1;
    return n >= e.length ? Pn.empty : e[n];
  }
  textBit(e) {
    let { inserted: n } = this.set, r = this.i - 2 >> 1;
    return r >= n.length && !e ? Pn.empty : n[r].slice(this.off, e == null ? void 0 : this.off + e);
  }
  forward(e) {
    e == this.len ? this.next() : (this.len -= e, this.off += e);
  }
  forward2(e) {
    this.ins == -1 ? this.forward(e) : e == this.ins ? this.next() : (this.ins -= e, this.off += e);
  }
}
class cl {
  constructor(e, n, r) {
    this.from = e, this.to = n, this.flags = r;
  }
  /**
  The anchor of the rangethe side that doesn't move when you
  extend it.
  */
  get anchor() {
    return this.flags & 32 ? this.to : this.from;
  }
  /**
  The head of the range, which is moved when the range is
  [extended](https://codemirror.net/6/docs/ref/#state.SelectionRange.extend).
  */
  get head() {
    return this.flags & 32 ? this.from : this.to;
  }
  /**
  True when `anchor` and `head` are at the same position.
  */
  get empty() {
    return this.from == this.to;
  }
  /**
  If this is a cursor that is explicitly associated with the
  character on one of its sides, this returns the side. -1 means
  the character before its position, 1 the character after, and 0
  means no association.
  */
  get assoc() {
    return this.flags & 8 ? -1 : this.flags & 16 ? 1 : 0;
  }
  /**
  The bidirectional text level associated with this cursor, if
  any.
  */
  get bidiLevel() {
    let e = this.flags & 7;
    return e == 7 ? null : e;
  }
  /**
  The goal column (stored vertical offset) associated with a
  cursor. This is used to preserve the vertical position when
  [moving](https://codemirror.net/6/docs/ref/#view.EditorView.moveVertically) across
  lines of different length.
  */
  get goalColumn() {
    let e = this.flags >> 6;
    return e == 16777215 ? void 0 : e;
  }
  /**
  Map this range through a change, producing a valid range in the
  updated document.
  */
  map(e, n = -1) {
    let r, i;
    return this.empty ? r = i = e.mapPos(this.from, n) : (r = e.mapPos(this.from, 1), i = e.mapPos(this.to, -1)), r == this.from && i == this.to ? this : new cl(r, i, this.flags);
  }
  /**
  Extend this range to cover at least `from` to `to`.
  */
  extend(e, n = e) {
    if (e <= this.anchor && n >= this.anchor)
      return Re.range(e, n);
    let r = Math.abs(e - this.anchor) > Math.abs(n - this.anchor) ? e : n;
    return Re.range(this.anchor, r);
  }
  /**
  Compare this range to another range.
  */
  eq(e, n = !1) {
    return this.anchor == e.anchor && this.head == e.head && (!n || !this.empty || this.assoc == e.assoc);
  }
  /**
  Return a JSON-serializable object representing the range.
  */
  toJSON() {
    return { anchor: this.anchor, head: this.head };
  }
  /**
  Convert a JSON representation of a range to a `SelectionRange`
  instance.
  */
  static fromJSON(e) {
    if (!e || typeof e.anchor != "number" || typeof e.head != "number")
      throw new RangeError("Invalid JSON representation for SelectionRange");
    return Re.range(e.anchor, e.head);
  }
  /**
  @internal
  */
  static create(e, n, r) {
    return new cl(e, n, r);
  }
}
class Re {
  constructor(e, n) {
    this.ranges = e, this.mainIndex = n;
  }
  /**
  Map a selection through a change. Used to adjust the selection
  position for changes.
  */
  map(e, n = -1) {
    return e.empty ? this : Re.create(this.ranges.map((r) => r.map(e, n)), this.mainIndex);
  }
  /**
  Compare this selection to another selection. By default, ranges
  are compared only by position. When `includeAssoc` is true,
  cursor ranges must also have the same
  [`assoc`](https://codemirror.net/6/docs/ref/#state.SelectionRange.assoc) value.
  */
  eq(e, n = !1) {
    if (this.ranges.length != e.ranges.length || this.mainIndex != e.mainIndex)
      return !1;
    for (let r = 0; r < this.ranges.length; r++)
      if (!this.ranges[r].eq(e.ranges[r], n))
        return !1;
    return !0;
  }
  /**
  Get the primary selection range. Usually, you should make sure
  your code applies to _all_ ranges, by using methods like
  [`changeByRange`](https://codemirror.net/6/docs/ref/#state.EditorState.changeByRange).
  */
  get main() {
    return this.ranges[this.mainIndex];
  }
  /**
  Make sure the selection only has one range. Returns a selection
  holding only the main range from this selection.
  */
  asSingle() {
    return this.ranges.length == 1 ? this : new Re([this.main], 0);
  }
  /**
  Extend this selection with an extra range.
  */
  addRange(e, n = !0) {
    return Re.create([e].concat(this.ranges), n ? 0 : this.mainIndex + 1);
  }
  /**
  Replace a given range with another range, and then normalize the
  selection to merge and sort ranges if necessary.
  */
  replaceRange(e, n = this.mainIndex) {
    let r = this.ranges.slice();
    return r[n] = e, Re.create(r, this.mainIndex);
  }
  /**
  Convert this selection to an object that can be serialized to
  JSON.
  */
  toJSON() {
    return { ranges: this.ranges.map((e) => e.toJSON()), main: this.mainIndex };
  }
  /**
  Create a selection from a JSON representation.
  */
  static fromJSON(e) {
    if (!e || !Array.isArray(e.ranges) || typeof e.main != "number" || e.main >= e.ranges.length)
      throw new RangeError("Invalid JSON representation for EditorSelection");
    return new Re(e.ranges.map((n) => cl.fromJSON(n)), e.main);
  }
  /**
  Create a selection holding a single range.
  */
  static single(e, n = e) {
    return new Re([Re.range(e, n)], 0);
  }
  /**
  Sort and merge the given set of ranges, creating a valid
  selection.
  */
  static create(e, n = 0) {
    if (e.length == 0)
      throw new RangeError("A selection needs at least one range");
    for (let r = 0, i = 0; i < e.length; i++) {
      let o = e[i];
      if (o.empty ? o.from <= r : o.from < r)
        return Re.normalized(e.slice(), n);
      r = o.to;
    }
    return new Re(e, n);
  }
  /**
  Create a cursor selection range at the given position. You can
  safely ignore the optional arguments in most situations.
  */
  static cursor(e, n = 0, r, i) {
    return cl.create(e, e, (n == 0 ? 0 : n < 0 ? 8 : 16) | (r == null ? 7 : Math.min(6, r)) | (i ?? 16777215) << 6);
  }
  /**
  Create a selection range.
  */
  static range(e, n, r, i) {
    let o = (r ?? 16777215) << 6 | (i == null ? 7 : Math.min(6, i));
    return n < e ? cl.create(n, e, 48 | o) : cl.create(e, n, (n > e ? 8 : 0) | o);
  }
  /**
  @internal
  */
  static normalized(e, n = 0) {
    let r = e[n];
    e.sort((i, o) => i.from - o.from), n = e.indexOf(r);
    for (let i = 1; i < e.length; i++) {
      let o = e[i], s = e[i - 1];
      if (o.empty ? o.from <= s.to : o.from < s.to) {
        let a = s.from, l = Math.max(o.to, s.to);
        i <= n && n--, e.splice(--i, 2, o.anchor > o.head ? Re.range(l, a) : Re.range(a, l));
      }
    }
    return new Re(e, n);
  }
}
function G_(t, e) {
  for (let n of t.ranges)
    if (n.to > e)
      throw new RangeError("Selection points outside of document");
}
let yy = 0;
class pt {
  constructor(e, n, r, i, o) {
    this.combine = e, this.compareInput = n, this.compare = r, this.isStatic = i, this.id = yy++, this.default = e([]), this.extensions = typeof o == "function" ? o(this) : o;
  }
  /**
  Returns a facet reader for this facet, which can be used to
  [read](https://codemirror.net/6/docs/ref/#state.EditorState.facet) it but not to define values for it.
  */
  get reader() {
    return this;
  }
  /**
  Define a new facet.
  */
  static define(e = {}) {
    return new pt(e.combine || ((n) => n), e.compareInput || ((n, r) => n === r), e.compare || (e.combine ? (n, r) => n === r : by), !!e.static, e.enables);
  }
  /**
  Returns an extension that adds the given value to this facet.
  */
  of(e) {
    return new lh([], this, 0, e);
  }
  /**
  Create an extension that computes a value for the facet from a
  state. You must take care to declare the parts of the state that
  this value depends on, since your function is only called again
  for a new state when one of those parts changed.
  
  In cases where your value depends only on a single field, you'll
  want to use the [`from`](https://codemirror.net/6/docs/ref/#state.Facet.from) method instead.
  */
  compute(e, n) {
    if (this.isStatic)
      throw new Error("Can't compute a static facet");
    return new lh(e, this, 1, n);
  }
  /**
  Create an extension that computes zero or more values for this
  facet from a state.
  */
  computeN(e, n) {
    if (this.isStatic)
      throw new Error("Can't compute a static facet");
    return new lh(e, this, 2, n);
  }
  from(e, n) {
    return n || (n = (r) => r), this.compute([e], (r) => n(r.field(e)));
  }
}
function by(t, e) {
  return t == e || t.length == e.length && t.every((n, r) => n === e[r]);
}
class lh {
  constructor(e, n, r, i) {
    this.dependencies = e, this.facet = n, this.type = r, this.value = i, this.id = yy++;
  }
  dynamicSlot(e) {
    var n;
    let r = this.value, i = this.facet.compareInput, o = this.id, s = e[o] >> 1, a = this.type == 2, l = !1, c = !1, u = [];
    for (let f of this.dependencies)
      f == "doc" ? l = !0 : f == "selection" ? c = !0 : ((n = e[f.id]) !== null && n !== void 0 ? n : 1) & 1 || u.push(e[f.id]);
    return {
      create(f) {
        return f.values[s] = r(f), 1;
      },
      update(f, d) {
        if (l && d.docChanged || c && (d.docChanged || d.selection) || bv(f, u)) {
          let h = r(f);
          if (a ? !Mx(h, f.values[s], i) : !i(h, f.values[s]))
            return f.values[s] = h, 1;
        }
        return 0;
      },
      reconfigure: (f, d) => {
        let h, p = d.config.address[o];
        if (p != null) {
          let m = Bh(d, p);
          if (this.dependencies.every((g) => g instanceof pt ? d.facet(g) === f.facet(g) : g instanceof zr ? d.field(g, !1) == f.field(g, !1) : !0) || (a ? Mx(h = r(f), m, i) : i(h = r(f), m)))
            return f.values[s] = m, 0;
        } else
          h = r(f);
        return f.values[s] = h, 1;
      }
    };
  }
}
function Mx(t, e, n) {
  if (t.length != e.length)
    return !1;
  for (let r = 0; r < t.length; r++)
    if (!n(t[r], e[r]))
      return !1;
  return !0;
}
function bv(t, e) {
  let n = !1;
  for (let r of e)
    zu(t, r) & 1 && (n = !0);
  return n;
}
function YW(t, e, n) {
  let r = n.map((l) => t[l.id]), i = n.map((l) => l.type), o = r.filter((l) => !(l & 1)), s = t[e.id] >> 1;
  function a(l) {
    let c = [];
    for (let u = 0; u < r.length; u++) {
      let f = Bh(l, r[u]);
      if (i[u] == 2)
        for (let d of f)
          c.push(d);
      else
        c.push(f);
    }
    return e.combine(c);
  }
  return {
    create(l) {
      for (let c of r)
        zu(l, c);
      return l.values[s] = a(l), 1;
    },
    update(l, c) {
      if (!bv(l, o))
        return 0;
      let u = a(l);
      return e.compare(u, l.values[s]) ? 0 : (l.values[s] = u, 1);
    },
    reconfigure(l, c) {
      let u = bv(l, r), f = c.config.facets[e.id], d = c.facet(e);
      if (f && !u && by(n, f))
        return l.values[s] = d, 0;
      let h = a(l);
      return e.compare(h, d) ? (l.values[s] = d, 0) : (l.values[s] = h, 1);
    }
  };
}
const Tx = /* @__PURE__ */ pt.define({ static: !0 });
class zr {
  constructor(e, n, r, i, o) {
    this.id = e, this.createF = n, this.updateF = r, this.compareF = i, this.spec = o, this.provides = void 0;
  }
  /**
  Define a state field.
  */
  static define(e) {
    let n = new zr(yy++, e.create, e.update, e.compare || ((r, i) => r === i), e);
    return e.provide && (n.provides = e.provide(n)), n;
  }
  create(e) {
    let n = e.facet(Tx).find((r) => r.field == this);
    return ((n == null ? void 0 : n.create) || this.createF)(e);
  }
  /**
  @internal
  */
  slot(e) {
    let n = e[this.id] >> 1;
    return {
      create: (r) => (r.values[n] = this.create(r), 1),
      update: (r, i) => {
        let o = r.values[n], s = this.updateF(o, i);
        return this.compareF(o, s) ? 0 : (r.values[n] = s, 1);
      },
      reconfigure: (r, i) => i.config.address[this.id] != null ? (r.values[n] = i.field(this), 0) : (r.values[n] = this.create(r), 1)
    };
  }
  /**
  Returns an extension that enables this field and overrides the
  way it is initialized. Can be useful when you need to provide a
  non-default starting value for the field.
  */
  init(e) {
    return [this, Tx.of({ field: this, create: e })];
  }
  /**
  State field instances can be used as
  [`Extension`](https://codemirror.net/6/docs/ref/#state.Extension) values to enable the field in a
  given state.
  */
  get extension() {
    return this;
  }
}
const nl = { lowest: 4, low: 3, default: 2, high: 1, highest: 0 };
function bu(t) {
  return (e) => new K_(e, t);
}
const iu = {
  /**
  The highest precedence level, for extensions that should end up
  near the start of the precedence ordering.
  */
  highest: /* @__PURE__ */ bu(nl.highest),
  /**
  A higher-than-default precedence, for extensions that should
  come before those with default precedence.
  */
  high: /* @__PURE__ */ bu(nl.high),
  /**
  The default precedence, which is also used for extensions
  without an explicit precedence.
  */
  default: /* @__PURE__ */ bu(nl.default),
  /**
  A lower-than-default precedence.
  */
  low: /* @__PURE__ */ bu(nl.low),
  /**
  The lowest precedence level. Meant for things that should end up
  near the end of the extension order.
  */
  lowest: /* @__PURE__ */ bu(nl.lowest)
};
class K_ {
  constructor(e, n) {
    this.inner = e, this.prec = n;
  }
}
class Ps {
  /**
  Create an instance of this compartment to add to your [state
  configuration](https://codemirror.net/6/docs/ref/#state.EditorStateConfig.extensions).
  */
  of(e) {
    return new xv(this, e);
  }
  /**
  Create an [effect](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) that
  reconfigures this compartment.
  */
  reconfigure(e) {
    return Ps.reconfigure.of({ compartment: this, extension: e });
  }
  /**
  Get the current content of the compartment in the state, or
  `undefined` if it isn't present.
  */
  get(e) {
    return e.config.compartments.get(this);
  }
}
class xv {
  constructor(e, n) {
    this.compartment = e, this.inner = n;
  }
}
class Lh {
  constructor(e, n, r, i, o, s) {
    for (this.base = e, this.compartments = n, this.dynamicSlots = r, this.address = i, this.staticValues = o, this.facets = s, this.statusTemplate = []; this.statusTemplate.length < r.length; )
      this.statusTemplate.push(
        0
        /* SlotStatus.Unresolved */
      );
  }
  staticFacet(e) {
    let n = this.address[e.id];
    return n == null ? e.default : this.staticValues[n >> 1];
  }
  static resolve(e, n, r) {
    let i = [], o = /* @__PURE__ */ Object.create(null), s = /* @__PURE__ */ new Map();
    for (let d of QW(e, n, s))
      d instanceof zr ? i.push(d) : (o[d.facet.id] || (o[d.facet.id] = [])).push(d);
    let a = /* @__PURE__ */ Object.create(null), l = [], c = [];
    for (let d of i)
      a[d.id] = c.length << 1, c.push((h) => d.slot(h));
    let u = r == null ? void 0 : r.config.facets;
    for (let d in o) {
      let h = o[d], p = h[0].facet, m = u && u[d] || [];
      if (h.every(
        (g) => g.type == 0
        /* Provider.Static */
      ))
        if (a[p.id] = l.length << 1 | 1, by(m, h))
          l.push(r.facet(p));
        else {
          let g = p.combine(h.map((v) => v.value));
          l.push(r && p.compare(g, r.facet(p)) ? r.facet(p) : g);
        }
      else {
        for (let g of h)
          g.type == 0 ? (a[g.id] = l.length << 1 | 1, l.push(g.value)) : (a[g.id] = c.length << 1, c.push((v) => g.dynamicSlot(v)));
        a[p.id] = c.length << 1, c.push((g) => YW(g, p, h));
      }
    }
    let f = c.map((d) => d(a));
    return new Lh(e, s, f, a, l, o);
  }
}
function QW(t, e, n) {
  let r = [[], [], [], [], []], i = /* @__PURE__ */ new Map();
  function o(s, a) {
    let l = i.get(s);
    if (l != null) {
      if (l <= a)
        return;
      let c = r[l].indexOf(s);
      c > -1 && r[l].splice(c, 1), s instanceof xv && n.delete(s.compartment);
    }
    if (i.set(s, a), Array.isArray(s))
      for (let c of s)
        o(c, a);
    else if (s instanceof xv) {
      if (n.has(s.compartment))
        throw new RangeError("Duplicate use of compartment in extensions");
      let c = e.get(s.compartment) || s.inner;
      n.set(s.compartment, c), o(c, a);
    } else if (s instanceof K_)
      o(s.inner, s.prec);
    else if (s instanceof zr)
      r[a].push(s), s.provides && o(s.provides, a);
    else if (s instanceof lh)
      r[a].push(s), s.facet.extensions && o(s.facet.extensions, nl.default);
    else {
      let c = s.extension;
      if (!c)
        throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);
      o(c, a);
    }
  }
  return o(t, nl.default), r.reduce((s, a) => s.concat(a));
}
function zu(t, e) {
  if (e & 1)
    return 2;
  let n = e >> 1, r = t.status[n];
  if (r == 4)
    throw new Error("Cyclic dependency between fields and/or facets");
  if (r & 2)
    return r;
  t.status[n] = 4;
  let i = t.computeSlot(t, t.config.dynamicSlots[n]);
  return t.status[n] = 2 | i;
}
function Bh(t, e) {
  return e & 1 ? t.config.staticValues[e >> 1] : t.values[e >> 1];
}
const Y_ = /* @__PURE__ */ pt.define(), wv = /* @__PURE__ */ pt.define({
  combine: (t) => t.some((e) => e),
  static: !0
}), Q_ = /* @__PURE__ */ pt.define({
  combine: (t) => t.length ? t[0] : void 0,
  static: !0
}), X_ = /* @__PURE__ */ pt.define(), Z_ = /* @__PURE__ */ pt.define(), eO = /* @__PURE__ */ pt.define(), tO = /* @__PURE__ */ pt.define({
  combine: (t) => t.length ? t[0] : !1
});
class sa {
  /**
  @internal
  */
  constructor(e, n) {
    this.type = e, this.value = n;
  }
  /**
  Define a new type of annotation.
  */
  static define() {
    return new XW();
  }
}
class XW {
  /**
  Create an instance of this annotation.
  */
  of(e) {
    return new sa(this, e);
  }
}
class ZW {
  /**
  @internal
  */
  constructor(e) {
    this.map = e;
  }
  /**
  Create a [state effect](https://codemirror.net/6/docs/ref/#state.StateEffect) instance of this
  type.
  */
  of(e) {
    return new ln(this, e);
  }
}
class ln {
  /**
  @internal
  */
  constructor(e, n) {
    this.type = e, this.value = n;
  }
  /**
  Map this effect through a position mapping. Will return
  `undefined` when that ends up deleting the effect.
  */
  map(e) {
    let n = this.type.map(this.value, e);
    return n === void 0 ? void 0 : n == this.value ? this : new ln(this.type, n);
  }
  /**
  Tells you whether this effect object is of a given
  [type](https://codemirror.net/6/docs/ref/#state.StateEffectType).
  */
  is(e) {
    return this.type == e;
  }
  /**
  Define a new effect type. The type parameter indicates the type
  of values that his effect holds. It should be a type that
  doesn't include `undefined`, since that is used in
  [mapping](https://codemirror.net/6/docs/ref/#state.StateEffect.map) to indicate that an effect is
  removed.
  */
  static define(e = {}) {
    return new ZW(e.map || ((n) => n));
  }
  /**
  Map an array of effects through a change set.
  */
  static mapEffects(e, n) {
    if (!e.length)
      return e;
    let r = [];
    for (let i of e) {
      let o = i.map(n);
      o && r.push(o);
    }
    return r;
  }
}
ln.reconfigure = /* @__PURE__ */ ln.define();
ln.appendConfig = /* @__PURE__ */ ln.define();
class qr {
  constructor(e, n, r, i, o, s) {
    this.startState = e, this.changes = n, this.selection = r, this.effects = i, this.annotations = o, this.scrollIntoView = s, this._doc = null, this._state = null, r && G_(r, n.newLength), o.some((a) => a.type == qr.time) || (this.annotations = o.concat(qr.time.of(Date.now())));
  }
  /**
  @internal
  */
  static create(e, n, r, i, o, s) {
    return new qr(e, n, r, i, o, s);
  }
  /**
  The new document produced by the transaction. Contrary to
  [`.state`](https://codemirror.net/6/docs/ref/#state.Transaction.state)`.doc`, accessing this won't
  force the entire new state to be computed right away, so it is
  recommended that [transaction
  filters](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter) use this getter
  when they need to look at the new document.
  */
  get newDoc() {
    return this._doc || (this._doc = this.changes.apply(this.startState.doc));
  }
  /**
  The new selection produced by the transaction. If
  [`this.selection`](https://codemirror.net/6/docs/ref/#state.Transaction.selection) is undefined,
  this will [map](https://codemirror.net/6/docs/ref/#state.EditorSelection.map) the start state's
  current selection through the changes made by the transaction.
  */
  get newSelection() {
    return this.selection || this.startState.selection.map(this.changes);
  }
  /**
  The new state created by the transaction. Computed on demand
  (but retained for subsequent access), so it is recommended not to
  access it in [transaction
  filters](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter) when possible.
  */
  get state() {
    return this._state || this.startState.applyTransaction(this), this._state;
  }
  /**
  Get the value of the given annotation type, if any.
  */
  annotation(e) {
    for (let n of this.annotations)
      if (n.type == e)
        return n.value;
  }
  /**
  Indicates whether the transaction changed the document.
  */
  get docChanged() {
    return !this.changes.empty;
  }
  /**
  Indicates whether this transaction reconfigures the state
  (through a [configuration compartment](https://codemirror.net/6/docs/ref/#state.Compartment) or
  with a top-level configuration
  [effect](https://codemirror.net/6/docs/ref/#state.StateEffect^reconfigure).
  */
  get reconfigured() {
    return this.startState.config != this.state.config;
  }
  /**
  Returns true if the transaction has a [user
  event](https://codemirror.net/6/docs/ref/#state.Transaction^userEvent) annotation that is equal to
  or more specific than `event`. For example, if the transaction
  has `"select.pointer"` as user event, `"select"` and
  `"select.pointer"` will match it.
  */
  isUserEvent(e) {
    let n = this.annotation(qr.userEvent);
    return !!(n && (n == e || n.length > e.length && n.slice(0, e.length) == e && n[e.length] == "."));
  }
}
qr.time = /* @__PURE__ */ sa.define();
qr.userEvent = /* @__PURE__ */ sa.define();
qr.addToHistory = /* @__PURE__ */ sa.define();
qr.remote = /* @__PURE__ */ sa.define();
function eH(t, e) {
  let n = [];
  for (let r = 0, i = 0; ; ) {
    let o, s;
    if (r < t.length && (i == e.length || e[i] >= t[r]))
      o = t[r++], s = t[r++];
    else if (i < e.length)
      o = e[i++], s = e[i++];
    else
      return n;
    !n.length || n[n.length - 1] < o ? n.push(o, s) : n[n.length - 1] < s && (n[n.length - 1] = s);
  }
}
function nO(t, e, n) {
  var r;
  let i, o, s;
  return n ? (i = e.changes, o = Br.empty(e.changes.length), s = t.changes.compose(e.changes)) : (i = e.changes.map(t.changes), o = t.changes.mapDesc(e.changes, !0), s = t.changes.compose(i)), {
    changes: s,
    selection: e.selection ? e.selection.map(o) : (r = t.selection) === null || r === void 0 ? void 0 : r.map(i),
    effects: ln.mapEffects(t.effects, i).concat(ln.mapEffects(e.effects, o)),
    annotations: t.annotations.length ? t.annotations.concat(e.annotations) : e.annotations,
    scrollIntoView: t.scrollIntoView || e.scrollIntoView
  };
}
function jv(t, e, n) {
  let r = e.selection, i = vc(e.annotations);
  return e.userEvent && (i = i.concat(qr.userEvent.of(e.userEvent))), {
    changes: e.changes instanceof Br ? e.changes : Br.of(e.changes || [], n, t.facet(Q_)),
    selection: r && (r instanceof Re ? r : Re.single(r.anchor, r.head)),
    effects: vc(e.effects),
    annotations: i,
    scrollIntoView: !!e.scrollIntoView
  };
}
function rO(t, e, n) {
  let r = jv(t, e.length ? e[0] : {}, t.doc.length);
  e.length && e[0].filter === !1 && (n = !1);
  for (let o = 1; o < e.length; o++) {
    e[o].filter === !1 && (n = !1);
    let s = !!e[o].sequential;
    r = nO(r, jv(t, e[o], s ? r.changes.newLength : t.doc.length), s);
  }
  let i = qr.create(t, r.changes, r.selection, r.effects, r.annotations, r.scrollIntoView);
  return nH(n ? tH(i) : i);
}
function tH(t) {
  let e = t.startState, n = !0;
  for (let i of e.facet(X_)) {
    let o = i(t);
    if (o === !1) {
      n = !1;
      break;
    }
    Array.isArray(o) && (n = n === !0 ? o : eH(n, o));
  }
  if (n !== !0) {
    let i, o;
    if (n === !1)
      o = t.changes.invertedDesc, i = Br.empty(e.doc.length);
    else {
      let s = t.changes.filter(n);
      i = s.changes, o = s.filtered.mapDesc(s.changes).invertedDesc;
    }
    t = qr.create(e, i, t.selection && t.selection.map(o), ln.mapEffects(t.effects, o), t.annotations, t.scrollIntoView);
  }
  let r = e.facet(Z_);
  for (let i = r.length - 1; i >= 0; i--) {
    let o = r[i](t);
    o instanceof qr ? t = o : Array.isArray(o) && o.length == 1 && o[0] instanceof qr ? t = o[0] : t = rO(e, vc(o), !1);
  }
  return t;
}
function nH(t) {
  let e = t.startState, n = e.facet(eO), r = t;
  for (let i = n.length - 1; i >= 0; i--) {
    let o = n[i](t);
    o && Object.keys(o).length && (r = nO(r, jv(e, o, t.changes.newLength), !0));
  }
  return r == t ? t : qr.create(e, t.changes, t.selection, r.effects, r.annotations, r.scrollIntoView);
}
const rH = [];
function vc(t) {
  return t == null ? rH : Array.isArray(t) ? t : [t];
}
var gr = /* @__PURE__ */ function(t) {
  return t[t.Word = 0] = "Word", t[t.Space = 1] = "Space", t[t.Other = 2] = "Other", t;
}(gr || (gr = {}));
const iH = /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;
let $v;
try {
  $v = /* @__PURE__ */ new RegExp("[\\p{Alphabetic}\\p{Number}_]", "u");
} catch {
}
function oH(t) {
  if ($v)
    return $v.test(t);
  for (let e = 0; e < t.length; e++) {
    let n = t[e];
    if (/\w/.test(n) || n > "" && (n.toUpperCase() != n.toLowerCase() || iH.test(n)))
      return !0;
  }
  return !1;
}
function sH(t) {
  return (e) => {
    if (!/\S/.test(e))
      return gr.Space;
    if (oH(e))
      return gr.Word;
    for (let n = 0; n < t.length; n++)
      if (e.indexOf(t[n]) > -1)
        return gr.Word;
    return gr.Other;
  };
}
class xn {
  constructor(e, n, r, i, o, s) {
    this.config = e, this.doc = n, this.selection = r, this.values = i, this.status = e.statusTemplate.slice(), this.computeSlot = o, s && (s._state = this);
    for (let a = 0; a < this.config.dynamicSlots.length; a++)
      zu(this, a << 1);
    this.computeSlot = null;
  }
  field(e, n = !0) {
    let r = this.config.address[e.id];
    if (r == null) {
      if (n)
        throw new RangeError("Field is not present in this state");
      return;
    }
    return zu(this, r), Bh(this, r);
  }
  /**
  Create a [transaction](https://codemirror.net/6/docs/ref/#state.Transaction) that updates this
  state. Any number of [transaction specs](https://codemirror.net/6/docs/ref/#state.TransactionSpec)
  can be passed. Unless
  [`sequential`](https://codemirror.net/6/docs/ref/#state.TransactionSpec.sequential) is set, the
  [changes](https://codemirror.net/6/docs/ref/#state.TransactionSpec.changes) (if any) of each spec
  are assumed to start in the _current_ document (not the document
  produced by previous specs), and its
  [selection](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection) and
  [effects](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) are assumed to refer
  to the document created by its _own_ changes. The resulting
  transaction contains the combined effect of all the different
  specs. For [selection](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection), later
  specs take precedence over earlier ones.
  */
  update(...e) {
    return rO(this, e, !0);
  }
  /**
  @internal
  */
  applyTransaction(e) {
    let n = this.config, { base: r, compartments: i } = n;
    for (let a of e.effects)
      a.is(Ps.reconfigure) ? (n && (i = /* @__PURE__ */ new Map(), n.compartments.forEach((l, c) => i.set(c, l)), n = null), i.set(a.value.compartment, a.value.extension)) : a.is(ln.reconfigure) ? (n = null, r = a.value) : a.is(ln.appendConfig) && (n = null, r = vc(r).concat(a.value));
    let o;
    n ? o = e.startState.values.slice() : (n = Lh.resolve(r, i, this), o = new xn(n, this.doc, this.selection, n.dynamicSlots.map(() => null), (l, c) => c.reconfigure(l, this), null).values);
    let s = e.startState.facet(wv) ? e.newSelection : e.newSelection.asSingle();
    new xn(n, e.newDoc, s, o, (a, l) => l.update(a, e), e);
  }
  /**
  Create a [transaction spec](https://codemirror.net/6/docs/ref/#state.TransactionSpec) that
  replaces every selection range with the given content.
  */
  replaceSelection(e) {
    return typeof e == "string" && (e = this.toText(e)), this.changeByRange((n) => ({
      changes: { from: n.from, to: n.to, insert: e },
      range: Re.cursor(n.from + e.length)
    }));
  }
  /**
  Create a set of changes and a new selection by running the given
  function for each range in the active selection. The function
  can return an optional set of changes (in the coordinate space
  of the start document), plus an updated range (in the coordinate
  space of the document produced by the call's own changes). This
  method will merge all the changes and ranges into a single
  changeset and selection, and return it as a [transaction
  spec](https://codemirror.net/6/docs/ref/#state.TransactionSpec), which can be passed to
  [`update`](https://codemirror.net/6/docs/ref/#state.EditorState.update).
  */
  changeByRange(e) {
    let n = this.selection, r = e(n.ranges[0]), i = this.changes(r.changes), o = [r.range], s = vc(r.effects);
    for (let a = 1; a < n.ranges.length; a++) {
      let l = e(n.ranges[a]), c = this.changes(l.changes), u = c.map(i);
      for (let d = 0; d < a; d++)
        o[d] = o[d].map(u);
      let f = i.mapDesc(c, !0);
      o.push(l.range.map(f)), i = i.compose(u), s = ln.mapEffects(s, u).concat(ln.mapEffects(vc(l.effects), f));
    }
    return {
      changes: i,
      selection: Re.create(o, n.mainIndex),
      effects: s
    };
  }
  /**
  Create a [change set](https://codemirror.net/6/docs/ref/#state.ChangeSet) from the given change
  description, taking the state's document length and line
  separator into account.
  */
  changes(e = []) {
    return e instanceof Br ? e : Br.of(e, this.doc.length, this.facet(xn.lineSeparator));
  }
  /**
  Using the state's [line
  separator](https://codemirror.net/6/docs/ref/#state.EditorState^lineSeparator), create a
  [`Text`](https://codemirror.net/6/docs/ref/#state.Text) instance from the given string.
  */
  toText(e) {
    return Pn.of(e.split(this.facet(xn.lineSeparator) || gv));
  }
  /**
  Return the given range of the document as a string.
  */
  sliceDoc(e = 0, n = this.doc.length) {
    return this.doc.sliceString(e, n, this.lineBreak);
  }
  /**
  Get the value of a state [facet](https://codemirror.net/6/docs/ref/#state.Facet).
  */
  facet(e) {
    let n = this.config.address[e.id];
    return n == null ? e.default : (zu(this, n), Bh(this, n));
  }
  /**
  Convert this state to a JSON-serializable object. When custom
  fields should be serialized, you can pass them in as an object
  mapping property names (in the resulting object, which should
  not use `doc` or `selection`) to fields.
  */
  toJSON(e) {
    let n = {
      doc: this.sliceDoc(),
      selection: this.selection.toJSON()
    };
    if (e)
      for (let r in e) {
        let i = e[r];
        i instanceof zr && this.config.address[i.id] != null && (n[r] = i.spec.toJSON(this.field(e[r]), this));
      }
    return n;
  }
  /**
  Deserialize a state from its JSON representation. When custom
  fields should be deserialized, pass the same object you passed
  to [`toJSON`](https://codemirror.net/6/docs/ref/#state.EditorState.toJSON) when serializing as
  third argument.
  */
  static fromJSON(e, n = {}, r) {
    if (!e || typeof e.doc != "string")
      throw new RangeError("Invalid JSON representation for EditorState");
    let i = [];
    if (r) {
      for (let o in r)
        if (Object.prototype.hasOwnProperty.call(e, o)) {
          let s = r[o], a = e[o];
          i.push(s.init((l) => s.spec.fromJSON(a, l)));
        }
    }
    return xn.create({
      doc: e.doc,
      selection: Re.fromJSON(e.selection),
      extensions: n.extensions ? i.concat([n.extensions]) : i
    });
  }
  /**
  Create a new state. You'll usually only need this when
  initializing an editorupdated states are created by applying
  transactions.
  */
  static create(e = {}) {
    let n = Lh.resolve(e.extensions || [], /* @__PURE__ */ new Map()), r = e.doc instanceof Pn ? e.doc : Pn.of((e.doc || "").split(n.staticFacet(xn.lineSeparator) || gv)), i = e.selection ? e.selection instanceof Re ? e.selection : Re.single(e.selection.anchor, e.selection.head) : Re.single(0);
    return G_(i, r.length), n.staticFacet(wv) || (i = i.asSingle()), new xn(n, r, i, n.dynamicSlots.map(() => null), (o, s) => s.create(o), null);
  }
  /**
  The size (in columns) of a tab in the document, determined by
  the [`tabSize`](https://codemirror.net/6/docs/ref/#state.EditorState^tabSize) facet.
  */
  get tabSize() {
    return this.facet(xn.tabSize);
  }
  /**
  Get the proper [line-break](https://codemirror.net/6/docs/ref/#state.EditorState^lineSeparator)
  string for this state.
  */
  get lineBreak() {
    return this.facet(xn.lineSeparator) || `
`;
  }
  /**
  Returns true when the editor is
  [configured](https://codemirror.net/6/docs/ref/#state.EditorState^readOnly) to be read-only.
  */
  get readOnly() {
    return this.facet(tO);
  }
  /**
  Look up a translation for the given phrase (via the
  [`phrases`](https://codemirror.net/6/docs/ref/#state.EditorState^phrases) facet), or return the
  original string if no translation is found.
  
  If additional arguments are passed, they will be inserted in
  place of markers like `$1` (for the first value) and `$2`, etc.
  A single `$` is equivalent to `$1`, and `$$` will produce a
  literal dollar sign.
  */
  phrase(e, ...n) {
    for (let r of this.facet(xn.phrases))
      if (Object.prototype.hasOwnProperty.call(r, e)) {
        e = r[e];
        break;
      }
    return n.length && (e = e.replace(/\$(\$|\d*)/g, (r, i) => {
      if (i == "$")
        return "$";
      let o = +(i || 1);
      return !o || o > n.length ? r : n[o - 1];
    })), e;
  }
  /**
  Find the values for a given language data field, provided by the
  the [`languageData`](https://codemirror.net/6/docs/ref/#state.EditorState^languageData) facet.
  
  Examples of language data fields are...
  
  - [`"commentTokens"`](https://codemirror.net/6/docs/ref/#commands.CommentTokens) for specifying
    comment syntax.
  - [`"autocomplete"`](https://codemirror.net/6/docs/ref/#autocomplete.autocompletion^config.override)
    for providing language-specific completion sources.
  - [`"wordChars"`](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer) for adding
    characters that should be considered part of words in this
    language.
  - [`"closeBrackets"`](https://codemirror.net/6/docs/ref/#autocomplete.CloseBracketConfig) controls
    bracket closing behavior.
  */
  languageDataAt(e, n, r = -1) {
    let i = [];
    for (let o of this.facet(Y_))
      for (let s of o(this, n, r))
        Object.prototype.hasOwnProperty.call(s, e) && i.push(s[e]);
    return i;
  }
  /**
  Return a function that can categorize strings (expected to
  represent a single [grapheme cluster](https://codemirror.net/6/docs/ref/#state.findClusterBreak))
  into one of:
  
   - Word (contains an alphanumeric character or a character
     explicitly listed in the local language's `"wordChars"`
     language data, which should be a string)
   - Space (contains only whitespace)
   - Other (anything else)
  */
  charCategorizer(e) {
    return sH(this.languageDataAt("wordChars", e).join(""));
  }
  /**
  Find the word at the given position, meaning the range
  containing all [word](https://codemirror.net/6/docs/ref/#state.CharCategory.Word) characters
  around it. If no word characters are adjacent to the position,
  this returns null.
  */
  wordAt(e) {
    let { text: n, from: r, length: i } = this.doc.lineAt(e), o = this.charCategorizer(e), s = e - r, a = e - r;
    for (; s > 0; ) {
      let l = ni(n, s, !1);
      if (o(n.slice(l, s)) != gr.Word)
        break;
      s = l;
    }
    for (; a < i; ) {
      let l = ni(n, a);
      if (o(n.slice(a, l)) != gr.Word)
        break;
      a = l;
    }
    return s == a ? null : Re.range(s + r, a + r);
  }
}
xn.allowMultipleSelections = wv;
xn.tabSize = /* @__PURE__ */ pt.define({
  combine: (t) => t.length ? t[0] : 4
});
xn.lineSeparator = Q_;
xn.readOnly = tO;
xn.phrases = /* @__PURE__ */ pt.define({
  compare(t, e) {
    let n = Object.keys(t), r = Object.keys(e);
    return n.length == r.length && n.every((i) => t[i] == e[i]);
  }
});
xn.languageData = Y_;
xn.changeFilter = X_;
xn.transactionFilter = Z_;
xn.transactionExtender = eO;
Ps.reconfigure = /* @__PURE__ */ ln.define();
function _o(t, e, n = {}) {
  let r = {};
  for (let i of t)
    for (let o of Object.keys(i)) {
      let s = i[o], a = r[o];
      if (a === void 0)
        r[o] = s;
      else if (!(a === s || s === void 0))
        if (Object.hasOwnProperty.call(n, o))
          r[o] = n[o](a, s);
        else
          throw new Error("Config merge conflict for field " + o);
    }
  for (let i in e)
    r[i] === void 0 && (r[i] = e[i]);
  return r;
}
class bl {
  /**
  Compare this value with another value. Used when comparing
  rangesets. The default implementation compares by identity.
  Unless you are only creating a fixed number of unique instances
  of your value type, it is a good idea to implement this
  properly.
  */
  eq(e) {
    return this == e;
  }
  /**
  Create a [range](https://codemirror.net/6/docs/ref/#state.Range) with this value.
  */
  range(e, n = e) {
    return kv.create(e, n, this);
  }
}
bl.prototype.startSide = bl.prototype.endSide = 0;
bl.prototype.point = !1;
bl.prototype.mapMode = wi.TrackDel;
let kv = class iO {
  constructor(e, n, r) {
    this.from = e, this.to = n, this.value = r;
  }
  /**
  @internal
  */
  static create(e, n, r) {
    return new iO(e, n, r);
  }
};
function Sv(t, e) {
  return t.from - e.from || t.value.startSide - e.value.startSide;
}
class xy {
  constructor(e, n, r, i) {
    this.from = e, this.to = n, this.value = r, this.maxPoint = i;
  }
  get length() {
    return this.to[this.to.length - 1];
  }
  // Find the index of the given position and side. Use the ranges'
  // `from` pos when `end == false`, `to` when `end == true`.
  findIndex(e, n, r, i = 0) {
    let o = r ? this.to : this.from;
    for (let s = i, a = o.length; ; ) {
      if (s == a)
        return s;
      let l = s + a >> 1, c = o[l] - e || (r ? this.value[l].endSide : this.value[l].startSide) - n;
      if (l == s)
        return c >= 0 ? s : a;
      c >= 0 ? a = l : s = l + 1;
    }
  }
  between(e, n, r, i) {
    for (let o = this.findIndex(n, -1e9, !0), s = this.findIndex(r, 1e9, !1, o); o < s; o++)
      if (i(this.from[o] + e, this.to[o] + e, this.value[o]) === !1)
        return !1;
  }
  map(e, n) {
    let r = [], i = [], o = [], s = -1, a = -1;
    for (let l = 0; l < this.value.length; l++) {
      let c = this.value[l], u = this.from[l] + e, f = this.to[l] + e, d, h;
      if (u == f) {
        let p = n.mapPos(u, c.startSide, c.mapMode);
        if (p == null || (d = h = p, c.startSide != c.endSide && (h = n.mapPos(u, c.endSide), h < d)))
          continue;
      } else if (d = n.mapPos(u, c.startSide), h = n.mapPos(f, c.endSide), d > h || d == h && c.startSide > 0 && c.endSide <= 0)
        continue;
      (h - d || c.endSide - c.startSide) < 0 || (s < 0 && (s = d), c.point && (a = Math.max(a, h - d)), r.push(c), i.push(d - s), o.push(h - s));
    }
    return { mapped: r.length ? new xy(i, o, r, a) : null, pos: s };
  }
}
class Cn {
  constructor(e, n, r, i) {
    this.chunkPos = e, this.chunk = n, this.nextLayer = r, this.maxPoint = i;
  }
  /**
  @internal
  */
  static create(e, n, r, i) {
    return new Cn(e, n, r, i);
  }
  /**
  @internal
  */
  get length() {
    let e = this.chunk.length - 1;
    return e < 0 ? 0 : Math.max(this.chunkEnd(e), this.nextLayer.length);
  }
  /**
  The number of ranges in the set.
  */
  get size() {
    if (this.isEmpty)
      return 0;
    let e = this.nextLayer.size;
    for (let n of this.chunk)
      e += n.value.length;
    return e;
  }
  /**
  @internal
  */
  chunkEnd(e) {
    return this.chunkPos[e] + this.chunk[e].length;
  }
  /**
  Update the range set, optionally adding new ranges or filtering
  out existing ones.
  
  (Note: The type parameter is just there as a kludge to work
  around TypeScript variance issues that prevented `RangeSet<X>`
  from being a subtype of `RangeSet<Y>` when `X` is a subtype of
  `Y`.)
  */
  update(e) {
    let { add: n = [], sort: r = !1, filterFrom: i = 0, filterTo: o = this.length } = e, s = e.filter;
    if (n.length == 0 && !s)
      return this;
    if (r && (n = n.slice().sort(Sv)), this.isEmpty)
      return n.length ? Cn.of(n) : this;
    let a = new oO(this, null, -1).goto(0), l = 0, c = [], u = new ms();
    for (; a.value || l < n.length; )
      if (l < n.length && (a.from - n[l].from || a.startSide - n[l].value.startSide) >= 0) {
        let f = n[l++];
        u.addInner(f.from, f.to, f.value) || c.push(f);
      } else
        a.rangeIndex == 1 && a.chunkIndex < this.chunk.length && (l == n.length || this.chunkEnd(a.chunkIndex) < n[l].from) && (!s || i > this.chunkEnd(a.chunkIndex) || o < this.chunkPos[a.chunkIndex]) && u.addChunk(this.chunkPos[a.chunkIndex], this.chunk[a.chunkIndex]) ? a.nextChunk() : ((!s || i > a.to || o < a.from || s(a.from, a.to, a.value)) && (u.addInner(a.from, a.to, a.value) || c.push(kv.create(a.from, a.to, a.value))), a.next());
    return u.finishInner(this.nextLayer.isEmpty && !c.length ? Cn.empty : this.nextLayer.update({ add: c, filter: s, filterFrom: i, filterTo: o }));
  }
  /**
  Map this range set through a set of changes, return the new set.
  */
  map(e) {
    if (e.empty || this.isEmpty)
      return this;
    let n = [], r = [], i = -1;
    for (let s = 0; s < this.chunk.length; s++) {
      let a = this.chunkPos[s], l = this.chunk[s], c = e.touchesRange(a, a + l.length);
      if (c === !1)
        i = Math.max(i, l.maxPoint), n.push(l), r.push(e.mapPos(a));
      else if (c === !0) {
        let { mapped: u, pos: f } = l.map(a, e);
        u && (i = Math.max(i, u.maxPoint), n.push(u), r.push(f));
      }
    }
    let o = this.nextLayer.map(e);
    return n.length == 0 ? o : new Cn(r, n, o || Cn.empty, i);
  }
  /**
  Iterate over the ranges that touch the region `from` to `to`,
  calling `f` for each. There is no guarantee that the ranges will
  be reported in any specific order. When the callback returns
  `false`, iteration stops.
  */
  between(e, n, r) {
    if (!this.isEmpty) {
      for (let i = 0; i < this.chunk.length; i++) {
        let o = this.chunkPos[i], s = this.chunk[i];
        if (n >= o && e <= o + s.length && s.between(o, e - o, n - o, r) === !1)
          return;
      }
      this.nextLayer.between(e, n, r);
    }
  }
  /**
  Iterate over the ranges in this set, in order, including all
  ranges that end at or after `from`.
  */
  iter(e = 0) {
    return ff.from([this]).goto(e);
  }
  /**
  @internal
  */
  get isEmpty() {
    return this.nextLayer == this;
  }
  /**
  Iterate over the ranges in a collection of sets, in order,
  starting from `from`.
  */
  static iter(e, n = 0) {
    return ff.from(e).goto(n);
  }
  /**
  Iterate over two groups of sets, calling methods on `comparator`
  to notify it of possible differences.
  */
  static compare(e, n, r, i, o = -1) {
    let s = e.filter((f) => f.maxPoint > 0 || !f.isEmpty && f.maxPoint >= o), a = n.filter((f) => f.maxPoint > 0 || !f.isEmpty && f.maxPoint >= o), l = Rx(s, a, r), c = new xu(s, l, o), u = new xu(a, l, o);
    r.iterGaps((f, d, h) => Px(c, f, u, d, h, i)), r.empty && r.length == 0 && Px(c, 0, u, 0, 0, i);
  }
  /**
  Compare the contents of two groups of range sets, returning true
  if they are equivalent in the given range.
  */
  static eq(e, n, r = 0, i) {
    i == null && (i = 999999999);
    let o = e.filter((u) => !u.isEmpty && n.indexOf(u) < 0), s = n.filter((u) => !u.isEmpty && e.indexOf(u) < 0);
    if (o.length != s.length)
      return !1;
    if (!o.length)
      return !0;
    let a = Rx(o, s), l = new xu(o, a, 0).goto(r), c = new xu(s, a, 0).goto(r);
    for (; ; ) {
      if (l.to != c.to || !Cv(l.active, c.active) || l.point && (!c.point || !l.point.eq(c.point)))
        return !1;
      if (l.to > i)
        return !0;
      l.next(), c.next();
    }
  }
  /**
  Iterate over a group of range sets at the same time, notifying
  the iterator about the ranges covering every given piece of
  content. Returns the open count (see
  [`SpanIterator.span`](https://codemirror.net/6/docs/ref/#state.SpanIterator.span)) at the end
  of the iteration.
  */
  static spans(e, n, r, i, o = -1) {
    let s = new xu(e, null, o).goto(n), a = n, l = s.openStart;
    for (; ; ) {
      let c = Math.min(s.to, r);
      if (s.point) {
        let u = s.activeForPoint(s.to), f = s.pointFrom < n ? u.length + 1 : Math.min(u.length, l);
        i.point(a, c, s.point, u, f, s.pointRank), l = Math.min(s.openEnd(c), u.length);
      } else
        c > a && (i.span(a, c, s.active, l), l = s.openEnd(c));
      if (s.to > r)
        return l + (s.point && s.to > r ? 1 : 0);
      a = s.to, s.next();
    }
  }
  /**
  Create a range set for the given range or array of ranges. By
  default, this expects the ranges to be _sorted_ (by start
  position and, if two start at the same position,
  `value.startSide`). You can pass `true` as second argument to
  cause the method to sort them.
  */
  static of(e, n = !1) {
    let r = new ms();
    for (let i of e instanceof kv ? [e] : n ? aH(e) : e)
      r.add(i.from, i.to, i.value);
    return r.finish();
  }
  /**
  Join an array of range sets into a single set.
  */
  static join(e) {
    if (!e.length)
      return Cn.empty;
    let n = e[e.length - 1];
    for (let r = e.length - 2; r >= 0; r--)
      for (let i = e[r]; i != Cn.empty; i = i.nextLayer)
        n = new Cn(i.chunkPos, i.chunk, n, Math.max(i.maxPoint, n.maxPoint));
    return n;
  }
}
Cn.empty = /* @__PURE__ */ new Cn([], [], null, -1);
function aH(t) {
  if (t.length > 1)
    for (let e = t[0], n = 1; n < t.length; n++) {
      let r = t[n];
      if (Sv(e, r) > 0)
        return t.slice().sort(Sv);
      e = r;
    }
  return t;
}
Cn.empty.nextLayer = Cn.empty;
class ms {
  finishChunk(e) {
    this.chunks.push(new xy(this.from, this.to, this.value, this.maxPoint)), this.chunkPos.push(this.chunkStart), this.chunkStart = -1, this.setMaxPoint = Math.max(this.setMaxPoint, this.maxPoint), this.maxPoint = -1, e && (this.from = [], this.to = [], this.value = []);
  }
  /**
  Create an empty builder.
  */
  constructor() {
    this.chunks = [], this.chunkPos = [], this.chunkStart = -1, this.last = null, this.lastFrom = -1e9, this.lastTo = -1e9, this.from = [], this.to = [], this.value = [], this.maxPoint = -1, this.setMaxPoint = -1, this.nextLayer = null;
  }
  /**
  Add a range. Ranges should be added in sorted (by `from` and
  `value.startSide`) order.
  */
  add(e, n, r) {
    this.addInner(e, n, r) || (this.nextLayer || (this.nextLayer = new ms())).add(e, n, r);
  }
  /**
  @internal
  */
  addInner(e, n, r) {
    let i = e - this.lastTo || r.startSide - this.last.endSide;
    if (i <= 0 && (e - this.lastFrom || r.startSide - this.last.startSide) < 0)
      throw new Error("Ranges must be added sorted by `from` position and `startSide`");
    return i < 0 ? !1 : (this.from.length == 250 && this.finishChunk(!0), this.chunkStart < 0 && (this.chunkStart = e), this.from.push(e - this.chunkStart), this.to.push(n - this.chunkStart), this.last = r, this.lastFrom = e, this.lastTo = n, this.value.push(r), r.point && (this.maxPoint = Math.max(this.maxPoint, n - e)), !0);
  }
  /**
  @internal
  */
  addChunk(e, n) {
    if ((e - this.lastTo || n.value[0].startSide - this.last.endSide) < 0)
      return !1;
    this.from.length && this.finishChunk(!0), this.setMaxPoint = Math.max(this.setMaxPoint, n.maxPoint), this.chunks.push(n), this.chunkPos.push(e);
    let r = n.value.length - 1;
    return this.last = n.value[r], this.lastFrom = n.from[r] + e, this.lastTo = n.to[r] + e, !0;
  }
  /**
  Finish the range set. Returns the new set. The builder can't be
  used anymore after this has been called.
  */
  finish() {
    return this.finishInner(Cn.empty);
  }
  /**
  @internal
  */
  finishInner(e) {
    if (this.from.length && this.finishChunk(!1), this.chunks.length == 0)
      return e;
    let n = Cn.create(this.chunkPos, this.chunks, this.nextLayer ? this.nextLayer.finishInner(e) : e, this.setMaxPoint);
    return this.from = null, n;
  }
}
function Rx(t, e, n) {
  let r = /* @__PURE__ */ new Map();
  for (let o of t)
    for (let s = 0; s < o.chunk.length; s++)
      o.chunk[s].maxPoint <= 0 && r.set(o.chunk[s], o.chunkPos[s]);
  let i = /* @__PURE__ */ new Set();
  for (let o of e)
    for (let s = 0; s < o.chunk.length; s++) {
      let a = r.get(o.chunk[s]);
      a != null && (n ? n.mapPos(a) : a) == o.chunkPos[s] && !(n != null && n.touchesRange(a, a + o.chunk[s].length)) && i.add(o.chunk[s]);
    }
  return i;
}
class oO {
  constructor(e, n, r, i = 0) {
    this.layer = e, this.skip = n, this.minPoint = r, this.rank = i;
  }
  get startSide() {
    return this.value ? this.value.startSide : 0;
  }
  get endSide() {
    return this.value ? this.value.endSide : 0;
  }
  goto(e, n = -1e9) {
    return this.chunkIndex = this.rangeIndex = 0, this.gotoInner(e, n, !1), this;
  }
  gotoInner(e, n, r) {
    for (; this.chunkIndex < this.layer.chunk.length; ) {
      let i = this.layer.chunk[this.chunkIndex];
      if (!(this.skip && this.skip.has(i) || this.layer.chunkEnd(this.chunkIndex) < e || i.maxPoint < this.minPoint))
        break;
      this.chunkIndex++, r = !1;
    }
    if (this.chunkIndex < this.layer.chunk.length) {
      let i = this.layer.chunk[this.chunkIndex].findIndex(e - this.layer.chunkPos[this.chunkIndex], n, !0);
      (!r || this.rangeIndex < i) && this.setRangeIndex(i);
    }
    this.next();
  }
  forward(e, n) {
    (this.to - e || this.endSide - n) < 0 && this.gotoInner(e, n, !0);
  }
  next() {
    for (; ; )
      if (this.chunkIndex == this.layer.chunk.length) {
        this.from = this.to = 1e9, this.value = null;
        break;
      } else {
        let e = this.layer.chunkPos[this.chunkIndex], n = this.layer.chunk[this.chunkIndex], r = e + n.from[this.rangeIndex];
        if (this.from = r, this.to = e + n.to[this.rangeIndex], this.value = n.value[this.rangeIndex], this.setRangeIndex(this.rangeIndex + 1), this.minPoint < 0 || this.value.point && this.to - this.from >= this.minPoint)
          break;
      }
  }
  setRangeIndex(e) {
    if (e == this.layer.chunk[this.chunkIndex].value.length) {
      if (this.chunkIndex++, this.skip)
        for (; this.chunkIndex < this.layer.chunk.length && this.skip.has(this.layer.chunk[this.chunkIndex]); )
          this.chunkIndex++;
      this.rangeIndex = 0;
    } else
      this.rangeIndex = e;
  }
  nextChunk() {
    this.chunkIndex++, this.rangeIndex = 0, this.next();
  }
  compare(e) {
    return this.from - e.from || this.startSide - e.startSide || this.rank - e.rank || this.to - e.to || this.endSide - e.endSide;
  }
}
class ff {
  constructor(e) {
    this.heap = e;
  }
  static from(e, n = null, r = -1) {
    let i = [];
    for (let o = 0; o < e.length; o++)
      for (let s = e[o]; !s.isEmpty; s = s.nextLayer)
        s.maxPoint >= r && i.push(new oO(s, n, r, o));
    return i.length == 1 ? i[0] : new ff(i);
  }
  get startSide() {
    return this.value ? this.value.startSide : 0;
  }
  goto(e, n = -1e9) {
    for (let r of this.heap)
      r.goto(e, n);
    for (let r = this.heap.length >> 1; r >= 0; r--)
      rg(this.heap, r);
    return this.next(), this;
  }
  forward(e, n) {
    for (let r of this.heap)
      r.forward(e, n);
    for (let r = this.heap.length >> 1; r >= 0; r--)
      rg(this.heap, r);
    (this.to - e || this.value.endSide - n) < 0 && this.next();
  }
  next() {
    if (this.heap.length == 0)
      this.from = this.to = 1e9, this.value = null, this.rank = -1;
    else {
      let e = this.heap[0];
      this.from = e.from, this.to = e.to, this.value = e.value, this.rank = e.rank, e.value && e.next(), rg(this.heap, 0);
    }
  }
}
function rg(t, e) {
  for (let n = t[e]; ; ) {
    let r = (e << 1) + 1;
    if (r >= t.length)
      break;
    let i = t[r];
    if (r + 1 < t.length && i.compare(t[r + 1]) >= 0 && (i = t[r + 1], r++), n.compare(i) < 0)
      break;
    t[r] = n, t[e] = i, e = r;
  }
}
class xu {
  constructor(e, n, r) {
    this.minPoint = r, this.active = [], this.activeTo = [], this.activeRank = [], this.minActive = -1, this.point = null, this.pointFrom = 0, this.pointRank = 0, this.to = -1e9, this.endSide = 0, this.openStart = -1, this.cursor = ff.from(e, n, r);
  }
  goto(e, n = -1e9) {
    return this.cursor.goto(e, n), this.active.length = this.activeTo.length = this.activeRank.length = 0, this.minActive = -1, this.to = e, this.endSide = n, this.openStart = -1, this.next(), this;
  }
  forward(e, n) {
    for (; this.minActive > -1 && (this.activeTo[this.minActive] - e || this.active[this.minActive].endSide - n) < 0; )
      this.removeActive(this.minActive);
    this.cursor.forward(e, n);
  }
  removeActive(e) {
    bd(this.active, e), bd(this.activeTo, e), bd(this.activeRank, e), this.minActive = Ix(this.active, this.activeTo);
  }
  addActive(e) {
    let n = 0, { value: r, to: i, rank: o } = this.cursor;
    for (; n < this.activeRank.length && (o - this.activeRank[n] || i - this.activeTo[n]) > 0; )
      n++;
    xd(this.active, n, r), xd(this.activeTo, n, i), xd(this.activeRank, n, o), e && xd(e, n, this.cursor.from), this.minActive = Ix(this.active, this.activeTo);
  }
  // After calling this, if `this.point` != null, the next range is a
  // point. Otherwise, it's a regular range, covered by `this.active`.
  next() {
    let e = this.to, n = this.point;
    this.point = null;
    let r = this.openStart < 0 ? [] : null;
    for (; ; ) {
      let i = this.minActive;
      if (i > -1 && (this.activeTo[i] - this.cursor.from || this.active[i].endSide - this.cursor.startSide) < 0) {
        if (this.activeTo[i] > e) {
          this.to = this.activeTo[i], this.endSide = this.active[i].endSide;
          break;
        }
        this.removeActive(i), r && bd(r, i);
      } else if (this.cursor.value)
        if (this.cursor.from > e) {
          this.to = this.cursor.from, this.endSide = this.cursor.startSide;
          break;
        } else {
          let o = this.cursor.value;
          if (!o.point)
            this.addActive(r), this.cursor.next();
          else if (n && this.cursor.to == this.to && this.cursor.from < this.cursor.to)
            this.cursor.next();
          else {
            this.point = o, this.pointFrom = this.cursor.from, this.pointRank = this.cursor.rank, this.to = this.cursor.to, this.endSide = o.endSide, this.cursor.next(), this.forward(this.to, this.endSide);
            break;
          }
        }
      else {
        this.to = this.endSide = 1e9;
        break;
      }
    }
    if (r) {
      this.openStart = 0;
      for (let i = r.length - 1; i >= 0 && r[i] < e; i--)
        this.openStart++;
    }
  }
  activeForPoint(e) {
    if (!this.active.length)
      return this.active;
    let n = [];
    for (let r = this.active.length - 1; r >= 0 && !(this.activeRank[r] < this.pointRank); r--)
      (this.activeTo[r] > e || this.activeTo[r] == e && this.active[r].endSide >= this.point.endSide) && n.push(this.active[r]);
    return n.reverse();
  }
  openEnd(e) {
    let n = 0;
    for (let r = this.activeTo.length - 1; r >= 0 && this.activeTo[r] > e; r--)
      n++;
    return n;
  }
}
function Px(t, e, n, r, i, o) {
  t.goto(e), n.goto(r);
  let s = r + i, a = r, l = r - e;
  for (; ; ) {
    let c = t.to + l - n.to || t.endSide - n.endSide, u = c < 0 ? t.to + l : n.to, f = Math.min(u, s);
    if (t.point || n.point ? t.point && n.point && (t.point == n.point || t.point.eq(n.point)) && Cv(t.activeForPoint(t.to), n.activeForPoint(n.to)) || o.comparePoint(a, f, t.point, n.point) : f > a && !Cv(t.active, n.active) && o.compareRange(a, f, t.active, n.active), u > s)
      break;
    a = u, c <= 0 && t.next(), c >= 0 && n.next();
  }
}
function Cv(t, e) {
  if (t.length != e.length)
    return !1;
  for (let n = 0; n < t.length; n++)
    if (t[n] != e[n] && !t[n].eq(e[n]))
      return !1;
  return !0;
}
function bd(t, e) {
  for (let n = e, r = t.length - 1; n < r; n++)
    t[n] = t[n + 1];
  t.pop();
}
function xd(t, e, n) {
  for (let r = t.length - 1; r >= e; r--)
    t[r + 1] = t[r];
  t[e] = n;
}
function Ix(t, e) {
  let n = -1, r = 1e9;
  for (let i = 0; i < e.length; i++)
    (e[i] - r || t[i].endSide - t[n].endSide) < 0 && (n = i, r = e[i]);
  return n;
}
function ou(t, e, n = t.length) {
  let r = 0;
  for (let i = 0; i < n; )
    t.charCodeAt(i) == 9 ? (r += e - r % e, i++) : (r++, i = ni(t, i));
  return r;
}
function _v(t, e, n, r) {
  for (let i = 0, o = 0; ; ) {
    if (o >= e)
      return i;
    if (i == t.length)
      break;
    o += t.charCodeAt(i) == 9 ? n - o % n : 1, i = ni(t, i);
  }
  return r === !0 ? -1 : t.length;
}
const Ov = "", Nx = typeof Symbol > "u" ? "__" + Ov : Symbol.for(Ov), Av = typeof Symbol > "u" ? "__styleSet" + Math.floor(Math.random() * 1e8) : Symbol("styleSet"), Dx = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : {};
class Ta {
  // :: (Object<Style>, ?{finish: ?(string)  string})
  // Create a style module from the given spec.
  //
  // When `finish` is given, it is called on regular (non-`@`)
  // selectors (after `&` expansion) to compute the final selector.
  constructor(e, n) {
    this.rules = [];
    let { finish: r } = n || {};
    function i(s) {
      return /^@/.test(s) ? [s] : s.split(/,\s*/);
    }
    function o(s, a, l, c) {
      let u = [], f = /^@(\w+)\b/.exec(s[0]), d = f && f[1] == "keyframes";
      if (f && a == null)
        return l.push(s[0] + ";");
      for (let h in a) {
        let p = a[h];
        if (/&/.test(h))
          o(
            h.split(/,\s*/).map((m) => s.map((g) => m.replace(/&/, g))).reduce((m, g) => m.concat(g)),
            p,
            l
          );
        else if (p && typeof p == "object") {
          if (!f)
            throw new RangeError("The value of a property (" + h + ") should be a primitive value.");
          o(i(h), p, u, d);
        } else
          p != null && u.push(h.replace(/_.*/, "").replace(/[A-Z]/g, (m) => "-" + m.toLowerCase()) + ": " + p + ";");
      }
      (u.length || d) && l.push((r && !f && !c ? s.map(r) : s).join(", ") + " {" + u.join(" ") + "}");
    }
    for (let s in e)
      o(i(s), e[s], this.rules);
  }
  // :: ()  string
  // Returns a string containing the module's CSS rules.
  getRules() {
    return this.rules.join(`
`);
  }
  // :: ()  string
  // Generate a new unique CSS class name.
  static newName() {
    let e = Dx[Nx] || 1;
    return Dx[Nx] = e + 1, Ov + e.toString(36);
  }
  // :: (union<Document, ShadowRoot>, union<[StyleModule], StyleModule>, ?{nonce: ?string})
  //
  // Mount the given set of modules in the given DOM root, which ensures
  // that the CSS rules defined by the module are available in that
  // context.
  //
  // Rules are only added to the document once per root.
  //
  // Rule order will follow the order of the modules, so that rules from
  // modules later in the array take precedence of those from earlier
  // modules. If you call this function multiple times for the same root
  // in a way that changes the order of already mounted modules, the old
  // order will be changed.
  //
  // If a Content Security Policy nonce is provided, it is added to
  // the `<style>` tag generated by the library.
  static mount(e, n, r) {
    let i = e[Av], o = r && r.nonce;
    i ? o && i.setNonce(o) : i = new lH(e, o), i.mount(Array.isArray(n) ? n : [n]);
  }
}
let Lx = /* @__PURE__ */ new Map();
class lH {
  constructor(e, n) {
    let r = e.ownerDocument || e, i = r.defaultView;
    if (!e.head && e.adoptedStyleSheets && i.CSSStyleSheet) {
      let o = Lx.get(r);
      if (o)
        return e.adoptedStyleSheets = [o.sheet, ...e.adoptedStyleSheets], e[Av] = o;
      this.sheet = new i.CSSStyleSheet(), e.adoptedStyleSheets = [this.sheet, ...e.adoptedStyleSheets], Lx.set(r, this);
    } else {
      this.styleTag = r.createElement("style"), n && this.styleTag.setAttribute("nonce", n);
      let o = e.head || e;
      o.insertBefore(this.styleTag, o.firstChild);
    }
    this.modules = [], e[Av] = this;
  }
  mount(e) {
    let n = this.sheet, r = 0, i = 0;
    for (let o = 0; o < e.length; o++) {
      let s = e[o], a = this.modules.indexOf(s);
      if (a < i && a > -1 && (this.modules.splice(a, 1), i--, a = -1), a == -1) {
        if (this.modules.splice(i++, 0, s), n)
          for (let l = 0; l < s.rules.length; l++)
            n.insertRule(s.rules[l], r++);
      } else {
        for (; i < a; )
          r += this.modules[i++].rules.length;
        r += s.rules.length, i++;
      }
    }
    if (!n) {
      let o = "";
      for (let s = 0; s < this.modules.length; s++)
        o += this.modules[s].getRules() + `
`;
      this.styleTag.textContent = o;
    }
  }
  setNonce(e) {
    this.styleTag && this.styleTag.getAttribute("nonce") != e && this.styleTag.setAttribute("nonce", e);
  }
}
var Ra = {
  8: "Backspace",
  9: "Tab",
  10: "Enter",
  12: "NumLock",
  13: "Enter",
  16: "Shift",
  17: "Control",
  18: "Alt",
  20: "CapsLock",
  27: "Escape",
  32: " ",
  33: "PageUp",
  34: "PageDown",
  35: "End",
  36: "Home",
  37: "ArrowLeft",
  38: "ArrowUp",
  39: "ArrowRight",
  40: "ArrowDown",
  44: "PrintScreen",
  45: "Insert",
  46: "Delete",
  59: ";",
  61: "=",
  91: "Meta",
  92: "Meta",
  106: "*",
  107: "+",
  108: ",",
  109: "-",
  110: ".",
  111: "/",
  144: "NumLock",
  145: "ScrollLock",
  160: "Shift",
  161: "Shift",
  162: "Control",
  163: "Control",
  164: "Alt",
  165: "Alt",
  173: "-",
  186: ";",
  187: "=",
  188: ",",
  189: "-",
  190: ".",
  191: "/",
  192: "`",
  219: "[",
  220: "\\",
  221: "]",
  222: "'"
}, df = {
  48: ")",
  49: "!",
  50: "@",
  51: "#",
  52: "$",
  53: "%",
  54: "^",
  55: "&",
  56: "*",
  57: "(",
  59: ":",
  61: "+",
  173: "_",
  186: ":",
  187: "+",
  188: "<",
  189: "_",
  190: ">",
  191: "?",
  192: "~",
  219: "{",
  220: "|",
  221: "}",
  222: '"'
}, cH = typeof navigator < "u" && /Mac/.test(navigator.platform), uH = typeof navigator < "u" && /MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);
for (var Xr = 0; Xr < 10; Xr++)
  Ra[48 + Xr] = Ra[96 + Xr] = String(Xr);
for (var Xr = 1; Xr <= 24; Xr++)
  Ra[Xr + 111] = "F" + Xr;
for (var Xr = 65; Xr <= 90; Xr++)
  Ra[Xr] = String.fromCharCode(Xr + 32), df[Xr] = String.fromCharCode(Xr);
for (var ig in Ra)
  df.hasOwnProperty(ig) || (df[ig] = Ra[ig]);
function fH(t) {
  var e = cH && t.metaKey && t.shiftKey && !t.ctrlKey && !t.altKey || uH && t.shiftKey && t.key && t.key.length == 1 || t.key == "Unidentified", n = !e && t.key || (t.shiftKey ? df : Ra)[t.keyCode] || t.key || "Unidentified";
  return n == "Esc" && (n = "Escape"), n == "Del" && (n = "Delete"), n == "Left" && (n = "ArrowLeft"), n == "Up" && (n = "ArrowUp"), n == "Right" && (n = "ArrowRight"), n == "Down" && (n = "ArrowDown"), n;
}
function qh(t) {
  let e;
  return t.nodeType == 11 ? e = t.getSelection ? t : t.ownerDocument : e = t, e.getSelection();
}
function Ev(t, e) {
  return e ? t == e || t.contains(e.nodeType != 1 ? e.parentNode : e) : !1;
}
function dH(t) {
  let e = t.activeElement;
  for (; e && e.shadowRoot; )
    e = e.shadowRoot.activeElement;
  return e;
}
function ch(t, e) {
  if (!e.anchorNode)
    return !1;
  try {
    return Ev(t, e.anchorNode);
  } catch {
    return !1;
  }
}
function hf(t) {
  return t.nodeType == 3 ? xl(t, 0, t.nodeValue.length).getClientRects() : t.nodeType == 1 ? t.getClientRects() : [];
}
function Fu(t, e, n, r) {
  return n ? Bx(t, e, n, r, -1) || Bx(t, e, n, r, 1) : !1;
}
function pf(t) {
  for (var e = 0; ; e++)
    if (t = t.previousSibling, !t)
      return e;
}
function Bx(t, e, n, r, i) {
  for (; ; ) {
    if (t == n && e == r)
      return !0;
    if (e == (i < 0 ? 0 : Us(t))) {
      if (t.nodeName == "DIV")
        return !1;
      let o = t.parentNode;
      if (!o || o.nodeType != 1)
        return !1;
      e = pf(t) + (i < 0 ? 0 : 1), t = o;
    } else if (t.nodeType == 1) {
      if (t = t.childNodes[e + (i < 0 ? -1 : 0)], t.nodeType == 1 && t.contentEditable == "false")
        return !1;
      e = i < 0 ? Us(t) : 0;
    } else
      return !1;
  }
}
function Us(t) {
  return t.nodeType == 3 ? t.nodeValue.length : t.childNodes.length;
}
function wy(t, e) {
  let n = e ? t.left : t.right;
  return { left: n, right: n, top: t.top, bottom: t.bottom };
}
function hH(t) {
  return {
    left: 0,
    right: t.innerWidth,
    top: 0,
    bottom: t.innerHeight
  };
}
function sO(t, e) {
  let n = e.width / t.offsetWidth, r = e.height / t.offsetHeight;
  return (n > 0.995 && n < 1.005 || !isFinite(n) || Math.abs(e.width - t.offsetWidth) < 1) && (n = 1), (r > 0.995 && r < 1.005 || !isFinite(r) || Math.abs(e.height - t.offsetHeight) < 1) && (r = 1), { scaleX: n, scaleY: r };
}
function pH(t, e, n, r, i, o, s, a) {
  let l = t.ownerDocument, c = l.defaultView || window;
  for (let u = t, f = !1; u && !f; )
    if (u.nodeType == 1) {
      let d, h = u == l.body, p = 1, m = 1;
      if (h)
        d = hH(c);
      else {
        if (/^(fixed|sticky)$/.test(getComputedStyle(u).position) && (f = !0), u.scrollHeight <= u.clientHeight && u.scrollWidth <= u.clientWidth) {
          u = u.assignedSlot || u.parentNode;
          continue;
        }
        let y = u.getBoundingClientRect();
        ({ scaleX: p, scaleY: m } = sO(u, y)), d = {
          left: y.left,
          right: y.left + u.clientWidth * p,
          top: y.top,
          bottom: y.top + u.clientHeight * m
        };
      }
      let g = 0, v = 0;
      if (i == "nearest")
        e.top < d.top ? (v = -(d.top - e.top + s), n > 0 && e.bottom > d.bottom + v && (v = e.bottom - d.bottom + v + s)) : e.bottom > d.bottom && (v = e.bottom - d.bottom + s, n < 0 && e.top - v < d.top && (v = -(d.top + v - e.top + s)));
      else {
        let y = e.bottom - e.top, x = d.bottom - d.top;
        v = (i == "center" && y <= x ? e.top + y / 2 - x / 2 : i == "start" || i == "center" && n < 0 ? e.top - s : e.bottom - x + s) - d.top;
      }
      if (r == "nearest" ? e.left < d.left ? (g = -(d.left - e.left + o), n > 0 && e.right > d.right + g && (g = e.right - d.right + g + o)) : e.right > d.right && (g = e.right - d.right + o, n < 0 && e.left < d.left + g && (g = -(d.left + g - e.left + o))) : g = (r == "center" ? e.left + (e.right - e.left) / 2 - (d.right - d.left) / 2 : r == "start" == a ? e.left - o : e.right - (d.right - d.left) + o) - d.left, g || v)
        if (h)
          c.scrollBy(g, v);
        else {
          let y = 0, x = 0;
          if (v) {
            let b = u.scrollTop;
            u.scrollTop += v / m, x = (u.scrollTop - b) * m;
          }
          if (g) {
            let b = u.scrollLeft;
            u.scrollLeft += g / p, y = (u.scrollLeft - b) * p;
          }
          e = {
            left: e.left - y,
            top: e.top - x,
            right: e.right - y,
            bottom: e.bottom - x
          }, y && Math.abs(y - g) < 1 && (r = "nearest"), x && Math.abs(x - v) < 1 && (i = "nearest");
        }
      if (h)
        break;
      u = u.assignedSlot || u.parentNode;
    } else if (u.nodeType == 11)
      u = u.host;
    else
      break;
}
function mH(t) {
  let e = t.ownerDocument;
  for (let n = t.parentNode; n && n != e.body; )
    if (n.nodeType == 1) {
      if (n.scrollHeight > n.clientHeight || n.scrollWidth > n.clientWidth)
        return n;
      n = n.assignedSlot || n.parentNode;
    } else if (n.nodeType == 11)
      n = n.host;
    else
      break;
  return null;
}
class gH {
  constructor() {
    this.anchorNode = null, this.anchorOffset = 0, this.focusNode = null, this.focusOffset = 0;
  }
  eq(e) {
    return this.anchorNode == e.anchorNode && this.anchorOffset == e.anchorOffset && this.focusNode == e.focusNode && this.focusOffset == e.focusOffset;
  }
  setRange(e) {
    let { anchorNode: n, focusNode: r } = e;
    this.set(n, Math.min(e.anchorOffset, n ? Us(n) : 0), r, Math.min(e.focusOffset, r ? Us(r) : 0));
  }
  set(e, n, r, i) {
    this.anchorNode = e, this.anchorOffset = n, this.focusNode = r, this.focusOffset = i;
  }
}
let Wl = null;
function aO(t) {
  if (t.setActive)
    return t.setActive();
  if (Wl)
    return t.focus(Wl);
  let e = [];
  for (let n = t; n && (e.push(n, n.scrollTop, n.scrollLeft), n != n.ownerDocument); n = n.parentNode)
    ;
  if (t.focus(Wl == null ? {
    get preventScroll() {
      return Wl = { preventScroll: !0 }, !0;
    }
  } : void 0), !Wl) {
    Wl = !1;
    for (let n = 0; n < e.length; ) {
      let r = e[n++], i = e[n++], o = e[n++];
      r.scrollTop != i && (r.scrollTop = i), r.scrollLeft != o && (r.scrollLeft = o);
    }
  }
}
let qx;
function xl(t, e, n = e) {
  let r = qx || (qx = document.createRange());
  return r.setEnd(t, n), r.setStart(t, e), r;
}
function yc(t, e, n) {
  let r = { key: e, code: e, keyCode: n, which: n, cancelable: !0 }, i = new KeyboardEvent("keydown", r);
  i.synthetic = !0, t.dispatchEvent(i);
  let o = new KeyboardEvent("keyup", r);
  return o.synthetic = !0, t.dispatchEvent(o), i.defaultPrevented || o.defaultPrevented;
}
function vH(t) {
  for (; t; ) {
    if (t && (t.nodeType == 9 || t.nodeType == 11 && t.host))
      return t;
    t = t.assignedSlot || t.parentNode;
  }
  return null;
}
function lO(t) {
  for (; t.attributes.length; )
    t.removeAttributeNode(t.attributes[0]);
}
function yH(t, e) {
  let n = e.focusNode, r = e.focusOffset;
  if (!n || e.anchorNode != n || e.anchorOffset != r)
    return !1;
  for (r = Math.min(r, Us(n)); ; )
    if (r) {
      if (n.nodeType != 1)
        return !1;
      let i = n.childNodes[r - 1];
      i.contentEditable == "false" ? r-- : (n = i, r = Us(n));
    } else {
      if (n == t)
        return !0;
      r = pf(n), n = n.parentNode;
    }
}
function cO(t) {
  return t.scrollTop > Math.max(1, t.scrollHeight - t.clientHeight - 4);
}
class fi {
  constructor(e, n, r = !0) {
    this.node = e, this.offset = n, this.precise = r;
  }
  static before(e, n) {
    return new fi(e.parentNode, pf(e), n);
  }
  static after(e, n) {
    return new fi(e.parentNode, pf(e) + 1, n);
  }
}
const jy = [];
class ur {
  constructor() {
    this.parent = null, this.dom = null, this.flags = 2;
  }
  get overrideDOMText() {
    return null;
  }
  get posAtStart() {
    return this.parent ? this.parent.posBefore(this) : 0;
  }
  get posAtEnd() {
    return this.posAtStart + this.length;
  }
  posBefore(e) {
    let n = this.posAtStart;
    for (let r of this.children) {
      if (r == e)
        return n;
      n += r.length + r.breakAfter;
    }
    throw new RangeError("Invalid child in posBefore");
  }
  posAfter(e) {
    return this.posBefore(e) + e.length;
  }
  sync(e, n) {
    if (this.flags & 2) {
      let r = this.dom, i = null, o;
      for (let s of this.children) {
        if (s.flags & 7) {
          if (!s.dom && (o = i ? i.nextSibling : r.firstChild)) {
            let a = ur.get(o);
            (!a || !a.parent && a.canReuseDOM(s)) && s.reuseDOM(o);
          }
          s.sync(e, n), s.flags &= -8;
        }
        if (o = i ? i.nextSibling : r.firstChild, n && !n.written && n.node == r && o != s.dom && (n.written = !0), s.dom.parentNode == r)
          for (; o && o != s.dom; )
            o = zx(o);
        else
          r.insertBefore(s.dom, o);
        i = s.dom;
      }
      for (o = i ? i.nextSibling : r.firstChild, o && n && n.node == r && (n.written = !0); o; )
        o = zx(o);
    } else if (this.flags & 1)
      for (let r of this.children)
        r.flags & 7 && (r.sync(e, n), r.flags &= -8);
  }
  reuseDOM(e) {
  }
  localPosFromDOM(e, n) {
    let r;
    if (e == this.dom)
      r = this.dom.childNodes[n];
    else {
      let i = Us(e) == 0 ? 0 : n == 0 ? -1 : 1;
      for (; ; ) {
        let o = e.parentNode;
        if (o == this.dom)
          break;
        i == 0 && o.firstChild != o.lastChild && (e == o.firstChild ? i = -1 : i = 1), e = o;
      }
      i < 0 ? r = e : r = e.nextSibling;
    }
    if (r == this.dom.firstChild)
      return 0;
    for (; r && !ur.get(r); )
      r = r.nextSibling;
    if (!r)
      return this.length;
    for (let i = 0, o = 0; ; i++) {
      let s = this.children[i];
      if (s.dom == r)
        return o;
      o += s.length + s.breakAfter;
    }
  }
  domBoundsAround(e, n, r = 0) {
    let i = -1, o = -1, s = -1, a = -1;
    for (let l = 0, c = r, u = r; l < this.children.length; l++) {
      let f = this.children[l], d = c + f.length;
      if (c < e && d > n)
        return f.domBoundsAround(e, n, c);
      if (d >= e && i == -1 && (i = l, o = c), c > n && f.dom.parentNode == this.dom) {
        s = l, a = u;
        break;
      }
      u = d, c = d + f.breakAfter;
    }
    return {
      from: o,
      to: a < 0 ? r + this.length : a,
      startDOM: (i ? this.children[i - 1].dom.nextSibling : null) || this.dom.firstChild,
      endDOM: s < this.children.length && s >= 0 ? this.children[s].dom : null
    };
  }
  markDirty(e = !1) {
    this.flags |= 2, this.markParentsDirty(e);
  }
  markParentsDirty(e) {
    for (let n = this.parent; n; n = n.parent) {
      if (e && (n.flags |= 2), n.flags & 1)
        return;
      n.flags |= 1, e = !1;
    }
  }
  setParent(e) {
    this.parent != e && (this.parent = e, this.flags & 7 && this.markParentsDirty(!0));
  }
  setDOM(e) {
    this.dom != e && (this.dom && (this.dom.cmView = null), this.dom = e, e.cmView = this);
  }
  get rootView() {
    for (let e = this; ; ) {
      let n = e.parent;
      if (!n)
        return e;
      e = n;
    }
  }
  replaceChildren(e, n, r = jy) {
    this.markDirty();
    for (let i = e; i < n; i++) {
      let o = this.children[i];
      o.parent == this && r.indexOf(o) < 0 && o.destroy();
    }
    this.children.splice(e, n - e, ...r);
    for (let i = 0; i < r.length; i++)
      r[i].setParent(this);
  }
  ignoreMutation(e) {
    return !1;
  }
  ignoreEvent(e) {
    return !1;
  }
  childCursor(e = this.length) {
    return new uO(this.children, e, this.children.length);
  }
  childPos(e, n = 1) {
    return this.childCursor().findPos(e, n);
  }
  toString() {
    let e = this.constructor.name.replace("View", "");
    return e + (this.children.length ? "(" + this.children.join() + ")" : this.length ? "[" + (e == "Text" ? this.text : this.length) + "]" : "") + (this.breakAfter ? "#" : "");
  }
  static get(e) {
    return e.cmView;
  }
  get isEditable() {
    return !0;
  }
  get isWidget() {
    return !1;
  }
  get isHidden() {
    return !1;
  }
  merge(e, n, r, i, o, s) {
    return !1;
  }
  become(e) {
    return !1;
  }
  canReuseDOM(e) {
    return e.constructor == this.constructor && !((this.flags | e.flags) & 8);
  }
  // When this is a zero-length view with a side, this should return a
  // number <= 0 to indicate it is before its position, or a
  // number > 0 when after its position.
  getSide() {
    return 0;
  }
  destroy() {
    for (let e of this.children)
      e.parent == this && e.destroy();
    this.parent = null;
  }
}
ur.prototype.breakAfter = 0;
function zx(t) {
  let e = t.nextSibling;
  return t.parentNode.removeChild(t), e;
}
class uO {
  constructor(e, n, r) {
    this.children = e, this.pos = n, this.i = r, this.off = 0;
  }
  findPos(e, n = 1) {
    for (; ; ) {
      if (e > this.pos || e == this.pos && (n > 0 || this.i == 0 || this.children[this.i - 1].breakAfter))
        return this.off = e - this.pos, this;
      let r = this.children[--this.i];
      this.pos -= r.length + r.breakAfter;
    }
  }
}
function fO(t, e, n, r, i, o, s, a, l) {
  let { children: c } = t, u = c.length ? c[e] : null, f = o.length ? o[o.length - 1] : null, d = f ? f.breakAfter : s;
  if (!(e == r && u && !s && !d && o.length < 2 && u.merge(n, i, o.length ? f : null, n == 0, a, l))) {
    if (r < c.length) {
      let h = c[r];
      h && (i < h.length || h.breakAfter && (f != null && f.breakAfter)) ? (e == r && (h = h.split(i), i = 0), !d && f && h.merge(0, i, f, !0, 0, l) ? o[o.length - 1] = h : ((i || h.children.length && !h.children[0].length) && h.merge(0, i, null, !1, 0, l), o.push(h))) : h != null && h.breakAfter && (f ? f.breakAfter = 1 : s = 1), r++;
    }
    for (u && (u.breakAfter = s, n > 0 && (!s && o.length && u.merge(n, u.length, o[0], !1, a, 0) ? u.breakAfter = o.shift().breakAfter : (n < u.length || u.children.length && u.children[u.children.length - 1].length == 0) && u.merge(n, u.length, null, !1, a, 0), e++)); e < r && o.length; )
      if (c[r - 1].become(o[o.length - 1]))
        r--, o.pop(), l = o.length ? 0 : a;
      else if (c[e].become(o[0]))
        e++, o.shift(), a = o.length ? 0 : l;
      else
        break;
    !o.length && e && r < c.length && !c[e - 1].breakAfter && c[r].merge(0, 0, c[e - 1], !1, a, l) && e--, (e < r || o.length) && t.replaceChildren(e, r, o);
  }
}
function dO(t, e, n, r, i, o) {
  let s = t.childCursor(), { i: a, off: l } = s.findPos(n, 1), { i: c, off: u } = s.findPos(e, -1), f = e - n;
  for (let d of r)
    f += d.length;
  t.length += f, fO(t, c, u, a, l, r, 0, i, o);
}
let Gi = typeof navigator < "u" ? navigator : { userAgent: "", vendor: "", platform: "" }, Mv = typeof document < "u" ? document : { documentElement: { style: {} } };
const Tv = /* @__PURE__ */ /Edge\/(\d+)/.exec(Gi.userAgent), hO = /* @__PURE__ */ /MSIE \d/.test(Gi.userAgent), Rv = /* @__PURE__ */ /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Gi.userAgent), dm = !!(hO || Rv || Tv), Fx = !dm && /* @__PURE__ */ /gecko\/(\d+)/i.test(Gi.userAgent), og = !dm && /* @__PURE__ */ /Chrome\/(\d+)/.exec(Gi.userAgent), Vx = "webkitFontSmoothing" in Mv.documentElement.style, pO = !dm && /* @__PURE__ */ /Apple Computer/.test(Gi.vendor), Wx = pO && (/* @__PURE__ */ /Mobile\/\w+/.test(Gi.userAgent) || Gi.maxTouchPoints > 2);
var xt = {
  mac: Wx || /* @__PURE__ */ /Mac/.test(Gi.platform),
  windows: /* @__PURE__ */ /Win/.test(Gi.platform),
  linux: /* @__PURE__ */ /Linux|X11/.test(Gi.platform),
  ie: dm,
  ie_version: hO ? Mv.documentMode || 6 : Rv ? +Rv[1] : Tv ? +Tv[1] : 0,
  gecko: Fx,
  gecko_version: Fx ? +(/* @__PURE__ */ /Firefox\/(\d+)/.exec(Gi.userAgent) || [0, 0])[1] : 0,
  chrome: !!og,
  chrome_version: og ? +og[1] : 0,
  ios: Wx,
  android: /* @__PURE__ */ /Android\b/.test(Gi.userAgent),
  webkit: Vx,
  safari: pO,
  webkit_version: Vx ? +(/* @__PURE__ */ /\bAppleWebKit\/(\d+)/.exec(navigator.userAgent) || [0, 0])[1] : 0,
  tabSize: Mv.documentElement.style.tabSize != null ? "tab-size" : "-moz-tab-size"
};
const bH = 256;
class Js extends ur {
  constructor(e) {
    super(), this.text = e;
  }
  get length() {
    return this.text.length;
  }
  createDOM(e) {
    this.setDOM(e || document.createTextNode(this.text));
  }
  sync(e, n) {
    this.dom || this.createDOM(), this.dom.nodeValue != this.text && (n && n.node == this.dom && (n.written = !0), this.dom.nodeValue = this.text);
  }
  reuseDOM(e) {
    e.nodeType == 3 && this.createDOM(e);
  }
  merge(e, n, r) {
    return this.flags & 8 || r && (!(r instanceof Js) || this.length - (n - e) + r.length > bH || r.flags & 8) ? !1 : (this.text = this.text.slice(0, e) + (r ? r.text : "") + this.text.slice(n), this.markDirty(), !0);
  }
  split(e) {
    let n = new Js(this.text.slice(e));
    return this.text = this.text.slice(0, e), this.markDirty(), n.flags |= this.flags & 8, n;
  }
  localPosFromDOM(e, n) {
    return e == this.dom ? n : n ? this.text.length : 0;
  }
  domAtPos(e) {
    return new fi(this.dom, e);
  }
  domBoundsAround(e, n, r) {
    return { from: r, to: r + this.length, startDOM: this.dom, endDOM: this.dom.nextSibling };
  }
  coordsAt(e, n) {
    return xH(this.dom, e, n);
  }
}
class Gs extends ur {
  constructor(e, n = [], r = 0) {
    super(), this.mark = e, this.children = n, this.length = r;
    for (let i of n)
      i.setParent(this);
  }
  setAttrs(e) {
    if (lO(e), this.mark.class && (e.className = this.mark.class), this.mark.attrs)
      for (let n in this.mark.attrs)
        e.setAttribute(n, this.mark.attrs[n]);
    return e;
  }
  canReuseDOM(e) {
    return super.canReuseDOM(e) && !((this.flags | e.flags) & 8);
  }
  reuseDOM(e) {
    e.nodeName == this.mark.tagName.toUpperCase() && (this.setDOM(e), this.flags |= 6);
  }
  sync(e, n) {
    this.dom ? this.flags & 4 && this.setAttrs(this.dom) : this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))), super.sync(e, n);
  }
  merge(e, n, r, i, o, s) {
    return r && (!(r instanceof Gs && r.mark.eq(this.mark)) || e && o <= 0 || n < this.length && s <= 0) ? !1 : (dO(this, e, n, r ? r.children.slice() : [], o - 1, s - 1), this.markDirty(), !0);
  }
  split(e) {
    let n = [], r = 0, i = -1, o = 0;
    for (let a of this.children) {
      let l = r + a.length;
      l > e && n.push(r < e ? a.split(e - r) : a), i < 0 && r >= e && (i = o), r = l, o++;
    }
    let s = this.length - e;
    return this.length = e, i > -1 && (this.children.length = i, this.markDirty()), new Gs(this.mark, n, s);
  }
  domAtPos(e) {
    return mO(this, e);
  }
  coordsAt(e, n) {
    return vO(this, e, n);
  }
}
function xH(t, e, n) {
  let r = t.nodeValue.length;
  e > r && (e = r);
  let i = e, o = e, s = 0;
  e == 0 && n < 0 || e == r && n >= 0 ? xt.chrome || xt.gecko || (e ? (i--, s = 1) : o < r && (o++, s = -1)) : n < 0 ? i-- : o < r && o++;
  let a = xl(t, i, o).getClientRects();
  if (!a.length)
    return null;
  let l = a[(s ? s < 0 : n >= 0) ? 0 : a.length - 1];
  return xt.safari && !s && l.width == 0 && (l = Array.prototype.find.call(a, (c) => c.width) || l), s ? wy(l, s < 0) : l || null;
}
class ma extends ur {
  static create(e, n, r) {
    return new ma(e, n, r);
  }
  constructor(e, n, r) {
    super(), this.widget = e, this.length = n, this.side = r, this.prevWidget = null;
  }
  split(e) {
    let n = ma.create(this.widget, this.length - e, this.side);
    return this.length -= e, n;
  }
  sync(e) {
    (!this.dom || !this.widget.updateDOM(this.dom, e)) && (this.dom && this.prevWidget && this.prevWidget.destroy(this.dom), this.prevWidget = null, this.setDOM(this.widget.toDOM(e)), this.widget.editable || (this.dom.contentEditable = "false"));
  }
  getSide() {
    return this.side;
  }
  merge(e, n, r, i, o, s) {
    return r && (!(r instanceof ma) || !this.widget.compare(r.widget) || e > 0 && o <= 0 || n < this.length && s <= 0) ? !1 : (this.length = e + (r ? r.length : 0) + (this.length - n), !0);
  }
  become(e) {
    return e instanceof ma && e.side == this.side && this.widget.constructor == e.widget.constructor ? (this.widget.compare(e.widget) || this.markDirty(!0), this.dom && !this.prevWidget && (this.prevWidget = this.widget), this.widget = e.widget, this.length = e.length, !0) : !1;
  }
  ignoreMutation() {
    return !0;
  }
  ignoreEvent(e) {
    return this.widget.ignoreEvent(e);
  }
  get overrideDOMText() {
    if (this.length == 0)
      return Pn.empty;
    let e = this;
    for (; e.parent; )
      e = e.parent;
    let { view: n } = e, r = n && n.state.doc, i = this.posAtStart;
    return r ? r.slice(i, i + this.length) : Pn.empty;
  }
  domAtPos(e) {
    return (this.length ? e == 0 : this.side > 0) ? fi.before(this.dom) : fi.after(this.dom, e == this.length);
  }
  domBoundsAround() {
    return null;
  }
  coordsAt(e, n) {
    let r = this.widget.coordsAt(this.dom, e, n);
    if (r)
      return r;
    let i = this.dom.getClientRects(), o = null;
    if (!i.length)
      return null;
    let s = this.side ? this.side < 0 : e > 0;
    for (let a = s ? i.length - 1 : 0; o = i[a], !(e > 0 ? a == 0 : a == i.length - 1 || o.top < o.bottom); a += s ? -1 : 1)
      ;
    return wy(o, !s);
  }
  get isEditable() {
    return !1;
  }
  get isWidget() {
    return !0;
  }
  get isHidden() {
    return this.widget.isHidden;
  }
  destroy() {
    super.destroy(), this.dom && this.widget.destroy(this.dom);
  }
}
class Mc extends ur {
  constructor(e) {
    super(), this.side = e;
  }
  get length() {
    return 0;
  }
  merge() {
    return !1;
  }
  become(e) {
    return e instanceof Mc && e.side == this.side;
  }
  split() {
    return new Mc(this.side);
  }
  sync() {
    if (!this.dom) {
      let e = document.createElement("img");
      e.className = "cm-widgetBuffer", e.setAttribute("aria-hidden", "true"), this.setDOM(e);
    }
  }
  getSide() {
    return this.side;
  }
  domAtPos(e) {
    return this.side > 0 ? fi.before(this.dom) : fi.after(this.dom);
  }
  localPosFromDOM() {
    return 0;
  }
  domBoundsAround() {
    return null;
  }
  coordsAt(e) {
    return this.dom.getBoundingClientRect();
  }
  get overrideDOMText() {
    return Pn.empty;
  }
  get isHidden() {
    return !0;
  }
}
Js.prototype.children = ma.prototype.children = Mc.prototype.children = jy;
function mO(t, e) {
  let n = t.dom, { children: r } = t, i = 0;
  for (let o = 0; i < r.length; i++) {
    let s = r[i], a = o + s.length;
    if (!(a == o && s.getSide() <= 0)) {
      if (e > o && e < a && s.dom.parentNode == n)
        return s.domAtPos(e - o);
      if (e <= o)
        break;
      o = a;
    }
  }
  for (let o = i; o > 0; o--) {
    let s = r[o - 1];
    if (s.dom.parentNode == n)
      return s.domAtPos(s.length);
  }
  for (let o = i; o < r.length; o++) {
    let s = r[o];
    if (s.dom.parentNode == n)
      return s.domAtPos(0);
  }
  return new fi(n, 0);
}
function gO(t, e, n) {
  let r, { children: i } = t;
  n > 0 && e instanceof Gs && i.length && (r = i[i.length - 1]) instanceof Gs && r.mark.eq(e.mark) ? gO(r, e.children[0], n - 1) : (i.push(e), e.setParent(t)), t.length += e.length;
}
function vO(t, e, n) {
  let r = null, i = -1, o = null, s = -1;
  function a(c, u) {
    for (let f = 0, d = 0; f < c.children.length && d <= u; f++) {
      let h = c.children[f], p = d + h.length;
      p >= u && (h.children.length ? a(h, u - d) : (!o || o.isHidden && n > 0) && (p > u || d == p && h.getSide() > 0) ? (o = h, s = u - d) : (d < u || d == p && h.getSide() < 0 && !h.isHidden) && (r = h, i = u - d)), d = p;
    }
  }
  a(t, e);
  let l = (n < 0 ? r : o) || r || o;
  return l ? l.coordsAt(Math.max(0, l == r ? i : s), n) : wH(t);
}
function wH(t) {
  let e = t.dom.lastChild;
  if (!e)
    return t.dom.getBoundingClientRect();
  let n = hf(e);
  return n[n.length - 1] || null;
}
function Pv(t, e) {
  for (let n in t)
    n == "class" && e.class ? e.class += " " + t.class : n == "style" && e.style ? e.style += ";" + t.style : e[n] = t[n];
  return e;
}
const Hx = /* @__PURE__ */ Object.create(null);
function $y(t, e, n) {
  if (t == e)
    return !0;
  t || (t = Hx), e || (e = Hx);
  let r = Object.keys(t), i = Object.keys(e);
  if (r.length - (n && r.indexOf(n) > -1 ? 1 : 0) != i.length - (n && i.indexOf(n) > -1 ? 1 : 0))
    return !1;
  for (let o of r)
    if (o != n && (i.indexOf(o) == -1 || t[o] !== e[o]))
      return !1;
  return !0;
}
function Iv(t, e, n) {
  let r = !1;
  if (e)
    for (let i in e)
      n && i in n || (r = !0, i == "style" ? t.style.cssText = "" : t.removeAttribute(i));
  if (n)
    for (let i in n)
      e && e[i] == n[i] || (r = !0, i == "style" ? t.style.cssText = n[i] : t.setAttribute(i, n[i]));
  return r;
}
function jH(t) {
  let e = /* @__PURE__ */ Object.create(null);
  for (let n = 0; n < t.attributes.length; n++) {
    let r = t.attributes[n];
    e[r.name] = r.value;
  }
  return e;
}
class Lr extends ur {
  constructor() {
    super(...arguments), this.children = [], this.length = 0, this.prevAttrs = void 0, this.attrs = null, this.breakAfter = 0;
  }
  // Consumes source
  merge(e, n, r, i, o, s) {
    if (r) {
      if (!(r instanceof Lr))
        return !1;
      this.dom || r.transferDOM(this);
    }
    return i && this.setDeco(r ? r.attrs : null), dO(this, e, n, r ? r.children.slice() : [], o, s), !0;
  }
  split(e) {
    let n = new Lr();
    if (n.breakAfter = this.breakAfter, this.length == 0)
      return n;
    let { i: r, off: i } = this.childPos(e);
    i && (n.append(this.children[r].split(i), 0), this.children[r].merge(i, this.children[r].length, null, !1, 0, 0), r++);
    for (let o = r; o < this.children.length; o++)
      n.append(this.children[o], 0);
    for (; r > 0 && this.children[r - 1].length == 0; )
      this.children[--r].destroy();
    return this.children.length = r, this.markDirty(), this.length = e, n;
  }
  transferDOM(e) {
    this.dom && (this.markDirty(), e.setDOM(this.dom), e.prevAttrs = this.prevAttrs === void 0 ? this.attrs : this.prevAttrs, this.prevAttrs = void 0, this.dom = null);
  }
  setDeco(e) {
    $y(this.attrs, e) || (this.dom && (this.prevAttrs = this.attrs, this.markDirty()), this.attrs = e);
  }
  append(e, n) {
    gO(this, e, n);
  }
  // Only called when building a line view in ContentBuilder
  addLineDeco(e) {
    let n = e.spec.attributes, r = e.spec.class;
    n && (this.attrs = Pv(n, this.attrs || {})), r && (this.attrs = Pv({ class: r }, this.attrs || {}));
  }
  domAtPos(e) {
    return mO(this, e);
  }
  reuseDOM(e) {
    e.nodeName == "DIV" && (this.setDOM(e), this.flags |= 6);
  }
  sync(e, n) {
    var r;
    this.dom ? this.flags & 4 && (lO(this.dom), this.dom.className = "cm-line", this.prevAttrs = this.attrs ? null : void 0) : (this.setDOM(document.createElement("div")), this.dom.className = "cm-line", this.prevAttrs = this.attrs ? null : void 0), this.prevAttrs !== void 0 && (Iv(this.dom, this.prevAttrs, this.attrs), this.dom.classList.add("cm-line"), this.prevAttrs = void 0), super.sync(e, n);
    let i = this.dom.lastChild;
    for (; i && ur.get(i) instanceof Gs; )
      i = i.lastChild;
    if (!i || !this.length || i.nodeName != "BR" && ((r = ur.get(i)) === null || r === void 0 ? void 0 : r.isEditable) == !1 && (!xt.ios || !this.children.some((o) => o instanceof Js))) {
      let o = document.createElement("BR");
      o.cmIgnore = !0, this.dom.appendChild(o);
    }
  }
  measureTextSize() {
    if (this.children.length == 0 || this.length > 20)
      return null;
    let e = 0, n;
    for (let r of this.children) {
      if (!(r instanceof Js) || /[^ -~]/.test(r.text))
        return null;
      let i = hf(r.dom);
      if (i.length != 1)
        return null;
      e += i[0].width, n = i[0].height;
    }
    return e ? {
      lineHeight: this.dom.getBoundingClientRect().height,
      charWidth: e / this.length,
      textHeight: n
    } : null;
  }
  coordsAt(e, n) {
    let r = vO(this, e, n);
    if (!this.children.length && r && this.parent) {
      let { heightOracle: i } = this.parent.view.viewState, o = r.bottom - r.top;
      if (Math.abs(o - i.lineHeight) < 2 && i.textHeight < o) {
        let s = (o - i.textHeight) / 2;
        return { top: r.top + s, bottom: r.bottom - s, left: r.left, right: r.left };
      }
    }
    return r;
  }
  become(e) {
    return !1;
  }
  covers() {
    return !0;
  }
  static find(e, n) {
    for (let r = 0, i = 0; r < e.children.length; r++) {
      let o = e.children[r], s = i + o.length;
      if (s >= n) {
        if (o instanceof Lr)
          return o;
        if (s > n)
          break;
      }
      i = s + o.breakAfter;
    }
    return null;
  }
}
class xa extends ur {
  constructor(e, n, r) {
    super(), this.widget = e, this.length = n, this.deco = r, this.breakAfter = 0, this.prevWidget = null;
  }
  merge(e, n, r, i, o, s) {
    return r && (!(r instanceof xa) || !this.widget.compare(r.widget) || e > 0 && o <= 0 || n < this.length && s <= 0) ? !1 : (this.length = e + (r ? r.length : 0) + (this.length - n), !0);
  }
  domAtPos(e) {
    return e == 0 ? fi.before(this.dom) : fi.after(this.dom, e == this.length);
  }
  split(e) {
    let n = this.length - e;
    this.length = e;
    let r = new xa(this.widget, n, this.deco);
    return r.breakAfter = this.breakAfter, r;
  }
  get children() {
    return jy;
  }
  sync(e) {
    (!this.dom || !this.widget.updateDOM(this.dom, e)) && (this.dom && this.prevWidget && this.prevWidget.destroy(this.dom), this.prevWidget = null, this.setDOM(this.widget.toDOM(e)), this.widget.editable || (this.dom.contentEditable = "false"));
  }
  get overrideDOMText() {
    return this.parent ? this.parent.view.state.doc.slice(this.posAtStart, this.posAtEnd) : Pn.empty;
  }
  domBoundsAround() {
    return null;
  }
  become(e) {
    return e instanceof xa && e.widget.constructor == this.widget.constructor ? (e.widget.compare(this.widget) || this.markDirty(!0), this.dom && !this.prevWidget && (this.prevWidget = this.widget), this.widget = e.widget, this.length = e.length, this.deco = e.deco, this.breakAfter = e.breakAfter, !0) : !1;
  }
  ignoreMutation() {
    return !0;
  }
  ignoreEvent(e) {
    return this.widget.ignoreEvent(e);
  }
  get isEditable() {
    return !1;
  }
  get isWidget() {
    return !0;
  }
  coordsAt(e, n) {
    return this.widget.coordsAt(this.dom, e, n);
  }
  destroy() {
    super.destroy(), this.dom && this.widget.destroy(this.dom);
  }
  covers(e) {
    let { startSide: n, endSide: r } = this.deco;
    return n == r ? !1 : e < 0 ? n < 0 : r > 0;
  }
}
class Ua {
  /**
  Compare this instance to another instance of the same type.
  (TypeScript can't express this, but only instances of the same
  specific class will be passed to this method.) This is used to
  avoid redrawing widgets when they are replaced by a new
  decoration of the same type. The default implementation just
  returns `false`, which will cause new instances of the widget to
  always be redrawn.
  */
  eq(e) {
    return !1;
  }
  /**
  Update a DOM element created by a widget of the same type (but
  different, non-`eq` content) to reflect this widget. May return
  true to indicate that it could update, false to indicate it
  couldn't (in which case the widget will be redrawn). The default
  implementation just returns false.
  */
  updateDOM(e, n) {
    return !1;
  }
  /**
  @internal
  */
  compare(e) {
    return this == e || this.constructor == e.constructor && this.eq(e);
  }
  /**
  The estimated height this widget will have, to be used when
  estimating the height of content that hasn't been drawn. May
  return -1 to indicate you don't know. The default implementation
  returns -1.
  */
  get estimatedHeight() {
    return -1;
  }
  /**
  For inline widgets that are displayed inline (as opposed to
  `inline-block`) and introduce line breaks (through `<br>` tags
  or textual newlines), this must indicate the amount of line
  breaks they introduce. Defaults to 0.
  */
  get lineBreaks() {
    return 0;
  }
  /**
  Can be used to configure which kinds of events inside the widget
  should be ignored by the editor. The default is to ignore all
  events.
  */
  ignoreEvent(e) {
    return !0;
  }
  /**
  Override the way screen coordinates for positions at/in the
  widget are found. `pos` will be the offset into the widget, and
  `side` the side of the position that is being queriedless than
  zero for before, greater than zero for after, and zero for
  directly at that position.
  */
  coordsAt(e, n, r) {
    return null;
  }
  /**
  @internal
  */
  get isHidden() {
    return !1;
  }
  /**
  @internal
  */
  get editable() {
    return !1;
  }
  /**
  This is called when the an instance of the widget is removed
  from the editor view.
  */
  destroy(e) {
  }
}
var ji = /* @__PURE__ */ function(t) {
  return t[t.Text = 0] = "Text", t[t.WidgetBefore = 1] = "WidgetBefore", t[t.WidgetAfter = 2] = "WidgetAfter", t[t.WidgetRange = 3] = "WidgetRange", t;
}(ji || (ji = {}));
class Bt extends bl {
  constructor(e, n, r, i) {
    super(), this.startSide = e, this.endSide = n, this.widget = r, this.spec = i;
  }
  /**
  @internal
  */
  get heightRelevant() {
    return !1;
  }
  /**
  Create a mark decoration, which influences the styling of the
  content in its range. Nested mark decorations will cause nested
  DOM elements to be created. Nesting order is determined by
  precedence of the [facet](https://codemirror.net/6/docs/ref/#view.EditorView^decorations), with
  the higher-precedence decorations creating the inner DOM nodes.
  Such elements are split on line boundaries and on the boundaries
  of lower-precedence decorations.
  */
  static mark(e) {
    return new Hf(e);
  }
  /**
  Create a widget decoration, which displays a DOM element at the
  given position.
  */
  static widget(e) {
    let n = Math.max(-1e4, Math.min(1e4, e.side || 0)), r = !!e.block;
    return n += r && !e.inlineOrder ? n > 0 ? 3e8 : -4e8 : n > 0 ? 1e8 : -1e8, new Pa(e, n, n, r, e.widget || null, !1);
  }
  /**
  Create a replace decoration which replaces the given range with
  a widget, or simply hides it.
  */
  static replace(e) {
    let n = !!e.block, r, i;
    if (e.isBlockGap)
      r = -5e8, i = 4e8;
    else {
      let { start: o, end: s } = yO(e, n);
      r = (o ? n ? -3e8 : -1 : 5e8) - 1, i = (s ? n ? 2e8 : 1 : -6e8) + 1;
    }
    return new Pa(e, r, i, n, e.widget || null, !0);
  }
  /**
  Create a line decoration, which can add DOM attributes to the
  line starting at the given position.
  */
  static line(e) {
    return new Uf(e);
  }
  /**
  Build a [`DecorationSet`](https://codemirror.net/6/docs/ref/#view.DecorationSet) from the given
  decorated range or ranges. If the ranges aren't already sorted,
  pass `true` for `sort` to make the library sort them for you.
  */
  static set(e, n = !1) {
    return Cn.of(e, n);
  }
  /**
  @internal
  */
  hasHeight() {
    return this.widget ? this.widget.estimatedHeight > -1 : !1;
  }
}
Bt.none = Cn.empty;
class Hf extends Bt {
  constructor(e) {
    let { start: n, end: r } = yO(e);
    super(n ? -1 : 5e8, r ? 1 : -6e8, null, e), this.tagName = e.tagName || "span", this.class = e.class || "", this.attrs = e.attributes || null;
  }
  eq(e) {
    var n, r;
    return this == e || e instanceof Hf && this.tagName == e.tagName && (this.class || ((n = this.attrs) === null || n === void 0 ? void 0 : n.class)) == (e.class || ((r = e.attrs) === null || r === void 0 ? void 0 : r.class)) && $y(this.attrs, e.attrs, "class");
  }
  range(e, n = e) {
    if (e >= n)
      throw new RangeError("Mark decorations may not be empty");
    return super.range(e, n);
  }
}
Hf.prototype.point = !1;
class Uf extends Bt {
  constructor(e) {
    super(-2e8, -2e8, null, e);
  }
  eq(e) {
    return e instanceof Uf && this.spec.class == e.spec.class && $y(this.spec.attributes, e.spec.attributes);
  }
  range(e, n = e) {
    if (n != e)
      throw new RangeError("Line decoration ranges must be zero-length");
    return super.range(e, n);
  }
}
Uf.prototype.mapMode = wi.TrackBefore;
Uf.prototype.point = !0;
class Pa extends Bt {
  constructor(e, n, r, i, o, s) {
    super(n, r, o, e), this.block = i, this.isReplace = s, this.mapMode = i ? n <= 0 ? wi.TrackBefore : wi.TrackAfter : wi.TrackDel;
  }
  // Only relevant when this.block == true
  get type() {
    return this.startSide != this.endSide ? ji.WidgetRange : this.startSide <= 0 ? ji.WidgetBefore : ji.WidgetAfter;
  }
  get heightRelevant() {
    return this.block || !!this.widget && (this.widget.estimatedHeight >= 5 || this.widget.lineBreaks > 0);
  }
  eq(e) {
    return e instanceof Pa && $H(this.widget, e.widget) && this.block == e.block && this.startSide == e.startSide && this.endSide == e.endSide;
  }
  range(e, n = e) {
    if (this.isReplace && (e > n || e == n && this.startSide > 0 && this.endSide <= 0))
      throw new RangeError("Invalid range for replacement decoration");
    if (!this.isReplace && n != e)
      throw new RangeError("Widget decorations can only have zero-length ranges");
    return super.range(e, n);
  }
}
Pa.prototype.point = !0;
function yO(t, e = !1) {
  let { inclusiveStart: n, inclusiveEnd: r } = t;
  return n == null && (n = t.inclusive), r == null && (r = t.inclusive), { start: n ?? e, end: r ?? e };
}
function $H(t, e) {
  return t == e || !!(t && e && t.compare(e));
}
function Nv(t, e, n, r = 0) {
  let i = n.length - 1;
  i >= 0 && n[i] + r >= t ? n[i] = Math.max(n[i], e) : n.push(t, e);
}
class Vu {
  constructor(e, n, r, i) {
    this.doc = e, this.pos = n, this.end = r, this.disallowBlockEffectsFor = i, this.content = [], this.curLine = null, this.breakAtStart = 0, this.pendingBuffer = 0, this.bufferMarks = [], this.atCursorPos = !0, this.openStart = -1, this.openEnd = -1, this.text = "", this.textOff = 0, this.cursor = e.iter(), this.skip = n;
  }
  posCovered() {
    if (this.content.length == 0)
      return !this.breakAtStart && this.doc.lineAt(this.pos).from != this.pos;
    let e = this.content[this.content.length - 1];
    return !(e.breakAfter || e instanceof xa && e.deco.endSide < 0);
  }
  getLine() {
    return this.curLine || (this.content.push(this.curLine = new Lr()), this.atCursorPos = !0), this.curLine;
  }
  flushBuffer(e = this.bufferMarks) {
    this.pendingBuffer && (this.curLine.append(wd(new Mc(-1), e), e.length), this.pendingBuffer = 0);
  }
  addBlockWidget(e) {
    this.flushBuffer(), this.curLine = null, this.content.push(e);
  }
  finish(e) {
    this.pendingBuffer && e <= this.bufferMarks.length ? this.flushBuffer() : this.pendingBuffer = 0, !this.posCovered() && !(e && this.content.length && this.content[this.content.length - 1] instanceof xa) && this.getLine();
  }
  buildText(e, n, r) {
    for (; e > 0; ) {
      if (this.textOff == this.text.length) {
        let { value: o, lineBreak: s, done: a } = this.cursor.next(this.skip);
        if (this.skip = 0, a)
          throw new Error("Ran out of text content when drawing inline views");
        if (s) {
          this.posCovered() || this.getLine(), this.content.length ? this.content[this.content.length - 1].breakAfter = 1 : this.breakAtStart = 1, this.flushBuffer(), this.curLine = null, this.atCursorPos = !0, e--;
          continue;
        } else
          this.text = o, this.textOff = 0;
      }
      let i = Math.min(
        this.text.length - this.textOff,
        e,
        512
        /* T.Chunk */
      );
      this.flushBuffer(n.slice(n.length - r)), this.getLine().append(wd(new Js(this.text.slice(this.textOff, this.textOff + i)), n), r), this.atCursorPos = !0, this.textOff += i, e -= i, r = 0;
    }
  }
  span(e, n, r, i) {
    this.buildText(n - e, r, i), this.pos = n, this.openStart < 0 && (this.openStart = i);
  }
  point(e, n, r, i, o, s) {
    if (this.disallowBlockEffectsFor[s] && r instanceof Pa) {
      if (r.block)
        throw new RangeError("Block decorations may not be specified via plugins");
      if (n > this.doc.lineAt(this.pos).to)
        throw new RangeError("Decorations that replace line breaks may not be specified via plugins");
    }
    let a = n - e;
    if (r instanceof Pa)
      if (r.block)
        r.startSide > 0 && !this.posCovered() && this.getLine(), this.addBlockWidget(new xa(r.widget || new Ux("div"), a, r));
      else {
        let l = ma.create(r.widget || new Ux("span"), a, a ? 0 : r.startSide), c = this.atCursorPos && !l.isEditable && o <= i.length && (e < n || r.startSide > 0), u = !l.isEditable && (e < n || o > i.length || r.startSide <= 0), f = this.getLine();
        this.pendingBuffer == 2 && !c && !l.isEditable && (this.pendingBuffer = 0), this.flushBuffer(i), c && (f.append(wd(new Mc(1), i), o), o = i.length + Math.max(0, o - i.length)), f.append(wd(l, i), o), this.atCursorPos = u, this.pendingBuffer = u ? e < n || o > i.length ? 1 : 2 : 0, this.pendingBuffer && (this.bufferMarks = i.slice());
      }
    else
      this.doc.lineAt(this.pos).from == this.pos && this.getLine().addLineDeco(r);
    a && (this.textOff + a <= this.text.length ? this.textOff += a : (this.skip += a - (this.text.length - this.textOff), this.text = "", this.textOff = 0), this.pos = n), this.openStart < 0 && (this.openStart = o);
  }
  static build(e, n, r, i, o) {
    let s = new Vu(e, n, r, o);
    return s.openEnd = Cn.spans(i, n, r, s), s.openStart < 0 && (s.openStart = s.openEnd), s.finish(s.openEnd), s;
  }
}
function wd(t, e) {
  for (let n of e)
    t = new Gs(n, [t], t.length);
  return t;
}
class Ux extends Ua {
  constructor(e) {
    super(), this.tag = e;
  }
  eq(e) {
    return e.tag == this.tag;
  }
  toDOM() {
    return document.createElement(this.tag);
  }
  updateDOM(e) {
    return e.nodeName.toLowerCase() == this.tag;
  }
  get isHidden() {
    return !0;
  }
}
var fr = /* @__PURE__ */ function(t) {
  return t[t.LTR = 0] = "LTR", t[t.RTL = 1] = "RTL", t;
}(fr || (fr = {}));
const wl = fr.LTR, ky = fr.RTL;
function bO(t) {
  let e = [];
  for (let n = 0; n < t.length; n++)
    e.push(1 << +t[n]);
  return e;
}
const kH = /* @__PURE__ */ bO("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"), SH = /* @__PURE__ */ bO("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"), Dv = /* @__PURE__ */ Object.create(null), Yo = [];
for (let t of ["()", "[]", "{}"]) {
  let e = /* @__PURE__ */ t.charCodeAt(0), n = /* @__PURE__ */ t.charCodeAt(1);
  Dv[e] = n, Dv[n] = -e;
}
function xO(t) {
  return t <= 247 ? kH[t] : 1424 <= t && t <= 1524 ? 2 : 1536 <= t && t <= 1785 ? SH[t - 1536] : 1774 <= t && t <= 2220 ? 4 : 8192 <= t && t <= 8204 ? 256 : 64336 <= t && t <= 65023 ? 4 : 1;
}
const CH = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;
class ga {
  /**
  The direction of this span.
  */
  get dir() {
    return this.level % 2 ? ky : wl;
  }
  /**
  @internal
  */
  constructor(e, n, r) {
    this.from = e, this.to = n, this.level = r;
  }
  /**
  @internal
  */
  side(e, n) {
    return this.dir == n == e ? this.to : this.from;
  }
  /**
  @internal
  */
  forward(e, n) {
    return e == (this.dir == n);
  }
  /**
  @internal
  */
  static find(e, n, r, i) {
    let o = -1;
    for (let s = 0; s < e.length; s++) {
      let a = e[s];
      if (a.from <= n && a.to >= n) {
        if (a.level == r)
          return s;
        (o < 0 || (i != 0 ? i < 0 ? a.from < n : a.to > n : e[o].level > a.level)) && (o = s);
      }
    }
    if (o < 0)
      throw new RangeError("Index out of range");
    return o;
  }
}
function wO(t, e) {
  if (t.length != e.length)
    return !1;
  for (let n = 0; n < t.length; n++) {
    let r = t[n], i = e[n];
    if (r.from != i.from || r.to != i.to || r.direction != i.direction || !wO(r.inner, i.inner))
      return !1;
  }
  return !0;
}
const er = [];
function _H(t, e, n, r, i) {
  for (let o = 0; o <= r.length; o++) {
    let s = o ? r[o - 1].to : e, a = o < r.length ? r[o].from : n, l = o ? 256 : i;
    for (let c = s, u = l, f = l; c < a; c++) {
      let d = xO(t.charCodeAt(c));
      d == 512 ? d = u : d == 8 && f == 4 && (d = 16), er[c] = d == 4 ? 2 : d, d & 7 && (f = d), u = d;
    }
    for (let c = s, u = l, f = l; c < a; c++) {
      let d = er[c];
      if (d == 128)
        c < a - 1 && u == er[c + 1] && u & 24 ? d = er[c] = u : er[c] = 256;
      else if (d == 64) {
        let h = c + 1;
        for (; h < a && er[h] == 64; )
          h++;
        let p = c && u == 8 || h < n && er[h] == 8 ? f == 1 ? 1 : 8 : 256;
        for (let m = c; m < h; m++)
          er[m] = p;
        c = h - 1;
      } else
        d == 8 && f == 1 && (er[c] = 1);
      u = d, d & 7 && (f = d);
    }
  }
}
function OH(t, e, n, r, i) {
  let o = i == 1 ? 2 : 1;
  for (let s = 0, a = 0, l = 0; s <= r.length; s++) {
    let c = s ? r[s - 1].to : e, u = s < r.length ? r[s].from : n;
    for (let f = c, d, h, p; f < u; f++)
      if (h = Dv[d = t.charCodeAt(f)])
        if (h < 0) {
          for (let m = a - 3; m >= 0; m -= 3)
            if (Yo[m + 1] == -h) {
              let g = Yo[m + 2], v = g & 2 ? i : g & 4 ? g & 1 ? o : i : 0;
              v && (er[f] = er[Yo[m]] = v), a = m;
              break;
            }
        } else {
          if (Yo.length == 189)
            break;
          Yo[a++] = f, Yo[a++] = d, Yo[a++] = l;
        }
      else if ((p = er[f]) == 2 || p == 1) {
        let m = p == i;
        l = m ? 0 : 1;
        for (let g = a - 3; g >= 0; g -= 3) {
          let v = Yo[g + 2];
          if (v & 2)
            break;
          if (m)
            Yo[g + 2] |= 2;
          else {
            if (v & 4)
              break;
            Yo[g + 2] |= 4;
          }
        }
      }
  }
}
function AH(t, e, n, r) {
  for (let i = 0, o = r; i <= n.length; i++) {
    let s = i ? n[i - 1].to : t, a = i < n.length ? n[i].from : e;
    for (let l = s; l < a; ) {
      let c = er[l];
      if (c == 256) {
        let u = l + 1;
        for (; ; )
          if (u == a) {
            if (i == n.length)
              break;
            u = n[i++].to, a = i < n.length ? n[i].from : e;
          } else if (er[u] == 256)
            u++;
          else
            break;
        let f = o == 1, d = (u < e ? er[u] : r) == 1, h = f == d ? f ? 1 : 2 : r;
        for (let p = u, m = i, g = m ? n[m - 1].to : t; p > l; )
          p == g && (p = n[--m].from, g = m ? n[m - 1].to : t), er[--p] = h;
        l = u;
      } else
        o = c, l++;
    }
  }
}
function Lv(t, e, n, r, i, o, s) {
  let a = r % 2 ? 2 : 1;
  if (r % 2 == i % 2)
    for (let l = e, c = 0; l < n; ) {
      let u = !0, f = !1;
      if (c == o.length || l < o[c].from) {
        let m = er[l];
        m != a && (u = !1, f = m == 16);
      }
      let d = !u && a == 1 ? [] : null, h = u ? r : r + 1, p = l;
      e:
        for (; ; )
          if (c < o.length && p == o[c].from) {
            if (f)
              break e;
            let m = o[c];
            if (!u)
              for (let g = m.to, v = c + 1; ; ) {
                if (g == n)
                  break e;
                if (v < o.length && o[v].from == g)
                  g = o[v++].to;
                else {
                  if (er[g] == a)
                    break e;
                  break;
                }
              }
            if (c++, d)
              d.push(m);
            else {
              m.from > l && s.push(new ga(l, m.from, h));
              let g = m.direction == wl != !(h % 2);
              Bv(t, g ? r + 1 : r, i, m.inner, m.from, m.to, s), l = m.to;
            }
            p = m.to;
          } else {
            if (p == n || (u ? er[p] != a : er[p] == a))
              break;
            p++;
          }
      d ? Lv(t, l, p, r + 1, i, d, s) : l < p && s.push(new ga(l, p, h)), l = p;
    }
  else
    for (let l = n, c = o.length; l > e; ) {
      let u = !0, f = !1;
      if (!c || l > o[c - 1].to) {
        let m = er[l - 1];
        m != a && (u = !1, f = m == 16);
      }
      let d = !u && a == 1 ? [] : null, h = u ? r : r + 1, p = l;
      e:
        for (; ; )
          if (c && p == o[c - 1].to) {
            if (f)
              break e;
            let m = o[--c];
            if (!u)
              for (let g = m.from, v = c; ; ) {
                if (g == e)
                  break e;
                if (v && o[v - 1].to == g)
                  g = o[--v].from;
                else {
                  if (er[g - 1] == a)
                    break e;
                  break;
                }
              }
            if (d)
              d.push(m);
            else {
              m.to < l && s.push(new ga(m.to, l, h));
              let g = m.direction == wl != !(h % 2);
              Bv(t, g ? r + 1 : r, i, m.inner, m.from, m.to, s), l = m.from;
            }
            p = m.from;
          } else {
            if (p == e || (u ? er[p - 1] != a : er[p - 1] == a))
              break;
            p--;
          }
      d ? Lv(t, p, l, r + 1, i, d, s) : p < l && s.push(new ga(p, l, h)), l = p;
    }
}
function Bv(t, e, n, r, i, o, s) {
  let a = e % 2 ? 2 : 1;
  _H(t, i, o, r, a), OH(t, i, o, r, a), AH(i, o, r, a), Lv(t, i, o, e, n, r, s);
}
function EH(t, e, n) {
  if (!t)
    return [new ga(0, 0, e == ky ? 1 : 0)];
  if (e == wl && !n.length && !CH.test(t))
    return jO(t.length);
  if (n.length)
    for (; t.length > er.length; )
      er[er.length] = 256;
  let r = [], i = e == wl ? 0 : 1;
  return Bv(t, i, i, n, 0, t.length, r), r;
}
function jO(t) {
  return [new ga(0, t, 0)];
}
let $O = "";
function MH(t, e, n, r, i) {
  var o;
  let s = r.head - t.from, a = ga.find(e, s, (o = r.bidiLevel) !== null && o !== void 0 ? o : -1, r.assoc), l = e[a], c = l.side(i, n);
  if (s == c) {
    let d = a += i ? 1 : -1;
    if (d < 0 || d >= e.length)
      return null;
    l = e[a = d], s = l.side(!i, n), c = l.side(i, n);
  }
  let u = ni(t.text, s, l.forward(i, n));
  (u < l.from || u > l.to) && (u = c), $O = t.text.slice(Math.min(s, u), Math.max(s, u));
  let f = a == (i ? e.length - 1 : 0) ? null : e[a + (i ? 1 : -1)];
  return f && u == c && f.level + (i ? 0 : 1) < l.level ? Re.cursor(f.side(!i, n) + t.from, f.forward(i, n) ? 1 : -1, f.level) : Re.cursor(u + t.from, l.forward(i, n) ? -1 : 1, l.level);
}
function TH(t, e, n) {
  for (let r = e; r < n; r++) {
    let i = xO(t.charCodeAt(r));
    if (i == 1)
      return wl;
    if (i == 2 || i == 4)
      return ky;
  }
  return wl;
}
const kO = /* @__PURE__ */ pt.define(), SO = /* @__PURE__ */ pt.define(), CO = /* @__PURE__ */ pt.define(), _O = /* @__PURE__ */ pt.define(), qv = /* @__PURE__ */ pt.define(), OO = /* @__PURE__ */ pt.define(), AO = /* @__PURE__ */ pt.define(), EO = /* @__PURE__ */ pt.define({
  combine: (t) => t.some((e) => e)
}), MO = /* @__PURE__ */ pt.define({
  combine: (t) => t.some((e) => e)
});
class bc {
  constructor(e, n = "nearest", r = "nearest", i = 5, o = 5, s = !1) {
    this.range = e, this.y = n, this.x = r, this.yMargin = i, this.xMargin = o, this.isSnapshot = s;
  }
  map(e) {
    return e.empty ? this : new bc(this.range.map(e), this.y, this.x, this.yMargin, this.xMargin, this.isSnapshot);
  }
  clip(e) {
    return this.range.to <= e.doc.length ? this : new bc(Re.cursor(e.doc.length), this.y, this.x, this.yMargin, this.xMargin, this.isSnapshot);
  }
}
const jd = /* @__PURE__ */ ln.define({ map: (t, e) => t.map(e) });
function Zi(t, e, n) {
  let r = t.facet(_O);
  r.length ? r[0](e) : window.onerror ? window.onerror(String(e), n, void 0, void 0, e) : n ? console.error(n + ":", e) : console.error(e);
}
const hm = /* @__PURE__ */ pt.define({ combine: (t) => t.length ? t[0] : !0 });
let RH = 0;
const Eu = /* @__PURE__ */ pt.define();
class kr {
  constructor(e, n, r, i, o) {
    this.id = e, this.create = n, this.domEventHandlers = r, this.domEventObservers = i, this.extension = o(this);
  }
  /**
  Define a plugin from a constructor function that creates the
  plugin's value, given an editor view.
  */
  static define(e, n) {
    const { eventHandlers: r, eventObservers: i, provide: o, decorations: s } = n || {};
    return new kr(RH++, e, r, i, (a) => {
      let l = [Eu.of(a)];
      return s && l.push(mf.of((c) => {
        let u = c.plugin(a);
        return u ? s(u) : Bt.none;
      })), o && l.push(o(a)), l;
    });
  }
  /**
  Create a plugin for a class whose constructor takes a single
  editor view as argument.
  */
  static fromClass(e, n) {
    return kr.define((r) => new e(r), n);
  }
}
class sg {
  constructor(e) {
    this.spec = e, this.mustUpdate = null, this.value = null;
  }
  update(e) {
    if (this.value) {
      if (this.mustUpdate) {
        let n = this.mustUpdate;
        if (this.mustUpdate = null, this.value.update)
          try {
            this.value.update(n);
          } catch (r) {
            if (Zi(n.state, r, "CodeMirror plugin crashed"), this.value.destroy)
              try {
                this.value.destroy();
              } catch {
              }
            this.deactivate();
          }
      }
    } else if (this.spec)
      try {
        this.value = this.spec.create(e);
      } catch (n) {
        Zi(e.state, n, "CodeMirror plugin crashed"), this.deactivate();
      }
    return this;
  }
  destroy(e) {
    var n;
    if (!((n = this.value) === null || n === void 0) && n.destroy)
      try {
        this.value.destroy();
      } catch (r) {
        Zi(e.state, r, "CodeMirror plugin crashed");
      }
  }
  deactivate() {
    this.spec = this.value = null;
  }
}
const TO = /* @__PURE__ */ pt.define(), Sy = /* @__PURE__ */ pt.define(), mf = /* @__PURE__ */ pt.define(), RO = /* @__PURE__ */ pt.define(), Cy = /* @__PURE__ */ pt.define(), PO = /* @__PURE__ */ pt.define();
function Jx(t, e) {
  let n = t.state.facet(PO);
  if (!n.length)
    return n;
  let r = n.map((o) => o instanceof Function ? o(t) : o), i = [];
  return Cn.spans(r, e.from, e.to, {
    point() {
    },
    span(o, s, a, l) {
      let c = o - e.from, u = s - e.from, f = i;
      for (let d = a.length - 1; d >= 0; d--, l--) {
        let h = a[d].spec.bidiIsolate, p;
        if (h == null && (h = TH(e.text, c, u)), l > 0 && f.length && (p = f[f.length - 1]).to == c && p.direction == h)
          p.to = u, f = p.inner;
        else {
          let m = { from: c, to: u, direction: h, inner: [] };
          f.push(m), f = m.inner;
        }
      }
    }
  }), i;
}
const IO = /* @__PURE__ */ pt.define();
function NO(t) {
  let e = 0, n = 0, r = 0, i = 0;
  for (let o of t.state.facet(IO)) {
    let s = o(t);
    s && (s.left != null && (e = Math.max(e, s.left)), s.right != null && (n = Math.max(n, s.right)), s.top != null && (r = Math.max(r, s.top)), s.bottom != null && (i = Math.max(i, s.bottom)));
  }
  return { left: e, right: n, top: r, bottom: i };
}
const Mu = /* @__PURE__ */ pt.define();
class mo {
  constructor(e, n, r, i) {
    this.fromA = e, this.toA = n, this.fromB = r, this.toB = i;
  }
  join(e) {
    return new mo(Math.min(this.fromA, e.fromA), Math.max(this.toA, e.toA), Math.min(this.fromB, e.fromB), Math.max(this.toB, e.toB));
  }
  addToSet(e) {
    let n = e.length, r = this;
    for (; n > 0; n--) {
      let i = e[n - 1];
      if (!(i.fromA > r.toA)) {
        if (i.toA < r.fromA)
          break;
        r = r.join(i), e.splice(n - 1, 1);
      }
    }
    return e.splice(n, 0, r), e;
  }
  static extendWithRanges(e, n) {
    if (n.length == 0)
      return e;
    let r = [];
    for (let i = 0, o = 0, s = 0, a = 0; ; i++) {
      let l = i == e.length ? null : e[i], c = s - a, u = l ? l.fromB : 1e9;
      for (; o < n.length && n[o] < u; ) {
        let f = n[o], d = n[o + 1], h = Math.max(a, f), p = Math.min(u, d);
        if (h <= p && new mo(h + c, p + c, h, p).addToSet(r), d > u)
          break;
        o += 2;
      }
      if (!l)
        return r;
      new mo(l.fromA, l.toA, l.fromB, l.toB).addToSet(r), s = l.toA, a = l.toB;
    }
  }
}
class zh {
  constructor(e, n, r) {
    this.view = e, this.state = n, this.transactions = r, this.flags = 0, this.startState = e.state, this.changes = Br.empty(this.startState.doc.length);
    for (let o of r)
      this.changes = this.changes.compose(o.changes);
    let i = [];
    this.changes.iterChangedRanges((o, s, a, l) => i.push(new mo(o, s, a, l))), this.changedRanges = i;
  }
  /**
  @internal
  */
  static create(e, n, r) {
    return new zh(e, n, r);
  }
  /**
  Tells you whether the [viewport](https://codemirror.net/6/docs/ref/#view.EditorView.viewport) or
  [visible ranges](https://codemirror.net/6/docs/ref/#view.EditorView.visibleRanges) changed in this
  update.
  */
  get viewportChanged() {
    return (this.flags & 4) > 0;
  }
  /**
  Indicates whether the height of a block element in the editor
  changed in this update.
  */
  get heightChanged() {
    return (this.flags & 2) > 0;
  }
  /**
  Returns true when the document was modified or the size of the
  editor, or elements within the editor, changed.
  */
  get geometryChanged() {
    return this.docChanged || (this.flags & 10) > 0;
  }
  /**
  True when this update indicates a focus change.
  */
  get focusChanged() {
    return (this.flags & 1) > 0;
  }
  /**
  Whether the document changed in this update.
  */
  get docChanged() {
    return !this.changes.empty;
  }
  /**
  Whether the selection was explicitly set in this update.
  */
  get selectionSet() {
    return this.transactions.some((e) => e.selection);
  }
  /**
  @internal
  */
  get empty() {
    return this.flags == 0 && this.transactions.length == 0;
  }
}
class Gx extends ur {
  get length() {
    return this.view.state.doc.length;
  }
  constructor(e) {
    super(), this.view = e, this.decorations = [], this.dynamicDecorationMap = [], this.domChanged = null, this.hasComposition = null, this.markedForComposition = /* @__PURE__ */ new Set(), this.minWidth = 0, this.minWidthFrom = 0, this.minWidthTo = 0, this.impreciseAnchor = null, this.impreciseHead = null, this.forceSelection = !1, this.lastUpdate = Date.now(), this.setDOM(e.contentDOM), this.children = [new Lr()], this.children[0].setParent(this), this.updateDeco(), this.updateInner([new mo(0, 0, 0, e.state.doc.length)], 0, null);
  }
  // Update the document view to a given state.
  update(e) {
    var n;
    let r = e.changedRanges;
    this.minWidth > 0 && r.length && (r.every(({ fromA: c, toA: u }) => u < this.minWidthFrom || c > this.minWidthTo) ? (this.minWidthFrom = e.changes.mapPos(this.minWidthFrom, 1), this.minWidthTo = e.changes.mapPos(this.minWidthTo, 1)) : this.minWidth = this.minWidthFrom = this.minWidthTo = 0);
    let i = -1;
    this.view.inputState.composing >= 0 && (!((n = this.domChanged) === null || n === void 0) && n.newSel ? i = this.domChanged.newSel.head : !qH(e.changes, this.hasComposition) && !e.selectionSet && (i = e.state.selection.main.head));
    let o = i > -1 ? IH(this.view, e.changes, i) : null;
    if (this.domChanged = null, this.hasComposition) {
      this.markedForComposition.clear();
      let { from: c, to: u } = this.hasComposition;
      r = new mo(c, u, e.changes.mapPos(c, -1), e.changes.mapPos(u, 1)).addToSet(r.slice());
    }
    this.hasComposition = o ? { from: o.range.fromB, to: o.range.toB } : null, (xt.ie || xt.chrome) && !o && e && e.state.doc.lines != e.startState.doc.lines && (this.forceSelection = !0);
    let s = this.decorations, a = this.updateDeco(), l = LH(s, a, e.changes);
    return r = mo.extendWithRanges(r, l), !(this.flags & 7) && r.length == 0 ? !1 : (this.updateInner(r, e.startState.doc.length, o), e.transactions.length && (this.lastUpdate = Date.now()), !0);
  }
  // Used by update and the constructor do perform the actual DOM
  // update
  updateInner(e, n, r) {
    this.view.viewState.mustMeasureContent = !0, this.updateChildren(e, n, r);
    let { observer: i } = this.view;
    i.ignore(() => {
      this.dom.style.height = this.view.viewState.contentHeight / this.view.scaleY + "px", this.dom.style.flexBasis = this.minWidth ? this.minWidth + "px" : "";
      let s = xt.chrome || xt.ios ? { node: i.selectionRange.focusNode, written: !1 } : void 0;
      this.sync(this.view, s), this.flags &= -8, s && (s.written || i.selectionRange.focusNode != s.node) && (this.forceSelection = !0), this.dom.style.height = "";
    }), this.markedForComposition.forEach(
      (s) => s.flags &= -9
      /* ViewFlag.Composition */
    );
    let o = [];
    if (this.view.viewport.from || this.view.viewport.to < this.view.state.doc.length)
      for (let s of this.children)
        s instanceof xa && s.widget instanceof Kx && o.push(s.dom);
    i.updateGaps(o);
  }
  updateChildren(e, n, r) {
    let i = r ? r.range.addToSet(e.slice()) : e, o = this.childCursor(n);
    for (let s = i.length - 1; ; s--) {
      let a = s >= 0 ? i[s] : null;
      if (!a)
        break;
      let { fromA: l, toA: c, fromB: u, toB: f } = a, d, h, p, m;
      if (r && r.range.fromB < f && r.range.toB > u) {
        let b = Vu.build(this.view.state.doc, u, r.range.fromB, this.decorations, this.dynamicDecorationMap), w = Vu.build(this.view.state.doc, r.range.toB, f, this.decorations, this.dynamicDecorationMap);
        h = b.breakAtStart, p = b.openStart, m = w.openEnd;
        let j = this.compositionView(r);
        w.breakAtStart ? j.breakAfter = 1 : w.content.length && j.merge(j.length, j.length, w.content[0], !1, w.openStart, 0) && (j.breakAfter = w.content[0].breakAfter, w.content.shift()), b.content.length && j.merge(0, 0, b.content[b.content.length - 1], !0, 0, b.openEnd) && b.content.pop(), d = b.content.concat(j).concat(w.content);
      } else
        ({ content: d, breakAtStart: h, openStart: p, openEnd: m } = Vu.build(this.view.state.doc, u, f, this.decorations, this.dynamicDecorationMap));
      let { i: g, off: v } = o.findPos(c, 1), { i: y, off: x } = o.findPos(l, -1);
      fO(this, y, x, g, v, d, h, p, m);
    }
    r && this.fixCompositionDOM(r);
  }
  compositionView(e) {
    let n = new Js(e.text.nodeValue);
    n.flags |= 8;
    for (let { deco: i } of e.marks)
      n = new Gs(i, [n], n.length);
    let r = new Lr();
    return r.append(n, 0), r;
  }
  fixCompositionDOM(e) {
    let n = (o, s) => {
      s.flags |= 8 | (s.children.some(
        (l) => l.flags & 7
        /* ViewFlag.Dirty */
      ) ? 1 : 0), this.markedForComposition.add(s);
      let a = ur.get(o);
      a && a != s && (a.dom = null), s.setDOM(o);
    }, r = this.childPos(e.range.fromB, 1), i = this.children[r.i];
    n(e.line, i);
    for (let o = e.marks.length - 1; o >= -1; o--)
      r = i.childPos(r.off, 1), i = i.children[r.i], n(o >= 0 ? e.marks[o].node : e.text, i);
  }
  // Sync the DOM selection to this.state.selection
  updateSelection(e = !1, n = !1) {
    (e || !this.view.observer.selectionRange.focusNode) && this.view.observer.readSelectionRange();
    let r = this.view.root.activeElement, i = r == this.dom, o = !i && ch(this.dom, this.view.observer.selectionRange) && !(r && this.dom.contains(r));
    if (!(i || n || o))
      return;
    let s = this.forceSelection;
    this.forceSelection = !1;
    let a = this.view.state.selection.main, l = this.moveToLine(this.domAtPos(a.anchor)), c = a.empty ? l : this.moveToLine(this.domAtPos(a.head));
    if (xt.gecko && a.empty && !this.hasComposition && PH(l)) {
      let f = document.createTextNode("");
      this.view.observer.ignore(() => l.node.insertBefore(f, l.node.childNodes[l.offset] || null)), l = c = new fi(f, 0), s = !0;
    }
    let u = this.view.observer.selectionRange;
    (s || !u.focusNode || (!Fu(l.node, l.offset, u.anchorNode, u.anchorOffset) || !Fu(c.node, c.offset, u.focusNode, u.focusOffset)) && !this.suppressWidgetCursorChange(u, a)) && (this.view.observer.ignore(() => {
      xt.android && xt.chrome && this.dom.contains(u.focusNode) && BH(u.focusNode, this.dom) && (this.dom.blur(), this.dom.focus({ preventScroll: !0 }));
      let f = qh(this.view.root);
      if (f)
        if (a.empty) {
          if (xt.gecko) {
            let d = NH(l.node, l.offset);
            if (d && d != 3) {
              let h = LO(l.node, l.offset, d == 1 ? 1 : -1);
              h && (l = new fi(h.node, h.offset));
            }
          }
          f.collapse(l.node, l.offset), a.bidiLevel != null && f.caretBidiLevel !== void 0 && (f.caretBidiLevel = a.bidiLevel);
        } else if (f.extend) {
          f.collapse(l.node, l.offset);
          try {
            f.extend(c.node, c.offset);
          } catch {
          }
        } else {
          let d = document.createRange();
          a.anchor > a.head && ([l, c] = [c, l]), d.setEnd(c.node, c.offset), d.setStart(l.node, l.offset), f.removeAllRanges(), f.addRange(d);
        }
      o && this.view.root.activeElement == this.dom && (this.dom.blur(), r && r.focus());
    }), this.view.observer.setSelectionRange(l, c)), this.impreciseAnchor = l.precise ? null : new fi(u.anchorNode, u.anchorOffset), this.impreciseHead = c.precise ? null : new fi(u.focusNode, u.focusOffset);
  }
  // If a zero-length widget is inserted next to the cursor during
  // composition, avoid moving it across it and disrupting the
  // composition.
  suppressWidgetCursorChange(e, n) {
    return this.hasComposition && n.empty && Fu(e.focusNode, e.focusOffset, e.anchorNode, e.anchorOffset) && this.posFromDOM(e.focusNode, e.focusOffset) == n.head;
  }
  enforceCursorAssoc() {
    if (this.hasComposition)
      return;
    let { view: e } = this, n = e.state.selection.main, r = qh(e.root), { anchorNode: i, anchorOffset: o } = e.observer.selectionRange;
    if (!r || !n.empty || !n.assoc || !r.modify)
      return;
    let s = Lr.find(this, n.head);
    if (!s)
      return;
    let a = s.posAtStart;
    if (n.head == a || n.head == a + s.length)
      return;
    let l = this.coordsAt(n.head, -1), c = this.coordsAt(n.head, 1);
    if (!l || !c || l.bottom > c.top)
      return;
    let u = this.domAtPos(n.head + n.assoc);
    r.collapse(u.node, u.offset), r.modify("move", n.assoc < 0 ? "forward" : "backward", "lineboundary"), e.observer.readSelectionRange();
    let f = e.observer.selectionRange;
    e.docView.posFromDOM(f.anchorNode, f.anchorOffset) != n.from && r.collapse(i, o);
  }
  // If a position is in/near a block widget, move it to a nearby text
  // line, since we don't want the cursor inside a block widget.
  moveToLine(e) {
    let n = this.dom, r;
    if (e.node != n)
      return e;
    for (let i = e.offset; !r && i < n.childNodes.length; i++) {
      let o = ur.get(n.childNodes[i]);
      o instanceof Lr && (r = o.domAtPos(0));
    }
    for (let i = e.offset - 1; !r && i >= 0; i--) {
      let o = ur.get(n.childNodes[i]);
      o instanceof Lr && (r = o.domAtPos(o.length));
    }
    return r ? new fi(r.node, r.offset, !0) : e;
  }
  nearest(e) {
    for (let n = e; n; ) {
      let r = ur.get(n);
      if (r && r.rootView == this)
        return r;
      n = n.parentNode;
    }
    return null;
  }
  posFromDOM(e, n) {
    let r = this.nearest(e);
    if (!r)
      throw new RangeError("Trying to find position for a DOM position outside of the document");
    return r.localPosFromDOM(e, n) + r.posAtStart;
  }
  domAtPos(e) {
    let { i: n, off: r } = this.childCursor().findPos(e, -1);
    for (; n < this.children.length - 1; ) {
      let i = this.children[n];
      if (r < i.length || i instanceof Lr)
        break;
      n++, r = 0;
    }
    return this.children[n].domAtPos(r);
  }
  coordsAt(e, n) {
    let r = null, i = 0;
    for (let o = this.length, s = this.children.length - 1; s >= 0; s--) {
      let a = this.children[s], l = o - a.breakAfter, c = l - a.length;
      if (l < e)
        break;
      c <= e && (c < e || a.covers(-1)) && (l > e || a.covers(1)) && (!r || a instanceof Lr && !(r instanceof Lr && n >= 0)) && (r = a, i = c), o = c;
    }
    return r ? r.coordsAt(e - i, n) : null;
  }
  coordsForChar(e) {
    let { i: n, off: r } = this.childPos(e, 1), i = this.children[n];
    if (!(i instanceof Lr))
      return null;
    for (; i.children.length; ) {
      let { i: a, off: l } = i.childPos(r, 1);
      for (; ; a++) {
        if (a == i.children.length)
          return null;
        if ((i = i.children[a]).length)
          break;
      }
      r = l;
    }
    if (!(i instanceof Js))
      return null;
    let o = ni(i.text, r);
    if (o == r)
      return null;
    let s = xl(i.dom, r, o).getClientRects();
    for (let a = 0; a < s.length; a++) {
      let l = s[a];
      if (a == s.length - 1 || l.top < l.bottom && l.left < l.right)
        return l;
    }
    return null;
  }
  measureVisibleLineHeights(e) {
    let n = [], { from: r, to: i } = e, o = this.view.contentDOM.clientWidth, s = o > Math.max(this.view.scrollDOM.clientWidth, this.minWidth) + 1, a = -1, l = this.view.textDirection == fr.LTR;
    for (let c = 0, u = 0; u < this.children.length; u++) {
      let f = this.children[u], d = c + f.length;
      if (d > i)
        break;
      if (c >= r) {
        let h = f.dom.getBoundingClientRect();
        if (n.push(h.height), s) {
          let p = f.dom.lastChild, m = p ? hf(p) : [];
          if (m.length) {
            let g = m[m.length - 1], v = l ? g.right - h.left : h.right - g.left;
            v > a && (a = v, this.minWidth = o, this.minWidthFrom = c, this.minWidthTo = d);
          }
        }
      }
      c = d + f.breakAfter;
    }
    return n;
  }
  textDirectionAt(e) {
    let { i: n } = this.childPos(e, 1);
    return getComputedStyle(this.children[n].dom).direction == "rtl" ? fr.RTL : fr.LTR;
  }
  measureTextSize() {
    for (let o of this.children)
      if (o instanceof Lr) {
        let s = o.measureTextSize();
        if (s)
          return s;
      }
    let e = document.createElement("div"), n, r, i;
    return e.className = "cm-line", e.style.width = "99999px", e.style.position = "absolute", e.textContent = "abc def ghi jkl mno pqr stu", this.view.observer.ignore(() => {
      this.dom.appendChild(e);
      let o = hf(e.firstChild)[0];
      n = e.getBoundingClientRect().height, r = o ? o.width / 27 : 7, i = o ? o.height : n, e.remove();
    }), { lineHeight: n, charWidth: r, textHeight: i };
  }
  childCursor(e = this.length) {
    let n = this.children.length;
    return n && (e -= this.children[--n].length), new uO(this.children, e, n);
  }
  computeBlockGapDeco() {
    let e = [], n = this.view.viewState;
    for (let r = 0, i = 0; ; i++) {
      let o = i == n.viewports.length ? null : n.viewports[i], s = o ? o.from - 1 : this.length;
      if (s > r) {
        let a = (n.lineBlockAt(s).bottom - n.lineBlockAt(r).top) / this.view.scaleY;
        e.push(Bt.replace({
          widget: new Kx(a),
          block: !0,
          inclusive: !0,
          isBlockGap: !0
        }).range(r, s));
      }
      if (!o)
        break;
      r = o.to + 1;
    }
    return Bt.set(e);
  }
  updateDeco() {
    let e = this.view.state.facet(mf).map((i, o) => (this.dynamicDecorationMap[o] = typeof i == "function") ? i(this.view) : i), n = !1, r = this.view.state.facet(RO).map((i, o) => {
      let s = typeof i == "function";
      return s && (n = !0), s ? i(this.view) : i;
    });
    r.length && (this.dynamicDecorationMap[e.length] = n, e.push(Cn.join(r)));
    for (let i = e.length; i < e.length + 3; i++)
      this.dynamicDecorationMap[i] = !1;
    return this.decorations = [
      ...e,
      this.computeBlockGapDeco(),
      this.view.viewState.lineGapDeco
    ];
  }
  scrollIntoView(e) {
    if (e.isSnapshot) {
      let c = this.view.viewState.lineBlockAt(e.range.head);
      this.view.scrollDOM.scrollTop = c.top - e.yMargin, this.view.scrollDOM.scrollLeft = e.xMargin;
      return;
    }
    let { range: n } = e, r = this.coordsAt(n.head, n.empty ? n.assoc : n.head > n.anchor ? -1 : 1), i;
    if (!r)
      return;
    !n.empty && (i = this.coordsAt(n.anchor, n.anchor > n.head ? -1 : 1)) && (r = {
      left: Math.min(r.left, i.left),
      top: Math.min(r.top, i.top),
      right: Math.max(r.right, i.right),
      bottom: Math.max(r.bottom, i.bottom)
    });
    let o = NO(this.view), s = {
      left: r.left - o.left,
      top: r.top - o.top,
      right: r.right + o.right,
      bottom: r.bottom + o.bottom
    }, { offsetWidth: a, offsetHeight: l } = this.view.scrollDOM;
    pH(this.view.scrollDOM, s, n.head < n.anchor ? -1 : 1, e.x, e.y, Math.max(Math.min(e.xMargin, a), -a), Math.max(Math.min(e.yMargin, l), -l), this.view.textDirection == fr.LTR);
  }
}
function PH(t) {
  return t.node.nodeType == 1 && t.node.firstChild && (t.offset == 0 || t.node.childNodes[t.offset - 1].contentEditable == "false") && (t.offset == t.node.childNodes.length || t.node.childNodes[t.offset].contentEditable == "false");
}
class Kx extends Ua {
  constructor(e) {
    super(), this.height = e;
  }
  toDOM() {
    let e = document.createElement("div");
    return e.className = "cm-gap", this.updateDOM(e), e;
  }
  eq(e) {
    return e.height == this.height;
  }
  updateDOM(e) {
    return e.style.height = this.height + "px", !0;
  }
  get editable() {
    return !0;
  }
  get estimatedHeight() {
    return this.height;
  }
}
function DO(t, e) {
  let n = t.observer.selectionRange, r = n.focusNode && LO(n.focusNode, n.focusOffset, 0);
  if (!r)
    return null;
  let i = e - r.offset;
  return { from: i, to: i + r.node.nodeValue.length, node: r.node };
}
function IH(t, e, n) {
  let r = DO(t, n);
  if (!r)
    return null;
  let { node: i, from: o, to: s } = r, a = i.nodeValue;
  if (/[\n\r]/.test(a) || t.state.doc.sliceString(r.from, r.to) != a)
    return null;
  let l = e.invertedDesc, c = new mo(l.mapPos(o), l.mapPos(s), o, s), u = [];
  for (let f = i.parentNode; ; f = f.parentNode) {
    let d = ur.get(f);
    if (d instanceof Gs)
      u.push({ node: f, deco: d.mark });
    else {
      if (d instanceof Lr || f.nodeName == "DIV" && f.parentNode == t.contentDOM)
        return { range: c, text: i, marks: u, line: f };
      if (f != t.contentDOM)
        u.push({ node: f, deco: new Hf({
          inclusive: !0,
          attributes: jH(f),
          tagName: f.tagName.toLowerCase()
        }) });
      else
        return null;
    }
  }
}
function LO(t, e, n) {
  if (n <= 0)
    for (let r = t, i = e; ; ) {
      if (r.nodeType == 3)
        return { node: r, offset: i };
      if (r.nodeType == 1 && i > 0)
        r = r.childNodes[i - 1], i = Us(r);
      else
        break;
    }
  if (n >= 0)
    for (let r = t, i = e; ; ) {
      if (r.nodeType == 3)
        return { node: r, offset: i };
      if (r.nodeType == 1 && i < r.childNodes.length && n >= 0)
        r = r.childNodes[i], i = 0;
      else
        break;
    }
  return null;
}
function NH(t, e) {
  return t.nodeType != 1 ? 0 : (e && t.childNodes[e - 1].contentEditable == "false" ? 1 : 0) | (e < t.childNodes.length && t.childNodes[e].contentEditable == "false" ? 2 : 0);
}
let DH = class {
  constructor() {
    this.changes = [];
  }
  compareRange(e, n) {
    Nv(e, n, this.changes);
  }
  comparePoint(e, n) {
    Nv(e, n, this.changes);
  }
};
function LH(t, e, n) {
  let r = new DH();
  return Cn.compare(t, e, n, r), r.changes;
}
function BH(t, e) {
  for (let n = t; n && n != e; n = n.assignedSlot || n.parentNode)
    if (n.nodeType == 1 && n.contentEditable == "false")
      return !0;
  return !1;
}
function qH(t, e) {
  let n = !1;
  return e && t.iterChangedRanges((r, i) => {
    r < e.to && i > e.from && (n = !0);
  }), n;
}
function zH(t, e, n = 1) {
  let r = t.charCategorizer(e), i = t.doc.lineAt(e), o = e - i.from;
  if (i.length == 0)
    return Re.cursor(e);
  o == 0 ? n = 1 : o == i.length && (n = -1);
  let s = o, a = o;
  n < 0 ? s = ni(i.text, o, !1) : a = ni(i.text, o);
  let l = r(i.text.slice(s, a));
  for (; s > 0; ) {
    let c = ni(i.text, s, !1);
    if (r(i.text.slice(c, s)) != l)
      break;
    s = c;
  }
  for (; a < i.length; ) {
    let c = ni(i.text, a);
    if (r(i.text.slice(a, c)) != l)
      break;
    a = c;
  }
  return Re.range(s + i.from, a + i.from);
}
function FH(t, e) {
  return e.left > t ? e.left - t : Math.max(0, t - e.right);
}
function VH(t, e) {
  return e.top > t ? e.top - t : Math.max(0, t - e.bottom);
}
function ag(t, e) {
  return t.top < e.bottom - 1 && t.bottom > e.top + 1;
}
function Yx(t, e) {
  return e < t.top ? { top: e, left: t.left, right: t.right, bottom: t.bottom } : t;
}
function Qx(t, e) {
  return e > t.bottom ? { top: t.top, left: t.left, right: t.right, bottom: e } : t;
}
function zv(t, e, n) {
  let r, i, o, s, a = !1, l, c, u, f;
  for (let p = t.firstChild; p; p = p.nextSibling) {
    let m = hf(p);
    for (let g = 0; g < m.length; g++) {
      let v = m[g];
      i && ag(i, v) && (v = Yx(Qx(v, i.bottom), i.top));
      let y = FH(e, v), x = VH(n, v);
      if (y == 0 && x == 0)
        return p.nodeType == 3 ? Xx(p, e, n) : zv(p, e, n);
      if (!r || s > x || s == x && o > y) {
        r = p, i = v, o = y, s = x;
        let b = x ? n < v.top ? -1 : 1 : y ? e < v.left ? -1 : 1 : 0;
        a = !b || (b > 0 ? g < m.length - 1 : g > 0);
      }
      y == 0 ? n > v.bottom && (!u || u.bottom < v.bottom) ? (l = p, u = v) : n < v.top && (!f || f.top > v.top) && (c = p, f = v) : u && ag(u, v) ? u = Qx(u, v.bottom) : f && ag(f, v) && (f = Yx(f, v.top));
    }
  }
  if (u && u.bottom >= n ? (r = l, i = u) : f && f.top <= n && (r = c, i = f), !r)
    return { node: t, offset: 0 };
  let d = Math.max(i.left, Math.min(i.right, e));
  if (r.nodeType == 3)
    return Xx(r, d, n);
  if (a && r.contentEditable != "false")
    return zv(r, d, n);
  let h = Array.prototype.indexOf.call(t.childNodes, r) + (e >= (i.left + i.right) / 2 ? 1 : 0);
  return { node: t, offset: h };
}
function Xx(t, e, n) {
  let r = t.nodeValue.length, i = -1, o = 1e9, s = 0;
  for (let a = 0; a < r; a++) {
    let l = xl(t, a, a + 1).getClientRects();
    for (let c = 0; c < l.length; c++) {
      let u = l[c];
      if (u.top == u.bottom)
        continue;
      s || (s = e - u.left);
      let f = (u.top > n ? u.top - n : n - u.bottom) - 1;
      if (u.left - 1 <= e && u.right + 1 >= e && f < o) {
        let d = e >= (u.left + u.right) / 2, h = d;
        if ((xt.chrome || xt.gecko) && xl(t, a).getBoundingClientRect().left == u.right && (h = !d), f <= 0)
          return { node: t, offset: a + (h ? 1 : 0) };
        i = a + (h ? 1 : 0), o = f;
      }
    }
  }
  return { node: t, offset: i > -1 ? i : s > 0 ? t.nodeValue.length : 0 };
}
function BO(t, e, n, r = -1) {
  var i, o;
  let s = t.contentDOM.getBoundingClientRect(), a = s.top + t.viewState.paddingTop, l, { docHeight: c } = t.viewState, { x: u, y: f } = e, d = f - a;
  if (d < 0)
    return 0;
  if (d > c)
    return t.state.doc.length;
  for (let b = t.viewState.heightOracle.textHeight / 2, w = !1; l = t.elementAtHeight(d), l.type != ji.Text; )
    for (; d = r > 0 ? l.bottom + b : l.top - b, !(d >= 0 && d <= c); ) {
      if (w)
        return n ? null : 0;
      w = !0, r = -r;
    }
  f = a + d;
  let h = l.from;
  if (h < t.viewport.from)
    return t.viewport.from == 0 ? 0 : n ? null : Zx(t, s, l, u, f);
  if (h > t.viewport.to)
    return t.viewport.to == t.state.doc.length ? t.state.doc.length : n ? null : Zx(t, s, l, u, f);
  let p = t.dom.ownerDocument, m = t.root.elementFromPoint ? t.root : p, g = m.elementFromPoint(u, f);
  g && !t.contentDOM.contains(g) && (g = null), g || (u = Math.max(s.left + 1, Math.min(s.right - 1, u)), g = m.elementFromPoint(u, f), g && !t.contentDOM.contains(g) && (g = null));
  let v, y = -1;
  if (g && ((i = t.docView.nearest(g)) === null || i === void 0 ? void 0 : i.isEditable) != !1) {
    if (p.caretPositionFromPoint) {
      let b = p.caretPositionFromPoint(u, f);
      b && ({ offsetNode: v, offset: y } = b);
    } else if (p.caretRangeFromPoint) {
      let b = p.caretRangeFromPoint(u, f);
      b && ({ startContainer: v, startOffset: y } = b, (!t.contentDOM.contains(v) || xt.safari && WH(v, y, u) || xt.chrome && HH(v, y, u)) && (v = void 0));
    }
  }
  if (!v || !t.docView.dom.contains(v)) {
    let b = Lr.find(t.docView, h);
    if (!b)
      return d > l.top + l.height / 2 ? l.to : l.from;
    ({ node: v, offset: y } = zv(b.dom, u, f));
  }
  let x = t.docView.nearest(v);
  if (!x)
    return null;
  if (x.isWidget && ((o = x.dom) === null || o === void 0 ? void 0 : o.nodeType) == 1) {
    let b = x.dom.getBoundingClientRect();
    return e.y < b.top || e.y <= b.bottom && e.x <= (b.left + b.right) / 2 ? x.posAtStart : x.posAtEnd;
  } else
    return x.localPosFromDOM(v, y) + x.posAtStart;
}
function Zx(t, e, n, r, i) {
  let o = Math.round((r - e.left) * t.defaultCharacterWidth);
  if (t.lineWrapping && n.height > t.defaultLineHeight * 1.5) {
    let a = t.viewState.heightOracle.textHeight, l = Math.floor((i - n.top - (t.defaultLineHeight - a) * 0.5) / a);
    o += l * t.viewState.heightOracle.lineLength;
  }
  let s = t.state.sliceDoc(n.from, n.to);
  return n.from + _v(s, o, t.state.tabSize);
}
function WH(t, e, n) {
  let r;
  if (t.nodeType != 3 || e != (r = t.nodeValue.length))
    return !1;
  for (let i = t.nextSibling; i; i = i.nextSibling)
    if (i.nodeType != 1 || i.nodeName != "BR")
      return !1;
  return xl(t, r - 1, r).getBoundingClientRect().left > n;
}
function HH(t, e, n) {
  if (e != 0)
    return !1;
  for (let i = t; ; ) {
    let o = i.parentNode;
    if (!o || o.nodeType != 1 || o.firstChild != i)
      return !1;
    if (o.classList.contains("cm-line"))
      break;
    i = o;
  }
  let r = t.nodeType == 1 ? t.getBoundingClientRect() : xl(t, 0, Math.max(t.nodeValue.length, 1)).getBoundingClientRect();
  return n - r.left > 5;
}
function Fv(t, e) {
  let n = t.lineBlockAt(e);
  if (Array.isArray(n.type)) {
    for (let r of n.type)
      if (r.to > e || r.to == e && (r.to == n.to || r.type == ji.Text))
        return r;
  }
  return n;
}
function UH(t, e, n, r) {
  let i = Fv(t, e.head), o = !r || i.type != ji.Text || !(t.lineWrapping || i.widgetLineBreaks) ? null : t.coordsAtPos(e.assoc < 0 && e.head > i.from ? e.head - 1 : e.head);
  if (o) {
    let s = t.dom.getBoundingClientRect(), a = t.textDirectionAt(i.from), l = t.posAtCoords({
      x: n == (a == fr.LTR) ? s.right - 1 : s.left + 1,
      y: (o.top + o.bottom) / 2
    });
    if (l != null)
      return Re.cursor(l, n ? -1 : 1);
  }
  return Re.cursor(n ? i.to : i.from, n ? -1 : 1);
}
function ew(t, e, n, r) {
  let i = t.state.doc.lineAt(e.head), o = t.bidiSpans(i), s = t.textDirectionAt(i.from);
  for (let a = e, l = null; ; ) {
    let c = MH(i, o, s, a, n), u = $O;
    if (!c) {
      if (i.number == (n ? t.state.doc.lines : 1))
        return a;
      u = `
`, i = t.state.doc.line(i.number + (n ? 1 : -1)), o = t.bidiSpans(i), c = t.visualLineSide(i, !n);
    }
    if (l) {
      if (!l(u))
        return a;
    } else {
      if (!r)
        return c;
      l = r(u);
    }
    a = c;
  }
}
function JH(t, e, n) {
  let r = t.state.charCategorizer(e), i = r(n);
  return (o) => {
    let s = r(o);
    return i == gr.Space && (i = s), i == s;
  };
}
function GH(t, e, n, r) {
  let i = e.head, o = n ? 1 : -1;
  if (i == (n ? t.state.doc.length : 0))
    return Re.cursor(i, e.assoc);
  let s = e.goalColumn, a, l = t.contentDOM.getBoundingClientRect(), c = t.coordsAtPos(i, e.assoc || -1), u = t.documentTop;
  if (c)
    s == null && (s = c.left - l.left), a = o < 0 ? c.top : c.bottom;
  else {
    let h = t.viewState.lineBlockAt(i);
    s == null && (s = Math.min(l.right - l.left, t.defaultCharacterWidth * (i - h.from))), a = (o < 0 ? h.top : h.bottom) + u;
  }
  let f = l.left + s, d = r ?? t.viewState.heightOracle.textHeight >> 1;
  for (let h = 0; ; h += 10) {
    let p = a + (d + h) * o, m = BO(t, { x: f, y: p }, !1, o);
    if (p < l.top || p > l.bottom || (o < 0 ? m < i : m > i)) {
      let g = t.docView.coordsForChar(m), v = !g || p < g.top ? -1 : 1;
      return Re.cursor(m, v, void 0, s);
    }
  }
}
function uh(t, e, n) {
  for (; ; ) {
    let r = 0;
    for (let i of t)
      i.between(e - 1, e + 1, (o, s, a) => {
        if (e > o && e < s) {
          let l = r || n || (e - o < s - e ? -1 : 1);
          e = l < 0 ? o : s, r = l;
        }
      });
    if (!r)
      return e;
  }
}
function lg(t, e, n) {
  let r = uh(t.state.facet(Cy).map((i) => i(t)), n.from, e.head > n.from ? -1 : 1);
  return r == n.from ? n : Re.cursor(r, r < n.from ? 1 : -1);
}
class KH {
  setSelectionOrigin(e) {
    this.lastSelectionOrigin = e, this.lastSelectionTime = Date.now();
  }
  constructor(e) {
    this.view = e, this.lastKeyCode = 0, this.lastKeyTime = 0, this.lastTouchTime = 0, this.lastFocusTime = 0, this.lastScrollTop = 0, this.lastScrollLeft = 0, this.pendingIOSKey = void 0, this.lastSelectionOrigin = null, this.lastSelectionTime = 0, this.lastEscPress = 0, this.lastContextMenu = 0, this.scrollHandlers = [], this.handlers = /* @__PURE__ */ Object.create(null), this.composing = -1, this.compositionFirstChange = null, this.compositionEndedAt = 0, this.compositionPendingKey = !1, this.compositionPendingChange = !1, this.mouseSelection = null, this.draggedContent = null, this.handleEvent = this.handleEvent.bind(this), this.notifiedFocused = e.hasFocus, xt.safari && e.contentDOM.addEventListener("input", () => null), xt.gecko && fU(e.contentDOM.ownerDocument);
  }
  handleEvent(e) {
    !rU(this.view, e) || this.ignoreDuringComposition(e) || e.type == "keydown" && this.keydown(e) || this.runHandlers(e.type, e);
  }
  runHandlers(e, n) {
    let r = this.handlers[e];
    if (r) {
      for (let i of r.observers)
        i(this.view, n);
      for (let i of r.handlers) {
        if (n.defaultPrevented)
          break;
        if (i(this.view, n)) {
          n.preventDefault();
          break;
        }
      }
    }
  }
  ensureHandlers(e) {
    let n = YH(e), r = this.handlers, i = this.view.contentDOM;
    for (let o in n)
      if (o != "scroll") {
        let s = !n[o].handlers.length, a = r[o];
        a && s != !a.handlers.length && (i.removeEventListener(o, this.handleEvent), a = null), a || i.addEventListener(o, this.handleEvent, { passive: s });
      }
    for (let o in r)
      o != "scroll" && !n[o] && i.removeEventListener(o, this.handleEvent);
    this.handlers = n;
  }
  keydown(e) {
    if (this.lastKeyCode = e.keyCode, this.lastKeyTime = Date.now(), e.keyCode == 9 && Date.now() < this.lastEscPress + 2e3)
      return !0;
    if (e.keyCode != 27 && zO.indexOf(e.keyCode) < 0 && (this.view.inputState.lastEscPress = 0), xt.android && xt.chrome && !e.synthetic && (e.keyCode == 13 || e.keyCode == 8))
      return this.view.observer.delayAndroidKey(e.key, e.keyCode), !0;
    let n;
    return xt.ios && !e.synthetic && !e.altKey && !e.metaKey && ((n = qO.find((r) => r.keyCode == e.keyCode)) && !e.ctrlKey || QH.indexOf(e.key) > -1 && e.ctrlKey && !e.shiftKey) ? (this.pendingIOSKey = n || e, setTimeout(() => this.flushIOSKey(), 250), !0) : (e.keyCode != 229 && this.view.observer.forceFlush(), !1);
  }
  flushIOSKey() {
    let e = this.pendingIOSKey;
    return e ? (this.pendingIOSKey = void 0, yc(this.view.contentDOM, e.key, e.keyCode)) : !1;
  }
  ignoreDuringComposition(e) {
    return /^key/.test(e.type) ? this.composing > 0 ? !0 : xt.safari && !xt.ios && this.compositionPendingKey && Date.now() - this.compositionEndedAt < 100 ? (this.compositionPendingKey = !1, !0) : !1 : !1;
  }
  startMouseSelection(e) {
    this.mouseSelection && this.mouseSelection.destroy(), this.mouseSelection = e;
  }
  update(e) {
    this.mouseSelection && this.mouseSelection.update(e), this.draggedContent && e.docChanged && (this.draggedContent = this.draggedContent.map(e.changes)), e.transactions.length && (this.lastKeyCode = this.lastSelectionTime = 0);
  }
  destroy() {
    this.mouseSelection && this.mouseSelection.destroy();
  }
}
function tw(t, e) {
  return (n, r) => {
    try {
      return e.call(t, r, n);
    } catch (i) {
      Zi(n.state, i);
    }
  };
}
function YH(t) {
  let e = /* @__PURE__ */ Object.create(null);
  function n(r) {
    return e[r] || (e[r] = { observers: [], handlers: [] });
  }
  for (let r of t) {
    let i = r.spec;
    if (i && i.domEventHandlers)
      for (let o in i.domEventHandlers) {
        let s = i.domEventHandlers[o];
        s && n(o).handlers.push(tw(r.value, s));
      }
    if (i && i.domEventObservers)
      for (let o in i.domEventObservers) {
        let s = i.domEventObservers[o];
        s && n(o).observers.push(tw(r.value, s));
      }
  }
  for (let r in Vo)
    n(r).handlers.push(Vo[r]);
  for (let r in Wo)
    n(r).observers.push(Wo[r]);
  return e;
}
const qO = [
  { key: "Backspace", keyCode: 8, inputType: "deleteContentBackward" },
  { key: "Enter", keyCode: 13, inputType: "insertParagraph" },
  { key: "Enter", keyCode: 13, inputType: "insertLineBreak" },
  { key: "Delete", keyCode: 46, inputType: "deleteContentForward" }
], QH = "dthko", zO = [16, 17, 18, 20, 91, 92, 224, 225], $d = 6;
function kd(t) {
  return Math.max(0, t) * 0.7 + 8;
}
function XH(t, e) {
  return Math.max(Math.abs(t.clientX - e.clientX), Math.abs(t.clientY - e.clientY));
}
class ZH {
  constructor(e, n, r, i) {
    this.view = e, this.startEvent = n, this.style = r, this.mustSelect = i, this.scrollSpeed = { x: 0, y: 0 }, this.scrolling = -1, this.lastEvent = n, this.scrollParent = mH(e.contentDOM), this.atoms = e.state.facet(Cy).map((s) => s(e));
    let o = e.contentDOM.ownerDocument;
    o.addEventListener("mousemove", this.move = this.move.bind(this)), o.addEventListener("mouseup", this.up = this.up.bind(this)), this.extend = n.shiftKey, this.multiple = e.state.facet(xn.allowMultipleSelections) && eU(e, n), this.dragging = nU(e, n) && HO(n) == 1 ? null : !1;
  }
  start(e) {
    this.dragging === !1 && this.select(e);
  }
  move(e) {
    var n;
    if (e.buttons == 0)
      return this.destroy();
    if (this.dragging || this.dragging == null && XH(this.startEvent, e) < 10)
      return;
    this.select(this.lastEvent = e);
    let r = 0, i = 0, o = ((n = this.scrollParent) === null || n === void 0 ? void 0 : n.getBoundingClientRect()) || { left: 0, top: 0, right: this.view.win.innerWidth, bottom: this.view.win.innerHeight }, s = NO(this.view);
    e.clientX - s.left <= o.left + $d ? r = -kd(o.left - e.clientX) : e.clientX + s.right >= o.right - $d && (r = kd(e.clientX - o.right)), e.clientY - s.top <= o.top + $d ? i = -kd(o.top - e.clientY) : e.clientY + s.bottom >= o.bottom - $d && (i = kd(e.clientY - o.bottom)), this.setScrollSpeed(r, i);
  }
  up(e) {
    this.dragging == null && this.select(this.lastEvent), this.dragging || e.preventDefault(), this.destroy();
  }
  destroy() {
    this.setScrollSpeed(0, 0);
    let e = this.view.contentDOM.ownerDocument;
    e.removeEventListener("mousemove", this.move), e.removeEventListener("mouseup", this.up), this.view.inputState.mouseSelection = this.view.inputState.draggedContent = null;
  }
  setScrollSpeed(e, n) {
    this.scrollSpeed = { x: e, y: n }, e || n ? this.scrolling < 0 && (this.scrolling = setInterval(() => this.scroll(), 50)) : this.scrolling > -1 && (clearInterval(this.scrolling), this.scrolling = -1);
  }
  scroll() {
    this.scrollParent ? (this.scrollParent.scrollLeft += this.scrollSpeed.x, this.scrollParent.scrollTop += this.scrollSpeed.y) : this.view.win.scrollBy(this.scrollSpeed.x, this.scrollSpeed.y), this.dragging === !1 && this.select(this.lastEvent);
  }
  skipAtoms(e) {
    let n = null;
    for (let r = 0; r < e.ranges.length; r++) {
      let i = e.ranges[r], o = null;
      if (i.empty) {
        let s = uh(this.atoms, i.from, 0);
        s != i.from && (o = Re.cursor(s, -1));
      } else {
        let s = uh(this.atoms, i.from, -1), a = uh(this.atoms, i.to, 1);
        (s != i.from || a != i.to) && (o = Re.range(i.from == i.anchor ? s : a, i.from == i.head ? s : a));
      }
      o && (n || (n = e.ranges.slice()), n[r] = o);
    }
    return n ? Re.create(n, e.mainIndex) : e;
  }
  select(e) {
    let { view: n } = this, r = this.skipAtoms(this.style.get(e, this.extend, this.multiple));
    (this.mustSelect || !r.eq(n.state.selection, this.dragging === !1)) && this.view.dispatch({
      selection: r,
      userEvent: "select.pointer"
    }), this.mustSelect = !1;
  }
  update(e) {
    this.style.update(e) && setTimeout(() => this.select(this.lastEvent), 20);
  }
}
function eU(t, e) {
  let n = t.state.facet(kO);
  return n.length ? n[0](e) : xt.mac ? e.metaKey : e.ctrlKey;
}
function tU(t, e) {
  let n = t.state.facet(SO);
  return n.length ? n[0](e) : xt.mac ? !e.altKey : !e.ctrlKey;
}
function nU(t, e) {
  let { main: n } = t.state.selection;
  if (n.empty)
    return !1;
  let r = qh(t.root);
  if (!r || r.rangeCount == 0)
    return !0;
  let i = r.getRangeAt(0).getClientRects();
  for (let o = 0; o < i.length; o++) {
    let s = i[o];
    if (s.left <= e.clientX && s.right >= e.clientX && s.top <= e.clientY && s.bottom >= e.clientY)
      return !0;
  }
  return !1;
}
function rU(t, e) {
  if (!e.bubbles)
    return !0;
  if (e.defaultPrevented)
    return !1;
  for (let n = e.target, r; n != t.contentDOM; n = n.parentNode)
    if (!n || n.nodeType == 11 || (r = ur.get(n)) && r.ignoreEvent(e))
      return !1;
  return !0;
}
const Vo = /* @__PURE__ */ Object.create(null), Wo = /* @__PURE__ */ Object.create(null), FO = xt.ie && xt.ie_version < 15 || xt.ios && xt.webkit_version < 604;
function iU(t) {
  let e = t.dom.parentNode;
  if (!e)
    return;
  let n = e.appendChild(document.createElement("textarea"));
  n.style.cssText = "position: fixed; left: -10000px; top: 10px", n.focus(), setTimeout(() => {
    t.focus(), n.remove(), VO(t, n.value);
  }, 50);
}
function VO(t, e) {
  let { state: n } = t, r, i = 1, o = n.toText(e), s = o.lines == n.selection.ranges.length;
  if (Vv != null && n.selection.ranges.every((l) => l.empty) && Vv == o.toString()) {
    let l = -1;
    r = n.changeByRange((c) => {
      let u = n.doc.lineAt(c.from);
      if (u.from == l)
        return { range: c };
      l = u.from;
      let f = n.toText((s ? o.line(i++).text : e) + n.lineBreak);
      return {
        changes: { from: u.from, insert: f },
        range: Re.cursor(c.from + f.length)
      };
    });
  } else
    s ? r = n.changeByRange((l) => {
      let c = o.line(i++);
      return {
        changes: { from: l.from, to: l.to, insert: c.text },
        range: Re.cursor(l.from + c.length)
      };
    }) : r = n.replaceSelection(o);
  t.dispatch(r, {
    userEvent: "input.paste",
    scrollIntoView: !0
  });
}
Wo.scroll = (t) => {
  t.inputState.lastScrollTop = t.scrollDOM.scrollTop, t.inputState.lastScrollLeft = t.scrollDOM.scrollLeft;
};
Vo.keydown = (t, e) => (t.inputState.setSelectionOrigin("select"), e.keyCode == 27 && (t.inputState.lastEscPress = Date.now()), !1);
Wo.touchstart = (t, e) => {
  t.inputState.lastTouchTime = Date.now(), t.inputState.setSelectionOrigin("select.pointer");
};
Wo.touchmove = (t) => {
  t.inputState.setSelectionOrigin("select.pointer");
};
Vo.mousedown = (t, e) => {
  if (t.observer.flush(), t.inputState.lastTouchTime > Date.now() - 2e3)
    return !1;
  let n = null;
  for (let r of t.state.facet(CO))
    if (n = r(t, e), n)
      break;
  if (!n && e.button == 0 && (n = aU(t, e)), n) {
    let r = !t.hasFocus;
    t.inputState.startMouseSelection(new ZH(t, e, n, r)), r && t.observer.ignore(() => aO(t.contentDOM));
    let i = t.inputState.mouseSelection;
    if (i)
      return i.start(e), i.dragging === !1;
  }
  return !1;
};
function nw(t, e, n, r) {
  if (r == 1)
    return Re.cursor(e, n);
  if (r == 2)
    return zH(t.state, e, n);
  {
    let i = Lr.find(t.docView, e), o = t.state.doc.lineAt(i ? i.posAtEnd : e), s = i ? i.posAtStart : o.from, a = i ? i.posAtEnd : o.to;
    return a < t.state.doc.length && a == o.to && a++, Re.range(s, a);
  }
}
let WO = (t, e) => t >= e.top && t <= e.bottom, rw = (t, e, n) => WO(e, n) && t >= n.left && t <= n.right;
function oU(t, e, n, r) {
  let i = Lr.find(t.docView, e);
  if (!i)
    return 1;
  let o = e - i.posAtStart;
  if (o == 0)
    return 1;
  if (o == i.length)
    return -1;
  let s = i.coordsAt(o, -1);
  if (s && rw(n, r, s))
    return -1;
  let a = i.coordsAt(o, 1);
  return a && rw(n, r, a) ? 1 : s && WO(r, s) ? -1 : 1;
}
function iw(t, e) {
  let n = t.posAtCoords({ x: e.clientX, y: e.clientY }, !1);
  return { pos: n, bias: oU(t, n, e.clientX, e.clientY) };
}
const sU = xt.ie && xt.ie_version <= 11;
let ow = null, sw = 0, aw = 0;
function HO(t) {
  if (!sU)
    return t.detail;
  let e = ow, n = aw;
  return ow = t, aw = Date.now(), sw = !e || n > Date.now() - 400 && Math.abs(e.clientX - t.clientX) < 2 && Math.abs(e.clientY - t.clientY) < 2 ? (sw + 1) % 3 : 1;
}
function aU(t, e) {
  let n = iw(t, e), r = HO(e), i = t.state.selection;
  return {
    update(o) {
      o.docChanged && (n.pos = o.changes.mapPos(n.pos), i = i.map(o.changes));
    },
    get(o, s, a) {
      let l = iw(t, o), c, u = nw(t, l.pos, l.bias, r);
      if (n.pos != l.pos && !s) {
        let f = nw(t, n.pos, n.bias, r), d = Math.min(f.from, u.from), h = Math.max(f.to, u.to);
        u = d < u.from ? Re.range(d, h) : Re.range(h, d);
      }
      return s ? i.replaceRange(i.main.extend(u.from, u.to)) : a && r == 1 && i.ranges.length > 1 && (c = lU(i, l.pos)) ? c : a ? i.addRange(u) : Re.create([u]);
    }
  };
}
function lU(t, e) {
  for (let n = 0; n < t.ranges.length; n++) {
    let { from: r, to: i } = t.ranges[n];
    if (r <= e && i >= e)
      return Re.create(t.ranges.slice(0, n).concat(t.ranges.slice(n + 1)), t.mainIndex == n ? 0 : t.mainIndex - (t.mainIndex > n ? 1 : 0));
  }
  return null;
}
Vo.dragstart = (t, e) => {
  let { selection: { main: n } } = t.state;
  if (e.target.draggable) {
    let i = t.docView.nearest(e.target);
    if (i && i.isWidget) {
      let o = i.posAtStart, s = o + i.length;
      (o >= n.to || s <= n.from) && (n = Re.range(o, s));
    }
  }
  let { inputState: r } = t;
  return r.mouseSelection && (r.mouseSelection.dragging = !0), r.draggedContent = n, e.dataTransfer && (e.dataTransfer.setData("Text", t.state.sliceDoc(n.from, n.to)), e.dataTransfer.effectAllowed = "copyMove"), !1;
};
Vo.dragend = (t) => (t.inputState.draggedContent = null, !1);
function lw(t, e, n, r) {
  if (!n)
    return;
  let i = t.posAtCoords({ x: e.clientX, y: e.clientY }, !1), { draggedContent: o } = t.inputState, s = r && o && tU(t, e) ? { from: o.from, to: o.to } : null, a = { from: i, insert: n }, l = t.state.changes(s ? [s, a] : a);
  t.focus(), t.dispatch({
    changes: l,
    selection: { anchor: l.mapPos(i, -1), head: l.mapPos(i, 1) },
    userEvent: s ? "move.drop" : "input.drop"
  }), t.inputState.draggedContent = null;
}
Vo.drop = (t, e) => {
  if (!e.dataTransfer)
    return !1;
  if (t.state.readOnly)
    return !0;
  let n = e.dataTransfer.files;
  if (n && n.length) {
    let r = Array(n.length), i = 0, o = () => {
      ++i == n.length && lw(t, e, r.filter((s) => s != null).join(t.state.lineBreak), !1);
    };
    for (let s = 0; s < n.length; s++) {
      let a = new FileReader();
      a.onerror = o, a.onload = () => {
        /[\x00-\x08\x0e-\x1f]{2}/.test(a.result) || (r[s] = a.result), o();
      }, a.readAsText(n[s]);
    }
    return !0;
  } else {
    let r = e.dataTransfer.getData("Text");
    if (r)
      return lw(t, e, r, !0), !0;
  }
  return !1;
};
Vo.paste = (t, e) => {
  if (t.state.readOnly)
    return !0;
  t.observer.flush();
  let n = FO ? null : e.clipboardData;
  return n ? (VO(t, n.getData("text/plain") || n.getData("text/uri-text")), !0) : (iU(t), !1);
};
function cU(t, e) {
  let n = t.dom.parentNode;
  if (!n)
    return;
  let r = n.appendChild(document.createElement("textarea"));
  r.style.cssText = "position: fixed; left: -10000px; top: 10px", r.value = e, r.focus(), r.selectionEnd = e.length, r.selectionStart = 0, setTimeout(() => {
    r.remove(), t.focus();
  }, 50);
}
function uU(t) {
  let e = [], n = [], r = !1;
  for (let i of t.selection.ranges)
    i.empty || (e.push(t.sliceDoc(i.from, i.to)), n.push(i));
  if (!e.length) {
    let i = -1;
    for (let { from: o } of t.selection.ranges) {
      let s = t.doc.lineAt(o);
      s.number > i && (e.push(s.text), n.push({ from: s.from, to: Math.min(t.doc.length, s.to + 1) })), i = s.number;
    }
    r = !0;
  }
  return { text: e.join(t.lineBreak), ranges: n, linewise: r };
}
let Vv = null;
Vo.copy = Vo.cut = (t, e) => {
  let { text: n, ranges: r, linewise: i } = uU(t.state);
  if (!n && !i)
    return !1;
  Vv = i ? n : null, e.type == "cut" && !t.state.readOnly && t.dispatch({
    changes: r,
    scrollIntoView: !0,
    userEvent: "delete.cut"
  });
  let o = FO ? null : e.clipboardData;
  return o ? (o.clearData(), o.setData("text/plain", n), !0) : (cU(t, n), !1);
};
const UO = /* @__PURE__ */ sa.define();
function JO(t, e) {
  let n = [];
  for (let r of t.facet(AO)) {
    let i = r(t, e);
    i && n.push(i);
  }
  return n ? t.update({ effects: n, annotations: UO.of(!0) }) : null;
}
function GO(t) {
  setTimeout(() => {
    let e = t.hasFocus;
    if (e != t.inputState.notifiedFocused) {
      let n = JO(t.state, e);
      n ? t.dispatch(n) : t.update([]);
    }
  }, 10);
}
Wo.focus = (t) => {
  t.inputState.lastFocusTime = Date.now(), !t.scrollDOM.scrollTop && (t.inputState.lastScrollTop || t.inputState.lastScrollLeft) && (t.scrollDOM.scrollTop = t.inputState.lastScrollTop, t.scrollDOM.scrollLeft = t.inputState.lastScrollLeft), GO(t);
};
Wo.blur = (t) => {
  t.observer.clearSelectionRange(), GO(t);
};
Wo.compositionstart = Wo.compositionupdate = (t) => {
  t.inputState.compositionFirstChange == null && (t.inputState.compositionFirstChange = !0), t.inputState.composing < 0 && (t.inputState.composing = 0);
};
Wo.compositionend = (t) => {
  t.inputState.composing = -1, t.inputState.compositionEndedAt = Date.now(), t.inputState.compositionPendingKey = !0, t.inputState.compositionPendingChange = t.observer.pendingRecords().length > 0, t.inputState.compositionFirstChange = null, xt.chrome && xt.android ? t.observer.flushSoon() : t.inputState.compositionPendingChange ? Promise.resolve().then(() => t.observer.flush()) : setTimeout(() => {
    t.inputState.composing < 0 && t.docView.hasComposition && t.update([]);
  }, 50);
};
Wo.contextmenu = (t) => {
  t.inputState.lastContextMenu = Date.now();
};
Vo.beforeinput = (t, e) => {
  var n;
  let r;
  if (xt.chrome && xt.android && (r = qO.find((i) => i.inputType == e.inputType)) && (t.observer.delayAndroidKey(r.key, r.keyCode), r.key == "Backspace" || r.key == "Delete")) {
    let i = ((n = window.visualViewport) === null || n === void 0 ? void 0 : n.height) || 0;
    setTimeout(() => {
      var o;
      (((o = window.visualViewport) === null || o === void 0 ? void 0 : o.height) || 0) > i + 10 && t.hasFocus && (t.contentDOM.blur(), t.focus());
    }, 100);
  }
  return !1;
};
const cw = /* @__PURE__ */ new Set();
function fU(t) {
  cw.has(t) || (cw.add(t), t.addEventListener("copy", () => {
  }), t.addEventListener("cut", () => {
  }));
}
const uw = ["pre-wrap", "normal", "pre-line", "break-spaces"];
class dU {
  constructor(e) {
    this.lineWrapping = e, this.doc = Pn.empty, this.heightSamples = {}, this.lineHeight = 14, this.charWidth = 7, this.textHeight = 14, this.lineLength = 30, this.heightChanged = !1;
  }
  heightForGap(e, n) {
    let r = this.doc.lineAt(n).number - this.doc.lineAt(e).number + 1;
    return this.lineWrapping && (r += Math.max(0, Math.ceil((n - e - r * this.lineLength * 0.5) / this.lineLength))), this.lineHeight * r;
  }
  heightForLine(e) {
    return this.lineWrapping ? (1 + Math.max(0, Math.ceil((e - this.lineLength) / (this.lineLength - 5)))) * this.lineHeight : this.lineHeight;
  }
  setDoc(e) {
    return this.doc = e, this;
  }
  mustRefreshForWrapping(e) {
    return uw.indexOf(e) > -1 != this.lineWrapping;
  }
  mustRefreshForHeights(e) {
    let n = !1;
    for (let r = 0; r < e.length; r++) {
      let i = e[r];
      i < 0 ? r++ : this.heightSamples[Math.floor(i * 10)] || (n = !0, this.heightSamples[Math.floor(i * 10)] = !0);
    }
    return n;
  }
  refresh(e, n, r, i, o, s) {
    let a = uw.indexOf(e) > -1, l = Math.round(n) != Math.round(this.lineHeight) || this.lineWrapping != a;
    if (this.lineWrapping = a, this.lineHeight = n, this.charWidth = r, this.textHeight = i, this.lineLength = o, l) {
      this.heightSamples = {};
      for (let c = 0; c < s.length; c++) {
        let u = s[c];
        u < 0 ? c++ : this.heightSamples[Math.floor(u * 10)] = !0;
      }
    }
    return l;
  }
}
class hU {
  constructor(e, n) {
    this.from = e, this.heights = n, this.index = 0;
  }
  get more() {
    return this.index < this.heights.length;
  }
}
class is {
  /**
  @internal
  */
  constructor(e, n, r, i, o) {
    this.from = e, this.length = n, this.top = r, this.height = i, this._content = o;
  }
  /**
  The type of element this is. When querying lines, this may be
  an array of all the blocks that make up the line.
  */
  get type() {
    return typeof this._content == "number" ? ji.Text : Array.isArray(this._content) ? this._content : this._content.type;
  }
  /**
  The end of the element as a document position.
  */
  get to() {
    return this.from + this.length;
  }
  /**
  The bottom position of the element.
  */
  get bottom() {
    return this.top + this.height;
  }
  /**
  If this is a widget block, this will return the widget
  associated with it.
  */
  get widget() {
    return this._content instanceof Pa ? this._content.widget : null;
  }
  /**
  If this is a textblock, this holds the number of line breaks
  that appear in widgets inside the block.
  */
  get widgetLineBreaks() {
    return typeof this._content == "number" ? this._content : 0;
  }
  /**
  @internal
  */
  join(e) {
    let n = (Array.isArray(this._content) ? this._content : [this]).concat(Array.isArray(e._content) ? e._content : [e]);
    return new is(this.from, this.length + e.length, this.top, this.height + e.height, n);
  }
}
var ar = /* @__PURE__ */ function(t) {
  return t[t.ByPos = 0] = "ByPos", t[t.ByHeight = 1] = "ByHeight", t[t.ByPosNoHeight = 2] = "ByPosNoHeight", t;
}(ar || (ar = {}));
const fh = 1e-3;
class $i {
  constructor(e, n, r = 2) {
    this.length = e, this.height = n, this.flags = r;
  }
  get outdated() {
    return (this.flags & 2) > 0;
  }
  set outdated(e) {
    this.flags = (e ? 2 : 0) | this.flags & -3;
  }
  setHeight(e, n) {
    this.height != n && (Math.abs(this.height - n) > fh && (e.heightChanged = !0), this.height = n);
  }
  // Base case is to replace a leaf node, which simply builds a tree
  // from the new nodes and returns that (HeightMapBranch and
  // HeightMapGap override this to actually use from/to)
  replace(e, n, r) {
    return $i.of(r);
  }
  // Again, these are base cases, and are overridden for branch and gap nodes.
  decomposeLeft(e, n) {
    n.push(this);
  }
  decomposeRight(e, n) {
    n.push(this);
  }
  applyChanges(e, n, r, i) {
    let o = this, s = r.doc;
    for (let a = i.length - 1; a >= 0; a--) {
      let { fromA: l, toA: c, fromB: u, toB: f } = i[a], d = o.lineAt(l, ar.ByPosNoHeight, r.setDoc(n), 0, 0), h = d.to >= c ? d : o.lineAt(c, ar.ByPosNoHeight, r, 0, 0);
      for (f += h.to - c, c = h.to; a > 0 && d.from <= i[a - 1].toA; )
        l = i[a - 1].fromA, u = i[a - 1].fromB, a--, l < d.from && (d = o.lineAt(l, ar.ByPosNoHeight, r, 0, 0));
      u += d.from - l, l = d.from;
      let p = _y.build(r.setDoc(s), e, u, f);
      o = o.replace(l, c, p);
    }
    return o.updateHeight(r, 0);
  }
  static empty() {
    return new Ui(0, 0);
  }
  // nodes uses null values to indicate the position of line breaks.
  // There are never line breaks at the start or end of the array, or
  // two line breaks next to each other, and the array isn't allowed
  // to be empty (same restrictions as return value from the builder).
  static of(e) {
    if (e.length == 1)
      return e[0];
    let n = 0, r = e.length, i = 0, o = 0;
    for (; ; )
      if (n == r)
        if (i > o * 2) {
          let a = e[n - 1];
          a.break ? e.splice(--n, 1, a.left, null, a.right) : e.splice(--n, 1, a.left, a.right), r += 1 + a.break, i -= a.size;
        } else if (o > i * 2) {
          let a = e[r];
          a.break ? e.splice(r, 1, a.left, null, a.right) : e.splice(r, 1, a.left, a.right), r += 2 + a.break, o -= a.size;
        } else
          break;
      else if (i < o) {
        let a = e[n++];
        a && (i += a.size);
      } else {
        let a = e[--r];
        a && (o += a.size);
      }
    let s = 0;
    return e[n - 1] == null ? (s = 1, n--) : e[n] == null && (s = 1, r++), new pU($i.of(e.slice(0, n)), s, $i.of(e.slice(r)));
  }
}
$i.prototype.size = 1;
class KO extends $i {
  constructor(e, n, r) {
    super(e, n), this.deco = r;
  }
  blockAt(e, n, r, i) {
    return new is(i, this.length, r, this.height, this.deco || 0);
  }
  lineAt(e, n, r, i, o) {
    return this.blockAt(0, r, i, o);
  }
  forEachLine(e, n, r, i, o, s) {
    e <= o + this.length && n >= o && s(this.blockAt(0, r, i, o));
  }
  updateHeight(e, n = 0, r = !1, i) {
    return i && i.from <= n && i.more && this.setHeight(e, i.heights[i.index++]), this.outdated = !1, this;
  }
  toString() {
    return `block(${this.length})`;
  }
}
class Ui extends KO {
  constructor(e, n) {
    super(e, n, null), this.collapsed = 0, this.widgetHeight = 0, this.breaks = 0;
  }
  blockAt(e, n, r, i) {
    return new is(i, this.length, r, this.height, this.breaks);
  }
  replace(e, n, r) {
    let i = r[0];
    return r.length == 1 && (i instanceof Ui || i instanceof Yr && i.flags & 4) && Math.abs(this.length - i.length) < 10 ? (i instanceof Yr ? i = new Ui(i.length, this.height) : i.height = this.height, this.outdated || (i.outdated = !1), i) : $i.of(r);
  }
  updateHeight(e, n = 0, r = !1, i) {
    return i && i.from <= n && i.more ? this.setHeight(e, i.heights[i.index++]) : (r || this.outdated) && this.setHeight(e, Math.max(this.widgetHeight, e.heightForLine(this.length - this.collapsed)) + this.breaks * e.lineHeight), this.outdated = !1, this;
  }
  toString() {
    return `line(${this.length}${this.collapsed ? -this.collapsed : ""}${this.widgetHeight ? ":" + this.widgetHeight : ""})`;
  }
}
class Yr extends $i {
  constructor(e) {
    super(e, 0);
  }
  heightMetrics(e, n) {
    let r = e.doc.lineAt(n).number, i = e.doc.lineAt(n + this.length).number, o = i - r + 1, s, a = 0;
    if (e.lineWrapping) {
      let l = Math.min(this.height, e.lineHeight * o);
      s = l / o, this.length > o + 1 && (a = (this.height - l) / (this.length - o - 1));
    } else
      s = this.height / o;
    return { firstLine: r, lastLine: i, perLine: s, perChar: a };
  }
  blockAt(e, n, r, i) {
    let { firstLine: o, lastLine: s, perLine: a, perChar: l } = this.heightMetrics(n, i);
    if (n.lineWrapping) {
      let c = i + Math.round(Math.max(0, Math.min(1, (e - r) / this.height)) * this.length), u = n.doc.lineAt(c), f = a + u.length * l, d = Math.max(r, e - f / 2);
      return new is(u.from, u.length, d, f, 0);
    } else {
      let c = Math.max(0, Math.min(s - o, Math.floor((e - r) / a))), { from: u, length: f } = n.doc.line(o + c);
      return new is(u, f, r + a * c, a, 0);
    }
  }
  lineAt(e, n, r, i, o) {
    if (n == ar.ByHeight)
      return this.blockAt(e, r, i, o);
    if (n == ar.ByPosNoHeight) {
      let { from: h, to: p } = r.doc.lineAt(e);
      return new is(h, p - h, 0, 0, 0);
    }
    let { firstLine: s, perLine: a, perChar: l } = this.heightMetrics(r, o), c = r.doc.lineAt(e), u = a + c.length * l, f = c.number - s, d = i + a * f + l * (c.from - o - f);
    return new is(c.from, c.length, Math.max(i, Math.min(d, i + this.height - u)), u, 0);
  }
  forEachLine(e, n, r, i, o, s) {
    e = Math.max(e, o), n = Math.min(n, o + this.length);
    let { firstLine: a, perLine: l, perChar: c } = this.heightMetrics(r, o);
    for (let u = e, f = i; u <= n; ) {
      let d = r.doc.lineAt(u);
      if (u == e) {
        let p = d.number - a;
        f += l * p + c * (e - o - p);
      }
      let h = l + c * d.length;
      s(new is(d.from, d.length, f, h, 0)), f += h, u = d.to + 1;
    }
  }
  replace(e, n, r) {
    let i = this.length - n;
    if (i > 0) {
      let o = r[r.length - 1];
      o instanceof Yr ? r[r.length - 1] = new Yr(o.length + i) : r.push(null, new Yr(i - 1));
    }
    if (e > 0) {
      let o = r[0];
      o instanceof Yr ? r[0] = new Yr(e + o.length) : r.unshift(new Yr(e - 1), null);
    }
    return $i.of(r);
  }
  decomposeLeft(e, n) {
    n.push(new Yr(e - 1), null);
  }
  decomposeRight(e, n) {
    n.push(null, new Yr(this.length - e - 1));
  }
  updateHeight(e, n = 0, r = !1, i) {
    let o = n + this.length;
    if (i && i.from <= n + this.length && i.more) {
      let s = [], a = Math.max(n, i.from), l = -1;
      for (i.from > n && s.push(new Yr(i.from - n - 1).updateHeight(e, n)); a <= o && i.more; ) {
        let u = e.doc.lineAt(a).length;
        s.length && s.push(null);
        let f = i.heights[i.index++];
        l == -1 ? l = f : Math.abs(f - l) >= fh && (l = -2);
        let d = new Ui(u, f);
        d.outdated = !1, s.push(d), a += u + 1;
      }
      a <= o && s.push(null, new Yr(o - a).updateHeight(e, a));
      let c = $i.of(s);
      return (l < 0 || Math.abs(c.height - this.height) >= fh || Math.abs(l - this.heightMetrics(e, n).perLine) >= fh) && (e.heightChanged = !0), c;
    } else
      (r || this.outdated) && (this.setHeight(e, e.heightForGap(n, n + this.length)), this.outdated = !1);
    return this;
  }
  toString() {
    return `gap(${this.length})`;
  }
}
class pU extends $i {
  constructor(e, n, r) {
    super(e.length + n + r.length, e.height + r.height, n | (e.outdated || r.outdated ? 2 : 0)), this.left = e, this.right = r, this.size = e.size + r.size;
  }
  get break() {
    return this.flags & 1;
  }
  blockAt(e, n, r, i) {
    let o = r + this.left.height;
    return e < o ? this.left.blockAt(e, n, r, i) : this.right.blockAt(e, n, o, i + this.left.length + this.break);
  }
  lineAt(e, n, r, i, o) {
    let s = i + this.left.height, a = o + this.left.length + this.break, l = n == ar.ByHeight ? e < s : e < a, c = l ? this.left.lineAt(e, n, r, i, o) : this.right.lineAt(e, n, r, s, a);
    if (this.break || (l ? c.to < a : c.from > a))
      return c;
    let u = n == ar.ByPosNoHeight ? ar.ByPosNoHeight : ar.ByPos;
    return l ? c.join(this.right.lineAt(a, u, r, s, a)) : this.left.lineAt(a, u, r, i, o).join(c);
  }
  forEachLine(e, n, r, i, o, s) {
    let a = i + this.left.height, l = o + this.left.length + this.break;
    if (this.break)
      e < l && this.left.forEachLine(e, n, r, i, o, s), n >= l && this.right.forEachLine(e, n, r, a, l, s);
    else {
      let c = this.lineAt(l, ar.ByPos, r, i, o);
      e < c.from && this.left.forEachLine(e, c.from - 1, r, i, o, s), c.to >= e && c.from <= n && s(c), n > c.to && this.right.forEachLine(c.to + 1, n, r, a, l, s);
    }
  }
  replace(e, n, r) {
    let i = this.left.length + this.break;
    if (n < i)
      return this.balanced(this.left.replace(e, n, r), this.right);
    if (e > this.left.length)
      return this.balanced(this.left, this.right.replace(e - i, n - i, r));
    let o = [];
    e > 0 && this.decomposeLeft(e, o);
    let s = o.length;
    for (let a of r)
      o.push(a);
    if (e > 0 && fw(o, s - 1), n < this.length) {
      let a = o.length;
      this.decomposeRight(n, o), fw(o, a);
    }
    return $i.of(o);
  }
  decomposeLeft(e, n) {
    let r = this.left.length;
    if (e <= r)
      return this.left.decomposeLeft(e, n);
    n.push(this.left), this.break && (r++, e >= r && n.push(null)), e > r && this.right.decomposeLeft(e - r, n);
  }
  decomposeRight(e, n) {
    let r = this.left.length, i = r + this.break;
    if (e >= i)
      return this.right.decomposeRight(e - i, n);
    e < r && this.left.decomposeRight(e, n), this.break && e < i && n.push(null), n.push(this.right);
  }
  balanced(e, n) {
    return e.size > 2 * n.size || n.size > 2 * e.size ? $i.of(this.break ? [e, null, n] : [e, n]) : (this.left = e, this.right = n, this.height = e.height + n.height, this.outdated = e.outdated || n.outdated, this.size = e.size + n.size, this.length = e.length + this.break + n.length, this);
  }
  updateHeight(e, n = 0, r = !1, i) {
    let { left: o, right: s } = this, a = n + o.length + this.break, l = null;
    return i && i.from <= n + o.length && i.more ? l = o = o.updateHeight(e, n, r, i) : o.updateHeight(e, n, r), i && i.from <= a + s.length && i.more ? l = s = s.updateHeight(e, a, r, i) : s.updateHeight(e, a, r), l ? this.balanced(o, s) : (this.height = this.left.height + this.right.height, this.outdated = !1, this);
  }
  toString() {
    return this.left + (this.break ? " " : "-") + this.right;
  }
}
function fw(t, e) {
  let n, r;
  t[e] == null && (n = t[e - 1]) instanceof Yr && (r = t[e + 1]) instanceof Yr && t.splice(e - 1, 3, new Yr(n.length + 1 + r.length));
}
const mU = 5;
class _y {
  constructor(e, n) {
    this.pos = e, this.oracle = n, this.nodes = [], this.lineStart = -1, this.lineEnd = -1, this.covering = null, this.writtenTo = e;
  }
  get isCovered() {
    return this.covering && this.nodes[this.nodes.length - 1] == this.covering;
  }
  span(e, n) {
    if (this.lineStart > -1) {
      let r = Math.min(n, this.lineEnd), i = this.nodes[this.nodes.length - 1];
      i instanceof Ui ? i.length += r - this.pos : (r > this.pos || !this.isCovered) && this.nodes.push(new Ui(r - this.pos, -1)), this.writtenTo = r, n > r && (this.nodes.push(null), this.writtenTo++, this.lineStart = -1);
    }
    this.pos = n;
  }
  point(e, n, r) {
    if (e < n || r.heightRelevant) {
      let i = r.widget ? r.widget.estimatedHeight : 0, o = r.widget ? r.widget.lineBreaks : 0;
      i < 0 && (i = this.oracle.lineHeight);
      let s = n - e;
      r.block ? this.addBlock(new KO(s, i, r)) : (s || o || i >= mU) && this.addLineDeco(i, o, s);
    } else
      n > e && this.span(e, n);
    this.lineEnd > -1 && this.lineEnd < this.pos && (this.lineEnd = this.oracle.doc.lineAt(this.pos).to);
  }
  enterLine() {
    if (this.lineStart > -1)
      return;
    let { from: e, to: n } = this.oracle.doc.lineAt(this.pos);
    this.lineStart = e, this.lineEnd = n, this.writtenTo < e && ((this.writtenTo < e - 1 || this.nodes[this.nodes.length - 1] == null) && this.nodes.push(this.blankContent(this.writtenTo, e - 1)), this.nodes.push(null)), this.pos > e && this.nodes.push(new Ui(this.pos - e, -1)), this.writtenTo = this.pos;
  }
  blankContent(e, n) {
    let r = new Yr(n - e);
    return this.oracle.doc.lineAt(e).to == n && (r.flags |= 4), r;
  }
  ensureLine() {
    this.enterLine();
    let e = this.nodes.length ? this.nodes[this.nodes.length - 1] : null;
    if (e instanceof Ui)
      return e;
    let n = new Ui(0, -1);
    return this.nodes.push(n), n;
  }
  addBlock(e) {
    this.enterLine();
    let n = e.deco;
    n && n.startSide > 0 && !this.isCovered && this.ensureLine(), this.nodes.push(e), this.writtenTo = this.pos = this.pos + e.length, n && n.endSide > 0 && (this.covering = e);
  }
  addLineDeco(e, n, r) {
    let i = this.ensureLine();
    i.length += r, i.collapsed += r, i.widgetHeight = Math.max(i.widgetHeight, e), i.breaks += n, this.writtenTo = this.pos = this.pos + r;
  }
  finish(e) {
    let n = this.nodes.length == 0 ? null : this.nodes[this.nodes.length - 1];
    this.lineStart > -1 && !(n instanceof Ui) && !this.isCovered ? this.nodes.push(new Ui(0, -1)) : (this.writtenTo < this.pos || n == null) && this.nodes.push(this.blankContent(this.writtenTo, this.pos));
    let r = e;
    for (let i of this.nodes)
      i instanceof Ui && i.updateHeight(this.oracle, r), r += i ? i.length : 1;
    return this.nodes;
  }
  // Always called with a region that on both sides either stretches
  // to a line break or the end of the document.
  // The returned array uses null to indicate line breaks, but never
  // starts or ends in a line break, or has multiple line breaks next
  // to each other.
  static build(e, n, r, i) {
    let o = new _y(r, e);
    return Cn.spans(n, r, i, o, 0), o.finish(r);
  }
}
function gU(t, e, n) {
  let r = new vU();
  return Cn.compare(t, e, n, r, 0), r.changes;
}
class vU {
  constructor() {
    this.changes = [];
  }
  compareRange() {
  }
  comparePoint(e, n, r, i) {
    (e < n || r && r.heightRelevant || i && i.heightRelevant) && Nv(e, n, this.changes, 5);
  }
}
function yU(t, e) {
  let n = t.getBoundingClientRect(), r = t.ownerDocument, i = r.defaultView || window, o = Math.max(0, n.left), s = Math.min(i.innerWidth, n.right), a = Math.max(0, n.top), l = Math.min(i.innerHeight, n.bottom);
  for (let c = t.parentNode; c && c != r.body; )
    if (c.nodeType == 1) {
      let u = c, f = window.getComputedStyle(u);
      if ((u.scrollHeight > u.clientHeight || u.scrollWidth > u.clientWidth) && f.overflow != "visible") {
        let d = u.getBoundingClientRect();
        o = Math.max(o, d.left), s = Math.min(s, d.right), a = Math.max(a, d.top), l = c == t.parentNode ? d.bottom : Math.min(l, d.bottom);
      }
      c = f.position == "absolute" || f.position == "fixed" ? u.offsetParent : u.parentNode;
    } else if (c.nodeType == 11)
      c = c.host;
    else
      break;
  return {
    left: o - n.left,
    right: Math.max(o, s) - n.left,
    top: a - (n.top + e),
    bottom: Math.max(a, l) - (n.top + e)
  };
}
function bU(t, e) {
  let n = t.getBoundingClientRect();
  return {
    left: 0,
    right: n.right - n.left,
    top: e,
    bottom: n.bottom - (n.top + e)
  };
}
class cg {
  constructor(e, n, r) {
    this.from = e, this.to = n, this.size = r;
  }
  static same(e, n) {
    if (e.length != n.length)
      return !1;
    for (let r = 0; r < e.length; r++) {
      let i = e[r], o = n[r];
      if (i.from != o.from || i.to != o.to || i.size != o.size)
        return !1;
    }
    return !0;
  }
  draw(e, n) {
    return Bt.replace({
      widget: new xU(this.size * (n ? e.scaleY : e.scaleX), n)
    }).range(this.from, this.to);
  }
}
class xU extends Ua {
  constructor(e, n) {
    super(), this.size = e, this.vertical = n;
  }
  eq(e) {
    return e.size == this.size && e.vertical == this.vertical;
  }
  toDOM() {
    let e = document.createElement("div");
    return this.vertical ? e.style.height = this.size + "px" : (e.style.width = this.size + "px", e.style.height = "2px", e.style.display = "inline-block"), e;
  }
  get estimatedHeight() {
    return this.vertical ? this.size : -1;
  }
}
class dw {
  constructor(e) {
    this.state = e, this.pixelViewport = { left: 0, right: window.innerWidth, top: 0, bottom: 0 }, this.inView = !0, this.paddingTop = 0, this.paddingBottom = 0, this.contentDOMWidth = 0, this.contentDOMHeight = 0, this.editorHeight = 0, this.editorWidth = 0, this.scrollTop = 0, this.scrolledToBottom = !0, this.scaleX = 1, this.scaleY = 1, this.scrollAnchorPos = 0, this.scrollAnchorHeight = -1, this.scaler = hw, this.scrollTarget = null, this.printing = !1, this.mustMeasureContent = !0, this.defaultTextDirection = fr.LTR, this.visibleRanges = [], this.mustEnforceCursorAssoc = !1;
    let n = e.facet(Sy).some((r) => typeof r != "function" && r.class == "cm-lineWrapping");
    this.heightOracle = new dU(n), this.stateDeco = e.facet(mf).filter((r) => typeof r != "function"), this.heightMap = $i.empty().applyChanges(this.stateDeco, Pn.empty, this.heightOracle.setDoc(e.doc), [new mo(0, 0, 0, e.doc.length)]), this.viewport = this.getViewport(0, null), this.updateViewportLines(), this.updateForViewport(), this.lineGaps = this.ensureLineGaps([]), this.lineGapDeco = Bt.set(this.lineGaps.map((r) => r.draw(this, !1))), this.computeVisibleRanges();
  }
  updateForViewport() {
    let e = [this.viewport], { main: n } = this.state.selection;
    for (let r = 0; r <= 1; r++) {
      let i = r ? n.head : n.anchor;
      if (!e.some(({ from: o, to: s }) => i >= o && i <= s)) {
        let { from: o, to: s } = this.lineBlockAt(i);
        e.push(new Sd(o, s));
      }
    }
    this.viewports = e.sort((r, i) => r.from - i.from), this.scaler = this.heightMap.height <= 7e6 ? hw : new $U(this.heightOracle, this.heightMap, this.viewports);
  }
  updateViewportLines() {
    this.viewportLines = [], this.heightMap.forEachLine(this.viewport.from, this.viewport.to, this.heightOracle.setDoc(this.state.doc), 0, 0, (e) => {
      this.viewportLines.push(this.scaler.scale == 1 ? e : Tu(e, this.scaler));
    });
  }
  update(e, n = null) {
    this.state = e.state;
    let r = this.stateDeco;
    this.stateDeco = this.state.facet(mf).filter((u) => typeof u != "function");
    let i = e.changedRanges, o = mo.extendWithRanges(i, gU(r, this.stateDeco, e ? e.changes : Br.empty(this.state.doc.length))), s = this.heightMap.height, a = this.scrolledToBottom ? null : this.scrollAnchorAt(this.scrollTop);
    this.heightMap = this.heightMap.applyChanges(this.stateDeco, e.startState.doc, this.heightOracle.setDoc(this.state.doc), o), this.heightMap.height != s && (e.flags |= 2), a ? (this.scrollAnchorPos = e.changes.mapPos(a.from, -1), this.scrollAnchorHeight = a.top) : (this.scrollAnchorPos = -1, this.scrollAnchorHeight = this.heightMap.height);
    let l = o.length ? this.mapViewport(this.viewport, e.changes) : this.viewport;
    (n && (n.range.head < l.from || n.range.head > l.to) || !this.viewportIsAppropriate(l)) && (l = this.getViewport(0, n));
    let c = !e.changes.empty || e.flags & 2 || l.from != this.viewport.from || l.to != this.viewport.to;
    this.viewport = l, this.updateForViewport(), c && this.updateViewportLines(), (this.lineGaps.length || this.viewport.to - this.viewport.from > 4e3) && this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps, e.changes))), e.flags |= this.computeVisibleRanges(), n && (this.scrollTarget = n), !this.mustEnforceCursorAssoc && e.selectionSet && e.view.lineWrapping && e.state.selection.main.empty && e.state.selection.main.assoc && !e.state.facet(MO) && (this.mustEnforceCursorAssoc = !0);
  }
  measure(e) {
    let n = e.contentDOM, r = window.getComputedStyle(n), i = this.heightOracle, o = r.whiteSpace;
    this.defaultTextDirection = r.direction == "rtl" ? fr.RTL : fr.LTR;
    let s = this.heightOracle.mustRefreshForWrapping(o), a = n.getBoundingClientRect(), l = s || this.mustMeasureContent || this.contentDOMHeight != a.height;
    this.contentDOMHeight = a.height, this.mustMeasureContent = !1;
    let c = 0, u = 0;
    if (a.width && a.height) {
      let { scaleX: b, scaleY: w } = sO(n, a);
      (this.scaleX != b || this.scaleY != w) && (this.scaleX = b, this.scaleY = w, c |= 8, s = l = !0);
    }
    let f = (parseInt(r.paddingTop) || 0) * this.scaleY, d = (parseInt(r.paddingBottom) || 0) * this.scaleY;
    (this.paddingTop != f || this.paddingBottom != d) && (this.paddingTop = f, this.paddingBottom = d, c |= 10), this.editorWidth != e.scrollDOM.clientWidth && (i.lineWrapping && (l = !0), this.editorWidth = e.scrollDOM.clientWidth, c |= 8);
    let h = e.scrollDOM.scrollTop * this.scaleY;
    this.scrollTop != h && (this.scrollAnchorHeight = -1, this.scrollTop = h), this.scrolledToBottom = cO(e.scrollDOM);
    let p = (this.printing ? bU : yU)(n, this.paddingTop), m = p.top - this.pixelViewport.top, g = p.bottom - this.pixelViewport.bottom;
    this.pixelViewport = p;
    let v = this.pixelViewport.bottom > this.pixelViewport.top && this.pixelViewport.right > this.pixelViewport.left;
    if (v != this.inView && (this.inView = v, v && (l = !0)), !this.inView && !this.scrollTarget)
      return 0;
    let y = a.width;
    if ((this.contentDOMWidth != y || this.editorHeight != e.scrollDOM.clientHeight) && (this.contentDOMWidth = a.width, this.editorHeight = e.scrollDOM.clientHeight, c |= 8), l) {
      let b = e.docView.measureVisibleLineHeights(this.viewport);
      if (i.mustRefreshForHeights(b) && (s = !0), s || i.lineWrapping && Math.abs(y - this.contentDOMWidth) > i.charWidth) {
        let { lineHeight: w, charWidth: j, textHeight: k } = e.docView.measureTextSize();
        s = w > 0 && i.refresh(o, w, j, k, y / j, b), s && (e.docView.minWidth = 0, c |= 8);
      }
      m > 0 && g > 0 ? u = Math.max(m, g) : m < 0 && g < 0 && (u = Math.min(m, g)), i.heightChanged = !1;
      for (let w of this.viewports) {
        let j = w.from == this.viewport.from ? b : e.docView.measureVisibleLineHeights(w);
        this.heightMap = (s ? $i.empty().applyChanges(this.stateDeco, Pn.empty, this.heightOracle, [new mo(0, 0, 0, e.state.doc.length)]) : this.heightMap).updateHeight(i, 0, s, new hU(w.from, j));
      }
      i.heightChanged && (c |= 2);
    }
    let x = !this.viewportIsAppropriate(this.viewport, u) || this.scrollTarget && (this.scrollTarget.range.head < this.viewport.from || this.scrollTarget.range.head > this.viewport.to);
    return x && (this.viewport = this.getViewport(u, this.scrollTarget)), this.updateForViewport(), (c & 2 || x) && this.updateViewportLines(), (this.lineGaps.length || this.viewport.to - this.viewport.from > 4e3) && this.updateLineGaps(this.ensureLineGaps(s ? [] : this.lineGaps, e)), c |= this.computeVisibleRanges(), this.mustEnforceCursorAssoc && (this.mustEnforceCursorAssoc = !1, e.docView.enforceCursorAssoc()), c;
  }
  get visibleTop() {
    return this.scaler.fromDOM(this.pixelViewport.top);
  }
  get visibleBottom() {
    return this.scaler.fromDOM(this.pixelViewport.bottom);
  }
  getViewport(e, n) {
    let r = 0.5 - Math.max(-0.5, Math.min(0.5, e / 1e3 / 2)), i = this.heightMap, o = this.heightOracle, { visibleTop: s, visibleBottom: a } = this, l = new Sd(i.lineAt(s - r * 1e3, ar.ByHeight, o, 0, 0).from, i.lineAt(a + (1 - r) * 1e3, ar.ByHeight, o, 0, 0).to);
    if (n) {
      let { head: c } = n.range;
      if (c < l.from || c > l.to) {
        let u = Math.min(this.editorHeight, this.pixelViewport.bottom - this.pixelViewport.top), f = i.lineAt(c, ar.ByPos, o, 0, 0), d;
        n.y == "center" ? d = (f.top + f.bottom) / 2 - u / 2 : n.y == "start" || n.y == "nearest" && c < l.from ? d = f.top : d = f.bottom - u, l = new Sd(i.lineAt(d - 1e3 / 2, ar.ByHeight, o, 0, 0).from, i.lineAt(d + u + 1e3 / 2, ar.ByHeight, o, 0, 0).to);
      }
    }
    return l;
  }
  mapViewport(e, n) {
    let r = n.mapPos(e.from, -1), i = n.mapPos(e.to, 1);
    return new Sd(this.heightMap.lineAt(r, ar.ByPos, this.heightOracle, 0, 0).from, this.heightMap.lineAt(i, ar.ByPos, this.heightOracle, 0, 0).to);
  }
  // Checks if a given viewport covers the visible part of the
  // document and not too much beyond that.
  viewportIsAppropriate({ from: e, to: n }, r = 0) {
    if (!this.inView)
      return !0;
    let { top: i } = this.heightMap.lineAt(e, ar.ByPos, this.heightOracle, 0, 0), { bottom: o } = this.heightMap.lineAt(n, ar.ByPos, this.heightOracle, 0, 0), { visibleTop: s, visibleBottom: a } = this;
    return (e == 0 || i <= s - Math.max(10, Math.min(
      -r,
      250
      /* VP.MaxCoverMargin */
    ))) && (n == this.state.doc.length || o >= a + Math.max(10, Math.min(
      r,
      250
      /* VP.MaxCoverMargin */
    ))) && i > s - 2 * 1e3 && o < a + 2 * 1e3;
  }
  mapLineGaps(e, n) {
    if (!e.length || n.empty)
      return e;
    let r = [];
    for (let i of e)
      n.touchesRange(i.from, i.to) || r.push(new cg(n.mapPos(i.from), n.mapPos(i.to), i.size));
    return r;
  }
  // Computes positions in the viewport where the start or end of a
  // line should be hidden, trying to reuse existing line gaps when
  // appropriate to avoid unneccesary redraws.
  // Uses crude character-counting for the positioning and sizing,
  // since actual DOM coordinates aren't always available and
  // predictable. Relies on generous margins (see LG.Margin) to hide
  // the artifacts this might produce from the user.
  ensureLineGaps(e, n) {
    let r = this.heightOracle.lineWrapping, i = r ? 1e4 : 2e3, o = i >> 1, s = i << 1;
    if (this.defaultTextDirection != fr.LTR && !r)
      return [];
    let a = [], l = (c, u, f, d) => {
      if (u - c < o)
        return;
      let h = this.state.selection.main, p = [h.from];
      h.empty || p.push(h.to);
      for (let g of p)
        if (g > c && g < u) {
          l(c, g - 10, f, d), l(g + 10, u, f, d);
          return;
        }
      let m = jU(e, (g) => g.from >= f.from && g.to <= f.to && Math.abs(g.from - c) < o && Math.abs(g.to - u) < o && !p.some((v) => g.from < v && g.to > v));
      if (!m) {
        if (u < f.to && n && r && n.visibleRanges.some((g) => g.from <= u && g.to >= u)) {
          let g = n.moveToLineBoundary(Re.cursor(u), !1, !0).head;
          g > c && (u = g);
        }
        m = new cg(c, u, this.gapSize(f, c, u, d));
      }
      a.push(m);
    };
    for (let c of this.viewportLines) {
      if (c.length < s)
        continue;
      let u = wU(c.from, c.to, this.stateDeco);
      if (u.total < s)
        continue;
      let f = this.scrollTarget ? this.scrollTarget.range.head : null, d, h;
      if (r) {
        let p = i / this.heightOracle.lineLength * this.heightOracle.lineHeight, m, g;
        if (f != null) {
          let v = _d(u, f), y = ((this.visibleBottom - this.visibleTop) / 2 + p) / c.height;
          m = v - y, g = v + y;
        } else
          m = (this.visibleTop - c.top - p) / c.height, g = (this.visibleBottom - c.top + p) / c.height;
        d = Cd(u, m), h = Cd(u, g);
      } else {
        let p = u.total * this.heightOracle.charWidth, m = i * this.heightOracle.charWidth, g, v;
        if (f != null) {
          let y = _d(u, f), x = ((this.pixelViewport.right - this.pixelViewport.left) / 2 + m) / p;
          g = y - x, v = y + x;
        } else
          g = (this.pixelViewport.left - m) / p, v = (this.pixelViewport.right + m) / p;
        d = Cd(u, g), h = Cd(u, v);
      }
      d > c.from && l(c.from, d, c, u), h < c.to && l(h, c.to, c, u);
    }
    return a;
  }
  gapSize(e, n, r, i) {
    let o = _d(i, r) - _d(i, n);
    return this.heightOracle.lineWrapping ? e.height * o : i.total * this.heightOracle.charWidth * o;
  }
  updateLineGaps(e) {
    cg.same(e, this.lineGaps) || (this.lineGaps = e, this.lineGapDeco = Bt.set(e.map((n) => n.draw(this, this.heightOracle.lineWrapping))));
  }
  computeVisibleRanges() {
    let e = this.stateDeco;
    this.lineGaps.length && (e = e.concat(this.lineGapDeco));
    let n = [];
    Cn.spans(e, this.viewport.from, this.viewport.to, {
      span(i, o) {
        n.push({ from: i, to: o });
      },
      point() {
      }
    }, 20);
    let r = n.length != this.visibleRanges.length || this.visibleRanges.some((i, o) => i.from != n[o].from || i.to != n[o].to);
    return this.visibleRanges = n, r ? 4 : 0;
  }
  lineBlockAt(e) {
    return e >= this.viewport.from && e <= this.viewport.to && this.viewportLines.find((n) => n.from <= e && n.to >= e) || Tu(this.heightMap.lineAt(e, ar.ByPos, this.heightOracle, 0, 0), this.scaler);
  }
  lineBlockAtHeight(e) {
    return Tu(this.heightMap.lineAt(this.scaler.fromDOM(e), ar.ByHeight, this.heightOracle, 0, 0), this.scaler);
  }
  scrollAnchorAt(e) {
    let n = this.lineBlockAtHeight(e + 8);
    return n.from >= this.viewport.from || this.viewportLines[0].top - e > 200 ? n : this.viewportLines[0];
  }
  elementAtHeight(e) {
    return Tu(this.heightMap.blockAt(this.scaler.fromDOM(e), this.heightOracle, 0, 0), this.scaler);
  }
  get docHeight() {
    return this.scaler.toDOM(this.heightMap.height);
  }
  get contentHeight() {
    return this.docHeight + this.paddingTop + this.paddingBottom;
  }
}
class Sd {
  constructor(e, n) {
    this.from = e, this.to = n;
  }
}
function wU(t, e, n) {
  let r = [], i = t, o = 0;
  return Cn.spans(n, t, e, {
    span() {
    },
    point(s, a) {
      s > i && (r.push({ from: i, to: s }), o += s - i), i = a;
    }
  }, 20), i < e && (r.push({ from: i, to: e }), o += e - i), { total: o, ranges: r };
}
function Cd({ total: t, ranges: e }, n) {
  if (n <= 0)
    return e[0].from;
  if (n >= 1)
    return e[e.length - 1].to;
  let r = Math.floor(t * n);
  for (let i = 0; ; i++) {
    let { from: o, to: s } = e[i], a = s - o;
    if (r <= a)
      return o + r;
    r -= a;
  }
}
function _d(t, e) {
  let n = 0;
  for (let { from: r, to: i } of t.ranges) {
    if (e <= i) {
      n += e - r;
      break;
    }
    n += i - r;
  }
  return n / t.total;
}
function jU(t, e) {
  for (let n of t)
    if (e(n))
      return n;
}
const hw = {
  toDOM(t) {
    return t;
  },
  fromDOM(t) {
    return t;
  },
  scale: 1
};
class $U {
  constructor(e, n, r) {
    let i = 0, o = 0, s = 0;
    this.viewports = r.map(({ from: a, to: l }) => {
      let c = n.lineAt(a, ar.ByPos, e, 0, 0).top, u = n.lineAt(l, ar.ByPos, e, 0, 0).bottom;
      return i += u - c, { from: a, to: l, top: c, bottom: u, domTop: 0, domBottom: 0 };
    }), this.scale = (7e6 - i) / (n.height - i);
    for (let a of this.viewports)
      a.domTop = s + (a.top - o) * this.scale, s = a.domBottom = a.domTop + (a.bottom - a.top), o = a.bottom;
  }
  toDOM(e) {
    for (let n = 0, r = 0, i = 0; ; n++) {
      let o = n < this.viewports.length ? this.viewports[n] : null;
      if (!o || e < o.top)
        return i + (e - r) * this.scale;
      if (e <= o.bottom)
        return o.domTop + (e - o.top);
      r = o.bottom, i = o.domBottom;
    }
  }
  fromDOM(e) {
    for (let n = 0, r = 0, i = 0; ; n++) {
      let o = n < this.viewports.length ? this.viewports[n] : null;
      if (!o || e < o.domTop)
        return r + (e - i) / this.scale;
      if (e <= o.domBottom)
        return o.top + (e - o.domTop);
      r = o.bottom, i = o.domBottom;
    }
  }
}
function Tu(t, e) {
  if (e.scale == 1)
    return t;
  let n = e.toDOM(t.top), r = e.toDOM(t.bottom);
  return new is(t.from, t.length, n, r - n, Array.isArray(t._content) ? t._content.map((i) => Tu(i, e)) : t._content);
}
const Od = /* @__PURE__ */ pt.define({ combine: (t) => t.join(" ") }), Wv = /* @__PURE__ */ pt.define({ combine: (t) => t.indexOf(!0) > -1 }), Hv = /* @__PURE__ */ Ta.newName(), YO = /* @__PURE__ */ Ta.newName(), QO = /* @__PURE__ */ Ta.newName(), XO = { "&light": "." + YO, "&dark": "." + QO };
function Uv(t, e, n) {
  return new Ta(e, {
    finish(r) {
      return /&/.test(r) ? r.replace(/&\w*/, (i) => {
        if (i == "&")
          return t;
        if (!n || !n[i])
          throw new RangeError(`Unsupported selector: ${i}`);
        return n[i];
      }) : t + " " + r;
    }
  });
}
const kU = /* @__PURE__ */ Uv("." + Hv, {
  "&": {
    position: "relative !important",
    boxSizing: "border-box",
    "&.cm-focused": {
      // Provide a simple default outline to make sure a focused
      // editor is visually distinct. Can't leave the default behavior
      // because that will apply to the content element, which is
      // inside the scrollable container and doesn't include the
      // gutters. We also can't use an 'auto' outline, since those
      // are, for some reason, drawn behind the element content, which
      // will cause things like the active line background to cover
      // the outline (#297).
      outline: "1px dotted #212121"
    },
    display: "flex !important",
    flexDirection: "column"
  },
  ".cm-scroller": {
    display: "flex !important",
    alignItems: "flex-start !important",
    fontFamily: "monospace",
    lineHeight: 1.4,
    height: "100%",
    overflowX: "auto",
    position: "relative",
    zIndex: 0
  },
  ".cm-content": {
    margin: 0,
    flexGrow: 2,
    flexShrink: 0,
    display: "block",
    whiteSpace: "pre",
    wordWrap: "normal",
    // https://github.com/codemirror/dev/issues/456
    boxSizing: "border-box",
    minHeight: "100%",
    padding: "4px 0",
    outline: "none",
    "&[contenteditable=true]": {
      WebkitUserModify: "read-write-plaintext-only"
    }
  },
  ".cm-lineWrapping": {
    whiteSpace_fallback: "pre-wrap",
    // For IE
    whiteSpace: "break-spaces",
    wordBreak: "break-word",
    // For Safari, which doesn't support overflow-wrap: anywhere
    overflowWrap: "anywhere",
    flexShrink: 1
  },
  "&light .cm-content": { caretColor: "black" },
  "&dark .cm-content": { caretColor: "white" },
  ".cm-line": {
    display: "block",
    padding: "0 2px 0 6px"
  },
  ".cm-layer": {
    position: "absolute",
    left: 0,
    top: 0,
    contain: "size style",
    "& > *": {
      position: "absolute"
    }
  },
  "&light .cm-selectionBackground": {
    background: "#d9d9d9"
  },
  "&dark .cm-selectionBackground": {
    background: "#222"
  },
  "&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground": {
    background: "#d7d4f0"
  },
  "&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground": {
    background: "#233"
  },
  ".cm-cursorLayer": {
    pointerEvents: "none"
  },
  "&.cm-focused > .cm-scroller > .cm-cursorLayer": {
    animation: "steps(1) cm-blink 1.2s infinite"
  },
  // Two animations defined so that we can switch between them to
  // restart the animation without forcing another style
  // recomputation.
  "@keyframes cm-blink": { "0%": {}, "50%": { opacity: 0 }, "100%": {} },
  "@keyframes cm-blink2": { "0%": {}, "50%": { opacity: 0 }, "100%": {} },
  ".cm-cursor, .cm-dropCursor": {
    borderLeft: "1.2px solid black",
    marginLeft: "-0.6px",
    pointerEvents: "none"
  },
  ".cm-cursor": {
    display: "none"
  },
  "&dark .cm-cursor": {
    borderLeftColor: "#444"
  },
  ".cm-dropCursor": {
    position: "absolute"
  },
  "&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor": {
    display: "block"
  },
  ".cm-iso": {
    unicodeBidi: "isolate"
  },
  ".cm-announced": {
    position: "fixed",
    top: "-10000px"
  },
  "@media print": {
    ".cm-announced": { display: "none" }
  },
  "&light .cm-activeLine": { backgroundColor: "#cceeff44" },
  "&dark .cm-activeLine": { backgroundColor: "#99eeff33" },
  "&light .cm-specialChar": { color: "red" },
  "&dark .cm-specialChar": { color: "#f78" },
  ".cm-gutters": {
    flexShrink: 0,
    display: "flex",
    height: "100%",
    boxSizing: "border-box",
    insetInlineStart: 0,
    zIndex: 200
  },
  "&light .cm-gutters": {
    backgroundColor: "#f5f5f5",
    color: "#6c6c6c",
    borderRight: "1px solid #ddd"
  },
  "&dark .cm-gutters": {
    backgroundColor: "#333338",
    color: "#ccc"
  },
  ".cm-gutter": {
    display: "flex !important",
    // Necessary -- prevents margin collapsing
    flexDirection: "column",
    flexShrink: 0,
    boxSizing: "border-box",
    minHeight: "100%",
    overflow: "hidden"
  },
  ".cm-gutterElement": {
    boxSizing: "border-box"
  },
  ".cm-lineNumbers .cm-gutterElement": {
    padding: "0 3px 0 5px",
    minWidth: "20px",
    textAlign: "right",
    whiteSpace: "nowrap"
  },
  "&light .cm-activeLineGutter": {
    backgroundColor: "#e2f2ff"
  },
  "&dark .cm-activeLineGutter": {
    backgroundColor: "#222227"
  },
  ".cm-panels": {
    boxSizing: "border-box",
    position: "sticky",
    left: 0,
    right: 0
  },
  "&light .cm-panels": {
    backgroundColor: "#f5f5f5",
    color: "black"
  },
  "&light .cm-panels-top": {
    borderBottom: "1px solid #ddd"
  },
  "&light .cm-panels-bottom": {
    borderTop: "1px solid #ddd"
  },
  "&dark .cm-panels": {
    backgroundColor: "#333338",
    color: "white"
  },
  ".cm-tab": {
    display: "inline-block",
    overflow: "hidden",
    verticalAlign: "bottom"
  },
  ".cm-widgetBuffer": {
    verticalAlign: "text-top",
    height: "1em",
    width: 0,
    display: "inline"
  },
  ".cm-placeholder": {
    color: "#888",
    display: "inline-block",
    verticalAlign: "top"
  },
  ".cm-highlightSpace:before": {
    content: "attr(data-display)",
    position: "absolute",
    pointerEvents: "none",
    color: "#888"
  },
  ".cm-highlightTab": {
    backgroundImage: `url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,
    backgroundSize: "auto 100%",
    backgroundPosition: "right 90%",
    backgroundRepeat: "no-repeat"
  },
  ".cm-trailingSpace": {
    backgroundColor: "#ff332255"
  },
  ".cm-button": {
    verticalAlign: "middle",
    color: "inherit",
    fontSize: "70%",
    padding: ".2em 1em",
    borderRadius: "1px"
  },
  "&light .cm-button": {
    backgroundImage: "linear-gradient(#eff1f5, #d9d9df)",
    border: "1px solid #888",
    "&:active": {
      backgroundImage: "linear-gradient(#b4b4b4, #d0d3d6)"
    }
  },
  "&dark .cm-button": {
    backgroundImage: "linear-gradient(#393939, #111)",
    border: "1px solid #888",
    "&:active": {
      backgroundImage: "linear-gradient(#111, #333)"
    }
  },
  ".cm-textfield": {
    verticalAlign: "middle",
    color: "inherit",
    fontSize: "70%",
    border: "1px solid silver",
    padding: ".2em .5em"
  },
  "&light .cm-textfield": {
    backgroundColor: "white"
  },
  "&dark .cm-textfield": {
    border: "1px solid #555",
    backgroundColor: "inherit"
  }
}, XO), Ru = "";
class SU {
  constructor(e, n) {
    this.points = e, this.text = "", this.lineSeparator = n.facet(xn.lineSeparator);
  }
  append(e) {
    this.text += e;
  }
  lineBreak() {
    this.text += Ru;
  }
  readRange(e, n) {
    if (!e)
      return this;
    let r = e.parentNode;
    for (let i = e; ; ) {
      this.findPointBefore(r, i);
      let o = this.text.length;
      this.readNode(i);
      let s = i.nextSibling;
      if (s == n)
        break;
      let a = ur.get(i), l = ur.get(s);
      (a && l ? a.breakAfter : (a ? a.breakAfter : pw(i)) || pw(s) && (i.nodeName != "BR" || i.cmIgnore) && this.text.length > o) && this.lineBreak(), i = s;
    }
    return this.findPointBefore(r, n), this;
  }
  readTextNode(e) {
    let n = e.nodeValue;
    for (let r of this.points)
      r.node == e && (r.pos = this.text.length + Math.min(r.offset, n.length));
    for (let r = 0, i = this.lineSeparator ? null : /\r\n?|\n/g; ; ) {
      let o = -1, s = 1, a;
      if (this.lineSeparator ? (o = n.indexOf(this.lineSeparator, r), s = this.lineSeparator.length) : (a = i.exec(n)) && (o = a.index, s = a[0].length), this.append(n.slice(r, o < 0 ? n.length : o)), o < 0)
        break;
      if (this.lineBreak(), s > 1)
        for (let l of this.points)
          l.node == e && l.pos > this.text.length && (l.pos -= s - 1);
      r = o + s;
    }
  }
  readNode(e) {
    if (e.cmIgnore)
      return;
    let n = ur.get(e), r = n && n.overrideDOMText;
    if (r != null) {
      this.findPointInside(e, r.length);
      for (let i = r.iter(); !i.next().done; )
        i.lineBreak ? this.lineBreak() : this.append(i.value);
    } else
      e.nodeType == 3 ? this.readTextNode(e) : e.nodeName == "BR" ? e.nextSibling && this.lineBreak() : e.nodeType == 1 && this.readRange(e.firstChild, null);
  }
  findPointBefore(e, n) {
    for (let r of this.points)
      r.node == e && e.childNodes[r.offset] == n && (r.pos = this.text.length);
  }
  findPointInside(e, n) {
    for (let r of this.points)
      (e.nodeType == 3 ? r.node == e : e.contains(r.node)) && (r.pos = this.text.length + (CU(e, r.node, r.offset) ? n : 0));
  }
}
function CU(t, e, n) {
  for (; ; ) {
    if (!e || n < Us(e))
      return !1;
    if (e == t)
      return !0;
    n = pf(e) + 1, e = e.parentNode;
  }
}
function pw(t) {
  return t.nodeType == 1 && /^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName);
}
class mw {
  constructor(e, n) {
    this.node = e, this.offset = n, this.pos = -1;
  }
}
class _U {
  constructor(e, n, r, i) {
    this.typeOver = i, this.bounds = null, this.text = "";
    let { impreciseHead: o, impreciseAnchor: s } = e.docView;
    if (e.state.readOnly && n > -1)
      this.newSel = null;
    else if (n > -1 && (this.bounds = e.docView.domBoundsAround(n, r, 0))) {
      let a = o || s ? [] : EU(e), l = new SU(a, e.state);
      l.readRange(this.bounds.startDOM, this.bounds.endDOM), this.text = l.text, this.newSel = MU(a, this.bounds.from);
    } else {
      let a = e.observer.selectionRange, l = o && o.node == a.focusNode && o.offset == a.focusOffset || !Ev(e.contentDOM, a.focusNode) ? e.state.selection.main.head : e.docView.posFromDOM(a.focusNode, a.focusOffset), c = s && s.node == a.anchorNode && s.offset == a.anchorOffset || !Ev(e.contentDOM, a.anchorNode) ? e.state.selection.main.anchor : e.docView.posFromDOM(a.anchorNode, a.anchorOffset), u = e.viewport;
      if (xt.ios && e.state.selection.main.empty && l != c && (u.from > 0 || u.to < e.state.doc.length)) {
        let f = u.from - Math.min(l, c), d = u.to - Math.max(l, c);
        (f == 0 || f == 1) && (d == 0 || d == -1) && (l = 0, c = e.state.doc.length);
      }
      this.newSel = Re.single(c, l);
    }
  }
}
function ZO(t, e) {
  let n, { newSel: r } = e, i = t.state.selection.main, o = t.inputState.lastKeyTime > Date.now() - 100 ? t.inputState.lastKeyCode : -1;
  if (e.bounds) {
    let { from: s, to: a } = e.bounds, l = i.from, c = null;
    (o === 8 || xt.android && e.text.length < a - s) && (l = i.to, c = "end");
    let u = AU(t.state.doc.sliceString(s, a, Ru), e.text, l - s, c);
    u && (xt.chrome && o == 13 && u.toB == u.from + 2 && e.text.slice(u.from, u.toB) == Ru + Ru && u.toB--, n = {
      from: s + u.from,
      to: s + u.toA,
      insert: Pn.of(e.text.slice(u.from, u.toB).split(Ru))
    });
  } else
    r && (!t.hasFocus && t.state.facet(hm) || r.main.eq(i)) && (r = null);
  if (!n && !r)
    return !1;
  if (!n && e.typeOver && !i.empty && r && r.main.empty ? n = { from: i.from, to: i.to, insert: t.state.doc.slice(i.from, i.to) } : n && n.from >= i.from && n.to <= i.to && (n.from != i.from || n.to != i.to) && i.to - i.from - (n.to - n.from) <= 4 ? n = {
    from: i.from,
    to: i.to,
    insert: t.state.doc.slice(i.from, n.from).append(n.insert).append(t.state.doc.slice(n.to, i.to))
  } : (xt.mac || xt.android) && n && n.from == n.to && n.from == i.head - 1 && /^\. ?$/.test(n.insert.toString()) && t.contentDOM.getAttribute("autocorrect") == "off" ? (r && n.insert.length == 2 && (r = Re.single(r.main.anchor - 1, r.main.head - 1)), n = { from: i.from, to: i.to, insert: Pn.of([" "]) }) : xt.chrome && n && n.from == n.to && n.from == i.head && n.insert.toString() == `
 ` && t.lineWrapping && (r && (r = Re.single(r.main.anchor - 1, r.main.head - 1)), n = { from: i.from, to: i.to, insert: Pn.of([" "]) }), n) {
    if (xt.ios && t.inputState.flushIOSKey() || xt.android && (n.from == i.from && n.to == i.to && n.insert.length == 1 && n.insert.lines == 2 && yc(t.contentDOM, "Enter", 13) || (n.from == i.from - 1 && n.to == i.to && n.insert.length == 0 || o == 8 && n.insert.length < n.to - n.from && n.to > i.head) && yc(t.contentDOM, "Backspace", 8) || n.from == i.from && n.to == i.to + 1 && n.insert.length == 0 && yc(t.contentDOM, "Delete", 46)))
      return !0;
    let s = n.insert.toString();
    t.inputState.composing >= 0 && t.inputState.composing++;
    let a, l = () => a || (a = OU(t, n, r));
    return t.state.facet(OO).some((c) => c(t, n.from, n.to, s, l)) || t.dispatch(l()), !0;
  } else if (r && !r.main.eq(i)) {
    let s = !1, a = "select";
    return t.inputState.lastSelectionTime > Date.now() - 50 && (t.inputState.lastSelectionOrigin == "select" && (s = !0), a = t.inputState.lastSelectionOrigin), t.dispatch({ selection: r, scrollIntoView: s, userEvent: a }), !0;
  } else
    return !1;
}
function OU(t, e, n) {
  let r, i = t.state, o = i.selection.main;
  if (e.from >= o.from && e.to <= o.to && e.to - e.from >= (o.to - o.from) / 3 && (!n || n.main.empty && n.main.from == e.from + e.insert.length) && t.inputState.composing < 0) {
    let a = o.from < e.from ? i.sliceDoc(o.from, e.from) : "", l = o.to > e.to ? i.sliceDoc(e.to, o.to) : "";
    r = i.replaceSelection(t.state.toText(a + e.insert.sliceString(0, void 0, t.state.lineBreak) + l));
  } else {
    let a = i.changes(e), l = n && n.main.to <= a.newLength ? n.main : void 0;
    if (i.selection.ranges.length > 1 && t.inputState.composing >= 0 && e.to <= o.to && e.to >= o.to - 10) {
      let c = t.state.sliceDoc(e.from, e.to), u, f = n && DO(t, n.main.head);
      if (f) {
        let p = e.insert.length - (e.to - e.from);
        u = { from: f.from, to: f.to - p };
      } else
        u = t.state.doc.lineAt(o.head);
      let d = o.to - e.to, h = o.to - o.from;
      r = i.changeByRange((p) => {
        if (p.from == o.from && p.to == o.to)
          return { changes: a, range: l || p.map(a) };
        let m = p.to - d, g = m - c.length;
        if (p.to - p.from != h || t.state.sliceDoc(g, m) != c || // Unfortunately, there's no way to make multiple
        // changes in the same node work without aborting
        // composition, so cursors in the composition range are
        // ignored.
        p.to >= u.from && p.from <= u.to)
          return { range: p };
        let v = i.changes({ from: g, to: m, insert: e.insert }), y = p.to - o.to;
        return {
          changes: v,
          range: l ? Re.range(Math.max(0, l.anchor + y), Math.max(0, l.head + y)) : p.map(v)
        };
      });
    } else
      r = {
        changes: a,
        selection: l && i.selection.replaceRange(l)
      };
  }
  let s = "input.type";
  return (t.composing || t.inputState.compositionPendingChange && t.inputState.compositionEndedAt > Date.now() - 50) && (t.inputState.compositionPendingChange = !1, s += ".compose", t.inputState.compositionFirstChange && (s += ".start", t.inputState.compositionFirstChange = !1)), i.update(r, { userEvent: s, scrollIntoView: !0 });
}
function AU(t, e, n, r) {
  let i = Math.min(t.length, e.length), o = 0;
  for (; o < i && t.charCodeAt(o) == e.charCodeAt(o); )
    o++;
  if (o == i && t.length == e.length)
    return null;
  let s = t.length, a = e.length;
  for (; s > 0 && a > 0 && t.charCodeAt(s - 1) == e.charCodeAt(a - 1); )
    s--, a--;
  if (r == "end") {
    let l = Math.max(0, o - Math.min(s, a));
    n -= s + l - o;
  }
  if (s < o && t.length < e.length) {
    let l = n <= o && n >= s ? o - n : 0;
    o -= l, a = o + (a - s), s = o;
  } else if (a < o) {
    let l = n <= o && n >= a ? o - n : 0;
    o -= l, s = o + (s - a), a = o;
  }
  return { from: o, toA: s, toB: a };
}
function EU(t) {
  let e = [];
  if (t.root.activeElement != t.contentDOM)
    return e;
  let { anchorNode: n, anchorOffset: r, focusNode: i, focusOffset: o } = t.observer.selectionRange;
  return n && (e.push(new mw(n, r)), (i != n || o != r) && e.push(new mw(i, o))), e;
}
function MU(t, e) {
  if (t.length == 0)
    return null;
  let n = t[0].pos, r = t.length == 2 ? t[1].pos : n;
  return n > -1 && r > -1 ? Re.single(n + e, r + e) : null;
}
const TU = {
  childList: !0,
  characterData: !0,
  subtree: !0,
  attributes: !0,
  characterDataOldValue: !0
}, ug = xt.ie && xt.ie_version <= 11;
class RU {
  constructor(e) {
    this.view = e, this.active = !1, this.selectionRange = new gH(), this.selectionChanged = !1, this.delayedFlush = -1, this.resizeTimeout = -1, this.queue = [], this.delayedAndroidKey = null, this.flushingAndroidKey = -1, this.lastChange = 0, this.scrollTargets = [], this.intersection = null, this.resizeScroll = null, this.intersecting = !1, this.gapIntersection = null, this.gaps = [], this.parentCheck = -1, this.dom = e.contentDOM, this.observer = new MutationObserver((n) => {
      for (let r of n)
        this.queue.push(r);
      (xt.ie && xt.ie_version <= 11 || xt.ios && e.composing) && n.some((r) => r.type == "childList" && r.removedNodes.length || r.type == "characterData" && r.oldValue.length > r.target.nodeValue.length) ? this.flushSoon() : this.flush();
    }), ug && (this.onCharData = (n) => {
      this.queue.push({
        target: n.target,
        type: "characterData",
        oldValue: n.prevValue
      }), this.flushSoon();
    }), this.onSelectionChange = this.onSelectionChange.bind(this), this.onResize = this.onResize.bind(this), this.onPrint = this.onPrint.bind(this), this.onScroll = this.onScroll.bind(this), typeof ResizeObserver == "function" && (this.resizeScroll = new ResizeObserver(() => {
      var n;
      ((n = this.view.docView) === null || n === void 0 ? void 0 : n.lastUpdate) < Date.now() - 75 && this.onResize();
    }), this.resizeScroll.observe(e.scrollDOM)), this.addWindowListeners(this.win = e.win), this.start(), typeof IntersectionObserver == "function" && (this.intersection = new IntersectionObserver((n) => {
      this.parentCheck < 0 && (this.parentCheck = setTimeout(this.listenForScroll.bind(this), 1e3)), n.length > 0 && n[n.length - 1].intersectionRatio > 0 != this.intersecting && (this.intersecting = !this.intersecting, this.intersecting != this.view.inView && this.onScrollChanged(document.createEvent("Event")));
    }, { threshold: [0, 1e-3] }), this.intersection.observe(this.dom), this.gapIntersection = new IntersectionObserver((n) => {
      n.length > 0 && n[n.length - 1].intersectionRatio > 0 && this.onScrollChanged(document.createEvent("Event"));
    }, {})), this.listenForScroll(), this.readSelectionRange();
  }
  onScrollChanged(e) {
    this.view.inputState.runHandlers("scroll", e), this.intersecting && this.view.measure();
  }
  onScroll(e) {
    this.intersecting && this.flush(!1), this.onScrollChanged(e);
  }
  onResize() {
    this.resizeTimeout < 0 && (this.resizeTimeout = setTimeout(() => {
      this.resizeTimeout = -1, this.view.requestMeasure();
    }, 50));
  }
  onPrint() {
    this.view.viewState.printing = !0, this.view.measure(), setTimeout(() => {
      this.view.viewState.printing = !1, this.view.requestMeasure();
    }, 500);
  }
  updateGaps(e) {
    if (this.gapIntersection && (e.length != this.gaps.length || this.gaps.some((n, r) => n != e[r]))) {
      this.gapIntersection.disconnect();
      for (let n of e)
        this.gapIntersection.observe(n);
      this.gaps = e;
    }
  }
  onSelectionChange(e) {
    let n = this.selectionChanged;
    if (!this.readSelectionRange() || this.delayedAndroidKey)
      return;
    let { view: r } = this, i = this.selectionRange;
    if (r.state.facet(hm) ? r.root.activeElement != this.dom : !ch(r.dom, i))
      return;
    let o = i.anchorNode && r.docView.nearest(i.anchorNode);
    if (o && o.ignoreEvent(e)) {
      n || (this.selectionChanged = !1);
      return;
    }
    (xt.ie && xt.ie_version <= 11 || xt.android && xt.chrome) && !r.state.selection.main.empty && // (Selection.isCollapsed isn't reliable on IE)
    i.focusNode && Fu(i.focusNode, i.focusOffset, i.anchorNode, i.anchorOffset) ? this.flushSoon() : this.flush(!1);
  }
  readSelectionRange() {
    let { view: e } = this, n = xt.safari && e.root.nodeType == 11 && dH(this.dom.ownerDocument) == this.dom && PU(this.view) || qh(e.root);
    if (!n || this.selectionRange.eq(n))
      return !1;
    let r = ch(this.dom, n);
    return r && !this.selectionChanged && e.inputState.lastFocusTime > Date.now() - 200 && e.inputState.lastTouchTime < Date.now() - 300 && yH(this.dom, n) ? (this.view.inputState.lastFocusTime = 0, e.docView.updateSelection(), !1) : (this.selectionRange.setRange(n), r && (this.selectionChanged = !0), !0);
  }
  setSelectionRange(e, n) {
    this.selectionRange.set(e.node, e.offset, n.node, n.offset), this.selectionChanged = !1;
  }
  clearSelectionRange() {
    this.selectionRange.set(null, 0, null, 0);
  }
  listenForScroll() {
    this.parentCheck = -1;
    let e = 0, n = null;
    for (let r = this.dom; r; )
      if (r.nodeType == 1)
        !n && e < this.scrollTargets.length && this.scrollTargets[e] == r ? e++ : n || (n = this.scrollTargets.slice(0, e)), n && n.push(r), r = r.assignedSlot || r.parentNode;
      else if (r.nodeType == 11)
        r = r.host;
      else
        break;
    if (e < this.scrollTargets.length && !n && (n = this.scrollTargets.slice(0, e)), n) {
      for (let r of this.scrollTargets)
        r.removeEventListener("scroll", this.onScroll);
      for (let r of this.scrollTargets = n)
        r.addEventListener("scroll", this.onScroll);
    }
  }
  ignore(e) {
    if (!this.active)
      return e();
    try {
      return this.stop(), e();
    } finally {
      this.start(), this.clear();
    }
  }
  start() {
    this.active || (this.observer.observe(this.dom, TU), ug && this.dom.addEventListener("DOMCharacterDataModified", this.onCharData), this.active = !0);
  }
  stop() {
    this.active && (this.active = !1, this.observer.disconnect(), ug && this.dom.removeEventListener("DOMCharacterDataModified", this.onCharData));
  }
  // Throw away any pending changes
  clear() {
    this.processRecords(), this.queue.length = 0, this.selectionChanged = !1;
  }
  // Chrome Android, especially in combination with GBoard, not only
  // doesn't reliably fire regular key events, but also often
  // surrounds the effect of enter or backspace with a bunch of
  // composition events that, when interrupted, cause text duplication
  // or other kinds of corruption. This hack makes the editor back off
  // from handling DOM changes for a moment when such a key is
  // detected (via beforeinput or keydown), and then tries to flush
  // them or, if that has no effect, dispatches the given key.
  delayAndroidKey(e, n) {
    var r;
    if (!this.delayedAndroidKey) {
      let i = () => {
        let o = this.delayedAndroidKey;
        o && (this.clearDelayedAndroidKey(), this.view.inputState.lastKeyCode = o.keyCode, this.view.inputState.lastKeyTime = Date.now(), !this.flush() && o.force && yc(this.dom, o.key, o.keyCode));
      };
      this.flushingAndroidKey = this.view.win.requestAnimationFrame(i);
    }
    (!this.delayedAndroidKey || e == "Enter") && (this.delayedAndroidKey = {
      key: e,
      keyCode: n,
      // Only run the key handler when no changes are detected if
      // this isn't coming right after another change, in which case
      // it is probably part of a weird chain of updates, and should
      // be ignored if it returns the DOM to its previous state.
      force: this.lastChange < Date.now() - 50 || !!(!((r = this.delayedAndroidKey) === null || r === void 0) && r.force)
    });
  }
  clearDelayedAndroidKey() {
    this.win.cancelAnimationFrame(this.flushingAndroidKey), this.delayedAndroidKey = null, this.flushingAndroidKey = -1;
  }
  flushSoon() {
    this.delayedFlush < 0 && (this.delayedFlush = this.view.win.requestAnimationFrame(() => {
      this.delayedFlush = -1, this.flush();
    }));
  }
  forceFlush() {
    this.delayedFlush >= 0 && (this.view.win.cancelAnimationFrame(this.delayedFlush), this.delayedFlush = -1), this.flush();
  }
  pendingRecords() {
    for (let e of this.observer.takeRecords())
      this.queue.push(e);
    return this.queue;
  }
  processRecords() {
    let e = this.pendingRecords();
    e.length && (this.queue = []);
    let n = -1, r = -1, i = !1;
    for (let o of e) {
      let s = this.readMutation(o);
      s && (s.typeOver && (i = !0), n == -1 ? { from: n, to: r } = s : (n = Math.min(s.from, n), r = Math.max(s.to, r)));
    }
    return { from: n, to: r, typeOver: i };
  }
  readChange() {
    let { from: e, to: n, typeOver: r } = this.processRecords(), i = this.selectionChanged && ch(this.dom, this.selectionRange);
    if (e < 0 && !i)
      return null;
    e > -1 && (this.lastChange = Date.now()), this.view.inputState.lastFocusTime = 0, this.selectionChanged = !1;
    let o = new _U(this.view, e, n, r);
    return this.view.docView.domChanged = { newSel: o.newSel ? o.newSel.main : null }, o;
  }
  // Apply pending changes, if any
  flush(e = !0) {
    if (this.delayedFlush >= 0 || this.delayedAndroidKey)
      return !1;
    e && this.readSelectionRange();
    let n = this.readChange();
    if (!n)
      return this.view.requestMeasure(), !1;
    let r = this.view.state, i = ZO(this.view, n);
    return this.view.state == r && this.view.update([]), i;
  }
  readMutation(e) {
    let n = this.view.docView.nearest(e.target);
    if (!n || n.ignoreMutation(e))
      return null;
    if (n.markDirty(e.type == "attributes"), e.type == "attributes" && (n.flags |= 4), e.type == "childList") {
      let r = gw(n, e.previousSibling || e.target.previousSibling, -1), i = gw(n, e.nextSibling || e.target.nextSibling, 1);
      return {
        from: r ? n.posAfter(r) : n.posAtStart,
        to: i ? n.posBefore(i) : n.posAtEnd,
        typeOver: !1
      };
    } else
      return e.type == "characterData" ? { from: n.posAtStart, to: n.posAtEnd, typeOver: e.target.nodeValue == e.oldValue } : null;
  }
  setWindow(e) {
    e != this.win && (this.removeWindowListeners(this.win), this.win = e, this.addWindowListeners(this.win));
  }
  addWindowListeners(e) {
    e.addEventListener("resize", this.onResize), e.addEventListener("beforeprint", this.onPrint), e.addEventListener("scroll", this.onScroll), e.document.addEventListener("selectionchange", this.onSelectionChange);
  }
  removeWindowListeners(e) {
    e.removeEventListener("scroll", this.onScroll), e.removeEventListener("resize", this.onResize), e.removeEventListener("beforeprint", this.onPrint), e.document.removeEventListener("selectionchange", this.onSelectionChange);
  }
  destroy() {
    var e, n, r;
    this.stop(), (e = this.intersection) === null || e === void 0 || e.disconnect(), (n = this.gapIntersection) === null || n === void 0 || n.disconnect(), (r = this.resizeScroll) === null || r === void 0 || r.disconnect();
    for (let i of this.scrollTargets)
      i.removeEventListener("scroll", this.onScroll);
    this.removeWindowListeners(this.win), clearTimeout(this.parentCheck), clearTimeout(this.resizeTimeout), this.win.cancelAnimationFrame(this.delayedFlush), this.win.cancelAnimationFrame(this.flushingAndroidKey);
  }
}
function gw(t, e, n) {
  for (; e; ) {
    let r = ur.get(e);
    if (r && r.parent == t)
      return r;
    let i = e.parentNode;
    e = i != t.dom ? i : n > 0 ? e.nextSibling : e.previousSibling;
  }
  return null;
}
function PU(t) {
  let e = null;
  function n(l) {
    l.preventDefault(), l.stopImmediatePropagation(), e = l.getTargetRanges()[0];
  }
  if (t.contentDOM.addEventListener("beforeinput", n, !0), t.dom.ownerDocument.execCommand("indent"), t.contentDOM.removeEventListener("beforeinput", n, !0), !e)
    return null;
  let r = e.startContainer, i = e.startOffset, o = e.endContainer, s = e.endOffset, a = t.docView.domAtPos(t.state.selection.main.anchor);
  return Fu(a.node, a.offset, o, s) && ([r, i, o, s] = [o, s, r, i]), { anchorNode: r, anchorOffset: i, focusNode: o, focusOffset: s };
}
class nt {
  /**
  The current editor state.
  */
  get state() {
    return this.viewState.state;
  }
  /**
  To be able to display large documents without consuming too much
  memory or overloading the browser, CodeMirror only draws the
  code that is visible (plus a margin around it) to the DOM. This
  property tells you the extent of the current drawn viewport, in
  document positions.
  */
  get viewport() {
    return this.viewState.viewport;
  }
  /**
  When there are, for example, large collapsed ranges in the
  viewport, its size can be a lot bigger than the actual visible
  content. Thus, if you are doing something like styling the
  content in the viewport, it is preferable to only do so for
  these ranges, which are the subset of the viewport that is
  actually drawn.
  */
  get visibleRanges() {
    return this.viewState.visibleRanges;
  }
  /**
  Returns false when the editor is entirely scrolled out of view
  or otherwise hidden.
  */
  get inView() {
    return this.viewState.inView;
  }
  /**
  Indicates whether the user is currently composing text via
  [IME](https://en.wikipedia.org/wiki/Input_method), and at least
  one change has been made in the current composition.
  */
  get composing() {
    return this.inputState.composing > 0;
  }
  /**
  Indicates whether the user is currently in composing state. Note
  that on some platforms, like Android, this will be the case a
  lot, since just putting the cursor on a word starts a
  composition there.
  */
  get compositionStarted() {
    return this.inputState.composing >= 0;
  }
  /**
  The document or shadow root that the view lives in.
  */
  get root() {
    return this._root;
  }
  /**
  @internal
  */
  get win() {
    return this.dom.ownerDocument.defaultView || window;
  }
  /**
  Construct a new view. You'll want to either provide a `parent`
  option, or put `view.dom` into your document after creating a
  view, so that the user can see the editor.
  */
  constructor(e = {}) {
    this.plugins = [], this.pluginMap = /* @__PURE__ */ new Map(), this.editorAttrs = {}, this.contentAttrs = {}, this.bidiCache = [], this.destroyed = !1, this.updateState = 2, this.measureScheduled = -1, this.measureRequests = [], this.contentDOM = document.createElement("div"), this.scrollDOM = document.createElement("div"), this.scrollDOM.tabIndex = -1, this.scrollDOM.className = "cm-scroller", this.scrollDOM.appendChild(this.contentDOM), this.announceDOM = document.createElement("div"), this.announceDOM.className = "cm-announced", this.announceDOM.setAttribute("aria-live", "polite"), this.dom = document.createElement("div"), this.dom.appendChild(this.announceDOM), this.dom.appendChild(this.scrollDOM), e.parent && e.parent.appendChild(this.dom);
    let { dispatch: n } = e;
    this.dispatchTransactions = e.dispatchTransactions || n && ((r) => r.forEach((i) => n(i, this))) || ((r) => this.update(r)), this.dispatch = this.dispatch.bind(this), this._root = e.root || vH(e.parent) || document, this.viewState = new dw(e.state || xn.create(e)), e.scrollTo && e.scrollTo.is(jd) && (this.viewState.scrollTarget = e.scrollTo.value.clip(this.viewState.state)), this.plugins = this.state.facet(Eu).map((r) => new sg(r));
    for (let r of this.plugins)
      r.update(this);
    this.observer = new RU(this), this.inputState = new KH(this), this.inputState.ensureHandlers(this.plugins), this.docView = new Gx(this), this.mountStyles(), this.updateAttrs(), this.updateState = 0, this.requestMeasure();
  }
  dispatch(...e) {
    let n = e.length == 1 && e[0] instanceof qr ? e : e.length == 1 && Array.isArray(e[0]) ? e[0] : [this.state.update(...e)];
    this.dispatchTransactions(n, this);
  }
  /**
  Update the view for the given array of transactions. This will
  update the visible document and selection to match the state
  produced by the transactions, and notify view plugins of the
  change. You should usually call
  [`dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch) instead, which uses this
  as a primitive.
  */
  update(e) {
    if (this.updateState != 0)
      throw new Error("Calls to EditorView.update are not allowed while an update is in progress");
    let n = !1, r = !1, i, o = this.state;
    for (let d of e) {
      if (d.startState != o)
        throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");
      o = d.state;
    }
    if (this.destroyed) {
      this.viewState.state = o;
      return;
    }
    let s = this.hasFocus, a = 0, l = null;
    e.some((d) => d.annotation(UO)) ? (this.inputState.notifiedFocused = s, a = 1) : s != this.inputState.notifiedFocused && (this.inputState.notifiedFocused = s, l = JO(o, s), l || (a = 1));
    let c = this.observer.delayedAndroidKey, u = null;
    if (c ? (this.observer.clearDelayedAndroidKey(), u = this.observer.readChange(), (u && !this.state.doc.eq(o.doc) || !this.state.selection.eq(o.selection)) && (u = null)) : this.observer.clear(), o.facet(xn.phrases) != this.state.facet(xn.phrases))
      return this.setState(o);
    i = zh.create(this, o, e), i.flags |= a;
    let f = this.viewState.scrollTarget;
    try {
      this.updateState = 2;
      for (let d of e) {
        if (f && (f = f.map(d.changes)), d.scrollIntoView) {
          let { main: h } = d.state.selection;
          f = new bc(h.empty ? h : Re.cursor(h.head, h.head > h.anchor ? -1 : 1));
        }
        for (let h of d.effects)
          h.is(jd) && (f = h.value.clip(this.state));
      }
      this.viewState.update(i, f), this.bidiCache = Fh.update(this.bidiCache, i.changes), i.empty || (this.updatePlugins(i), this.inputState.update(i)), n = this.docView.update(i), this.state.facet(Mu) != this.styleModules && this.mountStyles(), r = this.updateAttrs(), this.showAnnouncements(e), this.docView.updateSelection(n, e.some((d) => d.isUserEvent("select.pointer")));
    } finally {
      this.updateState = 0;
    }
    if (i.startState.facet(Od) != i.state.facet(Od) && (this.viewState.mustMeasureContent = !0), (n || r || f || this.viewState.mustEnforceCursorAssoc || this.viewState.mustMeasureContent) && this.requestMeasure(), !i.empty)
      for (let d of this.state.facet(qv))
        try {
          d(i);
        } catch (h) {
          Zi(this.state, h, "update listener");
        }
    (l || u) && Promise.resolve().then(() => {
      l && this.state == l.startState && this.dispatch(l), u && !ZO(this, u) && c.force && yc(this.contentDOM, c.key, c.keyCode);
    });
  }
  /**
  Reset the view to the given state. (This will cause the entire
  document to be redrawn and all view plugins to be reinitialized,
  so you should probably only use it when the new state isn't
  derived from the old state. Otherwise, use
  [`dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch) instead.)
  */
  setState(e) {
    if (this.updateState != 0)
      throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");
    if (this.destroyed) {
      this.viewState.state = e;
      return;
    }
    this.updateState = 2;
    let n = this.hasFocus;
    try {
      for (let r of this.plugins)
        r.destroy(this);
      this.viewState = new dw(e), this.plugins = e.facet(Eu).map((r) => new sg(r)), this.pluginMap.clear();
      for (let r of this.plugins)
        r.update(this);
      this.docView.destroy(), this.docView = new Gx(this), this.inputState.ensureHandlers(this.plugins), this.mountStyles(), this.updateAttrs(), this.bidiCache = [];
    } finally {
      this.updateState = 0;
    }
    n && this.focus(), this.requestMeasure();
  }
  updatePlugins(e) {
    let n = e.startState.facet(Eu), r = e.state.facet(Eu);
    if (n != r) {
      let i = [];
      for (let o of r) {
        let s = n.indexOf(o);
        if (s < 0)
          i.push(new sg(o));
        else {
          let a = this.plugins[s];
          a.mustUpdate = e, i.push(a);
        }
      }
      for (let o of this.plugins)
        o.mustUpdate != e && o.destroy(this);
      this.plugins = i, this.pluginMap.clear();
    } else
      for (let i of this.plugins)
        i.mustUpdate = e;
    for (let i = 0; i < this.plugins.length; i++)
      this.plugins[i].update(this);
    n != r && this.inputState.ensureHandlers(this.plugins);
  }
  /**
  @internal
  */
  measure(e = !0) {
    if (this.destroyed)
      return;
    if (this.measureScheduled > -1 && this.win.cancelAnimationFrame(this.measureScheduled), this.observer.delayedAndroidKey) {
      this.measureScheduled = -1, this.requestMeasure();
      return;
    }
    this.measureScheduled = 0, e && this.observer.forceFlush();
    let n = null, r = this.scrollDOM, i = r.scrollTop * this.scaleY, { scrollAnchorPos: o, scrollAnchorHeight: s } = this.viewState;
    Math.abs(i - this.viewState.scrollTop) > 1 && (s = -1), this.viewState.scrollAnchorHeight = -1;
    try {
      for (let a = 0; ; a++) {
        if (s < 0)
          if (cO(r))
            o = -1, s = this.viewState.heightMap.height;
          else {
            let h = this.viewState.scrollAnchorAt(i);
            o = h.from, s = h.top;
          }
        this.updateState = 1;
        let l = this.viewState.measure(this);
        if (!l && !this.measureRequests.length && this.viewState.scrollTarget == null)
          break;
        if (a > 5) {
          console.warn(this.measureRequests.length ? "Measure loop restarted more than 5 times" : "Viewport failed to stabilize");
          break;
        }
        let c = [];
        l & 4 || ([this.measureRequests, c] = [c, this.measureRequests]);
        let u = c.map((h) => {
          try {
            return h.read(this);
          } catch (p) {
            return Zi(this.state, p), vw;
          }
        }), f = zh.create(this, this.state, []), d = !1;
        f.flags |= l, n ? n.flags |= l : n = f, this.updateState = 2, f.empty || (this.updatePlugins(f), this.inputState.update(f), this.updateAttrs(), d = this.docView.update(f));
        for (let h = 0; h < c.length; h++)
          if (u[h] != vw)
            try {
              let p = c[h];
              p.write && p.write(u[h], this);
            } catch (p) {
              Zi(this.state, p);
            }
        if (d && this.docView.updateSelection(!0), !f.viewportChanged && this.measureRequests.length == 0) {
          if (this.viewState.editorHeight)
            if (this.viewState.scrollTarget) {
              this.docView.scrollIntoView(this.viewState.scrollTarget), this.viewState.scrollTarget = null, s = -1;
              continue;
            } else {
              let p = (o < 0 ? this.viewState.heightMap.height : this.viewState.lineBlockAt(o).top) - s;
              if (p > 1 || p < -1) {
                i = i + p, r.scrollTop = i / this.scaleY, s = -1;
                continue;
              }
            }
          break;
        }
      }
    } finally {
      this.updateState = 0, this.measureScheduled = -1;
    }
    if (n && !n.empty)
      for (let a of this.state.facet(qv))
        a(n);
  }
  /**
  Get the CSS classes for the currently active editor themes.
  */
  get themeClasses() {
    return Hv + " " + (this.state.facet(Wv) ? QO : YO) + " " + this.state.facet(Od);
  }
  updateAttrs() {
    let e = yw(this, TO, {
      class: "cm-editor" + (this.hasFocus ? " cm-focused " : " ") + this.themeClasses
    }), n = {
      spellcheck: "false",
      autocorrect: "off",
      autocapitalize: "off",
      translate: "no",
      contenteditable: this.state.facet(hm) ? "true" : "false",
      class: "cm-content",
      style: `${xt.tabSize}: ${this.state.tabSize}`,
      role: "textbox",
      "aria-multiline": "true"
    };
    this.state.readOnly && (n["aria-readonly"] = "true"), yw(this, Sy, n);
    let r = this.observer.ignore(() => {
      let i = Iv(this.contentDOM, this.contentAttrs, n), o = Iv(this.dom, this.editorAttrs, e);
      return i || o;
    });
    return this.editorAttrs = e, this.contentAttrs = n, r;
  }
  showAnnouncements(e) {
    let n = !0;
    for (let r of e)
      for (let i of r.effects)
        if (i.is(nt.announce)) {
          n && (this.announceDOM.textContent = ""), n = !1;
          let o = this.announceDOM.appendChild(document.createElement("div"));
          o.textContent = i.value;
        }
  }
  mountStyles() {
    this.styleModules = this.state.facet(Mu);
    let e = this.state.facet(nt.cspNonce);
    Ta.mount(this.root, this.styleModules.concat(kU).reverse(), e ? { nonce: e } : void 0);
  }
  readMeasured() {
    if (this.updateState == 2)
      throw new Error("Reading the editor layout isn't allowed during an update");
    this.updateState == 0 && this.measureScheduled > -1 && this.measure(!1);
  }
  /**
  Schedule a layout measurement, optionally providing callbacks to
  do custom DOM measuring followed by a DOM write phase. Using
  this is preferable reading DOM layout directly from, for
  example, an event handler, because it'll make sure measuring and
  drawing done by other components is synchronized, avoiding
  unnecessary DOM layout computations.
  */
  requestMeasure(e) {
    if (this.measureScheduled < 0 && (this.measureScheduled = this.win.requestAnimationFrame(() => this.measure())), e) {
      if (this.measureRequests.indexOf(e) > -1)
        return;
      if (e.key != null) {
        for (let n = 0; n < this.measureRequests.length; n++)
          if (this.measureRequests[n].key === e.key) {
            this.measureRequests[n] = e;
            return;
          }
      }
      this.measureRequests.push(e);
    }
  }
  /**
  Get the value of a specific plugin, if present. Note that
  plugins that crash can be dropped from a view, so even when you
  know you registered a given plugin, it is recommended to check
  the return value of this method.
  */
  plugin(e) {
    let n = this.pluginMap.get(e);
    return (n === void 0 || n && n.spec != e) && this.pluginMap.set(e, n = this.plugins.find((r) => r.spec == e) || null), n && n.update(this).value;
  }
  /**
  The top position of the document, in screen coordinates. This
  may be negative when the editor is scrolled down. Points
  directly to the top of the first line, not above the padding.
  */
  get documentTop() {
    return this.contentDOM.getBoundingClientRect().top + this.viewState.paddingTop;
  }
  /**
  Reports the padding above and below the document.
  */
  get documentPadding() {
    return { top: this.viewState.paddingTop, bottom: this.viewState.paddingBottom };
  }
  /**
  If the editor is transformed with CSS, this provides the scale
  along the X axis. Otherwise, it will just be 1. Note that
  transforms other than translation and scaling are not supported.
  */
  get scaleX() {
    return this.viewState.scaleX;
  }
  /**
  Provide the CSS transformed scale along the Y axis.
  */
  get scaleY() {
    return this.viewState.scaleY;
  }
  /**
  Find the text line or block widget at the given vertical
  position (which is interpreted as relative to the [top of the
  document](https://codemirror.net/6/docs/ref/#view.EditorView.documentTop)).
  */
  elementAtHeight(e) {
    return this.readMeasured(), this.viewState.elementAtHeight(e);
  }
  /**
  Find the line block (see
  [`lineBlockAt`](https://codemirror.net/6/docs/ref/#view.EditorView.lineBlockAt) at the given
  height, again interpreted relative to the [top of the
  document](https://codemirror.net/6/docs/ref/#view.EditorView.documentTop).
  */
  lineBlockAtHeight(e) {
    return this.readMeasured(), this.viewState.lineBlockAtHeight(e);
  }
  /**
  Get the extent and vertical position of all [line
  blocks](https://codemirror.net/6/docs/ref/#view.EditorView.lineBlockAt) in the viewport. Positions
  are relative to the [top of the
  document](https://codemirror.net/6/docs/ref/#view.EditorView.documentTop);
  */
  get viewportLineBlocks() {
    return this.viewState.viewportLines;
  }
  /**
  Find the line block around the given document position. A line
  block is a range delimited on both sides by either a
  non-[hidden](https://codemirror.net/6/docs/ref/#view.Decoration^replace) line breaks, or the
  start/end of the document. It will usually just hold a line of
  text, but may be broken into multiple textblocks by block
  widgets.
  */
  lineBlockAt(e) {
    return this.viewState.lineBlockAt(e);
  }
  /**
  The editor's total content height.
  */
  get contentHeight() {
    return this.viewState.contentHeight;
  }
  /**
  Move a cursor position by [grapheme
  cluster](https://codemirror.net/6/docs/ref/#state.findClusterBreak). `forward` determines whether
  the motion is away from the line start, or towards it. In
  bidirectional text, the line is traversed in visual order, using
  the editor's [text direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection).
  When the start position was the last one on the line, the
  returned position will be across the line break. If there is no
  further line, the original position is returned.
  
  By default, this method moves over a single cluster. The
  optional `by` argument can be used to move across more. It will
  be called with the first cluster as argument, and should return
  a predicate that determines, for each subsequent cluster,
  whether it should also be moved over.
  */
  moveByChar(e, n, r) {
    return lg(this, e, ew(this, e, n, r));
  }
  /**
  Move a cursor position across the next group of either
  [letters](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer) or non-letter
  non-whitespace characters.
  */
  moveByGroup(e, n) {
    return lg(this, e, ew(this, e, n, (r) => JH(this, e.head, r)));
  }
  /**
  Get the cursor position visually at the start or end of a line.
  Note that this may differ from the _logical_ position at its
  start or end (which is simply at `line.from`/`line.to`) if text
  at the start or end goes against the line's base text direction.
  */
  visualLineSide(e, n) {
    let r = this.bidiSpans(e), i = this.textDirectionAt(e.from), o = r[n ? r.length - 1 : 0];
    return Re.cursor(o.side(n, i) + e.from, o.forward(!n, i) ? 1 : -1);
  }
  /**
  Move to the next line boundary in the given direction. If
  `includeWrap` is true, line wrapping is on, and there is a
  further wrap point on the current line, the wrap point will be
  returned. Otherwise this function will return the start or end
  of the line.
  */
  moveToLineBoundary(e, n, r = !0) {
    return UH(this, e, n, r);
  }
  /**
  Move a cursor position vertically. When `distance` isn't given,
  it defaults to moving to the next line (including wrapped
  lines). Otherwise, `distance` should provide a positive distance
  in pixels.
  
  When `start` has a
  [`goalColumn`](https://codemirror.net/6/docs/ref/#state.SelectionRange.goalColumn), the vertical
  motion will use that as a target horizontal position. Otherwise,
  the cursor's own horizontal position is used. The returned
  cursor will have its goal column set to whichever column was
  used.
  */
  moveVertically(e, n, r) {
    return lg(this, e, GH(this, e, n, r));
  }
  /**
  Find the DOM parent node and offset (child offset if `node` is
  an element, character offset when it is a text node) at the
  given document position.
  
  Note that for positions that aren't currently in
  `visibleRanges`, the resulting DOM position isn't necessarily
  meaningful (it may just point before or after a placeholder
  element).
  */
  domAtPos(e) {
    return this.docView.domAtPos(e);
  }
  /**
  Find the document position at the given DOM node. Can be useful
  for associating positions with DOM events. Will raise an error
  when `node` isn't part of the editor content.
  */
  posAtDOM(e, n = 0) {
    return this.docView.posFromDOM(e, n);
  }
  posAtCoords(e, n = !0) {
    return this.readMeasured(), BO(this, e, n);
  }
  /**
  Get the screen coordinates at the given document position.
  `side` determines whether the coordinates are based on the
  element before (-1) or after (1) the position (if no element is
  available on the given side, the method will transparently use
  another strategy to get reasonable coordinates).
  */
  coordsAtPos(e, n = 1) {
    this.readMeasured();
    let r = this.docView.coordsAt(e, n);
    if (!r || r.left == r.right)
      return r;
    let i = this.state.doc.lineAt(e), o = this.bidiSpans(i), s = o[ga.find(o, e - i.from, -1, n)];
    return wy(r, s.dir == fr.LTR == n > 0);
  }
  /**
  Return the rectangle around a given character. If `pos` does not
  point in front of a character that is in the viewport and
  rendered (i.e. not replaced, not a line break), this will return
  null. For space characters that are a line wrap point, this will
  return the position before the line break.
  */
  coordsForChar(e) {
    return this.readMeasured(), this.docView.coordsForChar(e);
  }
  /**
  The default width of a character in the editor. May not
  accurately reflect the width of all characters (given variable
  width fonts or styling of invididual ranges).
  */
  get defaultCharacterWidth() {
    return this.viewState.heightOracle.charWidth;
  }
  /**
  The default height of a line in the editor. May not be accurate
  for all lines.
  */
  get defaultLineHeight() {
    return this.viewState.heightOracle.lineHeight;
  }
  /**
  The text direction
  ([`direction`](https://developer.mozilla.org/en-US/docs/Web/CSS/direction)
  CSS property) of the editor's content element.
  */
  get textDirection() {
    return this.viewState.defaultTextDirection;
  }
  /**
  Find the text direction of the block at the given position, as
  assigned by CSS. If
  [`perLineTextDirection`](https://codemirror.net/6/docs/ref/#view.EditorView^perLineTextDirection)
  isn't enabled, or the given position is outside of the viewport,
  this will always return the same as
  [`textDirection`](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection). Note that
  this may trigger a DOM layout.
  */
  textDirectionAt(e) {
    return !this.state.facet(EO) || e < this.viewport.from || e > this.viewport.to ? this.textDirection : (this.readMeasured(), this.docView.textDirectionAt(e));
  }
  /**
  Whether this editor [wraps lines](https://codemirror.net/6/docs/ref/#view.EditorView.lineWrapping)
  (as determined by the
  [`white-space`](https://developer.mozilla.org/en-US/docs/Web/CSS/white-space)
  CSS property of its content element).
  */
  get lineWrapping() {
    return this.viewState.heightOracle.lineWrapping;
  }
  /**
  Returns the bidirectional text structure of the given line
  (which should be in the current document) as an array of span
  objects. The order of these spans matches the [text
  direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection)if that is
  left-to-right, the leftmost spans come first, otherwise the
  rightmost spans come first.
  */
  bidiSpans(e) {
    if (e.length > IU)
      return jO(e.length);
    let n = this.textDirectionAt(e.from), r;
    for (let o of this.bidiCache)
      if (o.from == e.from && o.dir == n && (o.fresh || wO(o.isolates, r = Jx(this, e))))
        return o.order;
    r || (r = Jx(this, e));
    let i = EH(e.text, n, r);
    return this.bidiCache.push(new Fh(e.from, e.to, n, r, !0, i)), i;
  }
  /**
  Check whether the editor has focus.
  */
  get hasFocus() {
    var e;
    return (this.dom.ownerDocument.hasFocus() || xt.safari && ((e = this.inputState) === null || e === void 0 ? void 0 : e.lastContextMenu) > Date.now() - 3e4) && this.root.activeElement == this.contentDOM;
  }
  /**
  Put focus on the editor.
  */
  focus() {
    this.observer.ignore(() => {
      aO(this.contentDOM), this.docView.updateSelection();
    });
  }
  /**
  Update the [root](https://codemirror.net/6/docs/ref/##view.EditorViewConfig.root) in which the editor lives. This is only
  necessary when moving the editor's existing DOM to a new window or shadow root.
  */
  setRoot(e) {
    this._root != e && (this._root = e, this.observer.setWindow((e.nodeType == 9 ? e : e.ownerDocument).defaultView || window), this.mountStyles());
  }
  /**
  Clean up this editor view, removing its element from the
  document, unregistering event handlers, and notifying
  plugins. The view instance can no longer be used after
  calling this.
  */
  destroy() {
    for (let e of this.plugins)
      e.destroy(this);
    this.plugins = [], this.inputState.destroy(), this.docView.destroy(), this.dom.remove(), this.observer.destroy(), this.measureScheduled > -1 && this.win.cancelAnimationFrame(this.measureScheduled), this.destroyed = !0;
  }
  /**
  Returns an effect that can be
  [added](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) to a transaction to
  cause it to scroll the given position or range into view.
  */
  static scrollIntoView(e, n = {}) {
    return jd.of(new bc(typeof e == "number" ? Re.cursor(e) : e, n.y, n.x, n.yMargin, n.xMargin));
  }
  /**
  Return an effect that resets the editor to its current (at the
  time this method was called) scroll position. Note that this
  only affects the editor's own scrollable element, not parents.
  See also
  [`EditorViewConfig.scrollTo`](https://codemirror.net/6/docs/ref/#view.EditorViewConfig.scrollTo).
  
  The effect should be used with a document identical to the one
  it was created for. Failing to do so is not an error, but may
  not scroll to the expected position. You can
  [map](https://codemirror.net/6/docs/ref/#state.StateEffect.map) the effect to account for changes.
  */
  scrollSnapshot() {
    let { scrollTop: e, scrollLeft: n } = this.scrollDOM, r = this.viewState.scrollAnchorAt(e);
    return jd.of(new bc(Re.cursor(r.from), "start", "start", r.top - e, n, !0));
  }
  /**
  Returns an extension that can be used to add DOM event handlers.
  The value should be an object mapping event names to handler
  functions. For any given event, such functions are ordered by
  extension precedence, and the first handler to return true will
  be assumed to have handled that event, and no other handlers or
  built-in behavior will be activated for it. These are registered
  on the [content element](https://codemirror.net/6/docs/ref/#view.EditorView.contentDOM), except
  for `scroll` handlers, which will be called any time the
  editor's [scroll element](https://codemirror.net/6/docs/ref/#view.EditorView.scrollDOM) or one of
  its parent nodes is scrolled.
  */
  static domEventHandlers(e) {
    return kr.define(() => ({}), { eventHandlers: e });
  }
  /**
  Create an extension that registers DOM event observers. Contrary
  to event [handlers](https://codemirror.net/6/docs/ref/#view.EditorView^domEventHandlers),
  observers can't be prevented from running by a higher-precedence
  handler returning true. They also don't prevent other handlers
  and observers from running when they return true, and should not
  call `preventDefault`.
  */
  static domEventObservers(e) {
    return kr.define(() => ({}), { eventObservers: e });
  }
  /**
  Create a theme extension. The first argument can be a
  [`style-mod`](https://github.com/marijnh/style-mod#documentation)
  style spec providing the styles for the theme. These will be
  prefixed with a generated class for the style.
  
  Because the selectors will be prefixed with a scope class, rule
  that directly match the editor's [wrapper
  element](https://codemirror.net/6/docs/ref/#view.EditorView.dom)to which the scope class will be
  addedneed to be explicitly differentiated by adding an `&` to
  the selector for that elementfor example
  `&.cm-focused`.
  
  When `dark` is set to true, the theme will be marked as dark,
  which will cause the `&dark` rules from [base
  themes](https://codemirror.net/6/docs/ref/#view.EditorView^baseTheme) to be used (as opposed to
  `&light` when a light theme is active).
  */
  static theme(e, n) {
    let r = Ta.newName(), i = [Od.of(r), Mu.of(Uv(`.${r}`, e))];
    return n && n.dark && i.push(Wv.of(!0)), i;
  }
  /**
  Create an extension that adds styles to the base theme. Like
  with [`theme`](https://codemirror.net/6/docs/ref/#view.EditorView^theme), use `&` to indicate the
  place of the editor wrapper element when directly targeting
  that. You can also use `&dark` or `&light` instead to only
  target editors with a dark or light theme.
  */
  static baseTheme(e) {
    return iu.lowest(Mu.of(Uv("." + Hv, e, XO)));
  }
  /**
  Retrieve an editor view instance from the view's DOM
  representation.
  */
  static findFromDOM(e) {
    var n;
    let r = e.querySelector(".cm-content"), i = r && ur.get(r) || ur.get(e);
    return ((n = i == null ? void 0 : i.rootView) === null || n === void 0 ? void 0 : n.view) || null;
  }
}
nt.styleModule = Mu;
nt.inputHandler = OO;
nt.focusChangeEffect = AO;
nt.perLineTextDirection = EO;
nt.exceptionSink = _O;
nt.updateListener = qv;
nt.editable = hm;
nt.mouseSelectionStyle = CO;
nt.dragMovesSelection = SO;
nt.clickAddsSelectionRange = kO;
nt.decorations = mf;
nt.outerDecorations = RO;
nt.atomicRanges = Cy;
nt.bidiIsolatedRanges = PO;
nt.scrollMargins = IO;
nt.darkTheme = Wv;
nt.cspNonce = /* @__PURE__ */ pt.define({ combine: (t) => t.length ? t[0] : "" });
nt.contentAttributes = Sy;
nt.editorAttributes = TO;
nt.lineWrapping = /* @__PURE__ */ nt.contentAttributes.of({ class: "cm-lineWrapping" });
nt.announce = /* @__PURE__ */ ln.define();
const IU = 4096, vw = {};
class Fh {
  constructor(e, n, r, i, o, s) {
    this.from = e, this.to = n, this.dir = r, this.isolates = i, this.fresh = o, this.order = s;
  }
  static update(e, n) {
    if (n.empty && !e.some((o) => o.fresh))
      return e;
    let r = [], i = e.length ? e[e.length - 1].dir : fr.LTR;
    for (let o = Math.max(0, e.length - 10); o < e.length; o++) {
      let s = e[o];
      s.dir == i && !n.touchesRange(s.from, s.to) && r.push(new Fh(n.mapPos(s.from, 1), n.mapPos(s.to, -1), s.dir, s.isolates, !1, s.order));
    }
    return r;
  }
}
function yw(t, e, n) {
  for (let r = t.state.facet(e), i = r.length - 1; i >= 0; i--) {
    let o = r[i], s = typeof o == "function" ? o(t) : o;
    s && Pv(s, n);
  }
  return n;
}
const NU = xt.mac ? "mac" : xt.windows ? "win" : xt.linux ? "linux" : "key";
function DU(t, e) {
  const n = t.split(/-(?!$)/);
  let r = n[n.length - 1];
  r == "Space" && (r = " ");
  let i, o, s, a;
  for (let l = 0; l < n.length - 1; ++l) {
    const c = n[l];
    if (/^(cmd|meta|m)$/i.test(c))
      a = !0;
    else if (/^a(lt)?$/i.test(c))
      i = !0;
    else if (/^(c|ctrl|control)$/i.test(c))
      o = !0;
    else if (/^s(hift)?$/i.test(c))
      s = !0;
    else if (/^mod$/i.test(c))
      e == "mac" ? a = !0 : o = !0;
    else
      throw new Error("Unrecognized modifier name: " + c);
  }
  return i && (r = "Alt-" + r), o && (r = "Ctrl-" + r), a && (r = "Meta-" + r), s && (r = "Shift-" + r), r;
}
function Ad(t, e, n) {
  return e.altKey && (t = "Alt-" + t), e.ctrlKey && (t = "Ctrl-" + t), e.metaKey && (t = "Meta-" + t), n !== !1 && e.shiftKey && (t = "Shift-" + t), t;
}
const LU = /* @__PURE__ */ iu.default(/* @__PURE__ */ nt.domEventHandlers({
  keydown(t, e) {
    return tA(eA(e.state), t, e, "editor");
  }
})), Vh = /* @__PURE__ */ pt.define({ enables: LU }), bw = /* @__PURE__ */ new WeakMap();
function eA(t) {
  let e = t.facet(Vh), n = bw.get(e);
  return n || bw.set(e, n = zU(e.reduce((r, i) => r.concat(i), []))), n;
}
function BU(t, e, n) {
  return tA(eA(t.state), e, t, n);
}
let fa = null;
const qU = 4e3;
function zU(t, e = NU) {
  let n = /* @__PURE__ */ Object.create(null), r = /* @__PURE__ */ Object.create(null), i = (s, a) => {
    let l = r[s];
    if (l == null)
      r[s] = a;
    else if (l != a)
      throw new Error("Key binding " + s + " is used both as a regular binding and as a multi-stroke prefix");
  }, o = (s, a, l, c, u) => {
    var f, d;
    let h = n[s] || (n[s] = /* @__PURE__ */ Object.create(null)), p = a.split(/ (?!$)/).map((v) => DU(v, e));
    for (let v = 1; v < p.length; v++) {
      let y = p.slice(0, v).join(" ");
      i(y, !0), h[y] || (h[y] = {
        preventDefault: !0,
        stopPropagation: !1,
        run: [(x) => {
          let b = fa = { view: x, prefix: y, scope: s };
          return setTimeout(() => {
            fa == b && (fa = null);
          }, qU), !0;
        }]
      });
    }
    let m = p.join(" ");
    i(m, !1);
    let g = h[m] || (h[m] = {
      preventDefault: !1,
      stopPropagation: !1,
      run: ((d = (f = h._any) === null || f === void 0 ? void 0 : f.run) === null || d === void 0 ? void 0 : d.slice()) || []
    });
    l && g.run.push(l), c && (g.preventDefault = !0), u && (g.stopPropagation = !0);
  };
  for (let s of t) {
    let a = s.scope ? s.scope.split(" ") : ["editor"];
    if (s.any)
      for (let c of a) {
        let u = n[c] || (n[c] = /* @__PURE__ */ Object.create(null));
        u._any || (u._any = { preventDefault: !1, stopPropagation: !1, run: [] });
        for (let f in u)
          u[f].run.push(s.any);
      }
    let l = s[e] || s.key;
    if (l)
      for (let c of a)
        o(c, l, s.run, s.preventDefault, s.stopPropagation), s.shift && o(c, "Shift-" + l, s.shift, s.preventDefault, s.stopPropagation);
  }
  return n;
}
function tA(t, e, n, r) {
  let i = fH(e), o = Qr(i, 0), s = lo(o) == i.length && i != " ", a = "", l = !1, c = !1, u = !1;
  fa && fa.view == n && fa.scope == r && (a = fa.prefix + " ", zO.indexOf(e.keyCode) < 0 && (c = !0, fa = null));
  let f = /* @__PURE__ */ new Set(), d = (g) => {
    if (g) {
      for (let v of g.run)
        if (!f.has(v) && (f.add(v), v(n, e)))
          return g.stopPropagation && (u = !0), !0;
      g.preventDefault && (g.stopPropagation && (u = !0), c = !0);
    }
    return !1;
  }, h = t[r], p, m;
  return h && (d(h[a + Ad(i, e, !s)]) ? l = !0 : s && (e.altKey || e.metaKey || e.ctrlKey) && // Ctrl-Alt may be used for AltGr on Windows
  !(xt.windows && e.ctrlKey && e.altKey) && (p = Ra[e.keyCode]) && p != i ? (d(h[a + Ad(p, e, !0)]) || e.shiftKey && (m = df[e.keyCode]) != i && m != p && d(h[a + Ad(m, e, !1)])) && (l = !0) : s && e.shiftKey && d(h[a + Ad(i, e, !0)]) && (l = !0), !l && d(h._any) && (l = !0)), c && (l = !0), l && u && e.stopPropagation(), l;
}
class Jf {
  /**
  Create a marker with the given class and dimensions. If `width`
  is null, the DOM element will get no width style.
  */
  constructor(e, n, r, i, o) {
    this.className = e, this.left = n, this.top = r, this.width = i, this.height = o;
  }
  draw() {
    let e = document.createElement("div");
    return e.className = this.className, this.adjust(e), e;
  }
  update(e, n) {
    return n.className != this.className ? !1 : (this.adjust(e), !0);
  }
  adjust(e) {
    e.style.left = this.left + "px", e.style.top = this.top + "px", this.width != null && (e.style.width = this.width + "px"), e.style.height = this.height + "px";
  }
  eq(e) {
    return this.left == e.left && this.top == e.top && this.width == e.width && this.height == e.height && this.className == e.className;
  }
  /**
  Create a set of rectangles for the given selection range,
  assigning them theclass`className`. Will create a single
  rectangle for empty ranges, and a set of selection-style
  rectangles covering the range's content (in a bidi-aware
  way) for non-empty ones.
  */
  static forRange(e, n, r) {
    if (r.empty) {
      let i = e.coordsAtPos(r.head, r.assoc || 1);
      if (!i)
        return [];
      let o = nA(e);
      return [new Jf(n, i.left - o.left, i.top - o.top, null, i.bottom - i.top)];
    } else
      return FU(e, n, r);
  }
}
function nA(t) {
  let e = t.scrollDOM.getBoundingClientRect();
  return { left: (t.textDirection == fr.LTR ? e.left : e.right - t.scrollDOM.clientWidth * t.scaleX) - t.scrollDOM.scrollLeft * t.scaleX, top: e.top - t.scrollDOM.scrollTop * t.scaleY };
}
function xw(t, e, n) {
  let r = Re.cursor(e);
  return {
    from: Math.max(n.from, t.moveToLineBoundary(r, !1, !0).from),
    to: Math.min(n.to, t.moveToLineBoundary(r, !0, !0).from),
    type: ji.Text
  };
}
function FU(t, e, n) {
  if (n.to <= t.viewport.from || n.from >= t.viewport.to)
    return [];
  let r = Math.max(n.from, t.viewport.from), i = Math.min(n.to, t.viewport.to), o = t.textDirection == fr.LTR, s = t.contentDOM, a = s.getBoundingClientRect(), l = nA(t), c = s.querySelector(".cm-line"), u = c && window.getComputedStyle(c), f = a.left + (u ? parseInt(u.paddingLeft) + Math.min(0, parseInt(u.textIndent)) : 0), d = a.right - (u ? parseInt(u.paddingRight) : 0), h = Fv(t, r), p = Fv(t, i), m = h.type == ji.Text ? h : null, g = p.type == ji.Text ? p : null;
  if (m && (t.lineWrapping || h.widgetLineBreaks) && (m = xw(t, r, m)), g && (t.lineWrapping || p.widgetLineBreaks) && (g = xw(t, i, g)), m && g && m.from == g.from)
    return y(x(n.from, n.to, m));
  {
    let w = m ? x(n.from, null, m) : b(h, !1), j = g ? x(null, n.to, g) : b(p, !0), k = [];
    return (m || h).to < (g || p).from - (m && g ? 1 : 0) || h.widgetLineBreaks > 1 && w.bottom + t.defaultLineHeight / 2 < j.top ? k.push(v(f, w.bottom, d, j.top)) : w.bottom < j.top && t.elementAtHeight((w.bottom + j.top) / 2).type == ji.Text && (w.bottom = j.top = (w.bottom + j.top) / 2), y(w).concat(k).concat(y(j));
  }
  function v(w, j, k, N) {
    return new Jf(
      e,
      w - l.left,
      j - l.top - 0.01,
      k - w,
      N - j + 0.01
      /* C.Epsilon */
    );
  }
  function y({ top: w, bottom: j, horizontal: k }) {
    let N = [];
    for (let z = 0; z < k.length; z += 2)
      N.push(v(k[z], w, k[z + 1], j));
    return N;
  }
  function x(w, j, k) {
    let N = 1e9, z = -1e9, _ = [];
    function B(R, Z, ne, V, M) {
      let F = t.coordsAtPos(R, R == k.to ? -2 : 2), P = t.coordsAtPos(ne, ne == k.from ? 2 : -2);
      !F || !P || (N = Math.min(F.top, P.top, N), z = Math.max(F.bottom, P.bottom, z), M == fr.LTR ? _.push(o && Z ? f : F.left, o && V ? d : P.right) : _.push(!o && V ? f : P.left, !o && Z ? d : F.right));
    }
    let I = w ?? k.from, Y = j ?? k.to;
    for (let R of t.visibleRanges)
      if (R.to > I && R.from < Y)
        for (let Z = Math.max(R.from, I), ne = Math.min(R.to, Y); ; ) {
          let V = t.state.doc.lineAt(Z);
          for (let M of t.bidiSpans(V)) {
            let F = M.from + V.from, P = M.to + V.from;
            if (F >= ne)
              break;
            P > Z && B(Math.max(F, Z), w == null && F <= I, Math.min(P, ne), j == null && P >= Y, M.dir);
          }
          if (Z = V.to + 1, Z >= ne)
            break;
        }
    return _.length == 0 && B(I, w == null, Y, j == null, t.textDirection), { top: N, bottom: z, horizontal: _ };
  }
  function b(w, j) {
    let k = a.top + (j ? w.top : w.bottom);
    return { top: k, bottom: k, horizontal: [] };
  }
}
function VU(t, e) {
  return t.constructor == e.constructor && t.eq(e);
}
class WU {
  constructor(e, n) {
    this.view = e, this.layer = n, this.drawn = [], this.scaleX = 1, this.scaleY = 1, this.measureReq = { read: this.measure.bind(this), write: this.draw.bind(this) }, this.dom = e.scrollDOM.appendChild(document.createElement("div")), this.dom.classList.add("cm-layer"), n.above && this.dom.classList.add("cm-layer-above"), n.class && this.dom.classList.add(n.class), this.scale(), this.dom.setAttribute("aria-hidden", "true"), this.setOrder(e.state), e.requestMeasure(this.measureReq), n.mount && n.mount(this.dom, e);
  }
  update(e) {
    e.startState.facet(dh) != e.state.facet(dh) && this.setOrder(e.state), (this.layer.update(e, this.dom) || e.geometryChanged) && (this.scale(), e.view.requestMeasure(this.measureReq));
  }
  setOrder(e) {
    let n = 0, r = e.facet(dh);
    for (; n < r.length && r[n] != this.layer; )
      n++;
    this.dom.style.zIndex = String((this.layer.above ? 150 : -1) - n);
  }
  measure() {
    return this.layer.markers(this.view);
  }
  scale() {
    let { scaleX: e, scaleY: n } = this.view;
    (e != this.scaleX || n != this.scaleY) && (this.scaleX = e, this.scaleY = n, this.dom.style.transform = `scale(${1 / e}, ${1 / n})`);
  }
  draw(e) {
    if (e.length != this.drawn.length || e.some((n, r) => !VU(n, this.drawn[r]))) {
      let n = this.dom.firstChild, r = 0;
      for (let i of e)
        i.update && n && i.constructor && this.drawn[r].constructor && i.update(n, this.drawn[r]) ? (n = n.nextSibling, r++) : this.dom.insertBefore(i.draw(), n);
      for (; n; ) {
        let i = n.nextSibling;
        n.remove(), n = i;
      }
      this.drawn = e;
    }
  }
  destroy() {
    this.layer.destroy && this.layer.destroy(this.dom, this.view), this.dom.remove();
  }
}
const dh = /* @__PURE__ */ pt.define();
function rA(t) {
  return [
    kr.define((e) => new WU(e, t)),
    dh.of(t)
  ];
}
const iA = !xt.ios, gf = /* @__PURE__ */ pt.define({
  combine(t) {
    return _o(t, {
      cursorBlinkRate: 1200,
      drawRangeCursor: !0
    }, {
      cursorBlinkRate: (e, n) => Math.min(e, n),
      drawRangeCursor: (e, n) => e || n
    });
  }
});
function HU(t = {}) {
  return [
    gf.of(t),
    UU,
    JU,
    GU,
    MO.of(!0)
  ];
}
function oA(t) {
  return t.startState.facet(gf) != t.state.facet(gf);
}
const UU = /* @__PURE__ */ rA({
  above: !0,
  markers(t) {
    let { state: e } = t, n = e.facet(gf), r = [];
    for (let i of e.selection.ranges) {
      let o = i == e.selection.main;
      if (i.empty ? !o || iA : n.drawRangeCursor) {
        let s = o ? "cm-cursor cm-cursor-primary" : "cm-cursor cm-cursor-secondary", a = i.empty ? i : Re.cursor(i.head, i.head > i.anchor ? -1 : 1);
        for (let l of Jf.forRange(t, s, a))
          r.push(l);
      }
    }
    return r;
  },
  update(t, e) {
    t.transactions.some((r) => r.selection) && (e.style.animationName = e.style.animationName == "cm-blink" ? "cm-blink2" : "cm-blink");
    let n = oA(t);
    return n && ww(t.state, e), t.docChanged || t.selectionSet || n;
  },
  mount(t, e) {
    ww(e.state, t);
  },
  class: "cm-cursorLayer"
});
function ww(t, e) {
  e.style.animationDuration = t.facet(gf).cursorBlinkRate + "ms";
}
const JU = /* @__PURE__ */ rA({
  above: !1,
  markers(t) {
    return t.state.selection.ranges.map((e) => e.empty ? [] : Jf.forRange(t, "cm-selectionBackground", e)).reduce((e, n) => e.concat(n));
  },
  update(t, e) {
    return t.docChanged || t.selectionSet || t.viewportChanged || oA(t);
  },
  class: "cm-selectionLayer"
}), Jv = {
  ".cm-line": {
    "& ::selection": { backgroundColor: "transparent !important" },
    "&::selection": { backgroundColor: "transparent !important" }
  }
};
iA && (Jv[".cm-line"].caretColor = "transparent !important", Jv[".cm-content"] = { caretColor: "transparent !important" });
const GU = /* @__PURE__ */ iu.highest(/* @__PURE__ */ nt.theme(Jv)), sA = /* @__PURE__ */ ln.define({
  map(t, e) {
    return t == null ? null : e.mapPos(t);
  }
}), Pu = /* @__PURE__ */ zr.define({
  create() {
    return null;
  },
  update(t, e) {
    return t != null && (t = e.changes.mapPos(t)), e.effects.reduce((n, r) => r.is(sA) ? r.value : n, t);
  }
}), KU = /* @__PURE__ */ kr.fromClass(class {
  constructor(t) {
    this.view = t, this.cursor = null, this.measureReq = { read: this.readPos.bind(this), write: this.drawCursor.bind(this) };
  }
  update(t) {
    var e;
    let n = t.state.field(Pu);
    n == null ? this.cursor != null && ((e = this.cursor) === null || e === void 0 || e.remove(), this.cursor = null) : (this.cursor || (this.cursor = this.view.scrollDOM.appendChild(document.createElement("div")), this.cursor.className = "cm-dropCursor"), (t.startState.field(Pu) != n || t.docChanged || t.geometryChanged) && this.view.requestMeasure(this.measureReq));
  }
  readPos() {
    let { view: t } = this, e = t.state.field(Pu), n = e != null && t.coordsAtPos(e);
    if (!n)
      return null;
    let r = t.scrollDOM.getBoundingClientRect();
    return {
      left: n.left - r.left + t.scrollDOM.scrollLeft * t.scaleX,
      top: n.top - r.top + t.scrollDOM.scrollTop * t.scaleY,
      height: n.bottom - n.top
    };
  }
  drawCursor(t) {
    if (this.cursor) {
      let { scaleX: e, scaleY: n } = this.view;
      t ? (this.cursor.style.left = t.left / e + "px", this.cursor.style.top = t.top / n + "px", this.cursor.style.height = t.height / n + "px") : this.cursor.style.left = "-100000px";
    }
  }
  destroy() {
    this.cursor && this.cursor.remove();
  }
  setDropPos(t) {
    this.view.state.field(Pu) != t && this.view.dispatch({ effects: sA.of(t) });
  }
}, {
  eventObservers: {
    dragover(t) {
      this.setDropPos(this.view.posAtCoords({ x: t.clientX, y: t.clientY }));
    },
    dragleave(t) {
      (t.target == this.view.contentDOM || !this.view.contentDOM.contains(t.relatedTarget)) && this.setDropPos(null);
    },
    dragend() {
      this.setDropPos(null);
    },
    drop() {
      this.setDropPos(null);
    }
  }
});
function YU() {
  return [Pu, KU];
}
function jw(t, e, n, r, i) {
  e.lastIndex = 0;
  for (let o = t.iterRange(n, r), s = n, a; !o.next().done; s += o.value.length)
    if (!o.lineBreak)
      for (; a = e.exec(o.value); )
        i(s + a.index, a);
}
function QU(t, e) {
  let n = t.visibleRanges;
  if (n.length == 1 && n[0].from == t.viewport.from && n[0].to == t.viewport.to)
    return n;
  let r = [];
  for (let { from: i, to: o } of n)
    i = Math.max(t.state.doc.lineAt(i).from, i - e), o = Math.min(t.state.doc.lineAt(o).to, o + e), r.length && r[r.length - 1].to >= i ? r[r.length - 1].to = o : r.push({ from: i, to: o });
  return r;
}
class XU {
  /**
  Create a decorator.
  */
  constructor(e) {
    const { regexp: n, decoration: r, decorate: i, boundary: o, maxLength: s = 1e3 } = e;
    if (!n.global)
      throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");
    if (this.regexp = n, i)
      this.addMatch = (a, l, c, u) => i(u, c, c + a[0].length, a, l);
    else if (typeof r == "function")
      this.addMatch = (a, l, c, u) => {
        let f = r(a, l, c);
        f && u(c, c + a[0].length, f);
      };
    else if (r)
      this.addMatch = (a, l, c, u) => u(c, c + a[0].length, r);
    else
      throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");
    this.boundary = o, this.maxLength = s;
  }
  /**
  Compute the full set of decorations for matches in the given
  view's viewport. You'll want to call this when initializing your
  plugin.
  */
  createDeco(e) {
    let n = new ms(), r = n.add.bind(n);
    for (let { from: i, to: o } of QU(e, this.maxLength))
      jw(e.state.doc, this.regexp, i, o, (s, a) => this.addMatch(a, e, s, r));
    return n.finish();
  }
  /**
  Update a set of decorations for a view update. `deco` _must_ be
  the set of decorations produced by _this_ `MatchDecorator` for
  the view state before the update.
  */
  updateDeco(e, n) {
    let r = 1e9, i = -1;
    return e.docChanged && e.changes.iterChanges((o, s, a, l) => {
      l > e.view.viewport.from && a < e.view.viewport.to && (r = Math.min(a, r), i = Math.max(l, i));
    }), e.viewportChanged || i - r > 1e3 ? this.createDeco(e.view) : i > -1 ? this.updateRange(e.view, n.map(e.changes), r, i) : n;
  }
  updateRange(e, n, r, i) {
    for (let o of e.visibleRanges) {
      let s = Math.max(o.from, r), a = Math.min(o.to, i);
      if (a > s) {
        let l = e.state.doc.lineAt(s), c = l.to < a ? e.state.doc.lineAt(a) : l, u = Math.max(o.from, l.from), f = Math.min(o.to, c.to);
        if (this.boundary) {
          for (; s > l.from; s--)
            if (this.boundary.test(l.text[s - 1 - l.from])) {
              u = s;
              break;
            }
          for (; a < c.to; a++)
            if (this.boundary.test(c.text[a - c.from])) {
              f = a;
              break;
            }
        }
        let d = [], h, p = (m, g, v) => d.push(v.range(m, g));
        if (l == c)
          for (this.regexp.lastIndex = u - l.from; (h = this.regexp.exec(l.text)) && h.index < f - l.from; )
            this.addMatch(h, e, h.index + l.from, p);
        else
          jw(e.state.doc, this.regexp, u, f, (m, g) => this.addMatch(g, e, m, p));
        n = n.update({ filterFrom: u, filterTo: f, filter: (m, g) => m < u || g > f, add: d });
      }
    }
    return n;
  }
}
const Gv = /x/.unicode != null ? "gu" : "g", ZU = /* @__PURE__ */ new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`, Gv), eJ = {
  0: "null",
  7: "bell",
  8: "backspace",
  10: "newline",
  11: "vertical tab",
  13: "carriage return",
  27: "escape",
  8203: "zero width space",
  8204: "zero width non-joiner",
  8205: "zero width joiner",
  8206: "left-to-right mark",
  8207: "right-to-left mark",
  8232: "line separator",
  8237: "left-to-right override",
  8238: "right-to-left override",
  8294: "left-to-right isolate",
  8295: "right-to-left isolate",
  8297: "pop directional isolate",
  8233: "paragraph separator",
  65279: "zero width no-break space",
  65532: "object replacement"
};
let fg = null;
function tJ() {
  var t;
  if (fg == null && typeof document < "u" && document.body) {
    let e = document.body.style;
    fg = ((t = e.tabSize) !== null && t !== void 0 ? t : e.MozTabSize) != null;
  }
  return fg || !1;
}
const hh = /* @__PURE__ */ pt.define({
  combine(t) {
    let e = _o(t, {
      render: null,
      specialChars: ZU,
      addSpecialChars: null
    });
    return (e.replaceTabs = !tJ()) && (e.specialChars = new RegExp("	|" + e.specialChars.source, Gv)), e.addSpecialChars && (e.specialChars = new RegExp(e.specialChars.source + "|" + e.addSpecialChars.source, Gv)), e;
  }
});
function nJ(t = {}) {
  return [hh.of(t), rJ()];
}
let $w = null;
function rJ() {
  return $w || ($w = kr.fromClass(class {
    constructor(t) {
      this.view = t, this.decorations = Bt.none, this.decorationCache = /* @__PURE__ */ Object.create(null), this.decorator = this.makeDecorator(t.state.facet(hh)), this.decorations = this.decorator.createDeco(t);
    }
    makeDecorator(t) {
      return new XU({
        regexp: t.specialChars,
        decoration: (e, n, r) => {
          let { doc: i } = n.state, o = Qr(e[0], 0);
          if (o == 9) {
            let s = i.lineAt(r), a = n.state.tabSize, l = ou(s.text, a, r - s.from);
            return Bt.replace({
              widget: new aJ((a - l % a) * this.view.defaultCharacterWidth / this.view.scaleX)
            });
          }
          return this.decorationCache[o] || (this.decorationCache[o] = Bt.replace({ widget: new sJ(t, o) }));
        },
        boundary: t.replaceTabs ? void 0 : /[^]/
      });
    }
    update(t) {
      let e = t.state.facet(hh);
      t.startState.facet(hh) != e ? (this.decorator = this.makeDecorator(e), this.decorations = this.decorator.createDeco(t.view)) : this.decorations = this.decorator.updateDeco(t, this.decorations);
    }
  }, {
    decorations: (t) => t.decorations
  }));
}
const iJ = "";
function oJ(t) {
  return t >= 32 ? iJ : t == 10 ? "" : String.fromCharCode(9216 + t);
}
class sJ extends Ua {
  constructor(e, n) {
    super(), this.options = e, this.code = n;
  }
  eq(e) {
    return e.code == this.code;
  }
  toDOM(e) {
    let n = oJ(this.code), r = e.state.phrase("Control character") + " " + (eJ[this.code] || "0x" + this.code.toString(16)), i = this.options.render && this.options.render(this.code, r, n);
    if (i)
      return i;
    let o = document.createElement("span");
    return o.textContent = n, o.title = r, o.setAttribute("aria-label", r), o.className = "cm-specialChar", o;
  }
  ignoreEvent() {
    return !1;
  }
}
class aJ extends Ua {
  constructor(e) {
    super(), this.width = e;
  }
  eq(e) {
    return e.width == this.width;
  }
  toDOM() {
    let e = document.createElement("span");
    return e.textContent = "	", e.className = "cm-tab", e.style.width = this.width + "px", e;
  }
  ignoreEvent() {
    return !1;
  }
}
function lJ() {
  return uJ;
}
const cJ = /* @__PURE__ */ Bt.line({ class: "cm-activeLine" }), uJ = /* @__PURE__ */ kr.fromClass(class {
  constructor(t) {
    this.decorations = this.getDeco(t);
  }
  update(t) {
    (t.docChanged || t.selectionSet) && (this.decorations = this.getDeco(t.view));
  }
  getDeco(t) {
    let e = -1, n = [];
    for (let r of t.state.selection.ranges) {
      let i = t.lineBlockAt(r.head);
      i.from > e && (n.push(cJ.range(i.from)), e = i.from);
    }
    return Bt.set(n);
  }
}, {
  decorations: (t) => t.decorations
}), Kv = 2e3;
function fJ(t, e, n) {
  let r = Math.min(e.line, n.line), i = Math.max(e.line, n.line), o = [];
  if (e.off > Kv || n.off > Kv || e.col < 0 || n.col < 0) {
    let s = Math.min(e.off, n.off), a = Math.max(e.off, n.off);
    for (let l = r; l <= i; l++) {
      let c = t.doc.line(l);
      c.length <= a && o.push(Re.range(c.from + s, c.to + a));
    }
  } else {
    let s = Math.min(e.col, n.col), a = Math.max(e.col, n.col);
    for (let l = r; l <= i; l++) {
      let c = t.doc.line(l), u = _v(c.text, s, t.tabSize, !0);
      if (u < 0)
        o.push(Re.cursor(c.to));
      else {
        let f = _v(c.text, a, t.tabSize);
        o.push(Re.range(c.from + u, c.from + f));
      }
    }
  }
  return o;
}
function dJ(t, e) {
  let n = t.coordsAtPos(t.viewport.from);
  return n ? Math.round(Math.abs((n.left - e) / t.defaultCharacterWidth)) : -1;
}
function kw(t, e) {
  let n = t.posAtCoords({ x: e.clientX, y: e.clientY }, !1), r = t.state.doc.lineAt(n), i = n - r.from, o = i > Kv ? -1 : i == r.length ? dJ(t, e.clientX) : ou(r.text, t.state.tabSize, n - r.from);
  return { line: r.number, col: o, off: i };
}
function hJ(t, e) {
  let n = kw(t, e), r = t.state.selection;
  return n ? {
    update(i) {
      if (i.docChanged) {
        let o = i.changes.mapPos(i.startState.doc.line(n.line).from), s = i.state.doc.lineAt(o);
        n = { line: s.number, col: n.col, off: Math.min(n.off, s.length) }, r = r.map(i.changes);
      }
    },
    get(i, o, s) {
      let a = kw(t, i);
      if (!a)
        return r;
      let l = fJ(t.state, n, a);
      return l.length ? s ? Re.create(l.concat(r.ranges)) : Re.create(l) : r;
    }
  } : null;
}
function pJ(t) {
  let e = (t == null ? void 0 : t.eventFilter) || ((n) => n.altKey && n.button == 0);
  return nt.mouseSelectionStyle.of((n, r) => e(r) ? hJ(n, r) : null);
}
const mJ = {
  Alt: [18, (t) => !!t.altKey],
  Control: [17, (t) => !!t.ctrlKey],
  Shift: [16, (t) => !!t.shiftKey],
  Meta: [91, (t) => !!t.metaKey]
}, gJ = { style: "cursor: crosshair" };
function vJ(t = {}) {
  let [e, n] = mJ[t.key || "Alt"], r = kr.fromClass(class {
    constructor(i) {
      this.view = i, this.isDown = !1;
    }
    set(i) {
      this.isDown != i && (this.isDown = i, this.view.update([]));
    }
  }, {
    eventObservers: {
      keydown(i) {
        this.set(i.keyCode == e || n(i));
      },
      keyup(i) {
        (i.keyCode == e || !n(i)) && this.set(!1);
      },
      mousemove(i) {
        this.set(n(i));
      }
    }
  });
  return [
    r,
    nt.contentAttributes.of((i) => {
      var o;
      return !((o = i.plugin(r)) === null || o === void 0) && o.isDown ? gJ : null;
    })
  ];
}
const wu = "-10000px";
class aA {
  constructor(e, n, r) {
    this.facet = n, this.createTooltipView = r, this.input = e.state.facet(n), this.tooltips = this.input.filter((i) => i), this.tooltipViews = this.tooltips.map(r);
  }
  update(e, n) {
    var r;
    let i = e.state.facet(this.facet), o = i.filter((l) => l);
    if (i === this.input) {
      for (let l of this.tooltipViews)
        l.update && l.update(e);
      return !1;
    }
    let s = [], a = n ? [] : null;
    for (let l = 0; l < o.length; l++) {
      let c = o[l], u = -1;
      if (c) {
        for (let f = 0; f < this.tooltips.length; f++) {
          let d = this.tooltips[f];
          d && d.create == c.create && (u = f);
        }
        if (u < 0)
          s[l] = this.createTooltipView(c), a && (a[l] = !!c.above);
        else {
          let f = s[l] = this.tooltipViews[u];
          a && (a[l] = n[u]), f.update && f.update(e);
        }
      }
    }
    for (let l of this.tooltipViews)
      s.indexOf(l) < 0 && (l.dom.remove(), (r = l.destroy) === null || r === void 0 || r.call(l));
    return n && (a.forEach((l, c) => n[c] = l), n.length = a.length), this.input = i, this.tooltips = o, this.tooltipViews = s, !0;
  }
}
function yJ(t) {
  let { win: e } = t;
  return { top: 0, left: 0, bottom: e.innerHeight, right: e.innerWidth };
}
const dg = /* @__PURE__ */ pt.define({
  combine: (t) => {
    var e, n, r;
    return {
      position: xt.ios ? "absolute" : ((e = t.find((i) => i.position)) === null || e === void 0 ? void 0 : e.position) || "fixed",
      parent: ((n = t.find((i) => i.parent)) === null || n === void 0 ? void 0 : n.parent) || null,
      tooltipSpace: ((r = t.find((i) => i.tooltipSpace)) === null || r === void 0 ? void 0 : r.tooltipSpace) || yJ
    };
  }
}), Sw = /* @__PURE__ */ new WeakMap(), Oy = /* @__PURE__ */ kr.fromClass(class {
  constructor(t) {
    this.view = t, this.above = [], this.inView = !0, this.madeAbsolute = !1, this.lastTransaction = 0, this.measureTimeout = -1;
    let e = t.state.facet(dg);
    this.position = e.position, this.parent = e.parent, this.classes = t.themeClasses, this.createContainer(), this.measureReq = { read: this.readMeasure.bind(this), write: this.writeMeasure.bind(this), key: this }, this.manager = new aA(t, pm, (n) => this.createTooltip(n)), this.intersectionObserver = typeof IntersectionObserver == "function" ? new IntersectionObserver((n) => {
      Date.now() > this.lastTransaction - 50 && n.length > 0 && n[n.length - 1].intersectionRatio < 1 && this.measureSoon();
    }, { threshold: [1] }) : null, this.observeIntersection(), t.win.addEventListener("resize", this.measureSoon = this.measureSoon.bind(this)), this.maybeMeasure();
  }
  createContainer() {
    this.parent ? (this.container = document.createElement("div"), this.container.style.position = "relative", this.container.className = this.view.themeClasses, this.parent.appendChild(this.container)) : this.container = this.view.dom;
  }
  observeIntersection() {
    if (this.intersectionObserver) {
      this.intersectionObserver.disconnect();
      for (let t of this.manager.tooltipViews)
        this.intersectionObserver.observe(t.dom);
    }
  }
  measureSoon() {
    this.measureTimeout < 0 && (this.measureTimeout = setTimeout(() => {
      this.measureTimeout = -1, this.maybeMeasure();
    }, 50));
  }
  update(t) {
    t.transactions.length && (this.lastTransaction = Date.now());
    let e = this.manager.update(t, this.above);
    e && this.observeIntersection();
    let n = e || t.geometryChanged, r = t.state.facet(dg);
    if (r.position != this.position && !this.madeAbsolute) {
      this.position = r.position;
      for (let i of this.manager.tooltipViews)
        i.dom.style.position = this.position;
      n = !0;
    }
    if (r.parent != this.parent) {
      this.parent && this.container.remove(), this.parent = r.parent, this.createContainer();
      for (let i of this.manager.tooltipViews)
        this.container.appendChild(i.dom);
      n = !0;
    } else
      this.parent && this.view.themeClasses != this.classes && (this.classes = this.container.className = this.view.themeClasses);
    n && this.maybeMeasure();
  }
  createTooltip(t) {
    let e = t.create(this.view);
    if (e.dom.classList.add("cm-tooltip"), t.arrow && !e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")) {
      let n = document.createElement("div");
      n.className = "cm-tooltip-arrow", e.dom.appendChild(n);
    }
    return e.dom.style.position = this.position, e.dom.style.top = wu, e.dom.style.left = "0px", this.container.appendChild(e.dom), e.mount && e.mount(this.view), e;
  }
  destroy() {
    var t, e;
    this.view.win.removeEventListener("resize", this.measureSoon);
    for (let n of this.manager.tooltipViews)
      n.dom.remove(), (t = n.destroy) === null || t === void 0 || t.call(n);
    this.parent && this.container.remove(), (e = this.intersectionObserver) === null || e === void 0 || e.disconnect(), clearTimeout(this.measureTimeout);
  }
  readMeasure() {
    let t = this.view.dom.getBoundingClientRect(), e = 1, n = 1, r = !1;
    if (this.position == "fixed" && this.manager.tooltipViews.length) {
      let { dom: i } = this.manager.tooltipViews[0];
      if (xt.gecko)
        r = i.offsetParent != this.container.ownerDocument.body;
      else if (i.style.top == wu && i.style.left == "0px") {
        let o = i.getBoundingClientRect();
        r = Math.abs(o.top + 1e4) > 1 || Math.abs(o.left) > 1;
      }
    }
    if (r || this.position == "absolute")
      if (this.parent) {
        let i = this.parent.getBoundingClientRect();
        i.width && i.height && (e = i.width / this.parent.offsetWidth, n = i.height / this.parent.offsetHeight);
      } else
        ({ scaleX: e, scaleY: n } = this.view.viewState);
    return {
      editor: t,
      parent: this.parent ? this.container.getBoundingClientRect() : t,
      pos: this.manager.tooltips.map((i, o) => {
        let s = this.manager.tooltipViews[o];
        return s.getCoords ? s.getCoords(i.pos) : this.view.coordsAtPos(i.pos);
      }),
      size: this.manager.tooltipViews.map(({ dom: i }) => i.getBoundingClientRect()),
      space: this.view.state.facet(dg).tooltipSpace(this.view),
      scaleX: e,
      scaleY: n,
      makeAbsolute: r
    };
  }
  writeMeasure(t) {
    var e;
    if (t.makeAbsolute) {
      this.madeAbsolute = !0, this.position = "absolute";
      for (let a of this.manager.tooltipViews)
        a.dom.style.position = "absolute";
    }
    let { editor: n, space: r, scaleX: i, scaleY: o } = t, s = [];
    for (let a = 0; a < this.manager.tooltips.length; a++) {
      let l = this.manager.tooltips[a], c = this.manager.tooltipViews[a], { dom: u } = c, f = t.pos[a], d = t.size[a];
      if (!f || f.bottom <= Math.max(n.top, r.top) || f.top >= Math.min(n.bottom, r.bottom) || f.right < Math.max(n.left, r.left) - 0.1 || f.left > Math.min(n.right, r.right) + 0.1) {
        u.style.top = wu;
        continue;
      }
      let h = l.arrow ? c.dom.querySelector(".cm-tooltip-arrow") : null, p = h ? 7 : 0, m = d.right - d.left, g = (e = Sw.get(c)) !== null && e !== void 0 ? e : d.bottom - d.top, v = c.offset || xJ, y = this.view.textDirection == fr.LTR, x = d.width > r.right - r.left ? y ? r.left : r.right - d.width : y ? Math.min(f.left - (h ? 14 : 0) + v.x, r.right - m) : Math.max(r.left, f.left - m + (h ? 14 : 0) - v.x), b = this.above[a];
      !l.strictSide && (b ? f.top - (d.bottom - d.top) - v.y < r.top : f.bottom + (d.bottom - d.top) + v.y > r.bottom) && b == r.bottom - f.bottom > f.top - r.top && (b = this.above[a] = !b);
      let w = (b ? f.top - r.top : r.bottom - f.bottom) - p;
      if (w < g && c.resize !== !1) {
        if (w < this.view.defaultLineHeight) {
          u.style.top = wu;
          continue;
        }
        Sw.set(c, g), u.style.height = (g = w) / o + "px";
      } else
        u.style.height && (u.style.height = "");
      let j = b ? f.top - g - p - v.y : f.bottom + p + v.y, k = x + m;
      if (c.overlap !== !0)
        for (let N of s)
          N.left < k && N.right > x && N.top < j + g && N.bottom > j && (j = b ? N.top - g - 2 - p : N.bottom + p + 2);
      if (this.position == "absolute" ? (u.style.top = (j - t.parent.top) / o + "px", u.style.left = (x - t.parent.left) / i + "px") : (u.style.top = j / o + "px", u.style.left = x / i + "px"), h) {
        let N = f.left + (y ? v.x : -v.x) - (x + 14 - 7);
        h.style.left = N / i + "px";
      }
      c.overlap !== !0 && s.push({ left: x, top: j, right: k, bottom: j + g }), u.classList.toggle("cm-tooltip-above", b), u.classList.toggle("cm-tooltip-below", !b), c.positioned && c.positioned(t.space);
    }
  }
  maybeMeasure() {
    if (this.manager.tooltips.length && (this.view.inView && this.view.requestMeasure(this.measureReq), this.inView != this.view.inView && (this.inView = this.view.inView, !this.inView)))
      for (let t of this.manager.tooltipViews)
        t.dom.style.top = wu;
  }
}, {
  eventObservers: {
    scroll() {
      this.maybeMeasure();
    }
  }
}), bJ = /* @__PURE__ */ nt.baseTheme({
  ".cm-tooltip": {
    zIndex: 100,
    boxSizing: "border-box"
  },
  "&light .cm-tooltip": {
    border: "1px solid #bbb",
    backgroundColor: "#f5f5f5"
  },
  "&light .cm-tooltip-section:not(:first-child)": {
    borderTop: "1px solid #bbb"
  },
  "&dark .cm-tooltip": {
    backgroundColor: "#333338",
    color: "white"
  },
  ".cm-tooltip-arrow": {
    height: "7px",
    width: `${7 * 2}px`,
    position: "absolute",
    zIndex: -1,
    overflow: "hidden",
    "&:before, &:after": {
      content: "''",
      position: "absolute",
      width: 0,
      height: 0,
      borderLeft: "7px solid transparent",
      borderRight: "7px solid transparent"
    },
    ".cm-tooltip-above &": {
      bottom: "-7px",
      "&:before": {
        borderTop: "7px solid #bbb"
      },
      "&:after": {
        borderTop: "7px solid #f5f5f5",
        bottom: "1px"
      }
    },
    ".cm-tooltip-below &": {
      top: "-7px",
      "&:before": {
        borderBottom: "7px solid #bbb"
      },
      "&:after": {
        borderBottom: "7px solid #f5f5f5",
        top: "1px"
      }
    }
  },
  "&dark .cm-tooltip .cm-tooltip-arrow": {
    "&:before": {
      borderTopColor: "#333338",
      borderBottomColor: "#333338"
    },
    "&:after": {
      borderTopColor: "transparent",
      borderBottomColor: "transparent"
    }
  }
}), xJ = { x: 0, y: 0 }, pm = /* @__PURE__ */ pt.define({
  enables: [Oy, bJ]
}), Wh = /* @__PURE__ */ pt.define();
class mm {
  // Needs to be static so that host tooltip instances always match
  static create(e) {
    return new mm(e);
  }
  constructor(e) {
    this.view = e, this.mounted = !1, this.dom = document.createElement("div"), this.dom.classList.add("cm-tooltip-hover"), this.manager = new aA(e, Wh, (n) => this.createHostedView(n));
  }
  createHostedView(e) {
    let n = e.create(this.view);
    return n.dom.classList.add("cm-tooltip-section"), this.dom.appendChild(n.dom), this.mounted && n.mount && n.mount(this.view), n;
  }
  mount(e) {
    for (let n of this.manager.tooltipViews)
      n.mount && n.mount(e);
    this.mounted = !0;
  }
  positioned(e) {
    for (let n of this.manager.tooltipViews)
      n.positioned && n.positioned(e);
  }
  update(e) {
    this.manager.update(e);
  }
  destroy() {
    var e;
    for (let n of this.manager.tooltipViews)
      (e = n.destroy) === null || e === void 0 || e.call(n);
  }
  passProp(e) {
    let n;
    for (let r of this.manager.tooltipViews) {
      let i = r[e];
      if (i !== void 0) {
        if (n === void 0)
          n = i;
        else if (n !== i)
          return;
      }
    }
    return n;
  }
  get offset() {
    return this.passProp("offset");
  }
  get getCoords() {
    return this.passProp("getCoords");
  }
  get overlap() {
    return this.passProp("overlap");
  }
  get resize() {
    return this.passProp("resize");
  }
}
const wJ = /* @__PURE__ */ pm.compute([Wh], (t) => {
  let e = t.facet(Wh).filter((n) => n);
  return e.length === 0 ? null : {
    pos: Math.min(...e.map((n) => n.pos)),
    end: Math.max(...e.map((n) => {
      var r;
      return (r = n.end) !== null && r !== void 0 ? r : n.pos;
    })),
    create: mm.create,
    above: e[0].above,
    arrow: e.some((n) => n.arrow)
  };
});
class jJ {
  constructor(e, n, r, i, o) {
    this.view = e, this.source = n, this.field = r, this.setHover = i, this.hoverTime = o, this.hoverTimeout = -1, this.restartTimeout = -1, this.pending = null, this.lastMove = { x: 0, y: 0, target: e.dom, time: 0 }, this.checkHover = this.checkHover.bind(this), e.dom.addEventListener("mouseleave", this.mouseleave = this.mouseleave.bind(this)), e.dom.addEventListener("mousemove", this.mousemove = this.mousemove.bind(this));
  }
  update() {
    this.pending && (this.pending = null, clearTimeout(this.restartTimeout), this.restartTimeout = setTimeout(() => this.startHover(), 20));
  }
  get active() {
    return this.view.state.field(this.field);
  }
  checkHover() {
    if (this.hoverTimeout = -1, this.active)
      return;
    let e = Date.now() - this.lastMove.time;
    e < this.hoverTime ? this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime - e) : this.startHover();
  }
  startHover() {
    clearTimeout(this.restartTimeout);
    let { view: e, lastMove: n } = this, r = e.docView.nearest(n.target);
    if (!r)
      return;
    let i, o = 1;
    if (r instanceof ma)
      i = r.posAtStart;
    else {
      if (i = e.posAtCoords(n), i == null)
        return;
      let a = e.coordsAtPos(i);
      if (!a || n.y < a.top || n.y > a.bottom || n.x < a.left - e.defaultCharacterWidth || n.x > a.right + e.defaultCharacterWidth)
        return;
      let l = e.bidiSpans(e.state.doc.lineAt(i)).find((u) => u.from <= i && u.to >= i), c = l && l.dir == fr.RTL ? -1 : 1;
      o = n.x < a.left ? -c : c;
    }
    let s = this.source(e, i, o);
    if (s != null && s.then) {
      let a = this.pending = { pos: i };
      s.then((l) => {
        this.pending == a && (this.pending = null, l && e.dispatch({ effects: this.setHover.of(l) }));
      }, (l) => Zi(e.state, l, "hover tooltip"));
    } else
      s && e.dispatch({ effects: this.setHover.of(s) });
  }
  get tooltip() {
    let e = this.view.plugin(Oy), n = e ? e.manager.tooltips.findIndex((r) => r.create == mm.create) : -1;
    return n > -1 ? e.manager.tooltipViews[n] : null;
  }
  mousemove(e) {
    var n;
    this.lastMove = { x: e.clientX, y: e.clientY, target: e.target, time: Date.now() }, this.hoverTimeout < 0 && (this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime));
    let { active: r, tooltip: i } = this;
    if (r && i && !$J(i.dom, e) || this.pending) {
      let { pos: o } = r || this.pending, s = (n = r == null ? void 0 : r.end) !== null && n !== void 0 ? n : o;
      (o == s ? this.view.posAtCoords(this.lastMove) != o : !kJ(this.view, o, s, e.clientX, e.clientY)) && (this.view.dispatch({ effects: this.setHover.of(null) }), this.pending = null);
    }
  }
  mouseleave(e) {
    clearTimeout(this.hoverTimeout), this.hoverTimeout = -1;
    let { active: n } = this;
    if (n) {
      let { tooltip: r } = this;
      r && r.dom.contains(e.relatedTarget) ? this.watchTooltipLeave(r.dom) : this.view.dispatch({ effects: this.setHover.of(null) });
    }
  }
  watchTooltipLeave(e) {
    let n = (r) => {
      e.removeEventListener("mouseleave", n), this.active && !this.view.dom.contains(r.relatedTarget) && this.view.dispatch({ effects: this.setHover.of(null) });
    };
    e.addEventListener("mouseleave", n);
  }
  destroy() {
    clearTimeout(this.hoverTimeout), this.view.dom.removeEventListener("mouseleave", this.mouseleave), this.view.dom.removeEventListener("mousemove", this.mousemove);
  }
}
const Ed = 4;
function $J(t, e) {
  let n = t.getBoundingClientRect();
  return e.clientX >= n.left - Ed && e.clientX <= n.right + Ed && e.clientY >= n.top - Ed && e.clientY <= n.bottom + Ed;
}
function kJ(t, e, n, r, i, o) {
  let s = t.scrollDOM.getBoundingClientRect(), a = t.documentTop + t.documentPadding.top + t.contentHeight;
  if (s.left > r || s.right < r || s.top > i || Math.min(s.bottom, a) < i)
    return !1;
  let l = t.posAtCoords({ x: r, y: i }, !1);
  return l >= e && l <= n;
}
function SJ(t, e = {}) {
  let n = ln.define(), r = zr.define({
    create() {
      return null;
    },
    update(i, o) {
      if (i && (e.hideOnChange && (o.docChanged || o.selection) || e.hideOn && e.hideOn(o, i)))
        return null;
      if (i && o.docChanged) {
        let s = o.changes.mapPos(i.pos, -1, wi.TrackDel);
        if (s == null)
          return null;
        let a = Object.assign(/* @__PURE__ */ Object.create(null), i);
        a.pos = s, i.end != null && (a.end = o.changes.mapPos(i.end)), i = a;
      }
      for (let s of o.effects)
        s.is(n) && (i = s.value), s.is(CJ) && (i = null);
      return i;
    },
    provide: (i) => Wh.from(i)
  });
  return [
    r,
    kr.define((i) => new jJ(
      i,
      t,
      r,
      n,
      e.hoverTime || 300
      /* Hover.Time */
    )),
    wJ
  ];
}
function lA(t, e) {
  let n = t.plugin(Oy);
  if (!n)
    return null;
  let r = n.manager.tooltips.indexOf(e);
  return r < 0 ? null : n.manager.tooltipViews[r];
}
const CJ = /* @__PURE__ */ ln.define(), Cw = /* @__PURE__ */ pt.define({
  combine(t) {
    let e, n;
    for (let r of t)
      e = e || r.topContainer, n = n || r.bottomContainer;
    return { topContainer: e, bottomContainer: n };
  }
});
function vf(t, e) {
  let n = t.plugin(cA), r = n ? n.specs.indexOf(e) : -1;
  return r > -1 ? n.panels[r] : null;
}
const cA = /* @__PURE__ */ kr.fromClass(class {
  constructor(t) {
    this.input = t.state.facet(yf), this.specs = this.input.filter((n) => n), this.panels = this.specs.map((n) => n(t));
    let e = t.state.facet(Cw);
    this.top = new Md(t, !0, e.topContainer), this.bottom = new Md(t, !1, e.bottomContainer), this.top.sync(this.panels.filter((n) => n.top)), this.bottom.sync(this.panels.filter((n) => !n.top));
    for (let n of this.panels)
      n.dom.classList.add("cm-panel"), n.mount && n.mount();
  }
  update(t) {
    let e = t.state.facet(Cw);
    this.top.container != e.topContainer && (this.top.sync([]), this.top = new Md(t.view, !0, e.topContainer)), this.bottom.container != e.bottomContainer && (this.bottom.sync([]), this.bottom = new Md(t.view, !1, e.bottomContainer)), this.top.syncClasses(), this.bottom.syncClasses();
    let n = t.state.facet(yf);
    if (n != this.input) {
      let r = n.filter((l) => l), i = [], o = [], s = [], a = [];
      for (let l of r) {
        let c = this.specs.indexOf(l), u;
        c < 0 ? (u = l(t.view), a.push(u)) : (u = this.panels[c], u.update && u.update(t)), i.push(u), (u.top ? o : s).push(u);
      }
      this.specs = r, this.panels = i, this.top.sync(o), this.bottom.sync(s);
      for (let l of a)
        l.dom.classList.add("cm-panel"), l.mount && l.mount();
    } else
      for (let r of this.panels)
        r.update && r.update(t);
  }
  destroy() {
    this.top.sync([]), this.bottom.sync([]);
  }
}, {
  provide: (t) => nt.scrollMargins.of((e) => {
    let n = e.plugin(t);
    return n && { top: n.top.scrollMargin(), bottom: n.bottom.scrollMargin() };
  })
});
class Md {
  constructor(e, n, r) {
    this.view = e, this.top = n, this.container = r, this.dom = void 0, this.classes = "", this.panels = [], this.syncClasses();
  }
  sync(e) {
    for (let n of this.panels)
      n.destroy && e.indexOf(n) < 0 && n.destroy();
    this.panels = e, this.syncDOM();
  }
  syncDOM() {
    if (this.panels.length == 0) {
      this.dom && (this.dom.remove(), this.dom = void 0);
      return;
    }
    if (!this.dom) {
      this.dom = document.createElement("div"), this.dom.className = this.top ? "cm-panels cm-panels-top" : "cm-panels cm-panels-bottom", this.dom.style[this.top ? "top" : "bottom"] = "0";
      let n = this.container || this.view.dom;
      n.insertBefore(this.dom, this.top ? n.firstChild : null);
    }
    let e = this.dom.firstChild;
    for (let n of this.panels)
      if (n.dom.parentNode == this.dom) {
        for (; e != n.dom; )
          e = _w(e);
        e = e.nextSibling;
      } else
        this.dom.insertBefore(n.dom, e);
    for (; e; )
      e = _w(e);
  }
  scrollMargin() {
    return !this.dom || this.container ? 0 : Math.max(0, this.top ? this.dom.getBoundingClientRect().bottom - Math.max(0, this.view.scrollDOM.getBoundingClientRect().top) : Math.min(innerHeight, this.view.scrollDOM.getBoundingClientRect().bottom) - this.dom.getBoundingClientRect().top);
  }
  syncClasses() {
    if (!(!this.container || this.classes == this.view.themeClasses)) {
      for (let e of this.classes.split(" "))
        e && this.container.classList.remove(e);
      for (let e of (this.classes = this.view.themeClasses).split(" "))
        e && this.container.classList.add(e);
    }
  }
}
function _w(t) {
  let e = t.nextSibling;
  return t.remove(), e;
}
const yf = /* @__PURE__ */ pt.define({
  enables: cA
});
class gs extends bl {
  /**
  @internal
  */
  compare(e) {
    return this == e || this.constructor == e.constructor && this.eq(e);
  }
  /**
  Compare this marker to another marker of the same type.
  */
  eq(e) {
    return !1;
  }
  /**
  Called if the marker has a `toDOM` method and its representation
  was removed from a gutter.
  */
  destroy(e) {
  }
}
gs.prototype.elementClass = "";
gs.prototype.toDOM = void 0;
gs.prototype.mapMode = wi.TrackBefore;
gs.prototype.startSide = gs.prototype.endSide = -1;
gs.prototype.point = !0;
const ph = /* @__PURE__ */ pt.define(), _J = {
  class: "",
  renderEmptyElements: !1,
  elementStyle: "",
  markers: () => Cn.empty,
  lineMarker: () => null,
  widgetMarker: () => null,
  lineMarkerChange: null,
  initialSpacer: null,
  updateSpacer: null,
  domEventHandlers: {}
}, Wu = /* @__PURE__ */ pt.define();
function uA(t) {
  return [fA(), Wu.of(Object.assign(Object.assign({}, _J), t))];
}
const Yv = /* @__PURE__ */ pt.define({
  combine: (t) => t.some((e) => e)
});
function fA(t) {
  let e = [
    OJ
  ];
  return t && t.fixed === !1 && e.push(Yv.of(!0)), e;
}
const OJ = /* @__PURE__ */ kr.fromClass(class {
  constructor(t) {
    this.view = t, this.prevViewport = t.viewport, this.dom = document.createElement("div"), this.dom.className = "cm-gutters", this.dom.setAttribute("aria-hidden", "true"), this.dom.style.minHeight = this.view.contentHeight / this.view.scaleY + "px", this.gutters = t.state.facet(Wu).map((e) => new Aw(t, e));
    for (let e of this.gutters)
      this.dom.appendChild(e.dom);
    this.fixed = !t.state.facet(Yv), this.fixed && (this.dom.style.position = "sticky"), this.syncGutters(!1), t.scrollDOM.insertBefore(this.dom, t.contentDOM);
  }
  update(t) {
    if (this.updateGutters(t)) {
      let e = this.prevViewport, n = t.view.viewport, r = Math.min(e.to, n.to) - Math.max(e.from, n.from);
      this.syncGutters(r < (n.to - n.from) * 0.8);
    }
    t.geometryChanged && (this.dom.style.minHeight = this.view.contentHeight + "px"), this.view.state.facet(Yv) != !this.fixed && (this.fixed = !this.fixed, this.dom.style.position = this.fixed ? "sticky" : ""), this.prevViewport = t.view.viewport;
  }
  syncGutters(t) {
    let e = this.dom.nextSibling;
    t && this.dom.remove();
    let n = Cn.iter(this.view.state.facet(ph), this.view.viewport.from), r = [], i = this.gutters.map((o) => new AJ(o, this.view.viewport, -this.view.documentPadding.top));
    for (let o of this.view.viewportLineBlocks)
      if (r.length && (r = []), Array.isArray(o.type)) {
        let s = !0;
        for (let a of o.type)
          if (a.type == ji.Text && s) {
            Qv(n, r, a.from);
            for (let l of i)
              l.line(this.view, a, r);
            s = !1;
          } else if (a.widget)
            for (let l of i)
              l.widget(this.view, a);
      } else if (o.type == ji.Text) {
        Qv(n, r, o.from);
        for (let s of i)
          s.line(this.view, o, r);
      } else if (o.widget)
        for (let s of i)
          s.widget(this.view, o);
    for (let o of i)
      o.finish();
    t && this.view.scrollDOM.insertBefore(this.dom, e);
  }
  updateGutters(t) {
    let e = t.startState.facet(Wu), n = t.state.facet(Wu), r = t.docChanged || t.heightChanged || t.viewportChanged || !Cn.eq(t.startState.facet(ph), t.state.facet(ph), t.view.viewport.from, t.view.viewport.to);
    if (e == n)
      for (let i of this.gutters)
        i.update(t) && (r = !0);
    else {
      r = !0;
      let i = [];
      for (let o of n) {
        let s = e.indexOf(o);
        s < 0 ? i.push(new Aw(this.view, o)) : (this.gutters[s].update(t), i.push(this.gutters[s]));
      }
      for (let o of this.gutters)
        o.dom.remove(), i.indexOf(o) < 0 && o.destroy();
      for (let o of i)
        this.dom.appendChild(o.dom);
      this.gutters = i;
    }
    return r;
  }
  destroy() {
    for (let t of this.gutters)
      t.destroy();
    this.dom.remove();
  }
}, {
  provide: (t) => nt.scrollMargins.of((e) => {
    let n = e.plugin(t);
    return !n || n.gutters.length == 0 || !n.fixed ? null : e.textDirection == fr.LTR ? { left: n.dom.offsetWidth * e.scaleX } : { right: n.dom.offsetWidth * e.scaleX };
  })
});
function Ow(t) {
  return Array.isArray(t) ? t : [t];
}
function Qv(t, e, n) {
  for (; t.value && t.from <= n; )
    t.from == n && e.push(t.value), t.next();
}
class AJ {
  constructor(e, n, r) {
    this.gutter = e, this.height = r, this.i = 0, this.cursor = Cn.iter(e.markers, n.from);
  }
  addElement(e, n, r) {
    let { gutter: i } = this, o = (n.top - this.height) / e.scaleY, s = n.height / e.scaleY;
    if (this.i == i.elements.length) {
      let a = new dA(e, s, o, r);
      i.elements.push(a), i.dom.appendChild(a.dom);
    } else
      i.elements[this.i].update(e, s, o, r);
    this.height = n.bottom, this.i++;
  }
  line(e, n, r) {
    let i = [];
    Qv(this.cursor, i, n.from), r.length && (i = i.concat(r));
    let o = this.gutter.config.lineMarker(e, n, i);
    o && i.unshift(o);
    let s = this.gutter;
    i.length == 0 && !s.config.renderEmptyElements || this.addElement(e, n, i);
  }
  widget(e, n) {
    let r = this.gutter.config.widgetMarker(e, n.widget, n);
    r && this.addElement(e, n, [r]);
  }
  finish() {
    let e = this.gutter;
    for (; e.elements.length > this.i; ) {
      let n = e.elements.pop();
      e.dom.removeChild(n.dom), n.destroy();
    }
  }
}
class Aw {
  constructor(e, n) {
    this.view = e, this.config = n, this.elements = [], this.spacer = null, this.dom = document.createElement("div"), this.dom.className = "cm-gutter" + (this.config.class ? " " + this.config.class : "");
    for (let r in n.domEventHandlers)
      this.dom.addEventListener(r, (i) => {
        let o = i.target, s;
        if (o != this.dom && this.dom.contains(o)) {
          for (; o.parentNode != this.dom; )
            o = o.parentNode;
          let l = o.getBoundingClientRect();
          s = (l.top + l.bottom) / 2;
        } else
          s = i.clientY;
        let a = e.lineBlockAtHeight(s - e.documentTop);
        n.domEventHandlers[r](e, a, i) && i.preventDefault();
      });
    this.markers = Ow(n.markers(e)), n.initialSpacer && (this.spacer = new dA(e, 0, 0, [n.initialSpacer(e)]), this.dom.appendChild(this.spacer.dom), this.spacer.dom.style.cssText += "visibility: hidden; pointer-events: none");
  }
  update(e) {
    let n = this.markers;
    if (this.markers = Ow(this.config.markers(e.view)), this.spacer && this.config.updateSpacer) {
      let i = this.config.updateSpacer(this.spacer.markers[0], e);
      i != this.spacer.markers[0] && this.spacer.update(e.view, 0, 0, [i]);
    }
    let r = e.view.viewport;
    return !Cn.eq(this.markers, n, r.from, r.to) || (this.config.lineMarkerChange ? this.config.lineMarkerChange(e) : !1);
  }
  destroy() {
    for (let e of this.elements)
      e.destroy();
  }
}
class dA {
  constructor(e, n, r, i) {
    this.height = -1, this.above = 0, this.markers = [], this.dom = document.createElement("div"), this.dom.className = "cm-gutterElement", this.update(e, n, r, i);
  }
  update(e, n, r, i) {
    this.height != n && (this.height = n, this.dom.style.height = n + "px"), this.above != r && (this.dom.style.marginTop = (this.above = r) ? r + "px" : ""), EJ(this.markers, i) || this.setMarkers(e, i);
  }
  setMarkers(e, n) {
    let r = "cm-gutterElement", i = this.dom.firstChild;
    for (let o = 0, s = 0; ; ) {
      let a = s, l = o < n.length ? n[o++] : null, c = !1;
      if (l) {
        let u = l.elementClass;
        u && (r += " " + u);
        for (let f = s; f < this.markers.length; f++)
          if (this.markers[f].compare(l)) {
            a = f, c = !0;
            break;
          }
      } else
        a = this.markers.length;
      for (; s < a; ) {
        let u = this.markers[s++];
        if (u.toDOM) {
          u.destroy(i);
          let f = i.nextSibling;
          i.remove(), i = f;
        }
      }
      if (!l)
        break;
      l.toDOM && (c ? i = i.nextSibling : this.dom.insertBefore(l.toDOM(e), i)), c && s++;
    }
    this.dom.className = r, this.markers = n;
  }
  destroy() {
    this.setMarkers(null, []);
  }
}
function EJ(t, e) {
  if (t.length != e.length)
    return !1;
  for (let n = 0; n < t.length; n++)
    if (!t[n].compare(e[n]))
      return !1;
  return !0;
}
const MJ = /* @__PURE__ */ pt.define(), oc = /* @__PURE__ */ pt.define({
  combine(t) {
    return _o(t, { formatNumber: String, domEventHandlers: {} }, {
      domEventHandlers(e, n) {
        let r = Object.assign({}, e);
        for (let i in n) {
          let o = r[i], s = n[i];
          r[i] = o ? (a, l, c) => o(a, l, c) || s(a, l, c) : s;
        }
        return r;
      }
    });
  }
});
class hg extends gs {
  constructor(e) {
    super(), this.number = e;
  }
  eq(e) {
    return this.number == e.number;
  }
  toDOM() {
    return document.createTextNode(this.number);
  }
}
function pg(t, e) {
  return t.state.facet(oc).formatNumber(e, t.state);
}
const TJ = /* @__PURE__ */ Wu.compute([oc], (t) => ({
  class: "cm-lineNumbers",
  renderEmptyElements: !1,
  markers(e) {
    return e.state.facet(MJ);
  },
  lineMarker(e, n, r) {
    return r.some((i) => i.toDOM) ? null : new hg(pg(e, e.state.doc.lineAt(n.from).number));
  },
  widgetMarker: () => null,
  lineMarkerChange: (e) => e.startState.facet(oc) != e.state.facet(oc),
  initialSpacer(e) {
    return new hg(pg(e, Ew(e.state.doc.lines)));
  },
  updateSpacer(e, n) {
    let r = pg(n.view, Ew(n.view.state.doc.lines));
    return r == e.number ? e : new hg(r);
  },
  domEventHandlers: t.facet(oc).domEventHandlers
}));
function RJ(t = {}) {
  return [
    oc.of(t),
    fA(),
    TJ
  ];
}
function Ew(t) {
  let e = 9;
  for (; e < t; )
    e = e * 10 + 9;
  return e;
}
const PJ = /* @__PURE__ */ new class extends gs {
  constructor() {
    super(...arguments), this.elementClass = "cm-activeLineGutter";
  }
}(), IJ = /* @__PURE__ */ ph.compute(["selection"], (t) => {
  let e = [], n = -1;
  for (let r of t.selection.ranges) {
    let i = t.doc.lineAt(r.head).from;
    i > n && (n = i, e.push(PJ.range(i)));
  }
  return Cn.of(e);
});
function NJ() {
  return IJ;
}
const hA = 1024;
let DJ = 0;
class mg {
  constructor(e, n) {
    this.from = e, this.to = n;
  }
}
class gn {
  /**
  Create a new node prop type.
  */
  constructor(e = {}) {
    this.id = DJ++, this.perNode = !!e.perNode, this.deserialize = e.deserialize || (() => {
      throw new Error("This node type doesn't define a deserialize function");
    });
  }
  /**
  This is meant to be used with
  [`NodeSet.extend`](#common.NodeSet.extend) or
  [`LRParser.configure`](#lr.ParserConfig.props) to compute
  prop values for each node type in the set. Takes a [match
  object](#common.NodeType^match) or function that returns undefined
  if the node type doesn't get this prop, and the prop's value if
  it does.
  */
  add(e) {
    if (this.perNode)
      throw new RangeError("Can't add per-node props to node types");
    return typeof e != "function" && (e = Li.match(e)), (n) => {
      let r = e(n);
      return r === void 0 ? null : [this, r];
    };
  }
}
gn.closedBy = new gn({ deserialize: (t) => t.split(" ") });
gn.openedBy = new gn({ deserialize: (t) => t.split(" ") });
gn.group = new gn({ deserialize: (t) => t.split(" ") });
gn.isolate = new gn({ deserialize: (t) => {
  if (t && t != "rtl" && t != "ltr" && t != "auto")
    throw new RangeError("Invalid value for isolate: " + t);
  return t || "auto";
} });
gn.contextHash = new gn({ perNode: !0 });
gn.lookAhead = new gn({ perNode: !0 });
gn.mounted = new gn({ perNode: !0 });
class Hh {
  constructor(e, n, r) {
    this.tree = e, this.overlay = n, this.parser = r;
  }
  /**
  @internal
  */
  static get(e) {
    return e && e.props && e.props[gn.mounted.id];
  }
}
const LJ = /* @__PURE__ */ Object.create(null);
class Li {
  /**
  @internal
  */
  constructor(e, n, r, i = 0) {
    this.name = e, this.props = n, this.id = r, this.flags = i;
  }
  /**
  Define a node type.
  */
  static define(e) {
    let n = e.props && e.props.length ? /* @__PURE__ */ Object.create(null) : LJ, r = (e.top ? 1 : 0) | (e.skipped ? 2 : 0) | (e.error ? 4 : 0) | (e.name == null ? 8 : 0), i = new Li(e.name || "", n, e.id, r);
    if (e.props) {
      for (let o of e.props)
        if (Array.isArray(o) || (o = o(i)), o) {
          if (o[0].perNode)
            throw new RangeError("Can't store a per-node prop on a node type");
          n[o[0].id] = o[1];
        }
    }
    return i;
  }
  /**
  Retrieves a node prop for this type. Will return `undefined` if
  the prop isn't present on this node.
  */
  prop(e) {
    return this.props[e.id];
  }
  /**
  True when this is the top node of a grammar.
  */
  get isTop() {
    return (this.flags & 1) > 0;
  }
  /**
  True when this node is produced by a skip rule.
  */
  get isSkipped() {
    return (this.flags & 2) > 0;
  }
  /**
  Indicates whether this is an error node.
  */
  get isError() {
    return (this.flags & 4) > 0;
  }
  /**
  When true, this node type doesn't correspond to a user-declared
  named node, for example because it is used to cache repetition.
  */
  get isAnonymous() {
    return (this.flags & 8) > 0;
  }
  /**
  Returns true when this node's name or one of its
  [groups](#common.NodeProp^group) matches the given string.
  */
  is(e) {
    if (typeof e == "string") {
      if (this.name == e)
        return !0;
      let n = this.prop(gn.group);
      return n ? n.indexOf(e) > -1 : !1;
    }
    return this.id == e;
  }
  /**
  Create a function from node types to arbitrary values by
  specifying an object whose property names are node or
  [group](#common.NodeProp^group) names. Often useful with
  [`NodeProp.add`](#common.NodeProp.add). You can put multiple
  names, separated by spaces, in a single property name to map
  multiple node names to a single value.
  */
  static match(e) {
    let n = /* @__PURE__ */ Object.create(null);
    for (let r in e)
      for (let i of r.split(" "))
        n[i] = e[r];
    return (r) => {
      for (let i = r.prop(gn.group), o = -1; o < (i ? i.length : 0); o++) {
        let s = n[o < 0 ? r.name : i[o]];
        if (s)
          return s;
      }
    };
  }
}
Li.none = new Li(
  "",
  /* @__PURE__ */ Object.create(null),
  0,
  8
  /* NodeFlag.Anonymous */
);
class Ay {
  /**
  Create a set with the given types. The `id` property of each
  type should correspond to its position within the array.
  */
  constructor(e) {
    this.types = e;
    for (let n = 0; n < e.length; n++)
      if (e[n].id != n)
        throw new RangeError("Node type ids should correspond to array positions when creating a node set");
  }
  /**
  Create a copy of this set with some node properties added. The
  arguments to this method can be created with
  [`NodeProp.add`](#common.NodeProp.add).
  */
  extend(...e) {
    let n = [];
    for (let r of this.types) {
      let i = null;
      for (let o of e) {
        let s = o(r);
        s && (i || (i = Object.assign({}, r.props)), i[s[0].id] = s[1]);
      }
      n.push(i ? new Li(r.name, i, r.id, r.flags) : r);
    }
    return new Ay(n);
  }
}
const Td = /* @__PURE__ */ new WeakMap(), Mw = /* @__PURE__ */ new WeakMap();
var Vr;
(function(t) {
  t[t.ExcludeBuffers = 1] = "ExcludeBuffers", t[t.IncludeAnonymous = 2] = "IncludeAnonymous", t[t.IgnoreMounts = 4] = "IgnoreMounts", t[t.IgnoreOverlays = 8] = "IgnoreOverlays";
})(Vr || (Vr = {}));
class Pr {
  /**
  Construct a new tree. See also [`Tree.build`](#common.Tree^build).
  */
  constructor(e, n, r, i, o) {
    if (this.type = e, this.children = n, this.positions = r, this.length = i, this.props = null, o && o.length) {
      this.props = /* @__PURE__ */ Object.create(null);
      for (let [s, a] of o)
        this.props[typeof s == "number" ? s : s.id] = a;
    }
  }
  /**
  @internal
  */
  toString() {
    let e = Hh.get(this);
    if (e && !e.overlay)
      return e.tree.toString();
    let n = "";
    for (let r of this.children) {
      let i = r.toString();
      i && (n && (n += ","), n += i);
    }
    return this.type.name ? (/\W/.test(this.type.name) && !this.type.isError ? JSON.stringify(this.type.name) : this.type.name) + (n.length ? "(" + n + ")" : "") : n;
  }
  /**
  Get a [tree cursor](#common.TreeCursor) positioned at the top of
  the tree. Mode can be used to [control](#common.IterMode) which
  nodes the cursor visits.
  */
  cursor(e = 0) {
    return new Zv(this.topNode, e);
  }
  /**
  Get a [tree cursor](#common.TreeCursor) pointing into this tree
  at the given position and side (see
  [`moveTo`](#common.TreeCursor.moveTo).
  */
  cursorAt(e, n = 0, r = 0) {
    let i = Td.get(this) || this.topNode, o = new Zv(i);
    return o.moveTo(e, n), Td.set(this, o._tree), o;
  }
  /**
  Get a [syntax node](#common.SyntaxNode) object for the top of the
  tree.
  */
  get topNode() {
    return new go(this, 0, 0, null);
  }
  /**
  Get the [syntax node](#common.SyntaxNode) at the given position.
  If `side` is -1, this will move into nodes that end at the
  position. If 1, it'll move into nodes that start at the
  position. With 0, it'll only enter nodes that cover the position
  from both sides.
  
  Note that this will not enter
  [overlays](#common.MountedTree.overlay), and you often want
  [`resolveInner`](#common.Tree.resolveInner) instead.
  */
  resolve(e, n = 0) {
    let r = bf(Td.get(this) || this.topNode, e, n, !1);
    return Td.set(this, r), r;
  }
  /**
  Like [`resolve`](#common.Tree.resolve), but will enter
  [overlaid](#common.MountedTree.overlay) nodes, producing a syntax node
  pointing into the innermost overlaid tree at the given position
  (with parent links going through all parent structure, including
  the host trees).
  */
  resolveInner(e, n = 0) {
    let r = bf(Mw.get(this) || this.topNode, e, n, !0);
    return Mw.set(this, r), r;
  }
  /**
  In some situations, it can be useful to iterate through all
  nodes around a position, including those in overlays that don't
  directly cover the position. This method gives you an iterator
  that will produce all nodes, from small to big, around the given
  position.
  */
  resolveStack(e, n = 0) {
    return zJ(this, e, n);
  }
  /**
  Iterate over the tree and its children, calling `enter` for any
  node that touches the `from`/`to` region (if given) before
  running over such a node's children, and `leave` (if given) when
  leaving the node. When `enter` returns `false`, that node will
  not have its children iterated over (or `leave` called).
  */
  iterate(e) {
    let { enter: n, leave: r, from: i = 0, to: o = this.length } = e, s = e.mode || 0, a = (s & Vr.IncludeAnonymous) > 0;
    for (let l = this.cursor(s | Vr.IncludeAnonymous); ; ) {
      let c = !1;
      if (l.from <= o && l.to >= i && (!a && l.type.isAnonymous || n(l) !== !1)) {
        if (l.firstChild())
          continue;
        c = !0;
      }
      for (; c && r && (a || !l.type.isAnonymous) && r(l), !l.nextSibling(); ) {
        if (!l.parent())
          return;
        c = !0;
      }
    }
  }
  /**
  Get the value of the given [node prop](#common.NodeProp) for this
  node. Works with both per-node and per-type props.
  */
  prop(e) {
    return e.perNode ? this.props ? this.props[e.id] : void 0 : this.type.prop(e);
  }
  /**
  Returns the node's [per-node props](#common.NodeProp.perNode) in a
  format that can be passed to the [`Tree`](#common.Tree)
  constructor.
  */
  get propValues() {
    let e = [];
    if (this.props)
      for (let n in this.props)
        e.push([+n, this.props[n]]);
    return e;
  }
  /**
  Balance the direct children of this tree, producing a copy of
  which may have children grouped into subtrees with type
  [`NodeType.none`](#common.NodeType^none).
  */
  balance(e = {}) {
    return this.children.length <= 8 ? this : Ty(Li.none, this.children, this.positions, 0, this.children.length, 0, this.length, (n, r, i) => new Pr(this.type, n, r, i, this.propValues), e.makeTree || ((n, r, i) => new Pr(Li.none, n, r, i)));
  }
  /**
  Build a tree from a postfix-ordered buffer of node information,
  or a cursor over such a buffer.
  */
  static build(e) {
    return FJ(e);
  }
}
Pr.empty = new Pr(Li.none, [], [], 0);
class Ey {
  constructor(e, n) {
    this.buffer = e, this.index = n;
  }
  get id() {
    return this.buffer[this.index - 4];
  }
  get start() {
    return this.buffer[this.index - 3];
  }
  get end() {
    return this.buffer[this.index - 2];
  }
  get size() {
    return this.buffer[this.index - 1];
  }
  get pos() {
    return this.index;
  }
  next() {
    this.index -= 4;
  }
  fork() {
    return new Ey(this.buffer, this.index);
  }
}
class Ia {
  /**
  Create a tree buffer.
  */
  constructor(e, n, r) {
    this.buffer = e, this.length = n, this.set = r;
  }
  /**
  @internal
  */
  get type() {
    return Li.none;
  }
  /**
  @internal
  */
  toString() {
    let e = [];
    for (let n = 0; n < this.buffer.length; )
      e.push(this.childString(n)), n = this.buffer[n + 3];
    return e.join(",");
  }
  /**
  @internal
  */
  childString(e) {
    let n = this.buffer[e], r = this.buffer[e + 3], i = this.set.types[n], o = i.name;
    if (/\W/.test(o) && !i.isError && (o = JSON.stringify(o)), e += 4, r == e)
      return o;
    let s = [];
    for (; e < r; )
      s.push(this.childString(e)), e = this.buffer[e + 3];
    return o + "(" + s.join(",") + ")";
  }
  /**
  @internal
  */
  findChild(e, n, r, i, o) {
    let { buffer: s } = this, a = -1;
    for (let l = e; l != n && !(pA(o, i, s[l + 1], s[l + 2]) && (a = l, r > 0)); l = s[l + 3])
      ;
    return a;
  }
  /**
  @internal
  */
  slice(e, n, r) {
    let i = this.buffer, o = new Uint16Array(n - e), s = 0;
    for (let a = e, l = 0; a < n; ) {
      o[l++] = i[a++], o[l++] = i[a++] - r;
      let c = o[l++] = i[a++] - r;
      o[l++] = i[a++] - e, s = Math.max(s, c);
    }
    return new Ia(o, s, this.set);
  }
}
function pA(t, e, n, r) {
  switch (t) {
    case -2:
      return n < e;
    case -1:
      return r >= e && n < e;
    case 0:
      return n < e && r > e;
    case 1:
      return n <= e && r > e;
    case 2:
      return r > e;
    case 4:
      return !0;
  }
}
function bf(t, e, n, r) {
  for (var i; t.from == t.to || (n < 1 ? t.from >= e : t.from > e) || (n > -1 ? t.to <= e : t.to < e); ) {
    let s = !r && t instanceof go && t.index < 0 ? null : t.parent;
    if (!s)
      return t;
    t = s;
  }
  let o = r ? 0 : Vr.IgnoreOverlays;
  if (r)
    for (let s = t, a = s.parent; a; s = a, a = s.parent)
      s instanceof go && s.index < 0 && ((i = a.enter(e, n, o)) === null || i === void 0 ? void 0 : i.from) != s.from && (t = a);
  for (; ; ) {
    let s = t.enter(e, n, o);
    if (!s)
      return t;
    t = s;
  }
}
class mA {
  cursor(e = 0) {
    return new Zv(this, e);
  }
  getChild(e, n = null, r = null) {
    let i = Tw(this, e, n, r);
    return i.length ? i[0] : null;
  }
  getChildren(e, n = null, r = null) {
    return Tw(this, e, n, r);
  }
  resolve(e, n = 0) {
    return bf(this, e, n, !1);
  }
  resolveInner(e, n = 0) {
    return bf(this, e, n, !0);
  }
  matchContext(e) {
    return Xv(this, e);
  }
  enterUnfinishedNodesBefore(e) {
    let n = this.childBefore(e), r = this;
    for (; n; ) {
      let i = n.lastChild;
      if (!i || i.to != n.to)
        break;
      i.type.isError && i.from == i.to ? (r = n, n = i.prevSibling) : n = i;
    }
    return r;
  }
  get node() {
    return this;
  }
  get next() {
    return this.parent;
  }
}
class go extends mA {
  constructor(e, n, r, i) {
    super(), this._tree = e, this.from = n, this.index = r, this._parent = i;
  }
  get type() {
    return this._tree.type;
  }
  get name() {
    return this._tree.type.name;
  }
  get to() {
    return this.from + this._tree.length;
  }
  nextChild(e, n, r, i, o = 0) {
    for (let s = this; ; ) {
      for (let { children: a, positions: l } = s._tree, c = n > 0 ? a.length : -1; e != c; e += n) {
        let u = a[e], f = l[e] + s.from;
        if (pA(i, r, f, f + u.length)) {
          if (u instanceof Ia) {
            if (o & Vr.ExcludeBuffers)
              continue;
            let d = u.findChild(0, u.buffer.length, n, r - f, i);
            if (d > -1)
              return new va(new BJ(s, u, e, f), null, d);
          } else if (o & Vr.IncludeAnonymous || !u.type.isAnonymous || My(u)) {
            let d;
            if (!(o & Vr.IgnoreMounts) && (d = Hh.get(u)) && !d.overlay)
              return new go(d.tree, f, e, s);
            let h = new go(u, f, e, s);
            return o & Vr.IncludeAnonymous || !h.type.isAnonymous ? h : h.nextChild(n < 0 ? u.children.length - 1 : 0, n, r, i);
          }
        }
      }
      if (o & Vr.IncludeAnonymous || !s.type.isAnonymous || (s.index >= 0 ? e = s.index + n : e = n < 0 ? -1 : s._parent._tree.children.length, s = s._parent, !s))
        return null;
    }
  }
  get firstChild() {
    return this.nextChild(
      0,
      1,
      0,
      4
      /* Side.DontCare */
    );
  }
  get lastChild() {
    return this.nextChild(
      this._tree.children.length - 1,
      -1,
      0,
      4
      /* Side.DontCare */
    );
  }
  childAfter(e) {
    return this.nextChild(
      0,
      1,
      e,
      2
      /* Side.After */
    );
  }
  childBefore(e) {
    return this.nextChild(
      this._tree.children.length - 1,
      -1,
      e,
      -2
      /* Side.Before */
    );
  }
  enter(e, n, r = 0) {
    let i;
    if (!(r & Vr.IgnoreOverlays) && (i = Hh.get(this._tree)) && i.overlay) {
      let o = e - this.from;
      for (let { from: s, to: a } of i.overlay)
        if ((n > 0 ? s <= o : s < o) && (n < 0 ? a >= o : a > o))
          return new go(i.tree, i.overlay[0].from + this.from, -1, this);
    }
    return this.nextChild(0, 1, e, n, r);
  }
  nextSignificantParent() {
    let e = this;
    for (; e.type.isAnonymous && e._parent; )
      e = e._parent;
    return e;
  }
  get parent() {
    return this._parent ? this._parent.nextSignificantParent() : null;
  }
  get nextSibling() {
    return this._parent && this.index >= 0 ? this._parent.nextChild(
      this.index + 1,
      1,
      0,
      4
      /* Side.DontCare */
    ) : null;
  }
  get prevSibling() {
    return this._parent && this.index >= 0 ? this._parent.nextChild(
      this.index - 1,
      -1,
      0,
      4
      /* Side.DontCare */
    ) : null;
  }
  get tree() {
    return this._tree;
  }
  toTree() {
    return this._tree;
  }
  /**
  @internal
  */
  toString() {
    return this._tree.toString();
  }
}
function Tw(t, e, n, r) {
  let i = t.cursor(), o = [];
  if (!i.firstChild())
    return o;
  if (n != null) {
    for (; !i.type.is(n); )
      if (!i.nextSibling())
        return o;
  }
  for (; ; ) {
    if (r != null && i.type.is(r))
      return o;
    if (i.type.is(e) && o.push(i.node), !i.nextSibling())
      return r == null ? o : [];
  }
}
function Xv(t, e, n = e.length - 1) {
  for (let r = t.parent; n >= 0; r = r.parent) {
    if (!r)
      return !1;
    if (!r.type.isAnonymous) {
      if (e[n] && e[n] != r.name)
        return !1;
      n--;
    }
  }
  return !0;
}
class BJ {
  constructor(e, n, r, i) {
    this.parent = e, this.buffer = n, this.index = r, this.start = i;
  }
}
class va extends mA {
  get name() {
    return this.type.name;
  }
  get from() {
    return this.context.start + this.context.buffer.buffer[this.index + 1];
  }
  get to() {
    return this.context.start + this.context.buffer.buffer[this.index + 2];
  }
  constructor(e, n, r) {
    super(), this.context = e, this._parent = n, this.index = r, this.type = e.buffer.set.types[e.buffer.buffer[r]];
  }
  child(e, n, r) {
    let { buffer: i } = this.context, o = i.findChild(this.index + 4, i.buffer[this.index + 3], e, n - this.context.start, r);
    return o < 0 ? null : new va(this.context, this, o);
  }
  get firstChild() {
    return this.child(
      1,
      0,
      4
      /* Side.DontCare */
    );
  }
  get lastChild() {
    return this.child(
      -1,
      0,
      4
      /* Side.DontCare */
    );
  }
  childAfter(e) {
    return this.child(
      1,
      e,
      2
      /* Side.After */
    );
  }
  childBefore(e) {
    return this.child(
      -1,
      e,
      -2
      /* Side.Before */
    );
  }
  enter(e, n, r = 0) {
    if (r & Vr.ExcludeBuffers)
      return null;
    let { buffer: i } = this.context, o = i.findChild(this.index + 4, i.buffer[this.index + 3], n > 0 ? 1 : -1, e - this.context.start, n);
    return o < 0 ? null : new va(this.context, this, o);
  }
  get parent() {
    return this._parent || this.context.parent.nextSignificantParent();
  }
  externalSibling(e) {
    return this._parent ? null : this.context.parent.nextChild(
      this.context.index + e,
      e,
      0,
      4
      /* Side.DontCare */
    );
  }
  get nextSibling() {
    let { buffer: e } = this.context, n = e.buffer[this.index + 3];
    return n < (this._parent ? e.buffer[this._parent.index + 3] : e.buffer.length) ? new va(this.context, this._parent, n) : this.externalSibling(1);
  }
  get prevSibling() {
    let { buffer: e } = this.context, n = this._parent ? this._parent.index + 4 : 0;
    return this.index == n ? this.externalSibling(-1) : new va(this.context, this._parent, e.findChild(
      n,
      this.index,
      -1,
      0,
      4
      /* Side.DontCare */
    ));
  }
  get tree() {
    return null;
  }
  toTree() {
    let e = [], n = [], { buffer: r } = this.context, i = this.index + 4, o = r.buffer[this.index + 3];
    if (o > i) {
      let s = r.buffer[this.index + 1];
      e.push(r.slice(i, o, s)), n.push(0);
    }
    return new Pr(this.type, e, n, this.to - this.from);
  }
  /**
  @internal
  */
  toString() {
    return this.context.buffer.childString(this.index);
  }
}
function gA(t) {
  if (!t.length)
    return null;
  let e = 0, n = t[0];
  for (let o = 1; o < t.length; o++) {
    let s = t[o];
    (s.from > n.from || s.to < n.to) && (n = s, e = o);
  }
  let r = n instanceof go && n.index < 0 ? null : n.parent, i = t.slice();
  return r ? i[e] = r : i.splice(e, 1), new qJ(i, n);
}
class qJ {
  constructor(e, n) {
    this.heads = e, this.node = n;
  }
  get next() {
    return gA(this.heads);
  }
}
function zJ(t, e, n) {
  let r = t.resolveInner(e, n), i = null;
  for (let o = r instanceof go ? r : r.context.parent; o; o = o.parent)
    if (o.index < 0) {
      let s = o.parent;
      (i || (i = [r])).push(s.resolve(e, n)), o = s;
    } else {
      let s = Hh.get(o.tree);
      if (s && s.overlay && s.overlay[0].from <= e && s.overlay[s.overlay.length - 1].to >= e) {
        let a = new go(s.tree, s.overlay[0].from + o.from, -1, o);
        (i || (i = [r])).push(bf(a, e, n, !1));
      }
    }
  return i ? gA(i) : r;
}
class Zv {
  /**
  Shorthand for `.type.name`.
  */
  get name() {
    return this.type.name;
  }
  /**
  @internal
  */
  constructor(e, n = 0) {
    if (this.mode = n, this.buffer = null, this.stack = [], this.index = 0, this.bufferNode = null, e instanceof go)
      this.yieldNode(e);
    else {
      this._tree = e.context.parent, this.buffer = e.context;
      for (let r = e._parent; r; r = r._parent)
        this.stack.unshift(r.index);
      this.bufferNode = e, this.yieldBuf(e.index);
    }
  }
  yieldNode(e) {
    return e ? (this._tree = e, this.type = e.type, this.from = e.from, this.to = e.to, !0) : !1;
  }
  yieldBuf(e, n) {
    this.index = e;
    let { start: r, buffer: i } = this.buffer;
    return this.type = n || i.set.types[i.buffer[e]], this.from = r + i.buffer[e + 1], this.to = r + i.buffer[e + 2], !0;
  }
  /**
  @internal
  */
  yield(e) {
    return e ? e instanceof go ? (this.buffer = null, this.yieldNode(e)) : (this.buffer = e.context, this.yieldBuf(e.index, e.type)) : !1;
  }
  /**
  @internal
  */
  toString() {
    return this.buffer ? this.buffer.buffer.childString(this.index) : this._tree.toString();
  }
  /**
  @internal
  */
  enterChild(e, n, r) {
    if (!this.buffer)
      return this.yield(this._tree.nextChild(e < 0 ? this._tree._tree.children.length - 1 : 0, e, n, r, this.mode));
    let { buffer: i } = this.buffer, o = i.findChild(this.index + 4, i.buffer[this.index + 3], e, n - this.buffer.start, r);
    return o < 0 ? !1 : (this.stack.push(this.index), this.yieldBuf(o));
  }
  /**
  Move the cursor to this node's first child. When this returns
  false, the node has no child, and the cursor has not been moved.
  */
  firstChild() {
    return this.enterChild(
      1,
      0,
      4
      /* Side.DontCare */
    );
  }
  /**
  Move the cursor to this node's last child.
  */
  lastChild() {
    return this.enterChild(
      -1,
      0,
      4
      /* Side.DontCare */
    );
  }
  /**
  Move the cursor to the first child that ends after `pos`.
  */
  childAfter(e) {
    return this.enterChild(
      1,
      e,
      2
      /* Side.After */
    );
  }
  /**
  Move to the last child that starts before `pos`.
  */
  childBefore(e) {
    return this.enterChild(
      -1,
      e,
      -2
      /* Side.Before */
    );
  }
  /**
  Move the cursor to the child around `pos`. If side is -1 the
  child may end at that position, when 1 it may start there. This
  will also enter [overlaid](#common.MountedTree.overlay)
  [mounted](#common.NodeProp^mounted) trees unless `overlays` is
  set to false.
  */
  enter(e, n, r = this.mode) {
    return this.buffer ? r & Vr.ExcludeBuffers ? !1 : this.enterChild(1, e, n) : this.yield(this._tree.enter(e, n, r));
  }
  /**
  Move to the node's parent node, if this isn't the top node.
  */
  parent() {
    if (!this.buffer)
      return this.yieldNode(this.mode & Vr.IncludeAnonymous ? this._tree._parent : this._tree.parent);
    if (this.stack.length)
      return this.yieldBuf(this.stack.pop());
    let e = this.mode & Vr.IncludeAnonymous ? this.buffer.parent : this.buffer.parent.nextSignificantParent();
    return this.buffer = null, this.yieldNode(e);
  }
  /**
  @internal
  */
  sibling(e) {
    if (!this.buffer)
      return this._tree._parent ? this.yield(this._tree.index < 0 ? null : this._tree._parent.nextChild(this._tree.index + e, e, 0, 4, this.mode)) : !1;
    let { buffer: n } = this.buffer, r = this.stack.length - 1;
    if (e < 0) {
      let i = r < 0 ? 0 : this.stack[r] + 4;
      if (this.index != i)
        return this.yieldBuf(n.findChild(
          i,
          this.index,
          -1,
          0,
          4
          /* Side.DontCare */
        ));
    } else {
      let i = n.buffer[this.index + 3];
      if (i < (r < 0 ? n.buffer.length : n.buffer[this.stack[r] + 3]))
        return this.yieldBuf(i);
    }
    return r < 0 ? this.yield(this.buffer.parent.nextChild(this.buffer.index + e, e, 0, 4, this.mode)) : !1;
  }
  /**
  Move to this node's next sibling, if any.
  */
  nextSibling() {
    return this.sibling(1);
  }
  /**
  Move to this node's previous sibling, if any.
  */
  prevSibling() {
    return this.sibling(-1);
  }
  atLastNode(e) {
    let n, r, { buffer: i } = this;
    if (i) {
      if (e > 0) {
        if (this.index < i.buffer.buffer.length)
          return !1;
      } else
        for (let o = 0; o < this.index; o++)
          if (i.buffer.buffer[o + 3] < this.index)
            return !1;
      ({ index: n, parent: r } = i);
    } else
      ({ index: n, _parent: r } = this._tree);
    for (; r; { index: n, _parent: r } = r)
      if (n > -1)
        for (let o = n + e, s = e < 0 ? -1 : r._tree.children.length; o != s; o += e) {
          let a = r._tree.children[o];
          if (this.mode & Vr.IncludeAnonymous || a instanceof Ia || !a.type.isAnonymous || My(a))
            return !1;
        }
    return !0;
  }
  move(e, n) {
    if (n && this.enterChild(
      e,
      0,
      4
      /* Side.DontCare */
    ))
      return !0;
    for (; ; ) {
      if (this.sibling(e))
        return !0;
      if (this.atLastNode(e) || !this.parent())
        return !1;
    }
  }
  /**
  Move to the next node in a
  [pre-order](https://en.wikipedia.org/wiki/Tree_traversal#Pre-order,_NLR)
  traversal, going from a node to its first child or, if the
  current node is empty or `enter` is false, its next sibling or
  the next sibling of the first parent node that has one.
  */
  next(e = !0) {
    return this.move(1, e);
  }
  /**
  Move to the next node in a last-to-first pre-order traveral. A
  node is followed by its last child or, if it has none, its
  previous sibling or the previous sibling of the first parent
  node that has one.
  */
  prev(e = !0) {
    return this.move(-1, e);
  }
  /**
  Move the cursor to the innermost node that covers `pos`. If
  `side` is -1, it will enter nodes that end at `pos`. If it is 1,
  it will enter nodes that start at `pos`.
  */
  moveTo(e, n = 0) {
    for (; (this.from == this.to || (n < 1 ? this.from >= e : this.from > e) || (n > -1 ? this.to <= e : this.to < e)) && this.parent(); )
      ;
    for (; this.enterChild(1, e, n); )
      ;
    return this;
  }
  /**
  Get a [syntax node](#common.SyntaxNode) at the cursor's current
  position.
  */
  get node() {
    if (!this.buffer)
      return this._tree;
    let e = this.bufferNode, n = null, r = 0;
    if (e && e.context == this.buffer)
      e:
        for (let i = this.index, o = this.stack.length; o >= 0; ) {
          for (let s = e; s; s = s._parent)
            if (s.index == i) {
              if (i == this.index)
                return s;
              n = s, r = o + 1;
              break e;
            }
          i = this.stack[--o];
        }
    for (let i = r; i < this.stack.length; i++)
      n = new va(this.buffer, n, this.stack[i]);
    return this.bufferNode = new va(this.buffer, n, this.index);
  }
  /**
  Get the [tree](#common.Tree) that represents the current node, if
  any. Will return null when the node is in a [tree
  buffer](#common.TreeBuffer).
  */
  get tree() {
    return this.buffer ? null : this._tree._tree;
  }
  /**
  Iterate over the current node and all its descendants, calling
  `enter` when entering a node and `leave`, if given, when leaving
  one. When `enter` returns `false`, any children of that node are
  skipped, and `leave` isn't called for it.
  */
  iterate(e, n) {
    for (let r = 0; ; ) {
      let i = !1;
      if (this.type.isAnonymous || e(this) !== !1) {
        if (this.firstChild()) {
          r++;
          continue;
        }
        this.type.isAnonymous || (i = !0);
      }
      for (; i && n && n(this), i = this.type.isAnonymous, !this.nextSibling(); ) {
        if (!r)
          return;
        this.parent(), r--, i = !0;
      }
    }
  }
  /**
  Test whether the current node matches a given contexta sequence
  of direct parent node names. Empty strings in the context array
  are treated as wildcards.
  */
  matchContext(e) {
    if (!this.buffer)
      return Xv(this.node, e);
    let { buffer: n } = this.buffer, { types: r } = n.set;
    for (let i = e.length - 1, o = this.stack.length - 1; i >= 0; o--) {
      if (o < 0)
        return Xv(this.node, e, i);
      let s = r[n.buffer[this.stack[o]]];
      if (!s.isAnonymous) {
        if (e[i] && e[i] != s.name)
          return !1;
        i--;
      }
    }
    return !0;
  }
}
function My(t) {
  return t.children.some((e) => e instanceof Ia || !e.type.isAnonymous || My(e));
}
function FJ(t) {
  var e;
  let { buffer: n, nodeSet: r, maxBufferLength: i = hA, reused: o = [], minRepeatType: s = r.types.length } = t, a = Array.isArray(n) ? new Ey(n, n.length) : n, l = r.types, c = 0, u = 0;
  function f(w, j, k, N, z, _) {
    let { id: B, start: I, end: Y, size: R } = a, Z = u;
    for (; R < 0; )
      if (a.next(), R == -1) {
        let P = o[B];
        k.push(P), N.push(I - w);
        return;
      } else if (R == -3) {
        c = B;
        return;
      } else if (R == -4) {
        u = B;
        return;
      } else
        throw new RangeError(`Unrecognized record size: ${R}`);
    let ne = l[B], V, M, F = I - w;
    if (Y - I <= i && (M = g(a.pos - j, z))) {
      let P = new Uint16Array(M.size - M.skip), T = a.pos - M.size, O = P.length;
      for (; a.pos > T; )
        O = v(M.start, P, O);
      V = new Ia(P, Y - M.start, r), F = M.start - w;
    } else {
      let P = a.pos - R;
      a.next();
      let T = [], O = [], L = B >= s ? B : -1, C = 0, H = Y;
      for (; a.pos > P; )
        L >= 0 && a.id == L && a.size >= 0 ? (a.end <= H - i && (p(T, O, I, C, a.end, H, L, Z), C = T.length, H = a.end), a.next()) : _ > 2500 ? d(I, P, T, O) : f(I, P, T, O, L, _ + 1);
      if (L >= 0 && C > 0 && C < T.length && p(T, O, I, C, I, H, L, Z), T.reverse(), O.reverse(), L > -1 && C > 0) {
        let ie = h(ne);
        V = Ty(ne, T, O, 0, T.length, 0, Y - I, ie, ie);
      } else
        V = m(ne, T, O, Y - I, Z - Y);
    }
    k.push(V), N.push(F);
  }
  function d(w, j, k, N) {
    let z = [], _ = 0, B = -1;
    for (; a.pos > j; ) {
      let { id: I, start: Y, end: R, size: Z } = a;
      if (Z > 4)
        a.next();
      else {
        if (B > -1 && Y < B)
          break;
        B < 0 && (B = R - i), z.push(I, Y, R), _++, a.next();
      }
    }
    if (_) {
      let I = new Uint16Array(_ * 4), Y = z[z.length - 2];
      for (let R = z.length - 3, Z = 0; R >= 0; R -= 3)
        I[Z++] = z[R], I[Z++] = z[R + 1] - Y, I[Z++] = z[R + 2] - Y, I[Z++] = Z;
      k.push(new Ia(I, z[2] - Y, r)), N.push(Y - w);
    }
  }
  function h(w) {
    return (j, k, N) => {
      let z = 0, _ = j.length - 1, B, I;
      if (_ >= 0 && (B = j[_]) instanceof Pr) {
        if (!_ && B.type == w && B.length == N)
          return B;
        (I = B.prop(gn.lookAhead)) && (z = k[_] + B.length + I);
      }
      return m(w, j, k, N, z);
    };
  }
  function p(w, j, k, N, z, _, B, I) {
    let Y = [], R = [];
    for (; w.length > N; )
      Y.push(w.pop()), R.push(j.pop() + k - z);
    w.push(m(r.types[B], Y, R, _ - z, I - _)), j.push(z - k);
  }
  function m(w, j, k, N, z = 0, _) {
    if (c) {
      let B = [gn.contextHash, c];
      _ = _ ? [B].concat(_) : [B];
    }
    if (z > 25) {
      let B = [gn.lookAhead, z];
      _ = _ ? [B].concat(_) : [B];
    }
    return new Pr(w, j, k, N, _);
  }
  function g(w, j) {
    let k = a.fork(), N = 0, z = 0, _ = 0, B = k.end - i, I = { size: 0, start: 0, skip: 0 };
    e:
      for (let Y = k.pos - w; k.pos > Y; ) {
        let R = k.size;
        if (k.id == j && R >= 0) {
          I.size = N, I.start = z, I.skip = _, _ += 4, N += 4, k.next();
          continue;
        }
        let Z = k.pos - R;
        if (R < 0 || Z < Y || k.start < B)
          break;
        let ne = k.id >= s ? 4 : 0, V = k.start;
        for (k.next(); k.pos > Z; ) {
          if (k.size < 0)
            if (k.size == -3)
              ne += 4;
            else
              break e;
          else
            k.id >= s && (ne += 4);
          k.next();
        }
        z = V, N += R, _ += ne;
      }
    return (j < 0 || N == w) && (I.size = N, I.start = z, I.skip = _), I.size > 4 ? I : void 0;
  }
  function v(w, j, k) {
    let { id: N, start: z, end: _, size: B } = a;
    if (a.next(), B >= 0 && N < s) {
      let I = k;
      if (B > 4) {
        let Y = a.pos - (B - 4);
        for (; a.pos > Y; )
          k = v(w, j, k);
      }
      j[--k] = I, j[--k] = _ - w, j[--k] = z - w, j[--k] = N;
    } else
      B == -3 ? c = N : B == -4 && (u = N);
    return k;
  }
  let y = [], x = [];
  for (; a.pos > 0; )
    f(t.start || 0, t.bufferStart || 0, y, x, -1, 0);
  let b = (e = t.length) !== null && e !== void 0 ? e : y.length ? x[0] + y[0].length : 0;
  return new Pr(l[t.topID], y.reverse(), x.reverse(), b);
}
const Rw = /* @__PURE__ */ new WeakMap();
function mh(t, e) {
  if (!t.isAnonymous || e instanceof Ia || e.type != t)
    return 1;
  let n = Rw.get(e);
  if (n == null) {
    n = 1;
    for (let r of e.children) {
      if (r.type != t || !(r instanceof Pr)) {
        n = 1;
        break;
      }
      n += mh(t, r);
    }
    Rw.set(e, n);
  }
  return n;
}
function Ty(t, e, n, r, i, o, s, a, l) {
  let c = 0;
  for (let p = r; p < i; p++)
    c += mh(t, e[p]);
  let u = Math.ceil(
    c * 1.5 / 8
    /* Balance.BranchFactor */
  ), f = [], d = [];
  function h(p, m, g, v, y) {
    for (let x = g; x < v; ) {
      let b = x, w = m[x], j = mh(t, p[x]);
      for (x++; x < v; x++) {
        let k = mh(t, p[x]);
        if (j + k >= u)
          break;
        j += k;
      }
      if (x == b + 1) {
        if (j > u) {
          let k = p[b];
          h(k.children, k.positions, 0, k.children.length, m[b] + y);
          continue;
        }
        f.push(p[b]);
      } else {
        let k = m[x - 1] + p[x - 1].length - w;
        f.push(Ty(t, p, m, b, x, w, k, null, l));
      }
      d.push(w + y - o);
    }
  }
  return h(e, n, r, i, 0), (a || l)(f, d, s);
}
class pl {
  /**
  Construct a tree fragment. You'll usually want to use
  [`addTree`](#common.TreeFragment^addTree) and
  [`applyChanges`](#common.TreeFragment^applyChanges) instead of
  calling this directly.
  */
  constructor(e, n, r, i, o = !1, s = !1) {
    this.from = e, this.to = n, this.tree = r, this.offset = i, this.open = (o ? 1 : 0) | (s ? 2 : 0);
  }
  /**
  Whether the start of the fragment represents the start of a
  parse, or the end of a change. (In the second case, it may not
  be safe to reuse some nodes at the start, depending on the
  parsing algorithm.)
  */
  get openStart() {
    return (this.open & 1) > 0;
  }
  /**
  Whether the end of the fragment represents the end of a
  full-document parse, or the start of a change.
  */
  get openEnd() {
    return (this.open & 2) > 0;
  }
  /**
  Create a set of fragments from a freshly parsed tree, or update
  an existing set of fragments by replacing the ones that overlap
  with a tree with content from the new tree. When `partial` is
  true, the parse is treated as incomplete, and the resulting
  fragment has [`openEnd`](#common.TreeFragment.openEnd) set to
  true.
  */
  static addTree(e, n = [], r = !1) {
    let i = [new pl(0, e.length, e, 0, !1, r)];
    for (let o of n)
      o.to > e.length && i.push(o);
    return i;
  }
  /**
  Apply a set of edits to an array of fragments, removing or
  splitting fragments as necessary to remove edited ranges, and
  adjusting offsets for fragments that moved.
  */
  static applyChanges(e, n, r = 128) {
    if (!n.length)
      return e;
    let i = [], o = 1, s = e.length ? e[0] : null;
    for (let a = 0, l = 0, c = 0; ; a++) {
      let u = a < n.length ? n[a] : null, f = u ? u.fromA : 1e9;
      if (f - l >= r)
        for (; s && s.from < f; ) {
          let d = s;
          if (l >= d.from || f <= d.to || c) {
            let h = Math.max(d.from, l) - c, p = Math.min(d.to, f) - c;
            d = h >= p ? null : new pl(h, p, d.tree, d.offset + c, a > 0, !!u);
          }
          if (d && i.push(d), s.to > f)
            break;
          s = o < e.length ? e[o++] : null;
        }
      if (!u)
        break;
      l = u.toA, c = u.toA - u.toB;
    }
    return i;
  }
}
class vA {
  /**
  Start a parse, returning a [partial parse](#common.PartialParse)
  object. [`fragments`](#common.TreeFragment) can be passed in to
  make the parse incremental.
  
  By default, the entire input is parsed. You can pass `ranges`,
  which should be a sorted array of non-empty, non-overlapping
  ranges, to parse only those ranges. The tree returned in that
  case will start at `ranges[0].from`.
  */
  startParse(e, n, r) {
    return typeof e == "string" && (e = new VJ(e)), r = r ? r.length ? r.map((i) => new mg(i.from, i.to)) : [new mg(0, 0)] : [new mg(0, e.length)], this.createParse(e, n || [], r);
  }
  /**
  Run a full parse, returning the resulting tree.
  */
  parse(e, n, r) {
    let i = this.startParse(e, n, r);
    for (; ; ) {
      let o = i.advance();
      if (o)
        return o;
    }
  }
}
class VJ {
  constructor(e) {
    this.string = e;
  }
  get length() {
    return this.string.length;
  }
  chunk(e) {
    return this.string.slice(e);
  }
  get lineChunks() {
    return !1;
  }
  read(e, n) {
    return this.string.slice(e, n);
  }
}
new gn({ perNode: !0 });
let WJ = 0;
class ns {
  /**
  @internal
  */
  constructor(e, n, r) {
    this.set = e, this.base = n, this.modified = r, this.id = WJ++;
  }
  /**
  Define a new tag. If `parent` is given, the tag is treated as a
  sub-tag of that parent, and
  [highlighters](#highlight.tagHighlighter) that don't mention
  this tag will try to fall back to the parent tag (or grandparent
  tag, etc).
  */
  static define(e) {
    if (e != null && e.base)
      throw new Error("Can not derive from a modified tag");
    let n = new ns([], null, []);
    if (n.set.push(n), e)
      for (let r of e.set)
        n.set.push(r);
    return n;
  }
  /**
  Define a tag _modifier_, which is a function that, given a tag,
  will return a tag that is a subtag of the original. Applying the
  same modifier to a twice tag will return the same value (`m1(t1)
  == m1(t1)`) and applying multiple modifiers will, regardless or
  order, produce the same tag (`m1(m2(t1)) == m2(m1(t1))`).
  
  When multiple modifiers are applied to a given base tag, each
  smaller set of modifiers is registered as a parent, so that for
  example `m1(m2(m3(t1)))` is a subtype of `m1(m2(t1))`,
  `m1(m3(t1)`, and so on.
  */
  static defineModifier() {
    let e = new Uh();
    return (n) => n.modified.indexOf(e) > -1 ? n : Uh.get(n.base || n, n.modified.concat(e).sort((r, i) => r.id - i.id));
  }
}
let HJ = 0;
class Uh {
  constructor() {
    this.instances = [], this.id = HJ++;
  }
  static get(e, n) {
    if (!n.length)
      return e;
    let r = n[0].instances.find((a) => a.base == e && UJ(n, a.modified));
    if (r)
      return r;
    let i = [], o = new ns(i, e, n);
    for (let a of n)
      a.instances.push(o);
    let s = JJ(n);
    for (let a of e.set)
      if (!a.modified.length)
        for (let l of s)
          i.push(Uh.get(a, l));
    return o;
  }
}
function UJ(t, e) {
  return t.length == e.length && t.every((n, r) => n == e[r]);
}
function JJ(t) {
  let e = [[]];
  for (let n = 0; n < t.length; n++)
    for (let r = 0, i = e.length; r < i; r++)
      e.push(e[r].concat(t[n]));
  return e.sort((n, r) => r.length - n.length);
}
function yA(t) {
  let e = /* @__PURE__ */ Object.create(null);
  for (let n in t) {
    let r = t[n];
    Array.isArray(r) || (r = [r]);
    for (let i of n.split(" "))
      if (i) {
        let o = [], s = 2, a = i;
        for (let f = 0; ; ) {
          if (a == "..." && f > 0 && f + 3 == i.length) {
            s = 1;
            break;
          }
          let d = /^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);
          if (!d)
            throw new RangeError("Invalid path: " + i);
          if (o.push(d[0] == "*" ? "" : d[0][0] == '"' ? JSON.parse(d[0]) : d[0]), f += d[0].length, f == i.length)
            break;
          let h = i[f++];
          if (f == i.length && h == "!") {
            s = 0;
            break;
          }
          if (h != "/")
            throw new RangeError("Invalid path: " + i);
          a = i.slice(f);
        }
        let l = o.length - 1, c = o[l];
        if (!c)
          throw new RangeError("Invalid path: " + i);
        let u = new Jh(r, s, l > 0 ? o.slice(0, l) : null);
        e[c] = u.sort(e[c]);
      }
  }
  return bA.add(e);
}
const bA = new gn();
class Jh {
  constructor(e, n, r, i) {
    this.tags = e, this.mode = n, this.context = r, this.next = i;
  }
  get opaque() {
    return this.mode == 0;
  }
  get inherit() {
    return this.mode == 1;
  }
  sort(e) {
    return !e || e.depth < this.depth ? (this.next = e, this) : (e.next = this.sort(e.next), e);
  }
  get depth() {
    return this.context ? this.context.length : 0;
  }
}
Jh.empty = new Jh([], 2, null);
function xA(t, e) {
  let n = /* @__PURE__ */ Object.create(null);
  for (let o of t)
    if (!Array.isArray(o.tag))
      n[o.tag.id] = o.class;
    else
      for (let s of o.tag)
        n[s.id] = o.class;
  let { scope: r, all: i = null } = e || {};
  return {
    style: (o) => {
      let s = i;
      for (let a of o)
        for (let l of a.set) {
          let c = n[l.id];
          if (c) {
            s = s ? s + " " + c : c;
            break;
          }
        }
      return s;
    },
    scope: r
  };
}
function GJ(t, e) {
  let n = null;
  for (let r of t) {
    let i = r.style(e);
    i && (n = n ? n + " " + i : i);
  }
  return n;
}
function KJ(t, e, n, r = 0, i = t.length) {
  let o = new YJ(r, Array.isArray(e) ? e : [e], n);
  o.highlightRange(t.cursor(), r, i, "", o.highlighters), o.flush(i);
}
class YJ {
  constructor(e, n, r) {
    this.at = e, this.highlighters = n, this.span = r, this.class = "";
  }
  startSpan(e, n) {
    n != this.class && (this.flush(e), e > this.at && (this.at = e), this.class = n);
  }
  flush(e) {
    e > this.at && this.class && this.span(this.at, e, this.class);
  }
  highlightRange(e, n, r, i, o) {
    let { type: s, from: a, to: l } = e;
    if (a >= r || l <= n)
      return;
    s.isTop && (o = this.highlighters.filter((h) => !h.scope || h.scope(s)));
    let c = i, u = QJ(e) || Jh.empty, f = GJ(o, u.tags);
    if (f && (c && (c += " "), c += f, u.mode == 1 && (i += (i ? " " : "") + f)), this.startSpan(Math.max(n, a), c), u.opaque)
      return;
    let d = e.tree && e.tree.prop(gn.mounted);
    if (d && d.overlay) {
      let h = e.node.enter(d.overlay[0].from + a, 1), p = this.highlighters.filter((g) => !g.scope || g.scope(d.tree.type)), m = e.firstChild();
      for (let g = 0, v = a; ; g++) {
        let y = g < d.overlay.length ? d.overlay[g] : null, x = y ? y.from + a : l, b = Math.max(n, v), w = Math.min(r, x);
        if (b < w && m)
          for (; e.from < w && (this.highlightRange(e, b, w, i, o), this.startSpan(Math.min(w, e.to), c), !(e.to >= x || !e.nextSibling())); )
            ;
        if (!y || x > r)
          break;
        v = y.to + a, v > n && (this.highlightRange(h.cursor(), Math.max(n, y.from + a), Math.min(r, v), "", p), this.startSpan(Math.min(r, v), c));
      }
      m && e.parent();
    } else if (e.firstChild()) {
      d && (i = "");
      do
        if (!(e.to <= n)) {
          if (e.from >= r)
            break;
          this.highlightRange(e, n, r, i, o), this.startSpan(Math.min(r, e.to), c);
        }
      while (e.nextSibling());
      e.parent();
    }
  }
}
function QJ(t) {
  let e = t.type.prop(bA);
  for (; e && e.context && !t.matchContext(e.context); )
    e = e.next;
  return e || null;
}
const Ke = ns.define, Rd = Ke(), ca = Ke(), Pw = Ke(ca), Iw = Ke(ca), ua = Ke(), Pd = Ke(ua), gg = Ke(ua), es = Ke(), Za = Ke(es), Qo = Ke(), Xo = Ke(), e0 = Ke(), ju = Ke(e0), Id = Ke(), Ve = {
  /**
  A comment.
  */
  comment: Rd,
  /**
  A line [comment](#highlight.tags.comment).
  */
  lineComment: Ke(Rd),
  /**
  A block [comment](#highlight.tags.comment).
  */
  blockComment: Ke(Rd),
  /**
  A documentation [comment](#highlight.tags.comment).
  */
  docComment: Ke(Rd),
  /**
  Any kind of identifier.
  */
  name: ca,
  /**
  The [name](#highlight.tags.name) of a variable.
  */
  variableName: Ke(ca),
  /**
  A type [name](#highlight.tags.name).
  */
  typeName: Pw,
  /**
  A tag name (subtag of [`typeName`](#highlight.tags.typeName)).
  */
  tagName: Ke(Pw),
  /**
  A property or field [name](#highlight.tags.name).
  */
  propertyName: Iw,
  /**
  An attribute name (subtag of [`propertyName`](#highlight.tags.propertyName)).
  */
  attributeName: Ke(Iw),
  /**
  The [name](#highlight.tags.name) of a class.
  */
  className: Ke(ca),
  /**
  A label [name](#highlight.tags.name).
  */
  labelName: Ke(ca),
  /**
  A namespace [name](#highlight.tags.name).
  */
  namespace: Ke(ca),
  /**
  The [name](#highlight.tags.name) of a macro.
  */
  macroName: Ke(ca),
  /**
  A literal value.
  */
  literal: ua,
  /**
  A string [literal](#highlight.tags.literal).
  */
  string: Pd,
  /**
  A documentation [string](#highlight.tags.string).
  */
  docString: Ke(Pd),
  /**
  A character literal (subtag of [string](#highlight.tags.string)).
  */
  character: Ke(Pd),
  /**
  An attribute value (subtag of [string](#highlight.tags.string)).
  */
  attributeValue: Ke(Pd),
  /**
  A number [literal](#highlight.tags.literal).
  */
  number: gg,
  /**
  An integer [number](#highlight.tags.number) literal.
  */
  integer: Ke(gg),
  /**
  A floating-point [number](#highlight.tags.number) literal.
  */
  float: Ke(gg),
  /**
  A boolean [literal](#highlight.tags.literal).
  */
  bool: Ke(ua),
  /**
  Regular expression [literal](#highlight.tags.literal).
  */
  regexp: Ke(ua),
  /**
  An escape [literal](#highlight.tags.literal), for example a
  backslash escape in a string.
  */
  escape: Ke(ua),
  /**
  A color [literal](#highlight.tags.literal).
  */
  color: Ke(ua),
  /**
  A URL [literal](#highlight.tags.literal).
  */
  url: Ke(ua),
  /**
  A language keyword.
  */
  keyword: Qo,
  /**
  The [keyword](#highlight.tags.keyword) for the self or this
  object.
  */
  self: Ke(Qo),
  /**
  The [keyword](#highlight.tags.keyword) for null.
  */
  null: Ke(Qo),
  /**
  A [keyword](#highlight.tags.keyword) denoting some atomic value.
  */
  atom: Ke(Qo),
  /**
  A [keyword](#highlight.tags.keyword) that represents a unit.
  */
  unit: Ke(Qo),
  /**
  A modifier [keyword](#highlight.tags.keyword).
  */
  modifier: Ke(Qo),
  /**
  A [keyword](#highlight.tags.keyword) that acts as an operator.
  */
  operatorKeyword: Ke(Qo),
  /**
  A control-flow related [keyword](#highlight.tags.keyword).
  */
  controlKeyword: Ke(Qo),
  /**
  A [keyword](#highlight.tags.keyword) that defines something.
  */
  definitionKeyword: Ke(Qo),
  /**
  A [keyword](#highlight.tags.keyword) related to defining or
  interfacing with modules.
  */
  moduleKeyword: Ke(Qo),
  /**
  An operator.
  */
  operator: Xo,
  /**
  An [operator](#highlight.tags.operator) that dereferences something.
  */
  derefOperator: Ke(Xo),
  /**
  Arithmetic-related [operator](#highlight.tags.operator).
  */
  arithmeticOperator: Ke(Xo),
  /**
  Logical [operator](#highlight.tags.operator).
  */
  logicOperator: Ke(Xo),
  /**
  Bit [operator](#highlight.tags.operator).
  */
  bitwiseOperator: Ke(Xo),
  /**
  Comparison [operator](#highlight.tags.operator).
  */
  compareOperator: Ke(Xo),
  /**
  [Operator](#highlight.tags.operator) that updates its operand.
  */
  updateOperator: Ke(Xo),
  /**
  [Operator](#highlight.tags.operator) that defines something.
  */
  definitionOperator: Ke(Xo),
  /**
  Type-related [operator](#highlight.tags.operator).
  */
  typeOperator: Ke(Xo),
  /**
  Control-flow [operator](#highlight.tags.operator).
  */
  controlOperator: Ke(Xo),
  /**
  Program or markup punctuation.
  */
  punctuation: e0,
  /**
  [Punctuation](#highlight.tags.punctuation) that separates
  things.
  */
  separator: Ke(e0),
  /**
  Bracket-style [punctuation](#highlight.tags.punctuation).
  */
  bracket: ju,
  /**
  Angle [brackets](#highlight.tags.bracket) (usually `<` and `>`
  tokens).
  */
  angleBracket: Ke(ju),
  /**
  Square [brackets](#highlight.tags.bracket) (usually `[` and `]`
  tokens).
  */
  squareBracket: Ke(ju),
  /**
  Parentheses (usually `(` and `)` tokens). Subtag of
  [bracket](#highlight.tags.bracket).
  */
  paren: Ke(ju),
  /**
  Braces (usually `{` and `}` tokens). Subtag of
  [bracket](#highlight.tags.bracket).
  */
  brace: Ke(ju),
  /**
  Content, for example plain text in XML or markup documents.
  */
  content: es,
  /**
  [Content](#highlight.tags.content) that represents a heading.
  */
  heading: Za,
  /**
  A level 1 [heading](#highlight.tags.heading).
  */
  heading1: Ke(Za),
  /**
  A level 2 [heading](#highlight.tags.heading).
  */
  heading2: Ke(Za),
  /**
  A level 3 [heading](#highlight.tags.heading).
  */
  heading3: Ke(Za),
  /**
  A level 4 [heading](#highlight.tags.heading).
  */
  heading4: Ke(Za),
  /**
  A level 5 [heading](#highlight.tags.heading).
  */
  heading5: Ke(Za),
  /**
  A level 6 [heading](#highlight.tags.heading).
  */
  heading6: Ke(Za),
  /**
  A prose separator (such as a horizontal rule).
  */
  contentSeparator: Ke(es),
  /**
  [Content](#highlight.tags.content) that represents a list.
  */
  list: Ke(es),
  /**
  [Content](#highlight.tags.content) that represents a quote.
  */
  quote: Ke(es),
  /**
  [Content](#highlight.tags.content) that is emphasized.
  */
  emphasis: Ke(es),
  /**
  [Content](#highlight.tags.content) that is styled strong.
  */
  strong: Ke(es),
  /**
  [Content](#highlight.tags.content) that is part of a link.
  */
  link: Ke(es),
  /**
  [Content](#highlight.tags.content) that is styled as code or
  monospace.
  */
  monospace: Ke(es),
  /**
  [Content](#highlight.tags.content) that has a strike-through
  style.
  */
  strikethrough: Ke(es),
  /**
  Inserted text in a change-tracking format.
  */
  inserted: Ke(),
  /**
  Deleted text.
  */
  deleted: Ke(),
  /**
  Changed text.
  */
  changed: Ke(),
  /**
  An invalid or unsyntactic element.
  */
  invalid: Ke(),
  /**
  Metadata or meta-instruction.
  */
  meta: Id,
  /**
  [Metadata](#highlight.tags.meta) that applies to the entire
  document.
  */
  documentMeta: Ke(Id),
  /**
  [Metadata](#highlight.tags.meta) that annotates or adds
  attributes to a given syntactic element.
  */
  annotation: Ke(Id),
  /**
  Processing instruction or preprocessor directive. Subtag of
  [meta](#highlight.tags.meta).
  */
  processingInstruction: Ke(Id),
  /**
  [Modifier](#highlight.Tag^defineModifier) that indicates that a
  given element is being defined. Expected to be used with the
  various [name](#highlight.tags.name) tags.
  */
  definition: ns.defineModifier(),
  /**
  [Modifier](#highlight.Tag^defineModifier) that indicates that
  something is constant. Mostly expected to be used with
  [variable names](#highlight.tags.variableName).
  */
  constant: ns.defineModifier(),
  /**
  [Modifier](#highlight.Tag^defineModifier) used to indicate that
  a [variable](#highlight.tags.variableName) or [property
  name](#highlight.tags.propertyName) is being called or defined
  as a function.
  */
  function: ns.defineModifier(),
  /**
  [Modifier](#highlight.Tag^defineModifier) that can be applied to
  [names](#highlight.tags.name) to indicate that they belong to
  the language's standard environment.
  */
  standard: ns.defineModifier(),
  /**
  [Modifier](#highlight.Tag^defineModifier) that indicates a given
  [names](#highlight.tags.name) is local to some scope.
  */
  local: ns.defineModifier(),
  /**
  A generic variant [modifier](#highlight.Tag^defineModifier) that
  can be used to tag language-specific alternative variants of
  some common tag. It is recommended for themes to define special
  forms of at least the [string](#highlight.tags.string) and
  [variable name](#highlight.tags.variableName) tags, since those
  come up a lot.
  */
  special: ns.defineModifier()
};
xA([
  { tag: Ve.link, class: "tok-link" },
  { tag: Ve.heading, class: "tok-heading" },
  { tag: Ve.emphasis, class: "tok-emphasis" },
  { tag: Ve.strong, class: "tok-strong" },
  { tag: Ve.keyword, class: "tok-keyword" },
  { tag: Ve.atom, class: "tok-atom" },
  { tag: Ve.bool, class: "tok-bool" },
  { tag: Ve.url, class: "tok-url" },
  { tag: Ve.labelName, class: "tok-labelName" },
  { tag: Ve.inserted, class: "tok-inserted" },
  { tag: Ve.deleted, class: "tok-deleted" },
  { tag: Ve.literal, class: "tok-literal" },
  { tag: Ve.string, class: "tok-string" },
  { tag: Ve.number, class: "tok-number" },
  { tag: [Ve.regexp, Ve.escape, Ve.special(Ve.string)], class: "tok-string2" },
  { tag: Ve.variableName, class: "tok-variableName" },
  { tag: Ve.local(Ve.variableName), class: "tok-variableName tok-local" },
  { tag: Ve.definition(Ve.variableName), class: "tok-variableName tok-definition" },
  { tag: Ve.special(Ve.variableName), class: "tok-variableName2" },
  { tag: Ve.definition(Ve.propertyName), class: "tok-propertyName tok-definition" },
  { tag: Ve.typeName, class: "tok-typeName" },
  { tag: Ve.namespace, class: "tok-namespace" },
  { tag: Ve.className, class: "tok-className" },
  { tag: Ve.macroName, class: "tok-macroName" },
  { tag: Ve.propertyName, class: "tok-propertyName" },
  { tag: Ve.operator, class: "tok-operator" },
  { tag: Ve.comment, class: "tok-comment" },
  { tag: Ve.meta, class: "tok-meta" },
  { tag: Ve.invalid, class: "tok-invalid" },
  { tag: Ve.punctuation, class: "tok-punctuation" }
]);
var vg;
const sc = /* @__PURE__ */ new gn();
function XJ(t) {
  return pt.define({
    combine: t ? (e) => e.concat(t) : void 0
  });
}
const ZJ = /* @__PURE__ */ new gn();
class No {
  /**
  Construct a language object. If you need to invoke this
  directly, first define a data facet with
  [`defineLanguageFacet`](https://codemirror.net/6/docs/ref/#language.defineLanguageFacet), and then
  configure your parser to [attach](https://codemirror.net/6/docs/ref/#language.languageDataProp) it
  to the language's outer syntax node.
  */
  constructor(e, n, r = [], i = "") {
    this.data = e, this.name = i, xn.prototype.hasOwnProperty("tree") || Object.defineProperty(xn.prototype, "tree", { get() {
      return gi(this);
    } }), this.parser = n, this.extension = [
      Na.of(this),
      xn.languageData.of((o, s, a) => {
        let l = Nw(o, s, a), c = l.type.prop(sc);
        if (!c)
          return [];
        let u = o.facet(c), f = l.type.prop(ZJ);
        if (f) {
          let d = l.resolve(s - l.from, a);
          for (let h of f)
            if (h.test(d, o)) {
              let p = o.facet(h.facet);
              return h.type == "replace" ? p : p.concat(u);
            }
        }
        return u;
      })
    ].concat(r);
  }
  /**
  Query whether this language is active at the given position.
  */
  isActiveAt(e, n, r = -1) {
    return Nw(e, n, r).type.prop(sc) == this.data;
  }
  /**
  Find the document regions that were parsed using this language.
  The returned regions will _include_ any nested languages rooted
  in this language, when those exist.
  */
  findRegions(e) {
    let n = e.facet(Na);
    if ((n == null ? void 0 : n.data) == this.data)
      return [{ from: 0, to: e.doc.length }];
    if (!n || !n.allowsNesting)
      return [];
    let r = [], i = (o, s) => {
      if (o.prop(sc) == this.data) {
        r.push({ from: s, to: s + o.length });
        return;
      }
      let a = o.prop(gn.mounted);
      if (a) {
        if (a.tree.prop(sc) == this.data) {
          if (a.overlay)
            for (let l of a.overlay)
              r.push({ from: l.from + s, to: l.to + s });
          else
            r.push({ from: s, to: s + o.length });
          return;
        } else if (a.overlay) {
          let l = r.length;
          if (i(a.tree, a.overlay[0].from + s), r.length > l)
            return;
        }
      }
      for (let l = 0; l < o.children.length; l++) {
        let c = o.children[l];
        c instanceof Pr && i(c, o.positions[l] + s);
      }
    };
    return i(gi(e), 0), r;
  }
  /**
  Indicates whether this language allows nested languages. The
  default implementation returns true.
  */
  get allowsNesting() {
    return !0;
  }
}
No.setState = /* @__PURE__ */ ln.define();
function Nw(t, e, n) {
  let r = t.facet(Na), i = gi(t).topNode;
  if (!r || r.allowsNesting)
    for (let o = i; o; o = o.enter(e, n, Vr.ExcludeBuffers))
      o.type.isTop && (i = o);
  return i;
}
class Gh extends No {
  constructor(e, n, r) {
    super(e, n, [], r), this.parser = n;
  }
  /**
  Define a language from a parser.
  */
  static define(e) {
    let n = XJ(e.languageData);
    return new Gh(n, e.parser.configure({
      props: [sc.add((r) => r.isTop ? n : void 0)]
    }), e.name);
  }
  /**
  Create a new instance of this language with a reconfigured
  version of its parser and optionally a new name.
  */
  configure(e, n) {
    return new Gh(this.data, this.parser.configure(e), n || this.name);
  }
  get allowsNesting() {
    return this.parser.hasWrappers();
  }
}
function gi(t) {
  let e = t.field(No.state, !1);
  return e ? e.tree : Pr.empty;
}
class eG {
  /**
  Create an input object for the given document.
  */
  constructor(e) {
    this.doc = e, this.cursorPos = 0, this.string = "", this.cursor = e.iter();
  }
  get length() {
    return this.doc.length;
  }
  syncTo(e) {
    return this.string = this.cursor.next(e - this.cursorPos).value, this.cursorPos = e + this.string.length, this.cursorPos - this.string.length;
  }
  chunk(e) {
    return this.syncTo(e), this.string;
  }
  get lineChunks() {
    return !0;
  }
  read(e, n) {
    let r = this.cursorPos - this.string.length;
    return e < r || n >= this.cursorPos ? this.doc.sliceString(e, n) : this.string.slice(e - r, n - r);
  }
}
let $u = null;
class Kh {
  constructor(e, n, r = [], i, o, s, a, l) {
    this.parser = e, this.state = n, this.fragments = r, this.tree = i, this.treeLen = o, this.viewport = s, this.skipped = a, this.scheduleOn = l, this.parse = null, this.tempSkipped = [];
  }
  /**
  @internal
  */
  static create(e, n, r) {
    return new Kh(e, n, [], Pr.empty, 0, r, [], null);
  }
  startParse() {
    return this.parser.startParse(new eG(this.state.doc), this.fragments);
  }
  /**
  @internal
  */
  work(e, n) {
    return n != null && n >= this.state.doc.length && (n = void 0), this.tree != Pr.empty && this.isDone(n ?? this.state.doc.length) ? (this.takeTree(), !0) : this.withContext(() => {
      var r;
      if (typeof e == "number") {
        let i = Date.now() + e;
        e = () => Date.now() > i;
      }
      for (this.parse || (this.parse = this.startParse()), n != null && (this.parse.stoppedAt == null || this.parse.stoppedAt > n) && n < this.state.doc.length && this.parse.stopAt(n); ; ) {
        let i = this.parse.advance();
        if (i)
          if (this.fragments = this.withoutTempSkipped(pl.addTree(i, this.fragments, this.parse.stoppedAt != null)), this.treeLen = (r = this.parse.stoppedAt) !== null && r !== void 0 ? r : this.state.doc.length, this.tree = i, this.parse = null, this.treeLen < (n ?? this.state.doc.length))
            this.parse = this.startParse();
          else
            return !0;
        if (e())
          return !1;
      }
    });
  }
  /**
  @internal
  */
  takeTree() {
    let e, n;
    this.parse && (e = this.parse.parsedPos) >= this.treeLen && ((this.parse.stoppedAt == null || this.parse.stoppedAt > e) && this.parse.stopAt(e), this.withContext(() => {
      for (; !(n = this.parse.advance()); )
        ;
    }), this.treeLen = e, this.tree = n, this.fragments = this.withoutTempSkipped(pl.addTree(this.tree, this.fragments, !0)), this.parse = null);
  }
  withContext(e) {
    let n = $u;
    $u = this;
    try {
      return e();
    } finally {
      $u = n;
    }
  }
  withoutTempSkipped(e) {
    for (let n; n = this.tempSkipped.pop(); )
      e = Dw(e, n.from, n.to);
    return e;
  }
  /**
  @internal
  */
  changes(e, n) {
    let { fragments: r, tree: i, treeLen: o, viewport: s, skipped: a } = this;
    if (this.takeTree(), !e.empty) {
      let l = [];
      if (e.iterChangedRanges((c, u, f, d) => l.push({ fromA: c, toA: u, fromB: f, toB: d })), r = pl.applyChanges(r, l), i = Pr.empty, o = 0, s = { from: e.mapPos(s.from, -1), to: e.mapPos(s.to, 1) }, this.skipped.length) {
        a = [];
        for (let c of this.skipped) {
          let u = e.mapPos(c.from, 1), f = e.mapPos(c.to, -1);
          u < f && a.push({ from: u, to: f });
        }
      }
    }
    return new Kh(this.parser, n, r, i, o, s, a, this.scheduleOn);
  }
  /**
  @internal
  */
  updateViewport(e) {
    if (this.viewport.from == e.from && this.viewport.to == e.to)
      return !1;
    this.viewport = e;
    let n = this.skipped.length;
    for (let r = 0; r < this.skipped.length; r++) {
      let { from: i, to: o } = this.skipped[r];
      i < e.to && o > e.from && (this.fragments = Dw(this.fragments, i, o), this.skipped.splice(r--, 1));
    }
    return this.skipped.length >= n ? !1 : (this.reset(), !0);
  }
  /**
  @internal
  */
  reset() {
    this.parse && (this.takeTree(), this.parse = null);
  }
  /**
  Notify the parse scheduler that the given region was skipped
  because it wasn't in view, and the parse should be restarted
  when it comes into view.
  */
  skipUntilInView(e, n) {
    this.skipped.push({ from: e, to: n });
  }
  /**
  Returns a parser intended to be used as placeholder when
  asynchronously loading a nested parser. It'll skip its input and
  mark it as not-really-parsed, so that the next update will parse
  it again.
  
  When `until` is given, a reparse will be scheduled when that
  promise resolves.
  */
  static getSkippingParser(e) {
    return new class extends vA {
      createParse(n, r, i) {
        let o = i[0].from, s = i[i.length - 1].to;
        return {
          parsedPos: o,
          advance() {
            let l = $u;
            if (l) {
              for (let c of i)
                l.tempSkipped.push(c);
              e && (l.scheduleOn = l.scheduleOn ? Promise.all([l.scheduleOn, e]) : e);
            }
            return this.parsedPos = s, new Pr(Li.none, [], [], s - o);
          },
          stoppedAt: null,
          stopAt() {
          }
        };
      }
    }();
  }
  /**
  @internal
  */
  isDone(e) {
    e = Math.min(e, this.state.doc.length);
    let n = this.fragments;
    return this.treeLen >= e && n.length && n[0].from == 0 && n[0].to >= e;
  }
  /**
  Get the context for the current parse, or `null` if no editor
  parse is in progress.
  */
  static get() {
    return $u;
  }
}
function Dw(t, e, n) {
  return pl.applyChanges(t, [{ fromA: e, toA: n, fromB: e, toB: n }]);
}
class Tc {
  constructor(e) {
    this.context = e, this.tree = e.tree;
  }
  apply(e) {
    if (!e.docChanged && this.tree == this.context.tree)
      return this;
    let n = this.context.changes(e.changes, e.state), r = this.context.treeLen == e.startState.doc.length ? void 0 : Math.max(e.changes.mapPos(this.context.treeLen), n.viewport.to);
    return n.work(20, r) || n.takeTree(), new Tc(n);
  }
  static init(e) {
    let n = Math.min(3e3, e.doc.length), r = Kh.create(e.facet(Na).parser, e, { from: 0, to: n });
    return r.work(20, n) || r.takeTree(), new Tc(r);
  }
}
No.state = /* @__PURE__ */ zr.define({
  create: Tc.init,
  update(t, e) {
    for (let n of e.effects)
      if (n.is(No.setState))
        return n.value;
    return e.startState.facet(Na) != e.state.facet(Na) ? Tc.init(e.state) : t.apply(e);
  }
});
let wA = (t) => {
  let e = setTimeout(
    () => t(),
    500
    /* Work.MaxPause */
  );
  return () => clearTimeout(e);
};
typeof requestIdleCallback < "u" && (wA = (t) => {
  let e = -1, n = setTimeout(
    () => {
      e = requestIdleCallback(t, {
        timeout: 400
        /* Work.MinPause */
      });
    },
    100
    /* Work.MinPause */
  );
  return () => e < 0 ? clearTimeout(n) : cancelIdleCallback(e);
});
const yg = typeof navigator < "u" && (!((vg = navigator.scheduling) === null || vg === void 0) && vg.isInputPending) ? () => navigator.scheduling.isInputPending() : null, tG = /* @__PURE__ */ kr.fromClass(class {
  constructor(e) {
    this.view = e, this.working = null, this.workScheduled = 0, this.chunkEnd = -1, this.chunkBudget = -1, this.work = this.work.bind(this), this.scheduleWork();
  }
  update(e) {
    let n = this.view.state.field(No.state).context;
    (n.updateViewport(e.view.viewport) || this.view.viewport.to > n.treeLen) && this.scheduleWork(), (e.docChanged || e.selectionSet) && (this.view.hasFocus && (this.chunkBudget += 50), this.scheduleWork()), this.checkAsyncSchedule(n);
  }
  scheduleWork() {
    if (this.working)
      return;
    let { state: e } = this.view, n = e.field(No.state);
    (n.tree != n.context.tree || !n.context.isDone(e.doc.length)) && (this.working = wA(this.work));
  }
  work(e) {
    this.working = null;
    let n = Date.now();
    if (this.chunkEnd < n && (this.chunkEnd < 0 || this.view.hasFocus) && (this.chunkEnd = n + 3e4, this.chunkBudget = 3e3), this.chunkBudget <= 0)
      return;
    let { state: r, viewport: { to: i } } = this.view, o = r.field(No.state);
    if (o.tree == o.context.tree && o.context.isDone(
      i + 1e5
      /* Work.MaxParseAhead */
    ))
      return;
    let s = Date.now() + Math.min(this.chunkBudget, 100, e && !yg ? Math.max(25, e.timeRemaining() - 5) : 1e9), a = o.context.treeLen < i && r.doc.length > i + 1e3, l = o.context.work(() => yg && yg() || Date.now() > s, i + (a ? 0 : 1e5));
    this.chunkBudget -= Date.now() - n, (l || this.chunkBudget <= 0) && (o.context.takeTree(), this.view.dispatch({ effects: No.setState.of(new Tc(o.context)) })), this.chunkBudget > 0 && !(l && !a) && this.scheduleWork(), this.checkAsyncSchedule(o.context);
  }
  checkAsyncSchedule(e) {
    e.scheduleOn && (this.workScheduled++, e.scheduleOn.then(() => this.scheduleWork()).catch((n) => Zi(this.view.state, n)).then(() => this.workScheduled--), e.scheduleOn = null);
  }
  destroy() {
    this.working && this.working();
  }
  isWorking() {
    return !!(this.working || this.workScheduled > 0);
  }
}, {
  eventHandlers: { focus() {
    this.scheduleWork();
  } }
}), Na = /* @__PURE__ */ pt.define({
  combine(t) {
    return t.length ? t[0] : null;
  },
  enables: (t) => [
    No.state,
    tG,
    nt.contentAttributes.compute([t], (e) => {
      let n = e.facet(t);
      return n && n.name ? { "data-language": n.name } : {};
    })
  ]
});
class nG {
  /**
  Create a language support object.
  */
  constructor(e, n = []) {
    this.language = e, this.support = n, this.extension = [e, n];
  }
}
const rG = /* @__PURE__ */ pt.define(), gm = /* @__PURE__ */ pt.define({
  combine: (t) => {
    if (!t.length)
      return "  ";
    let e = t[0];
    if (!e || /\S/.test(e) || Array.from(e).some((n) => n != e[0]))
      throw new Error("Invalid indent unit: " + JSON.stringify(t[0]));
    return e;
  }
});
function Da(t) {
  let e = t.facet(gm);
  return e.charCodeAt(0) == 9 ? t.tabSize * e.length : e.length;
}
function xf(t, e) {
  let n = "", r = t.tabSize, i = t.facet(gm)[0];
  if (i == "	") {
    for (; e >= r; )
      n += "	", e -= r;
    i = " ";
  }
  for (let o = 0; o < e; o++)
    n += i;
  return n;
}
function Ry(t, e) {
  t instanceof xn && (t = new vm(t));
  for (let r of t.state.facet(rG)) {
    let i = r(t, e);
    if (i !== void 0)
      return i;
  }
  let n = gi(t.state);
  return n.length >= e ? iG(t, n, e) : null;
}
class vm {
  /**
  Create an indent context.
  */
  constructor(e, n = {}) {
    this.state = e, this.options = n, this.unit = Da(e);
  }
  /**
  Get a description of the line at the given position, taking
  [simulated line
  breaks](https://codemirror.net/6/docs/ref/#language.IndentContext.constructor^options.simulateBreak)
  into account. If there is such a break at `pos`, the `bias`
  argument determines whether the part of the line line before or
  after the break is used.
  */
  lineAt(e, n = 1) {
    let r = this.state.doc.lineAt(e), { simulateBreak: i, simulateDoubleBreak: o } = this.options;
    return i != null && i >= r.from && i <= r.to ? o && i == e ? { text: "", from: e } : (n < 0 ? i < e : i <= e) ? { text: r.text.slice(i - r.from), from: i } : { text: r.text.slice(0, i - r.from), from: r.from } : r;
  }
  /**
  Get the text directly after `pos`, either the entire line
  or the next 100 characters, whichever is shorter.
  */
  textAfterPos(e, n = 1) {
    if (this.options.simulateDoubleBreak && e == this.options.simulateBreak)
      return "";
    let { text: r, from: i } = this.lineAt(e, n);
    return r.slice(e - i, Math.min(r.length, e + 100 - i));
  }
  /**
  Find the column for the given position.
  */
  column(e, n = 1) {
    let { text: r, from: i } = this.lineAt(e, n), o = this.countColumn(r, e - i), s = this.options.overrideIndentation ? this.options.overrideIndentation(i) : -1;
    return s > -1 && (o += s - this.countColumn(r, r.search(/\S|$/))), o;
  }
  /**
  Find the column position (taking tabs into account) of the given
  position in the given string.
  */
  countColumn(e, n = e.length) {
    return ou(e, this.state.tabSize, n);
  }
  /**
  Find the indentation column of the line at the given point.
  */
  lineIndent(e, n = 1) {
    let { text: r, from: i } = this.lineAt(e, n), o = this.options.overrideIndentation;
    if (o) {
      let s = o(i);
      if (s > -1)
        return s;
    }
    return this.countColumn(r, r.search(/\S|$/));
  }
  /**
  Returns the [simulated line
  break](https://codemirror.net/6/docs/ref/#language.IndentContext.constructor^options.simulateBreak)
  for this context, if any.
  */
  get simulatedBreak() {
    return this.options.simulateBreak || null;
  }
}
const jA = /* @__PURE__ */ new gn();
function iG(t, e, n) {
  let r = e.resolveStack(n), i = r.node.enterUnfinishedNodesBefore(n);
  if (i != r.node) {
    let o = [];
    for (let s = i; s != r.node; s = s.parent)
      o.push(s);
    for (let s = o.length - 1; s >= 0; s--)
      r = { node: o[s], next: r };
  }
  return $A(r, t, n);
}
function $A(t, e, n) {
  for (let r = t; r; r = r.next) {
    let i = sG(r.node);
    if (i)
      return i(Py.create(e, n, r));
  }
  return 0;
}
function oG(t) {
  return t.pos == t.options.simulateBreak && t.options.simulateDoubleBreak;
}
function sG(t) {
  let e = t.type.prop(jA);
  if (e)
    return e;
  let n = t.firstChild, r;
  if (n && (r = n.type.prop(gn.closedBy))) {
    let i = t.lastChild, o = i && r.indexOf(i.name) > -1;
    return (s) => uG(s, !0, 1, void 0, o && !oG(s) ? i.from : void 0);
  }
  return t.parent == null ? aG : null;
}
function aG() {
  return 0;
}
class Py extends vm {
  constructor(e, n, r) {
    super(e.state, e.options), this.base = e, this.pos = n, this.context = r;
  }
  /**
  The syntax tree node to which the indentation strategy
  applies.
  */
  get node() {
    return this.context.node;
  }
  /**
  @internal
  */
  static create(e, n, r) {
    return new Py(e, n, r);
  }
  /**
  Get the text directly after `this.pos`, either the entire line
  or the next 100 characters, whichever is shorter.
  */
  get textAfter() {
    return this.textAfterPos(this.pos);
  }
  /**
  Get the indentation at the reference line for `this.node`, which
  is the line on which it starts, unless there is a node that is
  _not_ a parent of this node covering the start of that line. If
  so, the line at the start of that node is tried, again skipping
  on if it is covered by another such node.
  */
  get baseIndent() {
    return this.baseIndentFor(this.node);
  }
  /**
  Get the indentation for the reference line of the given node
  (see [`baseIndent`](https://codemirror.net/6/docs/ref/#language.TreeIndentContext.baseIndent)).
  */
  baseIndentFor(e) {
    let n = this.state.doc.lineAt(e.from);
    for (; ; ) {
      let r = e.resolve(n.from);
      for (; r.parent && r.parent.from == r.from; )
        r = r.parent;
      if (lG(r, e))
        break;
      n = this.state.doc.lineAt(r.from);
    }
    return this.lineIndent(n.from);
  }
  /**
  Continue looking for indentations in the node's parent nodes,
  and return the result of that.
  */
  continue() {
    return $A(this.context.next, this.base, this.pos);
  }
}
function lG(t, e) {
  for (let n = e; n; n = n.parent)
    if (t == n)
      return !0;
  return !1;
}
function cG(t) {
  let e = t.node, n = e.childAfter(e.from), r = e.lastChild;
  if (!n)
    return null;
  let i = t.options.simulateBreak, o = t.state.doc.lineAt(n.from), s = i == null || i <= o.from ? o.to : Math.min(o.to, i);
  for (let a = n.to; ; ) {
    let l = e.childAfter(a);
    if (!l || l == r)
      return null;
    if (!l.type.isSkipped)
      return l.from < s ? n : null;
    a = l.to;
  }
}
function uG(t, e, n, r, i) {
  let o = t.textAfter, s = o.match(/^\s*/)[0].length, a = r && o.slice(s, s + r.length) == r || i == t.pos + s, l = e ? cG(t) : null;
  return l ? a ? t.column(l.from) : t.column(l.to) : t.baseIndent + (a ? 0 : t.unit * n);
}
function Lw({ except: t, units: e = 1 } = {}) {
  return (n) => {
    let r = t && t.test(n.textAfter);
    return n.baseIndent + (r ? 0 : e * n.unit);
  };
}
const fG = 200;
function dG() {
  return xn.transactionFilter.of((t) => {
    if (!t.docChanged || !t.isUserEvent("input.type") && !t.isUserEvent("input.complete"))
      return t;
    let e = t.startState.languageDataAt("indentOnInput", t.startState.selection.main.head);
    if (!e.length)
      return t;
    let n = t.newDoc, { head: r } = t.newSelection.main, i = n.lineAt(r);
    if (r > i.from + fG)
      return t;
    let o = n.sliceString(i.from, r);
    if (!e.some((c) => c.test(o)))
      return t;
    let { state: s } = t, a = -1, l = [];
    for (let { head: c } of s.selection.ranges) {
      let u = s.doc.lineAt(c);
      if (u.from == a)
        continue;
      a = u.from;
      let f = Ry(s, u.from);
      if (f == null)
        continue;
      let d = /^\s*/.exec(u.text)[0], h = xf(s, f);
      d != h && l.push({ from: u.from, to: u.from + d.length, insert: h });
    }
    return l.length ? [t, { changes: l, sequential: !0 }] : t;
  });
}
const hG = /* @__PURE__ */ pt.define(), kA = /* @__PURE__ */ new gn();
function pG(t) {
  let e = t.firstChild, n = t.lastChild;
  return e && e.to < n.from ? { from: e.to, to: n.type.isError ? t.to : n.from } : null;
}
function mG(t, e, n) {
  let r = gi(t);
  if (r.length < n)
    return null;
  let i = r.resolveStack(n, 1), o = null;
  for (let s = i; s; s = s.next) {
    let a = s.node;
    if (a.to <= n || a.from > n)
      continue;
    if (o && a.from < e)
      break;
    let l = a.type.prop(kA);
    if (l && (a.to < r.length - 50 || r.length == t.doc.length || !gG(a))) {
      let c = l(a, t);
      c && c.from <= n && c.from >= e && c.to > n && (o = c);
    }
  }
  return o;
}
function gG(t) {
  let e = t.lastChild;
  return e && e.to == t.to && e.type.isError;
}
function Yh(t, e, n) {
  for (let r of t.facet(hG)) {
    let i = r(t, e, n);
    if (i)
      return i;
  }
  return mG(t, e, n);
}
function SA(t, e) {
  let n = e.mapPos(t.from, 1), r = e.mapPos(t.to, -1);
  return n >= r ? void 0 : { from: n, to: r };
}
const ym = /* @__PURE__ */ ln.define({ map: SA }), Gf = /* @__PURE__ */ ln.define({ map: SA });
function CA(t) {
  let e = [];
  for (let { head: n } of t.state.selection.ranges)
    e.some((r) => r.from <= n && r.to >= n) || e.push(t.lineBlockAt(n));
  return e;
}
const jl = /* @__PURE__ */ zr.define({
  create() {
    return Bt.none;
  },
  update(t, e) {
    t = t.map(e.changes);
    for (let n of e.effects)
      if (n.is(ym) && !vG(t, n.value.from, n.value.to)) {
        let { preparePlaceholder: r } = e.state.facet(Iy), i = r ? Bt.replace({ widget: new kG(r(e.state, n.value)) }) : Bw;
        t = t.update({ add: [i.range(n.value.from, n.value.to)] });
      } else
        n.is(Gf) && (t = t.update({
          filter: (r, i) => n.value.from != r || n.value.to != i,
          filterFrom: n.value.from,
          filterTo: n.value.to
        }));
    if (e.selection) {
      let n = !1, { head: r } = e.selection.main;
      t.between(r, r, (i, o) => {
        i < r && o > r && (n = !0);
      }), n && (t = t.update({
        filterFrom: r,
        filterTo: r,
        filter: (i, o) => o <= r || i >= r
      }));
    }
    return t;
  },
  provide: (t) => nt.decorations.from(t),
  toJSON(t, e) {
    let n = [];
    return t.between(0, e.doc.length, (r, i) => {
      n.push(r, i);
    }), n;
  },
  fromJSON(t) {
    if (!Array.isArray(t) || t.length % 2)
      throw new RangeError("Invalid JSON for fold state");
    let e = [];
    for (let n = 0; n < t.length; ) {
      let r = t[n++], i = t[n++];
      if (typeof r != "number" || typeof i != "number")
        throw new RangeError("Invalid JSON for fold state");
      e.push(Bw.range(r, i));
    }
    return Bt.set(e, !0);
  }
});
function Qh(t, e, n) {
  var r;
  let i = null;
  return (r = t.field(jl, !1)) === null || r === void 0 || r.between(e, n, (o, s) => {
    (!i || i.from > o) && (i = { from: o, to: s });
  }), i;
}
function vG(t, e, n) {
  let r = !1;
  return t.between(e, e, (i, o) => {
    i == e && o == n && (r = !0);
  }), r;
}
function _A(t, e) {
  return t.field(jl, !1) ? e : e.concat(ln.appendConfig.of(AA()));
}
const yG = (t) => {
  for (let e of CA(t)) {
    let n = Yh(t.state, e.from, e.to);
    if (n)
      return t.dispatch({ effects: _A(t.state, [ym.of(n), OA(t, n)]) }), !0;
  }
  return !1;
}, bG = (t) => {
  if (!t.state.field(jl, !1))
    return !1;
  let e = [];
  for (let n of CA(t)) {
    let r = Qh(t.state, n.from, n.to);
    r && e.push(Gf.of(r), OA(t, r, !1));
  }
  return e.length && t.dispatch({ effects: e }), e.length > 0;
};
function OA(t, e, n = !0) {
  let r = t.state.doc.lineAt(e.from).number, i = t.state.doc.lineAt(e.to).number;
  return nt.announce.of(`${t.state.phrase(n ? "Folded lines" : "Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`);
}
const xG = (t) => {
  let { state: e } = t, n = [];
  for (let r = 0; r < e.doc.length; ) {
    let i = t.lineBlockAt(r), o = Yh(e, i.from, i.to);
    o && n.push(ym.of(o)), r = (o ? t.lineBlockAt(o.to) : i).to + 1;
  }
  return n.length && t.dispatch({ effects: _A(t.state, n) }), !!n.length;
}, wG = (t) => {
  let e = t.state.field(jl, !1);
  if (!e || !e.size)
    return !1;
  let n = [];
  return e.between(0, t.state.doc.length, (r, i) => {
    n.push(Gf.of({ from: r, to: i }));
  }), t.dispatch({ effects: n }), !0;
}, jG = [
  { key: "Ctrl-Shift-[", mac: "Cmd-Alt-[", run: yG },
  { key: "Ctrl-Shift-]", mac: "Cmd-Alt-]", run: bG },
  { key: "Ctrl-Alt-[", run: xG },
  { key: "Ctrl-Alt-]", run: wG }
], $G = {
  placeholderDOM: null,
  preparePlaceholder: null,
  placeholderText: ""
}, Iy = /* @__PURE__ */ pt.define({
  combine(t) {
    return _o(t, $G);
  }
});
function AA(t) {
  let e = [jl, _G];
  return t && e.push(Iy.of(t)), e;
}
function EA(t, e) {
  let { state: n } = t, r = n.facet(Iy), i = (s) => {
    let a = t.lineBlockAt(t.posAtDOM(s.target)), l = Qh(t.state, a.from, a.to);
    l && t.dispatch({ effects: Gf.of(l) }), s.preventDefault();
  };
  if (r.placeholderDOM)
    return r.placeholderDOM(t, i, e);
  let o = document.createElement("span");
  return o.textContent = r.placeholderText, o.setAttribute("aria-label", n.phrase("folded code")), o.title = n.phrase("unfold"), o.className = "cm-foldPlaceholder", o.onclick = i, o;
}
const Bw = /* @__PURE__ */ Bt.replace({ widget: /* @__PURE__ */ new class extends Ua {
  toDOM(t) {
    return EA(t, null);
  }
}() });
class kG extends Ua {
  constructor(e) {
    super(), this.value = e;
  }
  eq(e) {
    return this.value == e.value;
  }
  toDOM(e) {
    return EA(e, this.value);
  }
}
const SG = {
  openText: "",
  closedText: "",
  markerDOM: null,
  domEventHandlers: {},
  foldingChanged: () => !1
};
class bg extends gs {
  constructor(e, n) {
    super(), this.config = e, this.open = n;
  }
  eq(e) {
    return this.config == e.config && this.open == e.open;
  }
  toDOM(e) {
    if (this.config.markerDOM)
      return this.config.markerDOM(this.open);
    let n = document.createElement("span");
    return n.textContent = this.open ? this.config.openText : this.config.closedText, n.title = e.state.phrase(this.open ? "Fold line" : "Unfold line"), n;
  }
}
function CG(t = {}) {
  let e = Object.assign(Object.assign({}, SG), t), n = new bg(e, !0), r = new bg(e, !1), i = kr.fromClass(class {
    constructor(s) {
      this.from = s.viewport.from, this.markers = this.buildMarkers(s);
    }
    update(s) {
      (s.docChanged || s.viewportChanged || s.startState.facet(Na) != s.state.facet(Na) || s.startState.field(jl, !1) != s.state.field(jl, !1) || gi(s.startState) != gi(s.state) || e.foldingChanged(s)) && (this.markers = this.buildMarkers(s.view));
    }
    buildMarkers(s) {
      let a = new ms();
      for (let l of s.viewportLineBlocks) {
        let c = Qh(s.state, l.from, l.to) ? r : Yh(s.state, l.from, l.to) ? n : null;
        c && a.add(l.from, l.from, c);
      }
      return a.finish();
    }
  }), { domEventHandlers: o } = e;
  return [
    i,
    uA({
      class: "cm-foldGutter",
      markers(s) {
        var a;
        return ((a = s.plugin(i)) === null || a === void 0 ? void 0 : a.markers) || Cn.empty;
      },
      initialSpacer() {
        return new bg(e, !1);
      },
      domEventHandlers: Object.assign(Object.assign({}, o), { click: (s, a, l) => {
        if (o.click && o.click(s, a, l))
          return !0;
        let c = Qh(s.state, a.from, a.to);
        if (c)
          return s.dispatch({ effects: Gf.of(c) }), !0;
        let u = Yh(s.state, a.from, a.to);
        return u ? (s.dispatch({ effects: ym.of(u) }), !0) : !1;
      } })
    }),
    AA()
  ];
}
const _G = /* @__PURE__ */ nt.baseTheme({
  ".cm-foldPlaceholder": {
    backgroundColor: "#eee",
    border: "1px solid #ddd",
    color: "#888",
    borderRadius: ".2em",
    margin: "0 1px",
    padding: "0 1px",
    cursor: "pointer"
  },
  ".cm-foldGutter span": {
    padding: "0 1px",
    cursor: "pointer"
  }
});
class Kf {
  constructor(e, n) {
    this.specs = e;
    let r;
    function i(a) {
      let l = Ta.newName();
      return (r || (r = /* @__PURE__ */ Object.create(null)))["." + l] = a, l;
    }
    const o = typeof n.all == "string" ? n.all : n.all ? i(n.all) : void 0, s = n.scope;
    this.scope = s instanceof No ? (a) => a.prop(sc) == s.data : s ? (a) => a == s : void 0, this.style = xA(e.map((a) => ({
      tag: a.tag,
      class: a.class || i(Object.assign({}, a, { tag: null }))
    })), {
      all: o
    }).style, this.module = r ? new Ta(r) : null, this.themeType = n.themeType;
  }
  /**
  Create a highlighter style that associates the given styles to
  the given tags. The specs must be objects that hold a style tag
  or array of tags in their `tag` property, and either a single
  `class` property providing a static CSS class (for highlighter
  that rely on external styling), or a
  [`style-mod`](https://github.com/marijnh/style-mod#documentation)-style
  set of CSS properties (which define the styling for those tags).
  
  The CSS rules created for a highlighter will be emitted in the
  order of the spec's properties. That means that for elements that
  have multiple tags associated with them, styles defined further
  down in the list will have a higher CSS precedence than styles
  defined earlier.
  */
  static define(e, n) {
    return new Kf(e, n || {});
  }
}
const t0 = /* @__PURE__ */ pt.define(), MA = /* @__PURE__ */ pt.define({
  combine(t) {
    return t.length ? [t[0]] : null;
  }
});
function xg(t) {
  let e = t.facet(t0);
  return e.length ? e : t.facet(MA);
}
function TA(t, e) {
  let n = [AG], r;
  return t instanceof Kf && (t.module && n.push(nt.styleModule.of(t.module)), r = t.themeType), e != null && e.fallback ? n.push(MA.of(t)) : r ? n.push(t0.computeN([nt.darkTheme], (i) => i.facet(nt.darkTheme) == (r == "dark") ? [t] : [])) : n.push(t0.of(t)), n;
}
class OG {
  constructor(e) {
    this.markCache = /* @__PURE__ */ Object.create(null), this.tree = gi(e.state), this.decorations = this.buildDeco(e, xg(e.state));
  }
  update(e) {
    let n = gi(e.state), r = xg(e.state), i = r != xg(e.startState);
    n.length < e.view.viewport.to && !i && n.type == this.tree.type ? this.decorations = this.decorations.map(e.changes) : (n != this.tree || e.viewportChanged || i) && (this.tree = n, this.decorations = this.buildDeco(e.view, r));
  }
  buildDeco(e, n) {
    if (!n || !this.tree.length)
      return Bt.none;
    let r = new ms();
    for (let { from: i, to: o } of e.visibleRanges)
      KJ(this.tree, n, (s, a, l) => {
        r.add(s, a, this.markCache[l] || (this.markCache[l] = Bt.mark({ class: l })));
      }, i, o);
    return r.finish();
  }
}
const AG = /* @__PURE__ */ iu.high(/* @__PURE__ */ kr.fromClass(OG, {
  decorations: (t) => t.decorations
})), EG = /* @__PURE__ */ Kf.define([
  {
    tag: Ve.meta,
    color: "#404740"
  },
  {
    tag: Ve.link,
    textDecoration: "underline"
  },
  {
    tag: Ve.heading,
    textDecoration: "underline",
    fontWeight: "bold"
  },
  {
    tag: Ve.emphasis,
    fontStyle: "italic"
  },
  {
    tag: Ve.strong,
    fontWeight: "bold"
  },
  {
    tag: Ve.strikethrough,
    textDecoration: "line-through"
  },
  {
    tag: Ve.keyword,
    color: "#708"
  },
  {
    tag: [Ve.atom, Ve.bool, Ve.url, Ve.contentSeparator, Ve.labelName],
    color: "#219"
  },
  {
    tag: [Ve.literal, Ve.inserted],
    color: "#164"
  },
  {
    tag: [Ve.string, Ve.deleted],
    color: "#a11"
  },
  {
    tag: [Ve.regexp, Ve.escape, /* @__PURE__ */ Ve.special(Ve.string)],
    color: "#e40"
  },
  {
    tag: /* @__PURE__ */ Ve.definition(Ve.variableName),
    color: "#00f"
  },
  {
    tag: /* @__PURE__ */ Ve.local(Ve.variableName),
    color: "#30a"
  },
  {
    tag: [Ve.typeName, Ve.namespace],
    color: "#085"
  },
  {
    tag: Ve.className,
    color: "#167"
  },
  {
    tag: [/* @__PURE__ */ Ve.special(Ve.variableName), Ve.macroName],
    color: "#256"
  },
  {
    tag: /* @__PURE__ */ Ve.definition(Ve.propertyName),
    color: "#00c"
  },
  {
    tag: Ve.comment,
    color: "#940"
  },
  {
    tag: Ve.invalid,
    color: "#f00"
  }
]), MG = /* @__PURE__ */ nt.baseTheme({
  "&.cm-focused .cm-matchingBracket": { backgroundColor: "#328c8252" },
  "&.cm-focused .cm-nonmatchingBracket": { backgroundColor: "#bb555544" }
}), RA = 1e4, PA = "()[]{}", IA = /* @__PURE__ */ pt.define({
  combine(t) {
    return _o(t, {
      afterCursor: !0,
      brackets: PA,
      maxScanDistance: RA,
      renderMatch: PG
    });
  }
}), TG = /* @__PURE__ */ Bt.mark({ class: "cm-matchingBracket" }), RG = /* @__PURE__ */ Bt.mark({ class: "cm-nonmatchingBracket" });
function PG(t) {
  let e = [], n = t.matched ? TG : RG;
  return e.push(n.range(t.start.from, t.start.to)), t.end && e.push(n.range(t.end.from, t.end.to)), e;
}
const IG = /* @__PURE__ */ zr.define({
  create() {
    return Bt.none;
  },
  update(t, e) {
    if (!e.docChanged && !e.selection)
      return t;
    let n = [], r = e.state.facet(IA);
    for (let i of e.state.selection.ranges) {
      if (!i.empty)
        continue;
      let o = as(e.state, i.head, -1, r) || i.head > 0 && as(e.state, i.head - 1, 1, r) || r.afterCursor && (as(e.state, i.head, 1, r) || i.head < e.state.doc.length && as(e.state, i.head + 1, -1, r));
      o && (n = n.concat(r.renderMatch(o, e.state)));
    }
    return Bt.set(n, !0);
  },
  provide: (t) => nt.decorations.from(t)
}), NG = [
  IG,
  MG
];
function DG(t = {}) {
  return [IA.of(t), NG];
}
const LG = /* @__PURE__ */ new gn();
function n0(t, e, n) {
  let r = t.prop(e < 0 ? gn.openedBy : gn.closedBy);
  if (r)
    return r;
  if (t.name.length == 1) {
    let i = n.indexOf(t.name);
    if (i > -1 && i % 2 == (e < 0 ? 1 : 0))
      return [n[i + e]];
  }
  return null;
}
function r0(t) {
  let e = t.type.prop(LG);
  return e ? e(t.node) : t;
}
function as(t, e, n, r = {}) {
  let i = r.maxScanDistance || RA, o = r.brackets || PA, s = gi(t), a = s.resolveInner(e, n);
  for (let l = a; l; l = l.parent) {
    let c = n0(l.type, n, o);
    if (c && l.from < l.to) {
      let u = r0(l);
      if (u && (n > 0 ? e >= u.from && e < u.to : e > u.from && e <= u.to))
        return BG(t, e, n, l, u, c, o);
    }
  }
  return qG(t, e, n, s, a.type, i, o);
}
function BG(t, e, n, r, i, o, s) {
  let a = r.parent, l = { from: i.from, to: i.to }, c = 0, u = a == null ? void 0 : a.cursor();
  if (u && (n < 0 ? u.childBefore(r.from) : u.childAfter(r.to)))
    do
      if (n < 0 ? u.to <= r.from : u.from >= r.to) {
        if (c == 0 && o.indexOf(u.type.name) > -1 && u.from < u.to) {
          let f = r0(u);
          return { start: l, end: f ? { from: f.from, to: f.to } : void 0, matched: !0 };
        } else if (n0(u.type, n, s))
          c++;
        else if (n0(u.type, -n, s)) {
          if (c == 0) {
            let f = r0(u);
            return {
              start: l,
              end: f && f.from < f.to ? { from: f.from, to: f.to } : void 0,
              matched: !1
            };
          }
          c--;
        }
      }
    while (n < 0 ? u.prevSibling() : u.nextSibling());
  return { start: l, matched: !1 };
}
function qG(t, e, n, r, i, o, s) {
  let a = n < 0 ? t.sliceDoc(e - 1, e) : t.sliceDoc(e, e + 1), l = s.indexOf(a);
  if (l < 0 || l % 2 == 0 != n > 0)
    return null;
  let c = { from: n < 0 ? e - 1 : e, to: n > 0 ? e + 1 : e }, u = t.doc.iterRange(e, n > 0 ? t.doc.length : 0), f = 0;
  for (let d = 0; !u.next().done && d <= o; ) {
    let h = u.value;
    n < 0 && (d += h.length);
    let p = e + d * n;
    for (let m = n > 0 ? 0 : h.length - 1, g = n > 0 ? h.length : -1; m != g; m += n) {
      let v = s.indexOf(h[m]);
      if (!(v < 0 || r.resolveInner(p + m, 1).type != i))
        if (v % 2 == 0 == n > 0)
          f++;
        else {
          if (f == 1)
            return { start: c, end: { from: p + m, to: p + m + 1 }, matched: v >> 1 == l >> 1 };
          f--;
        }
    }
    n > 0 && (d += h.length);
  }
  return u.done ? { start: c, matched: !1 } : null;
}
const zG = /* @__PURE__ */ Object.create(null), qw = [Li.none], zw = [], Fw = /* @__PURE__ */ Object.create(null), FG = /* @__PURE__ */ Object.create(null);
for (let [t, e] of [
  ["variable", "variableName"],
  ["variable-2", "variableName.special"],
  ["string-2", "string.special"],
  ["def", "variableName.definition"],
  ["tag", "tagName"],
  ["attribute", "attributeName"],
  ["type", "typeName"],
  ["builtin", "variableName.standard"],
  ["qualifier", "modifier"],
  ["error", "invalid"],
  ["header", "heading"],
  ["property", "propertyName"]
])
  FG[t] = /* @__PURE__ */ VG(zG, e);
function wg(t, e) {
  zw.indexOf(t) > -1 || (zw.push(t), console.warn(e));
}
function VG(t, e) {
  let n = [];
  for (let a of e.split(" ")) {
    let l = [];
    for (let c of a.split(".")) {
      let u = t[c] || Ve[c];
      u ? typeof u == "function" ? l.length ? l = l.map(u) : wg(c, `Modifier ${c} used at start of tag`) : l.length ? wg(c, `Tag ${c} used as modifier`) : l = Array.isArray(u) ? u : [u] : wg(c, `Unknown highlighting tag ${c}`);
    }
    for (let c of l)
      n.push(c);
  }
  if (!n.length)
    return 0;
  let r = e.replace(/ /g, "_"), i = r + " " + n.map((a) => a.id), o = Fw[i];
  if (o)
    return o.id;
  let s = Fw[i] = Li.define({
    id: qw.length,
    name: r,
    props: [yA({ [r]: n })]
  });
  return qw.push(s), s.id;
}
fr.RTL, fr.LTR;
const WG = (t) => {
  let { state: e } = t, n = e.doc.lineAt(e.selection.main.from), r = Dy(t.state, n.from);
  return r.line ? HG(t) : r.block ? JG(t) : !1;
};
function Ny(t, e) {
  return ({ state: n, dispatch: r }) => {
    if (n.readOnly)
      return !1;
    let i = t(e, n);
    return i ? (r(n.update(i)), !0) : !1;
  };
}
const HG = /* @__PURE__ */ Ny(
  YG,
  0
  /* CommentOption.Toggle */
), UG = /* @__PURE__ */ Ny(
  NA,
  0
  /* CommentOption.Toggle */
), JG = /* @__PURE__ */ Ny(
  (t, e) => NA(t, e, KG(e)),
  0
  /* CommentOption.Toggle */
);
function Dy(t, e) {
  let n = t.languageDataAt("commentTokens", e);
  return n.length ? n[0] : {};
}
const ku = 50;
function GG(t, { open: e, close: n }, r, i) {
  let o = t.sliceDoc(r - ku, r), s = t.sliceDoc(i, i + ku), a = /\s*$/.exec(o)[0].length, l = /^\s*/.exec(s)[0].length, c = o.length - a;
  if (o.slice(c - e.length, c) == e && s.slice(l, l + n.length) == n)
    return {
      open: { pos: r - a, margin: a && 1 },
      close: { pos: i + l, margin: l && 1 }
    };
  let u, f;
  i - r <= 2 * ku ? u = f = t.sliceDoc(r, i) : (u = t.sliceDoc(r, r + ku), f = t.sliceDoc(i - ku, i));
  let d = /^\s*/.exec(u)[0].length, h = /\s*$/.exec(f)[0].length, p = f.length - h - n.length;
  return u.slice(d, d + e.length) == e && f.slice(p, p + n.length) == n ? {
    open: {
      pos: r + d + e.length,
      margin: /\s/.test(u.charAt(d + e.length)) ? 1 : 0
    },
    close: {
      pos: i - h - n.length,
      margin: /\s/.test(f.charAt(p - 1)) ? 1 : 0
    }
  } : null;
}
function KG(t) {
  let e = [];
  for (let n of t.selection.ranges) {
    let r = t.doc.lineAt(n.from), i = n.to <= r.to ? r : t.doc.lineAt(n.to), o = e.length - 1;
    o >= 0 && e[o].to > r.from ? e[o].to = i.to : e.push({ from: r.from + /^\s*/.exec(r.text)[0].length, to: i.to });
  }
  return e;
}
function NA(t, e, n = e.selection.ranges) {
  let r = n.map((o) => Dy(e, o.from).block);
  if (!r.every((o) => o))
    return null;
  let i = n.map((o, s) => GG(e, r[s], o.from, o.to));
  if (t != 2 && !i.every((o) => o))
    return { changes: e.changes(n.map((o, s) => i[s] ? [] : [{ from: o.from, insert: r[s].open + " " }, { from: o.to, insert: " " + r[s].close }])) };
  if (t != 1 && i.some((o) => o)) {
    let o = [];
    for (let s = 0, a; s < i.length; s++)
      if (a = i[s]) {
        let l = r[s], { open: c, close: u } = a;
        o.push({ from: c.pos - l.open.length, to: c.pos + c.margin }, { from: u.pos - u.margin, to: u.pos + l.close.length });
      }
    return { changes: o };
  }
  return null;
}
function YG(t, e, n = e.selection.ranges) {
  let r = [], i = -1;
  for (let { from: o, to: s } of n) {
    let a = r.length, l = 1e9, c = Dy(e, o).line;
    if (c) {
      for (let u = o; u <= s; ) {
        let f = e.doc.lineAt(u);
        if (f.from > i && (o == s || s > f.from)) {
          i = f.from;
          let d = /^\s*/.exec(f.text)[0].length, h = d == f.length, p = f.text.slice(d, d + c.length) == c ? d : -1;
          d < f.text.length && d < l && (l = d), r.push({ line: f, comment: p, token: c, indent: d, empty: h, single: !1 });
        }
        u = f.to + 1;
      }
      if (l < 1e9)
        for (let u = a; u < r.length; u++)
          r[u].indent < r[u].line.text.length && (r[u].indent = l);
      r.length == a + 1 && (r[a].single = !0);
    }
  }
  if (t != 2 && r.some((o) => o.comment < 0 && (!o.empty || o.single))) {
    let o = [];
    for (let { line: a, token: l, indent: c, empty: u, single: f } of r)
      (f || !u) && o.push({ from: a.from + c, insert: l + " " });
    let s = e.changes(o);
    return { changes: s, selection: e.selection.map(s, 1) };
  } else if (t != 1 && r.some((o) => o.comment >= 0)) {
    let o = [];
    for (let { line: s, comment: a, token: l } of r)
      if (a >= 0) {
        let c = s.from + a, u = c + l.length;
        s.text[u - s.from] == " " && u++, o.push({ from: c, to: u });
      }
    return { changes: o };
  }
  return null;
}
const i0 = /* @__PURE__ */ sa.define(), QG = /* @__PURE__ */ sa.define(), XG = /* @__PURE__ */ pt.define(), DA = /* @__PURE__ */ pt.define({
  combine(t) {
    return _o(t, {
      minDepth: 100,
      newGroupDelay: 500,
      joinToEvent: (e, n) => n
    }, {
      minDepth: Math.max,
      newGroupDelay: Math.min,
      joinToEvent: (e, n) => (r, i) => e(r, i) || n(r, i)
    });
  }
}), Ly = /* @__PURE__ */ zr.define({
  create() {
    return ls.empty;
  },
  update(t, e) {
    let n = e.state.facet(DA), r = e.annotation(i0);
    if (r) {
      let l = Pi.fromTransaction(e, r.selection), c = r.side, u = c == 0 ? t.undone : t.done;
      return l ? u = Zh(u, u.length, n.minDepth, l) : u = qA(u, e.startState.selection), new ls(c == 0 ? r.rest : u, c == 0 ? u : r.rest);
    }
    let i = e.annotation(QG);
    if ((i == "full" || i == "before") && (t = t.isolate()), e.annotation(qr.addToHistory) === !1)
      return e.changes.empty ? t : t.addMapping(e.changes.desc);
    let o = Pi.fromTransaction(e), s = e.annotation(qr.time), a = e.annotation(qr.userEvent);
    return o ? t = t.addChanges(o, s, a, n, e) : e.selection && (t = t.addSelection(e.startState.selection, s, a, n.newGroupDelay)), (i == "full" || i == "after") && (t = t.isolate()), t;
  },
  toJSON(t) {
    return { done: t.done.map((e) => e.toJSON()), undone: t.undone.map((e) => e.toJSON()) };
  },
  fromJSON(t) {
    return new ls(t.done.map(Pi.fromJSON), t.undone.map(Pi.fromJSON));
  }
});
function ZG(t = {}) {
  return [
    Ly,
    DA.of(t),
    nt.domEventHandlers({
      beforeinput(e, n) {
        let r = e.inputType == "historyUndo" ? By : e.inputType == "historyRedo" ? Xh : null;
        return r ? (e.preventDefault(), r(n)) : !1;
      }
    })
  ];
}
function bm(t, e) {
  return function({ state: n, dispatch: r }) {
    if (!e && n.readOnly)
      return !1;
    let i = n.field(Ly, !1);
    if (!i)
      return !1;
    let o = i.pop(t, n, e);
    return o ? (r(o), !0) : !1;
  };
}
const By = /* @__PURE__ */ bm(0, !1), Xh = /* @__PURE__ */ bm(1, !1), eK = /* @__PURE__ */ bm(0, !0), tK = /* @__PURE__ */ bm(1, !0);
function LA(t) {
  return function(e) {
    let n = e.field(Ly, !1);
    if (!n)
      return 0;
    let r = t == 0 ? n.done : n.undone;
    return r.length - (r.length && !r[0].changes ? 1 : 0);
  };
}
const nK = /* @__PURE__ */ LA(
  0
  /* BranchName.Done */
), rK = /* @__PURE__ */ LA(
  1
  /* BranchName.Undone */
);
class Pi {
  constructor(e, n, r, i, o) {
    this.changes = e, this.effects = n, this.mapped = r, this.startSelection = i, this.selectionsAfter = o;
  }
  setSelAfter(e) {
    return new Pi(this.changes, this.effects, this.mapped, this.startSelection, e);
  }
  toJSON() {
    var e, n, r;
    return {
      changes: (e = this.changes) === null || e === void 0 ? void 0 : e.toJSON(),
      mapped: (n = this.mapped) === null || n === void 0 ? void 0 : n.toJSON(),
      startSelection: (r = this.startSelection) === null || r === void 0 ? void 0 : r.toJSON(),
      selectionsAfter: this.selectionsAfter.map((i) => i.toJSON())
    };
  }
  static fromJSON(e) {
    return new Pi(e.changes && Br.fromJSON(e.changes), [], e.mapped && hs.fromJSON(e.mapped), e.startSelection && Re.fromJSON(e.startSelection), e.selectionsAfter.map(Re.fromJSON));
  }
  // This does not check `addToHistory` and such, it assumes the
  // transaction needs to be converted to an item. Returns null when
  // there are no changes or effects in the transaction.
  static fromTransaction(e, n) {
    let r = fo;
    for (let i of e.startState.facet(XG)) {
      let o = i(e);
      o.length && (r = r.concat(o));
    }
    return !r.length && e.changes.empty ? null : new Pi(e.changes.invert(e.startState.doc), r, void 0, n || e.startState.selection, fo);
  }
  static selection(e) {
    return new Pi(void 0, fo, void 0, void 0, e);
  }
}
function Zh(t, e, n, r) {
  let i = e + 1 > n + 20 ? e - n - 1 : 0, o = t.slice(i, e);
  return o.push(r), o;
}
function iK(t, e) {
  let n = [], r = !1;
  return t.iterChangedRanges((i, o) => n.push(i, o)), e.iterChangedRanges((i, o, s, a) => {
    for (let l = 0; l < n.length; ) {
      let c = n[l++], u = n[l++];
      a >= c && s <= u && (r = !0);
    }
  }), r;
}
function oK(t, e) {
  return t.ranges.length == e.ranges.length && t.ranges.filter((n, r) => n.empty != e.ranges[r].empty).length === 0;
}
function BA(t, e) {
  return t.length ? e.length ? t.concat(e) : t : e;
}
const fo = [], sK = 200;
function qA(t, e) {
  if (t.length) {
    let n = t[t.length - 1], r = n.selectionsAfter.slice(Math.max(0, n.selectionsAfter.length - sK));
    return r.length && r[r.length - 1].eq(e) ? t : (r.push(e), Zh(t, t.length - 1, 1e9, n.setSelAfter(r)));
  } else
    return [Pi.selection([e])];
}
function aK(t) {
  let e = t[t.length - 1], n = t.slice();
  return n[t.length - 1] = e.setSelAfter(e.selectionsAfter.slice(0, e.selectionsAfter.length - 1)), n;
}
function jg(t, e) {
  if (!t.length)
    return t;
  let n = t.length, r = fo;
  for (; n; ) {
    let i = lK(t[n - 1], e, r);
    if (i.changes && !i.changes.empty || i.effects.length) {
      let o = t.slice(0, n);
      return o[n - 1] = i, o;
    } else
      e = i.mapped, n--, r = i.selectionsAfter;
  }
  return r.length ? [Pi.selection(r)] : fo;
}
function lK(t, e, n) {
  let r = BA(t.selectionsAfter.length ? t.selectionsAfter.map((a) => a.map(e)) : fo, n);
  if (!t.changes)
    return Pi.selection(r);
  let i = t.changes.map(e), o = e.mapDesc(t.changes, !0), s = t.mapped ? t.mapped.composeDesc(o) : o;
  return new Pi(i, ln.mapEffects(t.effects, e), s, t.startSelection.map(o), r);
}
const cK = /^(input\.type|delete)($|\.)/;
class ls {
  constructor(e, n, r = 0, i = void 0) {
    this.done = e, this.undone = n, this.prevTime = r, this.prevUserEvent = i;
  }
  isolate() {
    return this.prevTime ? new ls(this.done, this.undone) : this;
  }
  addChanges(e, n, r, i, o) {
    let s = this.done, a = s[s.length - 1];
    return a && a.changes && !a.changes.empty && e.changes && (!r || cK.test(r)) && (!a.selectionsAfter.length && n - this.prevTime < i.newGroupDelay && i.joinToEvent(o, iK(a.changes, e.changes)) || // For compose (but not compose.start) events, always join with previous event
    r == "input.type.compose") ? s = Zh(s, s.length - 1, i.minDepth, new Pi(e.changes.compose(a.changes), BA(e.effects, a.effects), a.mapped, a.startSelection, fo)) : s = Zh(s, s.length, i.minDepth, e), new ls(s, fo, n, r);
  }
  addSelection(e, n, r, i) {
    let o = this.done.length ? this.done[this.done.length - 1].selectionsAfter : fo;
    return o.length > 0 && n - this.prevTime < i && r == this.prevUserEvent && r && /^select($|\.)/.test(r) && oK(o[o.length - 1], e) ? this : new ls(qA(this.done, e), this.undone, n, r);
  }
  addMapping(e) {
    return new ls(jg(this.done, e), jg(this.undone, e), this.prevTime, this.prevUserEvent);
  }
  pop(e, n, r) {
    let i = e == 0 ? this.done : this.undone;
    if (i.length == 0)
      return null;
    let o = i[i.length - 1], s = o.selectionsAfter[0] || n.selection;
    if (r && o.selectionsAfter.length)
      return n.update({
        selection: o.selectionsAfter[o.selectionsAfter.length - 1],
        annotations: i0.of({ side: e, rest: aK(i), selection: s }),
        userEvent: e == 0 ? "select.undo" : "select.redo",
        scrollIntoView: !0
      });
    if (o.changes) {
      let a = i.length == 1 ? fo : i.slice(0, i.length - 1);
      return o.mapped && (a = jg(a, o.mapped)), n.update({
        changes: o.changes,
        selection: o.startSelection,
        effects: o.effects,
        annotations: i0.of({ side: e, rest: a, selection: s }),
        filter: !1,
        userEvent: e == 0 ? "undo" : "redo",
        scrollIntoView: !0
      });
    } else
      return null;
  }
}
ls.empty = /* @__PURE__ */ new ls(fo, fo);
const uK = [
  { key: "Mod-z", run: By, preventDefault: !0 },
  { key: "Mod-y", mac: "Mod-Shift-z", run: Xh, preventDefault: !0 },
  { linux: "Ctrl-Shift-z", run: Xh, preventDefault: !0 },
  { key: "Mod-u", run: eK, preventDefault: !0 },
  { key: "Alt-u", mac: "Mod-Shift-u", run: tK, preventDefault: !0 }
];
function su(t, e) {
  return Re.create(t.ranges.map(e), t.mainIndex);
}
function Os(t, e) {
  return t.update({ selection: e, scrollIntoView: !0, userEvent: "select" });
}
function Uo({ state: t, dispatch: e }, n) {
  let r = su(t.selection, n);
  return r.eq(t.selection, !0) ? !1 : (e(Os(t, r)), !0);
}
function xm(t, e) {
  return Re.cursor(e ? t.to : t.from);
}
function zA(t, e) {
  return Uo(t, (n) => n.empty ? t.moveByChar(n, e) : xm(n, e));
}
function bi(t) {
  return t.textDirectionAt(t.state.selection.main.head) == fr.LTR;
}
const FA = (t) => zA(t, !bi(t)), VA = (t) => zA(t, bi(t));
function WA(t, e) {
  return Uo(t, (n) => n.empty ? t.moveByGroup(n, e) : xm(n, e));
}
const fK = (t) => WA(t, !bi(t)), dK = (t) => WA(t, bi(t));
function hK(t, e, n) {
  if (e.type.prop(n))
    return !0;
  let r = e.to - e.from;
  return r && (r > 2 || /[^\s,.;:]/.test(t.sliceDoc(e.from, e.to))) || e.firstChild;
}
function wm(t, e, n) {
  let r = gi(t).resolveInner(e.head), i = n ? gn.closedBy : gn.openedBy;
  for (let l = e.head; ; ) {
    let c = n ? r.childAfter(l) : r.childBefore(l);
    if (!c)
      break;
    hK(t, c, i) ? r = c : l = n ? c.to : c.from;
  }
  let o = r.type.prop(i), s, a;
  return o && (s = n ? as(t, r.from, 1) : as(t, r.to, -1)) && s.matched ? a = n ? s.end.to : s.end.from : a = n ? r.to : r.from, Re.cursor(a, n ? -1 : 1);
}
const pK = (t) => Uo(t, (e) => wm(t.state, e, !bi(t))), mK = (t) => Uo(t, (e) => wm(t.state, e, bi(t)));
function HA(t, e) {
  return Uo(t, (n) => {
    if (!n.empty)
      return xm(n, e);
    let r = t.moveVertically(n, e);
    return r.head != n.head ? r : t.moveToLineBoundary(n, e);
  });
}
const UA = (t) => HA(t, !1), JA = (t) => HA(t, !0);
function GA(t) {
  let e = t.scrollDOM.clientHeight < t.scrollDOM.scrollHeight - 2, n = 0, r = 0, i;
  if (e) {
    for (let o of t.state.facet(nt.scrollMargins)) {
      let s = o(t);
      s != null && s.top && (n = Math.max(s == null ? void 0 : s.top, n)), s != null && s.bottom && (r = Math.max(s == null ? void 0 : s.bottom, r));
    }
    i = t.scrollDOM.clientHeight - n - r;
  } else
    i = (t.dom.ownerDocument.defaultView || window).innerHeight;
  return {
    marginTop: n,
    marginBottom: r,
    selfScroll: e,
    height: Math.max(t.defaultLineHeight, i - 5)
  };
}
function KA(t, e) {
  let n = GA(t), { state: r } = t, i = su(r.selection, (s) => s.empty ? t.moveVertically(s, e, n.height) : xm(s, e));
  if (i.eq(r.selection))
    return !1;
  let o;
  if (n.selfScroll) {
    let s = t.coordsAtPos(r.selection.main.head), a = t.scrollDOM.getBoundingClientRect(), l = a.top + n.marginTop, c = a.bottom - n.marginBottom;
    s && s.top > l && s.bottom < c && (o = nt.scrollIntoView(i.main.head, { y: "start", yMargin: s.top - l }));
  }
  return t.dispatch(Os(r, i), { effects: o }), !0;
}
const Vw = (t) => KA(t, !1), o0 = (t) => KA(t, !0);
function Ja(t, e, n) {
  let r = t.lineBlockAt(e.head), i = t.moveToLineBoundary(e, n);
  if (i.head == e.head && i.head != (n ? r.to : r.from) && (i = t.moveToLineBoundary(e, n, !1)), !n && i.head == r.from && r.length) {
    let o = /^\s*/.exec(t.state.sliceDoc(r.from, Math.min(r.from + 100, r.to)))[0].length;
    o && e.head != r.from + o && (i = Re.cursor(r.from + o));
  }
  return i;
}
const gK = (t) => Uo(t, (e) => Ja(t, e, !0)), vK = (t) => Uo(t, (e) => Ja(t, e, !1)), yK = (t) => Uo(t, (e) => Ja(t, e, !bi(t))), bK = (t) => Uo(t, (e) => Ja(t, e, bi(t))), xK = (t) => Uo(t, (e) => Re.cursor(t.lineBlockAt(e.head).from, 1)), wK = (t) => Uo(t, (e) => Re.cursor(t.lineBlockAt(e.head).to, -1));
function jK(t, e, n) {
  let r = !1, i = su(t.selection, (o) => {
    let s = as(t, o.head, -1) || as(t, o.head, 1) || o.head > 0 && as(t, o.head - 1, 1) || o.head < t.doc.length && as(t, o.head + 1, -1);
    if (!s || !s.end)
      return o;
    r = !0;
    let a = s.start.from == o.head ? s.end.to : s.end.from;
    return n ? Re.range(o.anchor, a) : Re.cursor(a);
  });
  return r ? (e(Os(t, i)), !0) : !1;
}
const $K = ({ state: t, dispatch: e }) => jK(t, e, !1);
function Oo(t, e) {
  let n = su(t.state.selection, (r) => {
    let i = e(r);
    return Re.range(r.anchor, i.head, i.goalColumn, i.bidiLevel || void 0);
  });
  return n.eq(t.state.selection) ? !1 : (t.dispatch(Os(t.state, n)), !0);
}
function YA(t, e) {
  return Oo(t, (n) => t.moveByChar(n, e));
}
const QA = (t) => YA(t, !bi(t)), XA = (t) => YA(t, bi(t));
function ZA(t, e) {
  return Oo(t, (n) => t.moveByGroup(n, e));
}
const kK = (t) => ZA(t, !bi(t)), SK = (t) => ZA(t, bi(t)), CK = (t) => Oo(t, (e) => wm(t.state, e, !bi(t))), _K = (t) => Oo(t, (e) => wm(t.state, e, bi(t)));
function eE(t, e) {
  return Oo(t, (n) => t.moveVertically(n, e));
}
const tE = (t) => eE(t, !1), nE = (t) => eE(t, !0);
function rE(t, e) {
  return Oo(t, (n) => t.moveVertically(n, e, GA(t).height));
}
const Ww = (t) => rE(t, !1), Hw = (t) => rE(t, !0), OK = (t) => Oo(t, (e) => Ja(t, e, !0)), AK = (t) => Oo(t, (e) => Ja(t, e, !1)), EK = (t) => Oo(t, (e) => Ja(t, e, !bi(t))), MK = (t) => Oo(t, (e) => Ja(t, e, bi(t))), TK = (t) => Oo(t, (e) => Re.cursor(t.lineBlockAt(e.head).from)), RK = (t) => Oo(t, (e) => Re.cursor(t.lineBlockAt(e.head).to)), Uw = ({ state: t, dispatch: e }) => (e(Os(t, { anchor: 0 })), !0), Jw = ({ state: t, dispatch: e }) => (e(Os(t, { anchor: t.doc.length })), !0), Gw = ({ state: t, dispatch: e }) => (e(Os(t, { anchor: t.selection.main.anchor, head: 0 })), !0), Kw = ({ state: t, dispatch: e }) => (e(Os(t, { anchor: t.selection.main.anchor, head: t.doc.length })), !0), PK = ({ state: t, dispatch: e }) => (e(t.update({ selection: { anchor: 0, head: t.doc.length }, userEvent: "select" })), !0), IK = ({ state: t, dispatch: e }) => {
  let n = jm(t).map(({ from: r, to: i }) => Re.range(r, Math.min(i + 1, t.doc.length)));
  return e(t.update({ selection: Re.create(n), userEvent: "select" })), !0;
}, NK = ({ state: t, dispatch: e }) => {
  let n = su(t.selection, (r) => {
    var i;
    let o = gi(t).resolveStack(r.from, 1);
    for (let s = o; s; s = s.next) {
      let { node: a } = s;
      if ((a.from < r.from && a.to >= r.to || a.to > r.to && a.from <= r.from) && (!((i = a.parent) === null || i === void 0) && i.parent))
        return Re.range(a.to, a.from);
    }
    return r;
  });
  return e(Os(t, n)), !0;
}, DK = ({ state: t, dispatch: e }) => {
  let n = t.selection, r = null;
  return n.ranges.length > 1 ? r = Re.create([n.main]) : n.main.empty || (r = Re.create([Re.cursor(n.main.head)])), r ? (e(Os(t, r)), !0) : !1;
};
function Yf(t, e) {
  if (t.state.readOnly)
    return !1;
  let n = "delete.selection", { state: r } = t, i = r.changeByRange((o) => {
    let { from: s, to: a } = o;
    if (s == a) {
      let l = e(o);
      l < s ? (n = "delete.backward", l = Nd(t, l, !1)) : l > s && (n = "delete.forward", l = Nd(t, l, !0)), s = Math.min(s, l), a = Math.max(a, l);
    } else
      s = Nd(t, s, !1), a = Nd(t, a, !0);
    return s == a ? { range: o } : { changes: { from: s, to: a }, range: Re.cursor(s, s < o.head ? -1 : 1) };
  });
  return i.changes.empty ? !1 : (t.dispatch(r.update(i, {
    scrollIntoView: !0,
    userEvent: n,
    effects: n == "delete.selection" ? nt.announce.of(r.phrase("Selection deleted")) : void 0
  })), !0);
}
function Nd(t, e, n) {
  if (t instanceof nt)
    for (let r of t.state.facet(nt.atomicRanges).map((i) => i(t)))
      r.between(e, e, (i, o) => {
        i < e && o > e && (e = n ? o : i);
      });
  return e;
}
const iE = (t, e) => Yf(t, (n) => {
  let r = n.from, { state: i } = t, o = i.doc.lineAt(r), s, a;
  if (!e && r > o.from && r < o.from + 200 && !/[^ \t]/.test(s = o.text.slice(0, r - o.from))) {
    if (s[s.length - 1] == "	")
      return r - 1;
    let l = ou(s, i.tabSize), c = l % Da(i) || Da(i);
    for (let u = 0; u < c && s[s.length - 1 - u] == " "; u++)
      r--;
    a = r;
  } else
    a = ni(o.text, r - o.from, e, e) + o.from, a == r && o.number != (e ? i.doc.lines : 1) ? a += e ? 1 : -1 : !e && /[\ufe00-\ufe0f]/.test(o.text.slice(a - o.from, r - o.from)) && (a = ni(o.text, a - o.from, !1, !1) + o.from);
  return a;
}), s0 = (t) => iE(t, !1), oE = (t) => iE(t, !0), sE = (t, e) => Yf(t, (n) => {
  let r = n.head, { state: i } = t, o = i.doc.lineAt(r), s = i.charCategorizer(r);
  for (let a = null; ; ) {
    if (r == (e ? o.to : o.from)) {
      r == n.head && o.number != (e ? i.doc.lines : 1) && (r += e ? 1 : -1);
      break;
    }
    let l = ni(o.text, r - o.from, e) + o.from, c = o.text.slice(Math.min(r, l) - o.from, Math.max(r, l) - o.from), u = s(c);
    if (a != null && u != a)
      break;
    (c != " " || r != n.head) && (a = u), r = l;
  }
  return r;
}), aE = (t) => sE(t, !1), LK = (t) => sE(t, !0), BK = (t) => Yf(t, (e) => {
  let n = t.lineBlockAt(e.head).to;
  return e.head < n ? n : Math.min(t.state.doc.length, e.head + 1);
}), qK = (t) => Yf(t, (e) => {
  let n = t.moveToLineBoundary(e, !1).head;
  return e.head > n ? n : Math.max(0, e.head - 1);
}), zK = (t) => Yf(t, (e) => {
  let n = t.moveToLineBoundary(e, !0).head;
  return e.head < n ? n : Math.min(t.state.doc.length, e.head + 1);
}), FK = ({ state: t, dispatch: e }) => {
  if (t.readOnly)
    return !1;
  let n = t.changeByRange((r) => ({
    changes: { from: r.from, to: r.to, insert: Pn.of(["", ""]) },
    range: Re.cursor(r.from)
  }));
  return e(t.update(n, { scrollIntoView: !0, userEvent: "input" })), !0;
}, VK = ({ state: t, dispatch: e }) => {
  if (t.readOnly)
    return !1;
  let n = t.changeByRange((r) => {
    if (!r.empty || r.from == 0 || r.from == t.doc.length)
      return { range: r };
    let i = r.from, o = t.doc.lineAt(i), s = i == o.from ? i - 1 : ni(o.text, i - o.from, !1) + o.from, a = i == o.to ? i + 1 : ni(o.text, i - o.from, !0) + o.from;
    return {
      changes: { from: s, to: a, insert: t.doc.slice(i, a).append(t.doc.slice(s, i)) },
      range: Re.cursor(a)
    };
  });
  return n.changes.empty ? !1 : (e(t.update(n, { scrollIntoView: !0, userEvent: "move.character" })), !0);
};
function jm(t) {
  let e = [], n = -1;
  for (let r of t.selection.ranges) {
    let i = t.doc.lineAt(r.from), o = t.doc.lineAt(r.to);
    if (!r.empty && r.to == o.from && (o = t.doc.lineAt(r.to - 1)), n >= i.number) {
      let s = e[e.length - 1];
      s.to = o.to, s.ranges.push(r);
    } else
      e.push({ from: i.from, to: o.to, ranges: [r] });
    n = o.number + 1;
  }
  return e;
}
function lE(t, e, n) {
  if (t.readOnly)
    return !1;
  let r = [], i = [];
  for (let o of jm(t)) {
    if (n ? o.to == t.doc.length : o.from == 0)
      continue;
    let s = t.doc.lineAt(n ? o.to + 1 : o.from - 1), a = s.length + 1;
    if (n) {
      r.push({ from: o.to, to: s.to }, { from: o.from, insert: s.text + t.lineBreak });
      for (let l of o.ranges)
        i.push(Re.range(Math.min(t.doc.length, l.anchor + a), Math.min(t.doc.length, l.head + a)));
    } else {
      r.push({ from: s.from, to: o.from }, { from: o.to, insert: t.lineBreak + s.text });
      for (let l of o.ranges)
        i.push(Re.range(l.anchor - a, l.head - a));
    }
  }
  return r.length ? (e(t.update({
    changes: r,
    scrollIntoView: !0,
    selection: Re.create(i, t.selection.mainIndex),
    userEvent: "move.line"
  })), !0) : !1;
}
const WK = ({ state: t, dispatch: e }) => lE(t, e, !1), HK = ({ state: t, dispatch: e }) => lE(t, e, !0);
function cE(t, e, n) {
  if (t.readOnly)
    return !1;
  let r = [];
  for (let i of jm(t))
    n ? r.push({ from: i.from, insert: t.doc.slice(i.from, i.to) + t.lineBreak }) : r.push({ from: i.to, insert: t.lineBreak + t.doc.slice(i.from, i.to) });
  return e(t.update({ changes: r, scrollIntoView: !0, userEvent: "input.copyline" })), !0;
}
const UK = ({ state: t, dispatch: e }) => cE(t, e, !1), JK = ({ state: t, dispatch: e }) => cE(t, e, !0), GK = (t) => {
  if (t.state.readOnly)
    return !1;
  let { state: e } = t, n = e.changes(jm(e).map(({ from: i, to: o }) => (i > 0 ? i-- : o < e.doc.length && o++, { from: i, to: o }))), r = su(e.selection, (i) => t.moveVertically(i, !0)).map(n);
  return t.dispatch({ changes: n, selection: r, scrollIntoView: !0, userEvent: "delete.line" }), !0;
};
function KK(t, e) {
  if (/\(\)|\[\]|\{\}/.test(t.sliceDoc(e - 1, e + 1)))
    return { from: e, to: e };
  let n = gi(t).resolveInner(e), r = n.childBefore(e), i = n.childAfter(e), o;
  return r && i && r.to <= e && i.from >= e && (o = r.type.prop(gn.closedBy)) && o.indexOf(i.name) > -1 && t.doc.lineAt(r.to).from == t.doc.lineAt(i.from).from && !/\S/.test(t.sliceDoc(r.to, i.from)) ? { from: r.to, to: i.from } : null;
}
const YK = /* @__PURE__ */ uE(!1), QK = /* @__PURE__ */ uE(!0);
function uE(t) {
  return ({ state: e, dispatch: n }) => {
    if (e.readOnly)
      return !1;
    let r = e.changeByRange((i) => {
      let { from: o, to: s } = i, a = e.doc.lineAt(o), l = !t && o == s && KK(e, o);
      t && (o = s = (s <= a.to ? a : e.doc.lineAt(s)).to);
      let c = new vm(e, { simulateBreak: o, simulateDoubleBreak: !!l }), u = Ry(c, o);
      for (u == null && (u = ou(/^\s*/.exec(e.doc.lineAt(o).text)[0], e.tabSize)); s < a.to && /\s/.test(a.text[s - a.from]); )
        s++;
      l ? { from: o, to: s } = l : o > a.from && o < a.from + 100 && !/\S/.test(a.text.slice(0, o)) && (o = a.from);
      let f = ["", xf(e, u)];
      return l && f.push(xf(e, c.lineIndent(a.from, -1))), {
        changes: { from: o, to: s, insert: Pn.of(f) },
        range: Re.cursor(o + 1 + f[1].length)
      };
    });
    return n(e.update(r, { scrollIntoView: !0, userEvent: "input" })), !0;
  };
}
function qy(t, e) {
  let n = -1;
  return t.changeByRange((r) => {
    let i = [];
    for (let s = r.from; s <= r.to; ) {
      let a = t.doc.lineAt(s);
      a.number > n && (r.empty || r.to > a.from) && (e(a, i, r), n = a.number), s = a.to + 1;
    }
    let o = t.changes(i);
    return {
      changes: i,
      range: Re.range(o.mapPos(r.anchor, 1), o.mapPos(r.head, 1))
    };
  });
}
const XK = ({ state: t, dispatch: e }) => {
  if (t.readOnly)
    return !1;
  let n = /* @__PURE__ */ Object.create(null), r = new vm(t, { overrideIndentation: (o) => {
    let s = n[o];
    return s ?? -1;
  } }), i = qy(t, (o, s, a) => {
    let l = Ry(r, o.from);
    if (l == null)
      return;
    /\S/.test(o.text) || (l = 0);
    let c = /^\s*/.exec(o.text)[0], u = xf(t, l);
    (c != u || a.from < o.from + c.length) && (n[o.from] = l, s.push({ from: o.from, to: o.from + c.length, insert: u }));
  });
  return i.changes.empty || e(t.update(i, { userEvent: "indent" })), !0;
}, fE = ({ state: t, dispatch: e }) => t.readOnly ? !1 : (e(t.update(qy(t, (n, r) => {
  r.push({ from: n.from, insert: t.facet(gm) });
}), { userEvent: "input.indent" })), !0), dE = ({ state: t, dispatch: e }) => t.readOnly ? !1 : (e(t.update(qy(t, (n, r) => {
  let i = /^\s*/.exec(n.text)[0];
  if (!i)
    return;
  let o = ou(i, t.tabSize), s = 0, a = xf(t, Math.max(0, o - Da(t)));
  for (; s < i.length && s < a.length && i.charCodeAt(s) == a.charCodeAt(s); )
    s++;
  r.push({ from: n.from + s, to: n.from + i.length, insert: a.slice(s) });
}), { userEvent: "delete.dedent" })), !0), ZK = [
  { key: "Ctrl-b", run: FA, shift: QA, preventDefault: !0 },
  { key: "Ctrl-f", run: VA, shift: XA },
  { key: "Ctrl-p", run: UA, shift: tE },
  { key: "Ctrl-n", run: JA, shift: nE },
  { key: "Ctrl-a", run: xK, shift: TK },
  { key: "Ctrl-e", run: wK, shift: RK },
  { key: "Ctrl-d", run: oE },
  { key: "Ctrl-h", run: s0 },
  { key: "Ctrl-k", run: BK },
  { key: "Ctrl-Alt-h", run: aE },
  { key: "Ctrl-o", run: FK },
  { key: "Ctrl-t", run: VK },
  { key: "Ctrl-v", run: o0 }
], eY = /* @__PURE__ */ [
  { key: "ArrowLeft", run: FA, shift: QA, preventDefault: !0 },
  { key: "Mod-ArrowLeft", mac: "Alt-ArrowLeft", run: fK, shift: kK, preventDefault: !0 },
  { mac: "Cmd-ArrowLeft", run: yK, shift: EK, preventDefault: !0 },
  { key: "ArrowRight", run: VA, shift: XA, preventDefault: !0 },
  { key: "Mod-ArrowRight", mac: "Alt-ArrowRight", run: dK, shift: SK, preventDefault: !0 },
  { mac: "Cmd-ArrowRight", run: bK, shift: MK, preventDefault: !0 },
  { key: "ArrowUp", run: UA, shift: tE, preventDefault: !0 },
  { mac: "Cmd-ArrowUp", run: Uw, shift: Gw },
  { mac: "Ctrl-ArrowUp", run: Vw, shift: Ww },
  { key: "ArrowDown", run: JA, shift: nE, preventDefault: !0 },
  { mac: "Cmd-ArrowDown", run: Jw, shift: Kw },
  { mac: "Ctrl-ArrowDown", run: o0, shift: Hw },
  { key: "PageUp", run: Vw, shift: Ww },
  { key: "PageDown", run: o0, shift: Hw },
  { key: "Home", run: vK, shift: AK, preventDefault: !0 },
  { key: "Mod-Home", run: Uw, shift: Gw },
  { key: "End", run: gK, shift: OK, preventDefault: !0 },
  { key: "Mod-End", run: Jw, shift: Kw },
  { key: "Enter", run: YK },
  { key: "Mod-a", run: PK },
  { key: "Backspace", run: s0, shift: s0 },
  { key: "Delete", run: oE },
  { key: "Mod-Backspace", mac: "Alt-Backspace", run: aE },
  { key: "Mod-Delete", mac: "Alt-Delete", run: LK },
  { mac: "Mod-Backspace", run: qK },
  { mac: "Mod-Delete", run: zK }
].concat(/* @__PURE__ */ ZK.map((t) => ({ mac: t.key, run: t.run, shift: t.shift }))), tY = /* @__PURE__ */ [
  { key: "Alt-ArrowLeft", mac: "Ctrl-ArrowLeft", run: pK, shift: CK },
  { key: "Alt-ArrowRight", mac: "Ctrl-ArrowRight", run: mK, shift: _K },
  { key: "Alt-ArrowUp", run: WK },
  { key: "Shift-Alt-ArrowUp", run: UK },
  { key: "Alt-ArrowDown", run: HK },
  { key: "Shift-Alt-ArrowDown", run: JK },
  { key: "Escape", run: DK },
  { key: "Mod-Enter", run: QK },
  { key: "Alt-l", mac: "Ctrl-l", run: IK },
  { key: "Mod-i", run: NK, preventDefault: !0 },
  { key: "Mod-[", run: dE },
  { key: "Mod-]", run: fE },
  { key: "Mod-Alt-\\", run: XK },
  { key: "Shift-Mod-k", run: GK },
  { key: "Shift-Mod-\\", run: $K },
  { key: "Mod-/", run: WG },
  { key: "Alt-A", run: UG }
].concat(eY), nY = { key: "Tab", run: fE, shift: dE };
function rr() {
  var t = arguments[0];
  typeof t == "string" && (t = document.createElement(t));
  var e = 1, n = arguments[1];
  if (n && typeof n == "object" && n.nodeType == null && !Array.isArray(n)) {
    for (var r in n)
      if (Object.prototype.hasOwnProperty.call(n, r)) {
        var i = n[r];
        typeof i == "string" ? t.setAttribute(r, i) : i != null && (t[r] = i);
      }
    e++;
  }
  for (; e < arguments.length; e++)
    hE(t, arguments[e]);
  return t;
}
function hE(t, e) {
  if (typeof e == "string")
    t.appendChild(document.createTextNode(e));
  else if (e != null)
    if (e.nodeType != null)
      t.appendChild(e);
    else if (Array.isArray(e))
      for (var n = 0; n < e.length; n++)
        hE(t, e[n]);
    else
      throw new RangeError("Unsupported child node: " + e);
}
class rY {
  constructor(e, n, r) {
    this.from = e, this.to = n, this.diagnostic = r;
  }
}
class rl {
  constructor(e, n, r) {
    this.diagnostics = e, this.panel = n, this.selected = r;
  }
  static init(e, n, r) {
    let i = e, o = r.facet(ul).markerFilter;
    o && (i = o(i));
    let s = Bt.set(i.map((a) => a.from == a.to || a.from == a.to - 1 && r.doc.lineAt(a.from).to == a.from ? Bt.widget({
      widget: new dY(a),
      diagnostic: a
    }).range(a.from) : Bt.mark({
      attributes: { class: "cm-lintRange cm-lintRange-" + a.severity + (a.markClass ? " " + a.markClass : "") },
      diagnostic: a
    }).range(a.from, a.to)), !0);
    return new rl(s, n, Rc(s));
  }
}
function Rc(t, e = null, n = 0) {
  let r = null;
  return t.between(n, 1e9, (i, o, { spec: s }) => {
    if (!(e && s.diagnostic != e))
      return r = new rY(i, o, s.diagnostic), !1;
  }), r;
}
function pE(t, e) {
  let n = t.startState.doc.lineAt(e.pos);
  return !!(t.effects.some((r) => r.is($m)) || t.changes.touchesRange(n.from, n.to));
}
function mE(t, e) {
  return t.field(Ki, !1) ? e : e.concat(ln.appendConfig.of(jE));
}
function iY(t, e) {
  return {
    effects: mE(t, [$m.of(e)])
  };
}
const $m = /* @__PURE__ */ ln.define(), zy = /* @__PURE__ */ ln.define(), gE = /* @__PURE__ */ ln.define(), Ki = /* @__PURE__ */ zr.define({
  create() {
    return new rl(Bt.none, null, null);
  },
  update(t, e) {
    if (e.docChanged) {
      let n = t.diagnostics.map(e.changes), r = null;
      if (t.selected) {
        let i = e.changes.mapPos(t.selected.from, 1);
        r = Rc(n, t.selected.diagnostic, i) || Rc(n, null, i);
      }
      t = new rl(n, t.panel, r);
    }
    for (let n of e.effects)
      n.is($m) ? t = rl.init(n.value, t.panel, e.state) : n.is(zy) ? t = new rl(t.diagnostics, n.value ? km.open : null, t.selected) : n.is(gE) && (t = new rl(t.diagnostics, t.panel, n.value));
    return t;
  },
  provide: (t) => [
    yf.from(t, (e) => e.panel),
    nt.decorations.from(t, (e) => e.diagnostics)
  ]
}), oY = /* @__PURE__ */ Bt.mark({ class: "cm-lintRange cm-lintRange-active" });
function sY(t, e, n) {
  let { diagnostics: r } = t.state.field(Ki), i = [], o = 2e8, s = 0;
  r.between(e - (n < 0 ? 1 : 0), e + (n > 0 ? 1 : 0), (l, c, { spec: u }) => {
    e >= l && e <= c && (l == c || (e > l || n > 0) && (e < c || n < 0)) && (i.push(u.diagnostic), o = Math.min(l, o), s = Math.max(c, s));
  });
  let a = t.state.facet(ul).tooltipFilter;
  return a && (i = a(i)), i.length ? {
    pos: o,
    end: s,
    above: t.state.doc.lineAt(o).to < s,
    create() {
      return { dom: vE(t, i) };
    }
  } : null;
}
function vE(t, e) {
  return rr("ul", { class: "cm-tooltip-lint" }, e.map((n) => bE(t, n, !1)));
}
const aY = (t) => {
  let e = t.state.field(Ki, !1);
  (!e || !e.panel) && t.dispatch({ effects: mE(t.state, [zy.of(!0)]) });
  let n = vf(t, km.open);
  return n && n.dom.querySelector(".cm-panel-lint ul").focus(), !0;
}, Yw = (t) => {
  let e = t.state.field(Ki, !1);
  return !e || !e.panel ? !1 : (t.dispatch({ effects: zy.of(!1) }), !0);
}, lY = (t) => {
  let e = t.state.field(Ki, !1);
  if (!e)
    return !1;
  let n = t.state.selection.main, r = e.diagnostics.iter(n.to + 1);
  return !r.value && (r = e.diagnostics.iter(0), !r.value || r.from == n.from && r.to == n.to) ? !1 : (t.dispatch({ selection: { anchor: r.from, head: r.to }, scrollIntoView: !0 }), !0);
}, cY = [
  { key: "Mod-Shift-m", run: aY, preventDefault: !0 },
  { key: "F8", run: lY }
], uY = /* @__PURE__ */ kr.fromClass(class {
  constructor(t) {
    this.view = t, this.timeout = -1, this.set = !0;
    let { delay: e } = t.state.facet(ul);
    this.lintTime = Date.now() + e, this.run = this.run.bind(this), this.timeout = setTimeout(this.run, e);
  }
  run() {
    let t = Date.now();
    if (t < this.lintTime - 10)
      this.timeout = setTimeout(this.run, this.lintTime - t);
    else {
      this.set = !1;
      let { state: e } = this.view, { sources: n } = e.facet(ul);
      Promise.all(n.map((r) => Promise.resolve(r(this.view)))).then((r) => {
        let i = r.reduce((o, s) => o.concat(s));
        this.view.state.doc == e.doc && this.view.dispatch(iY(this.view.state, i));
      }, (r) => {
        Zi(this.view.state, r);
      });
    }
  }
  update(t) {
    let e = t.state.facet(ul);
    (t.docChanged || e != t.startState.facet(ul) || e.needsRefresh && e.needsRefresh(t)) && (this.lintTime = Date.now() + e.delay, this.set || (this.set = !0, this.timeout = setTimeout(this.run, e.delay)));
  }
  force() {
    this.set && (this.lintTime = Date.now(), this.run());
  }
  destroy() {
    clearTimeout(this.timeout);
  }
}), ul = /* @__PURE__ */ pt.define({
  combine(t) {
    return Object.assign({ sources: t.map((e) => e.source) }, _o(t.map((e) => e.config), {
      delay: 750,
      markerFilter: null,
      tooltipFilter: null,
      needsRefresh: null
    }, {
      needsRefresh: (e, n) => e ? n ? (r) => e(r) || n(r) : e : n
    }));
  }
});
function fY(t, e = {}) {
  return [
    ul.of({ source: t, config: e }),
    uY,
    jE
  ];
}
function yE(t) {
  let e = [];
  if (t)
    e:
      for (let { name: n } of t) {
        for (let r = 0; r < n.length; r++) {
          let i = n[r];
          if (/[a-zA-Z]/.test(i) && !e.some((o) => o.toLowerCase() == i.toLowerCase())) {
            e.push(i);
            continue e;
          }
        }
        e.push("");
      }
  return e;
}
function bE(t, e, n) {
  var r;
  let i = n ? yE(e.actions) : [];
  return rr("li", { class: "cm-diagnostic cm-diagnostic-" + e.severity }, rr("span", { class: "cm-diagnosticText" }, e.renderMessage ? e.renderMessage() : e.message), (r = e.actions) === null || r === void 0 ? void 0 : r.map((o, s) => {
    let a = !1, l = (d) => {
      if (d.preventDefault(), a)
        return;
      a = !0;
      let h = Rc(t.state.field(Ki).diagnostics, e);
      h && o.apply(t, h.from, h.to);
    }, { name: c } = o, u = i[s] ? c.indexOf(i[s]) : -1, f = u < 0 ? c : [
      c.slice(0, u),
      rr("u", c.slice(u, u + 1)),
      c.slice(u + 1)
    ];
    return rr("button", {
      type: "button",
      class: "cm-diagnosticAction",
      onclick: l,
      onmousedown: l,
      "aria-label": ` Action: ${c}${u < 0 ? "" : ` (access key "${i[s]})"`}.`
    }, f);
  }), e.source && rr("div", { class: "cm-diagnosticSource" }, e.source));
}
class dY extends Ua {
  constructor(e) {
    super(), this.diagnostic = e;
  }
  eq(e) {
    return e.diagnostic == this.diagnostic;
  }
  toDOM() {
    return rr("span", { class: "cm-lintPoint cm-lintPoint-" + this.diagnostic.severity });
  }
}
class Qw {
  constructor(e, n) {
    this.diagnostic = n, this.id = "item_" + Math.floor(Math.random() * 4294967295).toString(16), this.dom = bE(e, n, !0), this.dom.id = this.id, this.dom.setAttribute("role", "option");
  }
}
class km {
  constructor(e) {
    this.view = e, this.items = [];
    let n = (i) => {
      if (i.keyCode == 27)
        Yw(this.view), this.view.focus();
      else if (i.keyCode == 38 || i.keyCode == 33)
        this.moveSelection((this.selectedIndex - 1 + this.items.length) % this.items.length);
      else if (i.keyCode == 40 || i.keyCode == 34)
        this.moveSelection((this.selectedIndex + 1) % this.items.length);
      else if (i.keyCode == 36)
        this.moveSelection(0);
      else if (i.keyCode == 35)
        this.moveSelection(this.items.length - 1);
      else if (i.keyCode == 13)
        this.view.focus();
      else if (i.keyCode >= 65 && i.keyCode <= 90 && this.selectedIndex >= 0) {
        let { diagnostic: o } = this.items[this.selectedIndex], s = yE(o.actions);
        for (let a = 0; a < s.length; a++)
          if (s[a].toUpperCase().charCodeAt(0) == i.keyCode) {
            let l = Rc(this.view.state.field(Ki).diagnostics, o);
            l && o.actions[a].apply(e, l.from, l.to);
          }
      } else
        return;
      i.preventDefault();
    }, r = (i) => {
      for (let o = 0; o < this.items.length; o++)
        this.items[o].dom.contains(i.target) && this.moveSelection(o);
    };
    this.list = rr("ul", {
      tabIndex: 0,
      role: "listbox",
      "aria-label": this.view.state.phrase("Diagnostics"),
      onkeydown: n,
      onclick: r
    }), this.dom = rr("div", { class: "cm-panel-lint" }, this.list, rr("button", {
      type: "button",
      name: "close",
      "aria-label": this.view.state.phrase("close"),
      onclick: () => Yw(this.view)
    }, "")), this.update();
  }
  get selectedIndex() {
    let e = this.view.state.field(Ki).selected;
    if (!e)
      return -1;
    for (let n = 0; n < this.items.length; n++)
      if (this.items[n].diagnostic == e.diagnostic)
        return n;
    return -1;
  }
  update() {
    let { diagnostics: e, selected: n } = this.view.state.field(Ki), r = 0, i = !1, o = null;
    for (e.between(0, this.view.state.doc.length, (s, a, { spec: l }) => {
      let c = -1, u;
      for (let f = r; f < this.items.length; f++)
        if (this.items[f].diagnostic == l.diagnostic) {
          c = f;
          break;
        }
      c < 0 ? (u = new Qw(this.view, l.diagnostic), this.items.splice(r, 0, u), i = !0) : (u = this.items[c], c > r && (this.items.splice(r, c - r), i = !0)), n && u.diagnostic == n.diagnostic ? u.dom.hasAttribute("aria-selected") || (u.dom.setAttribute("aria-selected", "true"), o = u) : u.dom.hasAttribute("aria-selected") && u.dom.removeAttribute("aria-selected"), r++;
    }); r < this.items.length && !(this.items.length == 1 && this.items[0].diagnostic.from < 0); )
      i = !0, this.items.pop();
    this.items.length == 0 && (this.items.push(new Qw(this.view, {
      from: -1,
      to: -1,
      severity: "info",
      message: this.view.state.phrase("No diagnostics")
    })), i = !0), o ? (this.list.setAttribute("aria-activedescendant", o.id), this.view.requestMeasure({
      key: this,
      read: () => ({ sel: o.dom.getBoundingClientRect(), panel: this.list.getBoundingClientRect() }),
      write: ({ sel: s, panel: a }) => {
        let l = a.height / this.list.offsetHeight;
        s.top < a.top ? this.list.scrollTop -= (a.top - s.top) / l : s.bottom > a.bottom && (this.list.scrollTop += (s.bottom - a.bottom) / l);
      }
    })) : this.selectedIndex < 0 && this.list.removeAttribute("aria-activedescendant"), i && this.sync();
  }
  sync() {
    let e = this.list.firstChild;
    function n() {
      let r = e;
      e = r.nextSibling, r.remove();
    }
    for (let r of this.items)
      if (r.dom.parentNode == this.list) {
        for (; e != r.dom; )
          n();
        e = r.dom.nextSibling;
      } else
        this.list.insertBefore(r.dom, e);
    for (; e; )
      n();
  }
  moveSelection(e) {
    if (this.selectedIndex < 0)
      return;
    let n = this.view.state.field(Ki), r = Rc(n.diagnostics, this.items[e].diagnostic);
    r && this.view.dispatch({
      selection: { anchor: r.from, head: r.to },
      scrollIntoView: !0,
      effects: gE.of(r)
    });
  }
  static open(e) {
    return new km(e);
  }
}
function gh(t, e = 'viewBox="0 0 40 40"') {
  return `url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`;
}
function Dd(t) {
  return gh(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`, 'width="6" height="3"');
}
const hY = /* @__PURE__ */ nt.baseTheme({
  ".cm-diagnostic": {
    padding: "3px 6px 3px 8px",
    marginLeft: "-1px",
    display: "block",
    whiteSpace: "pre-wrap"
  },
  ".cm-diagnostic-error": { borderLeft: "5px solid #d11" },
  ".cm-diagnostic-warning": { borderLeft: "5px solid orange" },
  ".cm-diagnostic-info": { borderLeft: "5px solid #999" },
  ".cm-diagnostic-hint": { borderLeft: "5px solid #66d" },
  ".cm-diagnosticAction": {
    font: "inherit",
    border: "none",
    padding: "2px 4px",
    backgroundColor: "#444",
    color: "white",
    borderRadius: "3px",
    marginLeft: "8px",
    cursor: "pointer"
  },
  ".cm-diagnosticSource": {
    fontSize: "70%",
    opacity: 0.7
  },
  ".cm-lintRange": {
    backgroundPosition: "left bottom",
    backgroundRepeat: "repeat-x",
    paddingBottom: "0.7px"
  },
  ".cm-lintRange-error": { backgroundImage: /* @__PURE__ */ Dd("#d11") },
  ".cm-lintRange-warning": { backgroundImage: /* @__PURE__ */ Dd("orange") },
  ".cm-lintRange-info": { backgroundImage: /* @__PURE__ */ Dd("#999") },
  ".cm-lintRange-hint": { backgroundImage: /* @__PURE__ */ Dd("#66d") },
  ".cm-lintRange-active": { backgroundColor: "#ffdd9980" },
  ".cm-tooltip-lint": {
    padding: 0,
    margin: 0
  },
  ".cm-lintPoint": {
    position: "relative",
    "&:after": {
      content: '""',
      position: "absolute",
      bottom: 0,
      left: "-2px",
      borderLeft: "3px solid transparent",
      borderRight: "3px solid transparent",
      borderBottom: "4px solid #d11"
    }
  },
  ".cm-lintPoint-warning": {
    "&:after": { borderBottomColor: "orange" }
  },
  ".cm-lintPoint-info": {
    "&:after": { borderBottomColor: "#999" }
  },
  ".cm-lintPoint-hint": {
    "&:after": { borderBottomColor: "#66d" }
  },
  ".cm-panel.cm-panel-lint": {
    position: "relative",
    "& ul": {
      maxHeight: "100px",
      overflowY: "auto",
      "& [aria-selected]": {
        backgroundColor: "#ddd",
        "& u": { textDecoration: "underline" }
      },
      "&:focus [aria-selected]": {
        background_fallback: "#bdf",
        backgroundColor: "Highlight",
        color_fallback: "white",
        color: "HighlightText"
      },
      "& u": { textDecoration: "none" },
      padding: 0,
      margin: 0
    },
    "& [name=close]": {
      position: "absolute",
      top: "0",
      right: "2px",
      background: "inherit",
      border: "none",
      font: "inherit",
      padding: 0,
      margin: 0
    }
  }
});
function Xw(t) {
  return t == "error" ? 4 : t == "warning" ? 3 : t == "info" ? 2 : 1;
}
class pY extends gs {
  constructor(e) {
    super(), this.diagnostics = e, this.severity = e.reduce((n, r) => Xw(n) < Xw(r.severity) ? r.severity : n, "hint");
  }
  toDOM(e) {
    let n = document.createElement("div");
    n.className = "cm-lint-marker cm-lint-marker-" + this.severity;
    let r = this.diagnostics, i = e.state.facet(Sm).tooltipFilter;
    return i && (r = i(r)), r.length && (n.onmouseover = () => gY(e, n, r)), n;
  }
}
function mY(t, e) {
  let n = (r) => {
    let i = e.getBoundingClientRect();
    if (!(r.clientX > i.left - 10 && r.clientX < i.right + 10 && r.clientY > i.top - 10 && r.clientY < i.bottom + 10)) {
      for (let o = r.target; o; o = o.parentNode)
        if (o.nodeType == 1 && o.classList.contains("cm-tooltip-lint"))
          return;
      window.removeEventListener("mousemove", n), t.state.field(wE) && t.dispatch({ effects: Fy.of(null) });
    }
  };
  window.addEventListener("mousemove", n);
}
function gY(t, e, n) {
  function r() {
    let s = t.elementAtHeight(e.getBoundingClientRect().top + 5 - t.documentTop);
    t.coordsAtPos(s.from) && t.dispatch({ effects: Fy.of({
      pos: s.from,
      above: !1,
      create() {
        return {
          dom: vE(t, n),
          getCoords: () => e.getBoundingClientRect()
        };
      }
    }) }), e.onmouseout = e.onmousemove = null, mY(t, e);
  }
  let { hoverTime: i } = t.state.facet(Sm), o = setTimeout(r, i);
  e.onmouseout = () => {
    clearTimeout(o), e.onmouseout = e.onmousemove = null;
  }, e.onmousemove = () => {
    clearTimeout(o), o = setTimeout(r, i);
  };
}
function vY(t, e) {
  let n = /* @__PURE__ */ Object.create(null);
  for (let i of e) {
    let o = t.lineAt(i.from);
    (n[o.from] || (n[o.from] = [])).push(i);
  }
  let r = [];
  for (let i in n)
    r.push(new pY(n[i]).range(+i));
  return Cn.of(r, !0);
}
const yY = /* @__PURE__ */ uA({
  class: "cm-gutter-lint",
  markers: (t) => t.state.field(xE)
}), xE = /* @__PURE__ */ zr.define({
  create() {
    return Cn.empty;
  },
  update(t, e) {
    t = t.map(e.changes);
    let n = e.state.facet(Sm).markerFilter;
    for (let r of e.effects)
      if (r.is($m)) {
        let i = r.value;
        n && (i = n(i || [])), t = vY(e.state.doc, i.slice(0));
      }
    return t;
  }
}), Fy = /* @__PURE__ */ ln.define(), wE = /* @__PURE__ */ zr.define({
  create() {
    return null;
  },
  update(t, e) {
    return t && e.docChanged && (t = pE(e, t) ? null : Object.assign(Object.assign({}, t), { pos: e.changes.mapPos(t.pos) })), e.effects.reduce((n, r) => r.is(Fy) ? r.value : n, t);
  },
  provide: (t) => pm.from(t)
}), bY = /* @__PURE__ */ nt.baseTheme({
  ".cm-gutter-lint": {
    width: "1.4em",
    "& .cm-gutterElement": {
      padding: ".2em"
    }
  },
  ".cm-lint-marker": {
    width: "1em",
    height: "1em"
  },
  ".cm-lint-marker-info": {
    content: /* @__PURE__ */ gh('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')
  },
  ".cm-lint-marker-warning": {
    content: /* @__PURE__ */ gh('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')
  },
  ".cm-lint-marker-error": {
    content: /* @__PURE__ */ gh('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')
  }
}), jE = [
  Ki,
  /* @__PURE__ */ nt.decorations.compute([Ki], (t) => {
    let { selected: e, panel: n } = t.field(Ki);
    return !e || !n || e.from == e.to ? Bt.none : Bt.set([
      oY.range(e.from, e.to)
    ]);
  }),
  /* @__PURE__ */ SJ(sY, { hideOn: pE }),
  hY
], Sm = /* @__PURE__ */ pt.define({
  combine(t) {
    return _o(t, {
      hoverTime: 300,
      markerFilter: null,
      tooltipFilter: null
    });
  }
});
function xY(t = {}) {
  return [Sm.of(t), xE, yY, bY, wE];
}
class ep {
  /**
  @internal
  */
  constructor(e, n, r, i, o, s, a, l, c, u = 0, f) {
    this.p = e, this.stack = n, this.state = r, this.reducePos = i, this.pos = o, this.score = s, this.buffer = a, this.bufferBase = l, this.curContext = c, this.lookAhead = u, this.parent = f;
  }
  /**
  @internal
  */
  toString() {
    return `[${this.stack.filter((e, n) => n % 3 == 0).concat(this.state)}]@${this.pos}${this.score ? "!" + this.score : ""}`;
  }
  // Start an empty stack
  /**
  @internal
  */
  static start(e, n, r = 0) {
    let i = e.parser.context;
    return new ep(e, [], n, r, r, 0, [], 0, i ? new Zw(i, i.start) : null, 0, null);
  }
  /**
  The stack's current [context](#lr.ContextTracker) value, if
  any. Its type will depend on the context tracker's type
  parameter, or it will be `null` if there is no context
  tracker.
  */
  get context() {
    return this.curContext ? this.curContext.context : null;
  }
  // Push a state onto the stack, tracking its start position as well
  // as the buffer base at that point.
  /**
  @internal
  */
  pushState(e, n) {
    this.stack.push(this.state, n, this.bufferBase + this.buffer.length), this.state = e;
  }
  // Apply a reduce action
  /**
  @internal
  */
  reduce(e) {
    var n;
    let r = e >> 19, i = e & 65535, { parser: o } = this.p, s = o.dynamicPrecedence(i);
    if (s && (this.score += s), r == 0) {
      this.pushState(o.getGoto(this.state, i, !0), this.reducePos), i < o.minRepeatTerm && this.storeNode(i, this.reducePos, this.reducePos, 4, !0), this.reduceContext(i, this.reducePos);
      return;
    }
    let a = this.stack.length - (r - 1) * 3 - (e & 262144 ? 6 : 0), l = a ? this.stack[a - 2] : this.p.ranges[0].from, c = this.reducePos - l;
    c >= 2e3 && !(!((n = this.p.parser.nodeSet.types[i]) === null || n === void 0) && n.isAnonymous) && (l == this.p.lastBigReductionStart ? (this.p.bigReductionCount++, this.p.lastBigReductionSize = c) : this.p.lastBigReductionSize < c && (this.p.bigReductionCount = 1, this.p.lastBigReductionStart = l, this.p.lastBigReductionSize = c));
    let u = a ? this.stack[a - 1] : 0, f = this.bufferBase + this.buffer.length - u;
    if (i < o.minRepeatTerm || e & 131072) {
      let d = o.stateFlag(
        this.state,
        1
        /* StateFlag.Skipped */
      ) ? this.pos : this.reducePos;
      this.storeNode(i, l, d, f + 4, !0);
    }
    if (e & 262144)
      this.state = this.stack[a];
    else {
      let d = this.stack[a - 3];
      this.state = o.getGoto(d, i, !0);
    }
    for (; this.stack.length > a; )
      this.stack.pop();
    this.reduceContext(i, l);
  }
  // Shift a value into the buffer
  /**
  @internal
  */
  storeNode(e, n, r, i = 4, o = !1) {
    if (e == 0 && (!this.stack.length || this.stack[this.stack.length - 1] < this.buffer.length + this.bufferBase)) {
      let s = this, a = this.buffer.length;
      if (a == 0 && s.parent && (a = s.bufferBase - s.parent.bufferBase, s = s.parent), a > 0 && s.buffer[a - 4] == 0 && s.buffer[a - 1] > -1) {
        if (n == r)
          return;
        if (s.buffer[a - 2] >= n) {
          s.buffer[a - 2] = r;
          return;
        }
      }
    }
    if (!o || this.pos == r)
      this.buffer.push(e, n, r, i);
    else {
      let s = this.buffer.length;
      if (s > 0 && this.buffer[s - 4] != 0)
        for (; s > 0 && this.buffer[s - 2] > r; )
          this.buffer[s] = this.buffer[s - 4], this.buffer[s + 1] = this.buffer[s - 3], this.buffer[s + 2] = this.buffer[s - 2], this.buffer[s + 3] = this.buffer[s - 1], s -= 4, i > 4 && (i -= 4);
      this.buffer[s] = e, this.buffer[s + 1] = n, this.buffer[s + 2] = r, this.buffer[s + 3] = i;
    }
  }
  // Apply a shift action
  /**
  @internal
  */
  shift(e, n, r, i) {
    if (e & 131072)
      this.pushState(e & 65535, this.pos);
    else if (e & 262144)
      this.pos = i, this.shiftContext(n, r), n <= this.p.parser.maxNode && this.buffer.push(n, r, i, 4);
    else {
      let o = e, { parser: s } = this.p;
      (i > this.pos || n <= s.maxNode) && (this.pos = i, s.stateFlag(
        o,
        1
        /* StateFlag.Skipped */
      ) || (this.reducePos = i)), this.pushState(o, r), this.shiftContext(n, r), n <= s.maxNode && this.buffer.push(n, r, i, 4);
    }
  }
  // Apply an action
  /**
  @internal
  */
  apply(e, n, r, i) {
    e & 65536 ? this.reduce(e) : this.shift(e, n, r, i);
  }
  // Add a prebuilt (reused) node into the buffer.
  /**
  @internal
  */
  useNode(e, n) {
    let r = this.p.reused.length - 1;
    (r < 0 || this.p.reused[r] != e) && (this.p.reused.push(e), r++);
    let i = this.pos;
    this.reducePos = this.pos = i + e.length, this.pushState(n, i), this.buffer.push(
      r,
      i,
      this.reducePos,
      -1
      /* size == -1 means this is a reused value */
    ), this.curContext && this.updateContext(this.curContext.tracker.reuse(this.curContext.context, e, this, this.p.stream.reset(this.pos - e.length)));
  }
  // Split the stack. Due to the buffer sharing and the fact
  // that `this.stack` tends to stay quite shallow, this isn't very
  // expensive.
  /**
  @internal
  */
  split() {
    let e = this, n = e.buffer.length;
    for (; n > 0 && e.buffer[n - 2] > e.reducePos; )
      n -= 4;
    let r = e.buffer.slice(n), i = e.bufferBase + n;
    for (; e && i == e.bufferBase; )
      e = e.parent;
    return new ep(this.p, this.stack.slice(), this.state, this.reducePos, this.pos, this.score, r, i, this.curContext, this.lookAhead, e);
  }
  // Try to recover from an error by 'deleting' (ignoring) one token.
  /**
  @internal
  */
  recoverByDelete(e, n) {
    let r = e <= this.p.parser.maxNode;
    r && this.storeNode(e, this.pos, n, 4), this.storeNode(0, this.pos, n, r ? 8 : 4), this.pos = this.reducePos = n, this.score -= 190;
  }
  /**
  Check if the given term would be able to be shifted (optionally
  after some reductions) on this stack. This can be useful for
  external tokenizers that want to make sure they only provide a
  given token when it applies.
  */
  canShift(e) {
    for (let n = new wY(this); ; ) {
      let r = this.p.parser.stateSlot(
        n.state,
        4
        /* ParseState.DefaultReduce */
      ) || this.p.parser.hasAction(n.state, e);
      if (r == 0)
        return !1;
      if (!(r & 65536))
        return !0;
      n.reduce(r);
    }
  }
  // Apply up to Recover.MaxNext recovery actions that conceptually
  // inserts some missing token or rule.
  /**
  @internal
  */
  recoverByInsert(e) {
    if (this.stack.length >= 300)
      return [];
    let n = this.p.parser.nextStates(this.state);
    if (n.length > 8 || this.stack.length >= 120) {
      let i = [];
      for (let o = 0, s; o < n.length; o += 2)
        (s = n[o + 1]) != this.state && this.p.parser.hasAction(s, e) && i.push(n[o], s);
      if (this.stack.length < 120)
        for (let o = 0; i.length < 8 && o < n.length; o += 2) {
          let s = n[o + 1];
          i.some((a, l) => l & 1 && a == s) || i.push(n[o], s);
        }
      n = i;
    }
    let r = [];
    for (let i = 0; i < n.length && r.length < 4; i += 2) {
      let o = n[i + 1];
      if (o == this.state)
        continue;
      let s = this.split();
      s.pushState(o, this.pos), s.storeNode(0, s.pos, s.pos, 4, !0), s.shiftContext(n[i], this.pos), s.reducePos = this.pos, s.score -= 200, r.push(s);
    }
    return r;
  }
  // Force a reduce, if possible. Return false if that can't
  // be done.
  /**
  @internal
  */
  forceReduce() {
    let { parser: e } = this.p, n = e.stateSlot(
      this.state,
      5
      /* ParseState.ForcedReduce */
    );
    if (!(n & 65536))
      return !1;
    if (!e.validAction(this.state, n)) {
      let r = n >> 19, i = n & 65535, o = this.stack.length - r * 3;
      if (o < 0 || e.getGoto(this.stack[o], i, !1) < 0) {
        let s = this.findForcedReduction();
        if (s == null)
          return !1;
        n = s;
      }
      this.storeNode(0, this.pos, this.pos, 4, !0), this.score -= 100;
    }
    return this.reducePos = this.pos, this.reduce(n), !0;
  }
  /**
  Try to scan through the automaton to find some kind of reduction
  that can be applied. Used when the regular ForcedReduce field
  isn't a valid action. @internal
  */
  findForcedReduction() {
    let { parser: e } = this.p, n = [], r = (i, o) => {
      if (!n.includes(i))
        return n.push(i), e.allActions(i, (s) => {
          if (!(s & 393216))
            if (s & 65536) {
              let a = (s >> 19) - o;
              if (a > 1) {
                let l = s & 65535, c = this.stack.length - a * 3;
                if (c >= 0 && e.getGoto(this.stack[c], l, !1) >= 0)
                  return a << 19 | 65536 | l;
              }
            } else {
              let a = r(s, o + 1);
              if (a != null)
                return a;
            }
        });
    };
    return r(this.state, 0);
  }
  /**
  @internal
  */
  forceAll() {
    for (; !this.p.parser.stateFlag(
      this.state,
      2
      /* StateFlag.Accepting */
    ); )
      if (!this.forceReduce()) {
        this.storeNode(0, this.pos, this.pos, 4, !0);
        break;
      }
    return this;
  }
  /**
  Check whether this state has no further actions (assumed to be a direct descendant of the
  top state, since any other states must be able to continue
  somehow). @internal
  */
  get deadEnd() {
    if (this.stack.length != 3)
      return !1;
    let { parser: e } = this.p;
    return e.data[e.stateSlot(
      this.state,
      1
      /* ParseState.Actions */
    )] == 65535 && !e.stateSlot(
      this.state,
      4
      /* ParseState.DefaultReduce */
    );
  }
  /**
  Restart the stack (put it back in its start state). Only safe
  when this.stack.length == 3 (state is directly below the top
  state). @internal
  */
  restart() {
    this.storeNode(0, this.pos, this.pos, 4, !0), this.state = this.stack[0], this.stack.length = 0;
  }
  /**
  @internal
  */
  sameState(e) {
    if (this.state != e.state || this.stack.length != e.stack.length)
      return !1;
    for (let n = 0; n < this.stack.length; n += 3)
      if (this.stack[n] != e.stack[n])
        return !1;
    return !0;
  }
  /**
  Get the parser used by this stack.
  */
  get parser() {
    return this.p.parser;
  }
  /**
  Test whether a given dialect (by numeric ID, as exported from
  the terms file) is enabled.
  */
  dialectEnabled(e) {
    return this.p.parser.dialect.flags[e];
  }
  shiftContext(e, n) {
    this.curContext && this.updateContext(this.curContext.tracker.shift(this.curContext.context, e, this, this.p.stream.reset(n)));
  }
  reduceContext(e, n) {
    this.curContext && this.updateContext(this.curContext.tracker.reduce(this.curContext.context, e, this, this.p.stream.reset(n)));
  }
  /**
  @internal
  */
  emitContext() {
    let e = this.buffer.length - 1;
    (e < 0 || this.buffer[e] != -3) && this.buffer.push(this.curContext.hash, this.pos, this.pos, -3);
  }
  /**
  @internal
  */
  emitLookAhead() {
    let e = this.buffer.length - 1;
    (e < 0 || this.buffer[e] != -4) && this.buffer.push(this.lookAhead, this.pos, this.pos, -4);
  }
  updateContext(e) {
    if (e != this.curContext.context) {
      let n = new Zw(this.curContext.tracker, e);
      n.hash != this.curContext.hash && this.emitContext(), this.curContext = n;
    }
  }
  /**
  @internal
  */
  setLookAhead(e) {
    e > this.lookAhead && (this.emitLookAhead(), this.lookAhead = e);
  }
  /**
  @internal
  */
  close() {
    this.curContext && this.curContext.tracker.strict && this.emitContext(), this.lookAhead > 0 && this.emitLookAhead();
  }
}
class Zw {
  constructor(e, n) {
    this.tracker = e, this.context = n, this.hash = e.strict ? e.hash(n) : 0;
  }
}
class wY {
  constructor(e) {
    this.start = e, this.state = e.state, this.stack = e.stack, this.base = this.stack.length;
  }
  reduce(e) {
    let n = e & 65535, r = e >> 19;
    r == 0 ? (this.stack == this.start.stack && (this.stack = this.stack.slice()), this.stack.push(this.state, 0, 0), this.base += 3) : this.base -= (r - 1) * 3;
    let i = this.start.p.parser.getGoto(this.stack[this.base - 3], n, !0);
    this.state = i;
  }
}
class tp {
  constructor(e, n, r) {
    this.stack = e, this.pos = n, this.index = r, this.buffer = e.buffer, this.index == 0 && this.maybeNext();
  }
  static create(e, n = e.bufferBase + e.buffer.length) {
    return new tp(e, n, n - e.bufferBase);
  }
  maybeNext() {
    let e = this.stack.parent;
    e != null && (this.index = this.stack.bufferBase - e.bufferBase, this.stack = e, this.buffer = e.buffer);
  }
  get id() {
    return this.buffer[this.index - 4];
  }
  get start() {
    return this.buffer[this.index - 3];
  }
  get end() {
    return this.buffer[this.index - 2];
  }
  get size() {
    return this.buffer[this.index - 1];
  }
  next() {
    this.index -= 4, this.pos -= 4, this.index == 0 && this.maybeNext();
  }
  fork() {
    return new tp(this.stack, this.pos, this.index);
  }
}
function Ld(t, e = Uint16Array) {
  if (typeof t != "string")
    return t;
  let n = null;
  for (let r = 0, i = 0; r < t.length; ) {
    let o = 0;
    for (; ; ) {
      let s = t.charCodeAt(r++), a = !1;
      if (s == 126) {
        o = 65535;
        break;
      }
      s >= 92 && s--, s >= 34 && s--;
      let l = s - 32;
      if (l >= 46 && (l -= 46, a = !0), o += l, a)
        break;
      o *= 46;
    }
    n ? n[i++] = o : n = new e(o);
  }
  return n;
}
class vh {
  constructor() {
    this.start = -1, this.value = -1, this.end = -1, this.extended = -1, this.lookAhead = 0, this.mask = 0, this.context = 0;
  }
}
const ej = new vh();
class jY {
  /**
  @internal
  */
  constructor(e, n) {
    this.input = e, this.ranges = n, this.chunk = "", this.chunkOff = 0, this.chunk2 = "", this.chunk2Pos = 0, this.next = -1, this.token = ej, this.rangeIndex = 0, this.pos = this.chunkPos = n[0].from, this.range = n[0], this.end = n[n.length - 1].to, this.readNext();
  }
  /**
  @internal
  */
  resolveOffset(e, n) {
    let r = this.range, i = this.rangeIndex, o = this.pos + e;
    for (; o < r.from; ) {
      if (!i)
        return null;
      let s = this.ranges[--i];
      o -= r.from - s.to, r = s;
    }
    for (; n < 0 ? o > r.to : o >= r.to; ) {
      if (i == this.ranges.length - 1)
        return null;
      let s = this.ranges[++i];
      o += s.from - r.to, r = s;
    }
    return o;
  }
  /**
  @internal
  */
  clipPos(e) {
    if (e >= this.range.from && e < this.range.to)
      return e;
    for (let n of this.ranges)
      if (n.to > e)
        return Math.max(e, n.from);
    return this.end;
  }
  /**
  Look at a code unit near the stream position. `.peek(0)` equals
  `.next`, `.peek(-1)` gives you the previous character, and so
  on.
  
  Note that looking around during tokenizing creates dependencies
  on potentially far-away content, which may reduce the
  effectiveness incremental parsingwhen looking forwardor even
  cause invalid reparses when looking backward more than 25 code
  units, since the library does not track lookbehind.
  */
  peek(e) {
    let n = this.chunkOff + e, r, i;
    if (n >= 0 && n < this.chunk.length)
      r = this.pos + e, i = this.chunk.charCodeAt(n);
    else {
      let o = this.resolveOffset(e, 1);
      if (o == null)
        return -1;
      if (r = o, r >= this.chunk2Pos && r < this.chunk2Pos + this.chunk2.length)
        i = this.chunk2.charCodeAt(r - this.chunk2Pos);
      else {
        let s = this.rangeIndex, a = this.range;
        for (; a.to <= r; )
          a = this.ranges[++s];
        this.chunk2 = this.input.chunk(this.chunk2Pos = r), r + this.chunk2.length > a.to && (this.chunk2 = this.chunk2.slice(0, a.to - r)), i = this.chunk2.charCodeAt(0);
      }
    }
    return r >= this.token.lookAhead && (this.token.lookAhead = r + 1), i;
  }
  /**
  Accept a token. By default, the end of the token is set to the
  current stream position, but you can pass an offset (relative to
  the stream position) to change that.
  */
  acceptToken(e, n = 0) {
    let r = n ? this.resolveOffset(n, -1) : this.pos;
    if (r == null || r < this.token.start)
      throw new RangeError("Token end out of bounds");
    this.token.value = e, this.token.end = r;
  }
  getChunk() {
    if (this.pos >= this.chunk2Pos && this.pos < this.chunk2Pos + this.chunk2.length) {
      let { chunk: e, chunkPos: n } = this;
      this.chunk = this.chunk2, this.chunkPos = this.chunk2Pos, this.chunk2 = e, this.chunk2Pos = n, this.chunkOff = this.pos - this.chunkPos;
    } else {
      this.chunk2 = this.chunk, this.chunk2Pos = this.chunkPos;
      let e = this.input.chunk(this.pos), n = this.pos + e.length;
      this.chunk = n > this.range.to ? e.slice(0, this.range.to - this.pos) : e, this.chunkPos = this.pos, this.chunkOff = 0;
    }
  }
  readNext() {
    return this.chunkOff >= this.chunk.length && (this.getChunk(), this.chunkOff == this.chunk.length) ? this.next = -1 : this.next = this.chunk.charCodeAt(this.chunkOff);
  }
  /**
  Move the stream forward N (defaults to 1) code units. Returns
  the new value of [`next`](#lr.InputStream.next).
  */
  advance(e = 1) {
    for (this.chunkOff += e; this.pos + e >= this.range.to; ) {
      if (this.rangeIndex == this.ranges.length - 1)
        return this.setDone();
      e -= this.range.to - this.pos, this.range = this.ranges[++this.rangeIndex], this.pos = this.range.from;
    }
    return this.pos += e, this.pos >= this.token.lookAhead && (this.token.lookAhead = this.pos + 1), this.readNext();
  }
  setDone() {
    return this.pos = this.chunkPos = this.end, this.range = this.ranges[this.rangeIndex = this.ranges.length - 1], this.chunk = "", this.next = -1;
  }
  /**
  @internal
  */
  reset(e, n) {
    if (n ? (this.token = n, n.start = e, n.lookAhead = e + 1, n.value = n.extended = -1) : this.token = ej, this.pos != e) {
      if (this.pos = e, e == this.end)
        return this.setDone(), this;
      for (; e < this.range.from; )
        this.range = this.ranges[--this.rangeIndex];
      for (; e >= this.range.to; )
        this.range = this.ranges[++this.rangeIndex];
      e >= this.chunkPos && e < this.chunkPos + this.chunk.length ? this.chunkOff = e - this.chunkPos : (this.chunk = "", this.chunkOff = 0), this.readNext();
    }
    return this;
  }
  /**
  @internal
  */
  read(e, n) {
    if (e >= this.chunkPos && n <= this.chunkPos + this.chunk.length)
      return this.chunk.slice(e - this.chunkPos, n - this.chunkPos);
    if (e >= this.chunk2Pos && n <= this.chunk2Pos + this.chunk2.length)
      return this.chunk2.slice(e - this.chunk2Pos, n - this.chunk2Pos);
    if (e >= this.range.from && n <= this.range.to)
      return this.input.read(e, n);
    let r = "";
    for (let i of this.ranges) {
      if (i.from >= n)
        break;
      i.to > e && (r += this.input.read(Math.max(i.from, e), Math.min(i.to, n)));
    }
    return r;
  }
}
class xc {
  constructor(e, n) {
    this.data = e, this.id = n;
  }
  token(e, n) {
    let { parser: r } = n.p;
    $Y(this.data, e, n, this.id, r.data, r.tokenPrecTable);
  }
}
xc.prototype.contextual = xc.prototype.fallback = xc.prototype.extend = !1;
xc.prototype.fallback = xc.prototype.extend = !1;
function $Y(t, e, n, r, i, o) {
  let s = 0, a = 1 << r, { dialect: l } = n.p.parser;
  e:
    for (; a & t[s]; ) {
      let c = t[s + 1];
      for (let h = s + 3; h < c; h += 2)
        if ((t[h + 1] & a) > 0) {
          let p = t[h];
          if (l.allows(p) && (e.token.value == -1 || e.token.value == p || kY(p, e.token.value, i, o))) {
            e.acceptToken(p);
            break;
          }
        }
      let u = e.next, f = 0, d = t[s + 2];
      if (e.next < 0 && d > f && t[c + d * 3 - 3] == 65535) {
        s = t[c + d * 3 - 1];
        continue e;
      }
      for (; f < d; ) {
        let h = f + d >> 1, p = c + h + (h << 1), m = t[p], g = t[p + 1] || 65536;
        if (u < m)
          d = h;
        else if (u >= g)
          f = h + 1;
        else {
          s = t[p + 2], e.advance();
          continue e;
        }
      }
      break;
    }
}
function tj(t, e, n) {
  for (let r = e, i; (i = t[r]) != 65535; r++)
    if (i == n)
      return r - e;
  return -1;
}
function kY(t, e, n, r) {
  let i = tj(n, r, e);
  return i < 0 || tj(n, r, t) < i;
}
const Wi = typeof process < "u" && process.env && /\bparse\b/.test(process.env.LOG);
let $g = null;
function nj(t, e, n) {
  let r = t.cursor(Vr.IncludeAnonymous);
  for (r.moveTo(e); ; )
    if (!(n < 0 ? r.childBefore(e) : r.childAfter(e)))
      for (; ; ) {
        if ((n < 0 ? r.to < e : r.from > e) && !r.type.isError)
          return n < 0 ? Math.max(0, Math.min(
            r.to - 1,
            e - 25
            /* Safety.Margin */
          )) : Math.min(t.length, Math.max(
            r.from + 1,
            e + 25
            /* Safety.Margin */
          ));
        if (n < 0 ? r.prevSibling() : r.nextSibling())
          break;
        if (!r.parent())
          return n < 0 ? 0 : t.length;
      }
}
class SY {
  constructor(e, n) {
    this.fragments = e, this.nodeSet = n, this.i = 0, this.fragment = null, this.safeFrom = -1, this.safeTo = -1, this.trees = [], this.start = [], this.index = [], this.nextFragment();
  }
  nextFragment() {
    let e = this.fragment = this.i == this.fragments.length ? null : this.fragments[this.i++];
    if (e) {
      for (this.safeFrom = e.openStart ? nj(e.tree, e.from + e.offset, 1) - e.offset : e.from, this.safeTo = e.openEnd ? nj(e.tree, e.to + e.offset, -1) - e.offset : e.to; this.trees.length; )
        this.trees.pop(), this.start.pop(), this.index.pop();
      this.trees.push(e.tree), this.start.push(-e.offset), this.index.push(0), this.nextStart = this.safeFrom;
    } else
      this.nextStart = 1e9;
  }
  // `pos` must be >= any previously given `pos` for this cursor
  nodeAt(e) {
    if (e < this.nextStart)
      return null;
    for (; this.fragment && this.safeTo <= e; )
      this.nextFragment();
    if (!this.fragment)
      return null;
    for (; ; ) {
      let n = this.trees.length - 1;
      if (n < 0)
        return this.nextFragment(), null;
      let r = this.trees[n], i = this.index[n];
      if (i == r.children.length) {
        this.trees.pop(), this.start.pop(), this.index.pop();
        continue;
      }
      let o = r.children[i], s = this.start[n] + r.positions[i];
      if (s > e)
        return this.nextStart = s, null;
      if (o instanceof Pr) {
        if (s == e) {
          if (s < this.safeFrom)
            return null;
          let a = s + o.length;
          if (a <= this.safeTo) {
            let l = o.prop(gn.lookAhead);
            if (!l || a + l < this.fragment.to)
              return o;
          }
        }
        this.index[n]++, s + o.length >= Math.max(this.safeFrom, e) && (this.trees.push(o), this.start.push(s), this.index.push(0));
      } else
        this.index[n]++, this.nextStart = s + o.length;
    }
  }
}
class CY {
  constructor(e, n) {
    this.stream = n, this.tokens = [], this.mainToken = null, this.actions = [], this.tokens = e.tokenizers.map((r) => new vh());
  }
  getActions(e) {
    let n = 0, r = null, { parser: i } = e.p, { tokenizers: o } = i, s = i.stateSlot(
      e.state,
      3
      /* ParseState.TokenizerMask */
    ), a = e.curContext ? e.curContext.hash : 0, l = 0;
    for (let c = 0; c < o.length; c++) {
      if (!(1 << c & s))
        continue;
      let u = o[c], f = this.tokens[c];
      if (!(r && !u.fallback) && ((u.contextual || f.start != e.pos || f.mask != s || f.context != a) && (this.updateCachedToken(f, u, e), f.mask = s, f.context = a), f.lookAhead > f.end + 25 && (l = Math.max(f.lookAhead, l)), f.value != 0)) {
        let d = n;
        if (f.extended > -1 && (n = this.addActions(e, f.extended, f.end, n)), n = this.addActions(e, f.value, f.end, n), !u.extend && (r = f, n > d))
          break;
      }
    }
    for (; this.actions.length > n; )
      this.actions.pop();
    return l && e.setLookAhead(l), !r && e.pos == this.stream.end && (r = new vh(), r.value = e.p.parser.eofTerm, r.start = r.end = e.pos, n = this.addActions(e, r.value, r.end, n)), this.mainToken = r, this.actions;
  }
  getMainToken(e) {
    if (this.mainToken)
      return this.mainToken;
    let n = new vh(), { pos: r, p: i } = e;
    return n.start = r, n.end = Math.min(r + 1, i.stream.end), n.value = r == i.stream.end ? i.parser.eofTerm : 0, n;
  }
  updateCachedToken(e, n, r) {
    let i = this.stream.clipPos(r.pos);
    if (n.token(this.stream.reset(i, e), r), e.value > -1) {
      let { parser: o } = r.p;
      for (let s = 0; s < o.specialized.length; s++)
        if (o.specialized[s] == e.value) {
          let a = o.specializers[s](this.stream.read(e.start, e.end), r);
          if (a >= 0 && r.p.parser.dialect.allows(a >> 1)) {
            a & 1 ? e.extended = a >> 1 : e.value = a >> 1;
            break;
          }
        }
    } else
      e.value = 0, e.end = this.stream.clipPos(i + 1);
  }
  putAction(e, n, r, i) {
    for (let o = 0; o < i; o += 3)
      if (this.actions[o] == e)
        return i;
    return this.actions[i++] = e, this.actions[i++] = n, this.actions[i++] = r, i;
  }
  addActions(e, n, r, i) {
    let { state: o } = e, { parser: s } = e.p, { data: a } = s;
    for (let l = 0; l < 2; l++)
      for (let c = s.stateSlot(
        o,
        l ? 2 : 1
        /* ParseState.Actions */
      ); ; c += 3) {
        if (a[c] == 65535)
          if (a[c + 1] == 1)
            c = Rs(a, c + 2);
          else {
            i == 0 && a[c + 1] == 2 && (i = this.putAction(Rs(a, c + 2), n, r, i));
            break;
          }
        a[c] == n && (i = this.putAction(Rs(a, c + 1), n, r, i));
      }
    return i;
  }
}
class _Y {
  constructor(e, n, r, i) {
    this.parser = e, this.input = n, this.ranges = i, this.recovering = 0, this.nextStackID = 9812, this.minStackPos = 0, this.reused = [], this.stoppedAt = null, this.lastBigReductionStart = -1, this.lastBigReductionSize = 0, this.bigReductionCount = 0, this.stream = new jY(n, i), this.tokens = new CY(e, this.stream), this.topTerm = e.top[1];
    let { from: o } = i[0];
    this.stacks = [ep.start(this, e.top[0], o)], this.fragments = r.length && this.stream.end - o > e.bufferLength * 4 ? new SY(r, e.nodeSet) : null;
  }
  get parsedPos() {
    return this.minStackPos;
  }
  // Move the parser forward. This will process all parse stacks at
  // `this.pos` and try to advance them to a further position. If no
  // stack for such a position is found, it'll start error-recovery.
  //
  // When the parse is finished, this will return a syntax tree. When
  // not, it returns `null`.
  advance() {
    let e = this.stacks, n = this.minStackPos, r = this.stacks = [], i, o;
    if (this.bigReductionCount > 300 && e.length == 1) {
      let [s] = e;
      for (; s.forceReduce() && s.stack.length && s.stack[s.stack.length - 2] >= this.lastBigReductionStart; )
        ;
      this.bigReductionCount = this.lastBigReductionSize = 0;
    }
    for (let s = 0; s < e.length; s++) {
      let a = e[s];
      for (; ; ) {
        if (this.tokens.mainToken = null, a.pos > n)
          r.push(a);
        else {
          if (this.advanceStack(a, r, e))
            continue;
          {
            i || (i = [], o = []), i.push(a);
            let l = this.tokens.getMainToken(a);
            o.push(l.value, l.end);
          }
        }
        break;
      }
    }
    if (!r.length) {
      let s = i && AY(i);
      if (s)
        return Wi && console.log("Finish with " + this.stackID(s)), this.stackToTree(s);
      if (this.parser.strict)
        throw Wi && i && console.log("Stuck with token " + (this.tokens.mainToken ? this.parser.getName(this.tokens.mainToken.value) : "none")), new SyntaxError("No parse at " + n);
      this.recovering || (this.recovering = 5);
    }
    if (this.recovering && i) {
      let s = this.stoppedAt != null && i[0].pos > this.stoppedAt ? i[0] : this.runRecovery(i, o, r);
      if (s)
        return Wi && console.log("Force-finish " + this.stackID(s)), this.stackToTree(s.forceAll());
    }
    if (this.recovering) {
      let s = this.recovering == 1 ? 1 : this.recovering * 3;
      if (r.length > s)
        for (r.sort((a, l) => l.score - a.score); r.length > s; )
          r.pop();
      r.some((a) => a.reducePos > n) && this.recovering--;
    } else if (r.length > 1) {
      e:
        for (let s = 0; s < r.length - 1; s++) {
          let a = r[s];
          for (let l = s + 1; l < r.length; l++) {
            let c = r[l];
            if (a.sameState(c) || a.buffer.length > 500 && c.buffer.length > 500)
              if ((a.score - c.score || a.buffer.length - c.buffer.length) > 0)
                r.splice(l--, 1);
              else {
                r.splice(s--, 1);
                continue e;
              }
          }
        }
      r.length > 12 && r.splice(
        12,
        r.length - 12
        /* Rec.MaxStackCount */
      );
    }
    this.minStackPos = r[0].pos;
    for (let s = 1; s < r.length; s++)
      r[s].pos < this.minStackPos && (this.minStackPos = r[s].pos);
    return null;
  }
  stopAt(e) {
    if (this.stoppedAt != null && this.stoppedAt < e)
      throw new RangeError("Can't move stoppedAt forward");
    this.stoppedAt = e;
  }
  // Returns an updated version of the given stack, or null if the
  // stack can't advance normally. When `split` and `stacks` are
  // given, stacks split off by ambiguous operations will be pushed to
  // `split`, or added to `stacks` if they move `pos` forward.
  advanceStack(e, n, r) {
    let i = e.pos, { parser: o } = this, s = Wi ? this.stackID(e) + " -> " : "";
    if (this.stoppedAt != null && i > this.stoppedAt)
      return e.forceReduce() ? e : null;
    if (this.fragments) {
      let c = e.curContext && e.curContext.tracker.strict, u = c ? e.curContext.hash : 0;
      for (let f = this.fragments.nodeAt(i); f; ) {
        let d = this.parser.nodeSet.types[f.type.id] == f.type ? o.getGoto(e.state, f.type.id) : -1;
        if (d > -1 && f.length && (!c || (f.prop(gn.contextHash) || 0) == u))
          return e.useNode(f, d), Wi && console.log(s + this.stackID(e) + ` (via reuse of ${o.getName(f.type.id)})`), !0;
        if (!(f instanceof Pr) || f.children.length == 0 || f.positions[0] > 0)
          break;
        let h = f.children[0];
        if (h instanceof Pr && f.positions[0] == 0)
          f = h;
        else
          break;
      }
    }
    let a = o.stateSlot(
      e.state,
      4
      /* ParseState.DefaultReduce */
    );
    if (a > 0)
      return e.reduce(a), Wi && console.log(s + this.stackID(e) + ` (via always-reduce ${o.getName(
        a & 65535
        /* Action.ValueMask */
      )})`), !0;
    if (e.stack.length >= 8400)
      for (; e.stack.length > 6e3 && e.forceReduce(); )
        ;
    let l = this.tokens.getActions(e);
    for (let c = 0; c < l.length; ) {
      let u = l[c++], f = l[c++], d = l[c++], h = c == l.length || !r, p = h ? e : e.split(), m = this.tokens.mainToken;
      if (p.apply(u, f, m ? m.start : p.pos, d), Wi && console.log(s + this.stackID(p) + ` (via ${u & 65536 ? `reduce of ${o.getName(
        u & 65535
        /* Action.ValueMask */
      )}` : "shift"} for ${o.getName(f)} @ ${i}${p == e ? "" : ", split"})`), h)
        return !0;
      p.pos > i ? n.push(p) : r.push(p);
    }
    return !1;
  }
  // Advance a given stack forward as far as it will go. Returns the
  // (possibly updated) stack if it got stuck, or null if it moved
  // forward and was given to `pushStackDedup`.
  advanceFully(e, n) {
    let r = e.pos;
    for (; ; ) {
      if (!this.advanceStack(e, null, null))
        return !1;
      if (e.pos > r)
        return rj(e, n), !0;
    }
  }
  runRecovery(e, n, r) {
    let i = null, o = !1;
    for (let s = 0; s < e.length; s++) {
      let a = e[s], l = n[s << 1], c = n[(s << 1) + 1], u = Wi ? this.stackID(a) + " -> " : "";
      if (a.deadEnd && (o || (o = !0, a.restart(), Wi && console.log(u + this.stackID(a) + " (restarted)"), this.advanceFully(a, r))))
        continue;
      let f = a.split(), d = u;
      for (let h = 0; f.forceReduce() && h < 10 && (Wi && console.log(d + this.stackID(f) + " (via force-reduce)"), !this.advanceFully(f, r)); h++)
        Wi && (d = this.stackID(f) + " -> ");
      for (let h of a.recoverByInsert(l))
        Wi && console.log(u + this.stackID(h) + " (via recover-insert)"), this.advanceFully(h, r);
      this.stream.end > a.pos ? (c == a.pos && (c++, l = 0), a.recoverByDelete(l, c), Wi && console.log(u + this.stackID(a) + ` (via recover-delete ${this.parser.getName(l)})`), rj(a, r)) : (!i || i.score < a.score) && (i = a);
    }
    return i;
  }
  // Convert the stack's buffer to a syntax tree.
  stackToTree(e) {
    return e.close(), Pr.build({
      buffer: tp.create(e),
      nodeSet: this.parser.nodeSet,
      topID: this.topTerm,
      maxBufferLength: this.parser.bufferLength,
      reused: this.reused,
      start: this.ranges[0].from,
      length: e.pos - this.ranges[0].from,
      minRepeatType: this.parser.minRepeatTerm
    });
  }
  stackID(e) {
    let n = ($g || ($g = /* @__PURE__ */ new WeakMap())).get(e);
    return n || $g.set(e, n = String.fromCodePoint(this.nextStackID++)), n + e;
  }
}
function rj(t, e) {
  for (let n = 0; n < e.length; n++) {
    let r = e[n];
    if (r.pos == t.pos && r.sameState(t)) {
      e[n].score < t.score && (e[n] = t);
      return;
    }
  }
  e.push(t);
}
class OY {
  constructor(e, n, r) {
    this.source = e, this.flags = n, this.disabled = r;
  }
  allows(e) {
    return !this.disabled || this.disabled[e] == 0;
  }
}
class np extends vA {
  /**
  @internal
  */
  constructor(e) {
    if (super(), this.wrappers = [], e.version != 14)
      throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);
    let n = e.nodeNames.split(" ");
    this.minRepeatTerm = n.length;
    for (let a = 0; a < e.repeatNodeCount; a++)
      n.push("");
    let r = Object.keys(e.topRules).map((a) => e.topRules[a][1]), i = [];
    for (let a = 0; a < n.length; a++)
      i.push([]);
    function o(a, l, c) {
      i[a].push([l, l.deserialize(String(c))]);
    }
    if (e.nodeProps)
      for (let a of e.nodeProps) {
        let l = a[0];
        typeof l == "string" && (l = gn[l]);
        for (let c = 1; c < a.length; ) {
          let u = a[c++];
          if (u >= 0)
            o(u, l, a[c++]);
          else {
            let f = a[c + -u];
            for (let d = -u; d > 0; d--)
              o(a[c++], l, f);
            c++;
          }
        }
      }
    this.nodeSet = new Ay(n.map((a, l) => Li.define({
      name: l >= this.minRepeatTerm ? void 0 : a,
      id: l,
      props: i[l],
      top: r.indexOf(l) > -1,
      error: l == 0,
      skipped: e.skippedNodes && e.skippedNodes.indexOf(l) > -1
    }))), e.propSources && (this.nodeSet = this.nodeSet.extend(...e.propSources)), this.strict = !1, this.bufferLength = hA;
    let s = Ld(e.tokenData);
    this.context = e.context, this.specializerSpecs = e.specialized || [], this.specialized = new Uint16Array(this.specializerSpecs.length);
    for (let a = 0; a < this.specializerSpecs.length; a++)
      this.specialized[a] = this.specializerSpecs[a].term;
    this.specializers = this.specializerSpecs.map(ij), this.states = Ld(e.states, Uint32Array), this.data = Ld(e.stateData), this.goto = Ld(e.goto), this.maxTerm = e.maxTerm, this.tokenizers = e.tokenizers.map((a) => typeof a == "number" ? new xc(s, a) : a), this.topRules = e.topRules, this.dialects = e.dialects || {}, this.dynamicPrecedences = e.dynamicPrecedences || null, this.tokenPrecTable = e.tokenPrec, this.termNames = e.termNames || null, this.maxNode = this.nodeSet.types.length - 1, this.dialect = this.parseDialect(), this.top = this.topRules[Object.keys(this.topRules)[0]];
  }
  createParse(e, n, r) {
    let i = new _Y(this, e, n, r);
    for (let o of this.wrappers)
      i = o(i, e, n, r);
    return i;
  }
  /**
  Get a goto table entry @internal
  */
  getGoto(e, n, r = !1) {
    let i = this.goto;
    if (n >= i[0])
      return -1;
    for (let o = i[n + 1]; ; ) {
      let s = i[o++], a = s & 1, l = i[o++];
      if (a && r)
        return l;
      for (let c = o + (s >> 1); o < c; o++)
        if (i[o] == e)
          return l;
      if (a)
        return -1;
    }
  }
  /**
  Check if this state has an action for a given terminal @internal
  */
  hasAction(e, n) {
    let r = this.data;
    for (let i = 0; i < 2; i++)
      for (let o = this.stateSlot(
        e,
        i ? 2 : 1
        /* ParseState.Actions */
      ), s; ; o += 3) {
        if ((s = r[o]) == 65535)
          if (r[o + 1] == 1)
            s = r[o = Rs(r, o + 2)];
          else {
            if (r[o + 1] == 2)
              return Rs(r, o + 2);
            break;
          }
        if (s == n || s == 0)
          return Rs(r, o + 1);
      }
    return 0;
  }
  /**
  @internal
  */
  stateSlot(e, n) {
    return this.states[e * 6 + n];
  }
  /**
  @internal
  */
  stateFlag(e, n) {
    return (this.stateSlot(
      e,
      0
      /* ParseState.Flags */
    ) & n) > 0;
  }
  /**
  @internal
  */
  validAction(e, n) {
    return !!this.allActions(e, (r) => r == n ? !0 : null);
  }
  /**
  @internal
  */
  allActions(e, n) {
    let r = this.stateSlot(
      e,
      4
      /* ParseState.DefaultReduce */
    ), i = r ? n(r) : void 0;
    for (let o = this.stateSlot(
      e,
      1
      /* ParseState.Actions */
    ); i == null; o += 3) {
      if (this.data[o] == 65535)
        if (this.data[o + 1] == 1)
          o = Rs(this.data, o + 2);
        else
          break;
      i = n(Rs(this.data, o + 1));
    }
    return i;
  }
  /**
  Get the states that can follow this one through shift actions or
  goto jumps. @internal
  */
  nextStates(e) {
    let n = [];
    for (let r = this.stateSlot(
      e,
      1
      /* ParseState.Actions */
    ); ; r += 3) {
      if (this.data[r] == 65535)
        if (this.data[r + 1] == 1)
          r = Rs(this.data, r + 2);
        else
          break;
      if (!(this.data[r + 2] & 1)) {
        let i = this.data[r + 1];
        n.some((o, s) => s & 1 && o == i) || n.push(this.data[r], i);
      }
    }
    return n;
  }
  /**
  Configure the parser. Returns a new parser instance that has the
  given settings modified. Settings not provided in `config` are
  kept from the original parser.
  */
  configure(e) {
    let n = Object.assign(Object.create(np.prototype), this);
    if (e.props && (n.nodeSet = this.nodeSet.extend(...e.props)), e.top) {
      let r = this.topRules[e.top];
      if (!r)
        throw new RangeError(`Invalid top rule name ${e.top}`);
      n.top = r;
    }
    return e.tokenizers && (n.tokenizers = this.tokenizers.map((r) => {
      let i = e.tokenizers.find((o) => o.from == r);
      return i ? i.to : r;
    })), e.specializers && (n.specializers = this.specializers.slice(), n.specializerSpecs = this.specializerSpecs.map((r, i) => {
      let o = e.specializers.find((a) => a.from == r.external);
      if (!o)
        return r;
      let s = Object.assign(Object.assign({}, r), { external: o.to });
      return n.specializers[i] = ij(s), s;
    })), e.contextTracker && (n.context = e.contextTracker), e.dialect && (n.dialect = this.parseDialect(e.dialect)), e.strict != null && (n.strict = e.strict), e.wrap && (n.wrappers = n.wrappers.concat(e.wrap)), e.bufferLength != null && (n.bufferLength = e.bufferLength), n;
  }
  /**
  Tells you whether any [parse wrappers](#lr.ParserConfig.wrap)
  are registered for this parser.
  */
  hasWrappers() {
    return this.wrappers.length > 0;
  }
  /**
  Returns the name associated with a given term. This will only
  work for all terms when the parser was generated with the
  `--names` option. By default, only the names of tagged terms are
  stored.
  */
  getName(e) {
    return this.termNames ? this.termNames[e] : String(e <= this.maxNode && this.nodeSet.types[e].name || e);
  }
  /**
  The eof term id is always allocated directly after the node
  types. @internal
  */
  get eofTerm() {
    return this.maxNode + 1;
  }
  /**
  The type of top node produced by the parser.
  */
  get topNode() {
    return this.nodeSet.types[this.top[1]];
  }
  /**
  @internal
  */
  dynamicPrecedence(e) {
    let n = this.dynamicPrecedences;
    return n == null ? 0 : n[e] || 0;
  }
  /**
  @internal
  */
  parseDialect(e) {
    let n = Object.keys(this.dialects), r = n.map(() => !1);
    if (e)
      for (let o of e.split(" ")) {
        let s = n.indexOf(o);
        s >= 0 && (r[s] = !0);
      }
    let i = null;
    for (let o = 0; o < n.length; o++)
      if (!r[o])
        for (let s = this.dialects[n[o]], a; (a = this.data[s++]) != 65535; )
          (i || (i = new Uint8Array(this.maxTerm + 1)))[a] = 1;
    return new OY(e, r, i);
  }
  /**
  Used by the output of the parser generator. Not available to
  user code. @hide
  */
  static deserialize(e) {
    return new np(e);
  }
}
function Rs(t, e) {
  return t[e] | t[e + 1] << 16;
}
function AY(t) {
  let e = null;
  for (let n of t) {
    let r = n.p.stoppedAt;
    (n.pos == n.p.stream.end || r != null && n.pos > r) && n.p.parser.stateFlag(
      n.state,
      2
      /* StateFlag.Accepting */
    ) && (!e || e.score < n.score) && (e = n);
  }
  return e;
}
function ij(t) {
  if (t.external) {
    let e = t.extend ? 1 : 0;
    return (n, r) => t.external(n, r) << 1 | e;
  }
  return t.get;
}
const EY = yA({
  String: Ve.string,
  Number: Ve.number,
  "True False": Ve.bool,
  PropertyName: Ve.propertyName,
  Null: Ve.null,
  ",": Ve.separator,
  "[ ]": Ve.squareBracket,
  "{ }": Ve.brace
}), MY = np.deserialize({
  version: 14,
  states: "$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",
  stateData: "#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",
  goto: "!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",
  nodeNames: " JsonText True False Null Number String } { Object Property PropertyName ] [ Array",
  maxTerm: 25,
  nodeProps: [
    ["isolate", -2, 6, 11, ""],
    ["openedBy", 7, "{", 12, "["],
    ["closedBy", 8, "}", 13, "]"]
  ],
  propSources: [EY],
  skippedNodes: [0],
  repeatNodeCount: 2,
  tokenData: "(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oc~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Oe~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zOh~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yOg~~'OO]~~'TO[~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",
  tokenizers: [0],
  topRules: { JsonText: [0, 1] },
  tokenPrec: 0
}), TY = /* @__PURE__ */ Gh.define({
  name: "json",
  parser: /* @__PURE__ */ MY.configure({
    props: [
      /* @__PURE__ */ jA.add({
        Object: /* @__PURE__ */ Lw({ except: /^\s*\}/ }),
        Array: /* @__PURE__ */ Lw({ except: /^\s*\]/ })
      }),
      /* @__PURE__ */ kA.add({
        "Object Array": pG
      })
    ]
  }),
  languageData: {
    closeBrackets: { brackets: ["[", "{", '"'] },
    indentOnInput: /^\s*[\}\]]$/
  }
});
function RY() {
  return new nG(TY);
}
const oj = typeof String.prototype.normalize == "function" ? (t) => t.normalize("NFKD") : (t) => t;
class Pc {
  /**
  Create a text cursor. The query is the search string, `from` to
  `to` provides the region to search.
  
  When `normalize` is given, it will be called, on both the query
  string and the content it is matched against, before comparing.
  You can, for example, create a case-insensitive search by
  passing `s => s.toLowerCase()`.
  
  Text is always normalized with
  [`.normalize("NFKD")`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize)
  (when supported).
  */
  constructor(e, n, r = 0, i = e.length, o, s) {
    this.test = s, this.value = { from: 0, to: 0 }, this.done = !1, this.matches = [], this.buffer = "", this.bufferPos = 0, this.iter = e.iterRange(r, i), this.bufferStart = r, this.normalize = o ? (a) => o(oj(a)) : oj, this.query = this.normalize(n);
  }
  peek() {
    if (this.bufferPos == this.buffer.length) {
      if (this.bufferStart += this.buffer.length, this.iter.next(), this.iter.done)
        return -1;
      this.bufferPos = 0, this.buffer = this.iter.value;
    }
    return Qr(this.buffer, this.bufferPos);
  }
  /**
  Look for the next match. Updates the iterator's
  [`value`](https://codemirror.net/6/docs/ref/#search.SearchCursor.value) and
  [`done`](https://codemirror.net/6/docs/ref/#search.SearchCursor.done) properties. Should be called
  at least once before using the cursor.
  */
  next() {
    for (; this.matches.length; )
      this.matches.pop();
    return this.nextOverlapping();
  }
  /**
  The `next` method will ignore matches that partially overlap a
  previous match. This method behaves like `next`, but includes
  such matches.
  */
  nextOverlapping() {
    for (; ; ) {
      let e = this.peek();
      if (e < 0)
        return this.done = !0, this;
      let n = vy(e), r = this.bufferStart + this.bufferPos;
      this.bufferPos += lo(e);
      let i = this.normalize(n);
      for (let o = 0, s = r; ; o++) {
        let a = i.charCodeAt(o), l = this.match(a, s);
        if (o == i.length - 1) {
          if (l)
            return this.value = l, this;
          break;
        }
        s == r && o < n.length && n.charCodeAt(o) == a && s++;
      }
    }
  }
  match(e, n) {
    let r = null;
    for (let i = 0; i < this.matches.length; i += 2) {
      let o = this.matches[i], s = !1;
      this.query.charCodeAt(o) == e && (o == this.query.length - 1 ? r = { from: this.matches[i + 1], to: n + 1 } : (this.matches[i]++, s = !0)), s || (this.matches.splice(i, 2), i -= 2);
    }
    return this.query.charCodeAt(0) == e && (this.query.length == 1 ? r = { from: n, to: n + 1 } : this.matches.push(1, n)), r && this.test && !this.test(r.from, r.to, this.buffer, this.bufferStart) && (r = null), r;
  }
}
typeof Symbol < "u" && (Pc.prototype[Symbol.iterator] = function() {
  return this;
});
const $E = { from: -1, to: -1, match: /* @__PURE__ */ /.*/.exec("") }, Vy = "gm" + (/x/.unicode == null ? "" : "u");
class kE {
  /**
  Create a cursor that will search the given range in the given
  document. `query` should be the raw pattern (as you'd pass it to
  `new RegExp`).
  */
  constructor(e, n, r, i = 0, o = e.length) {
    if (this.text = e, this.to = o, this.curLine = "", this.done = !1, this.value = $E, /\\[sWDnr]|\n|\r|\[\^/.test(n))
      return new SE(e, n, r, i, o);
    this.re = new RegExp(n, Vy + (r != null && r.ignoreCase ? "i" : "")), this.test = r == null ? void 0 : r.test, this.iter = e.iter();
    let s = e.lineAt(i);
    this.curLineStart = s.from, this.matchPos = rp(e, i), this.getLine(this.curLineStart);
  }
  getLine(e) {
    this.iter.next(e), this.iter.lineBreak ? this.curLine = "" : (this.curLine = this.iter.value, this.curLineStart + this.curLine.length > this.to && (this.curLine = this.curLine.slice(0, this.to - this.curLineStart)), this.iter.next());
  }
  nextLine() {
    this.curLineStart = this.curLineStart + this.curLine.length + 1, this.curLineStart > this.to ? this.curLine = "" : this.getLine(0);
  }
  /**
  Move to the next match, if there is one.
  */
  next() {
    for (let e = this.matchPos - this.curLineStart; ; ) {
      this.re.lastIndex = e;
      let n = this.matchPos <= this.to && this.re.exec(this.curLine);
      if (n) {
        let r = this.curLineStart + n.index, i = r + n[0].length;
        if (this.matchPos = rp(this.text, i + (r == i ? 1 : 0)), r == this.curLineStart + this.curLine.length && this.nextLine(), (r < i || r > this.value.to) && (!this.test || this.test(r, i, n)))
          return this.value = { from: r, to: i, match: n }, this;
        e = this.matchPos - this.curLineStart;
      } else if (this.curLineStart + this.curLine.length < this.to)
        this.nextLine(), e = 0;
      else
        return this.done = !0, this;
    }
  }
}
const kg = /* @__PURE__ */ new WeakMap();
class wc {
  constructor(e, n) {
    this.from = e, this.text = n;
  }
  get to() {
    return this.from + this.text.length;
  }
  static get(e, n, r) {
    let i = kg.get(e);
    if (!i || i.from >= r || i.to <= n) {
      let a = new wc(n, e.sliceString(n, r));
      return kg.set(e, a), a;
    }
    if (i.from == n && i.to == r)
      return i;
    let { text: o, from: s } = i;
    return s > n && (o = e.sliceString(n, s) + o, s = n), i.to < r && (o += e.sliceString(i.to, r)), kg.set(e, new wc(s, o)), new wc(n, o.slice(n - s, r - s));
  }
}
class SE {
  constructor(e, n, r, i, o) {
    this.text = e, this.to = o, this.done = !1, this.value = $E, this.matchPos = rp(e, i), this.re = new RegExp(n, Vy + (r != null && r.ignoreCase ? "i" : "")), this.test = r == null ? void 0 : r.test, this.flat = wc.get(e, i, this.chunkEnd(
      i + 5e3
      /* Chunk.Base */
    ));
  }
  chunkEnd(e) {
    return e >= this.to ? this.to : this.text.lineAt(e).to;
  }
  next() {
    for (; ; ) {
      let e = this.re.lastIndex = this.matchPos - this.flat.from, n = this.re.exec(this.flat.text);
      if (n && !n[0] && n.index == e && (this.re.lastIndex = e + 1, n = this.re.exec(this.flat.text)), n) {
        let r = this.flat.from + n.index, i = r + n[0].length;
        if ((this.flat.to >= this.to || n.index + n[0].length <= this.flat.text.length - 10) && (!this.test || this.test(r, i, n)))
          return this.value = { from: r, to: i, match: n }, this.matchPos = rp(this.text, i + (r == i ? 1 : 0)), this;
      }
      if (this.flat.to == this.to)
        return this.done = !0, this;
      this.flat = wc.get(this.text, this.flat.from, this.chunkEnd(this.flat.from + this.flat.text.length * 2));
    }
  }
}
typeof Symbol < "u" && (kE.prototype[Symbol.iterator] = SE.prototype[Symbol.iterator] = function() {
  return this;
});
function PY(t) {
  try {
    return new RegExp(t, Vy), !0;
  } catch {
    return !1;
  }
}
function rp(t, e) {
  if (e >= t.length)
    return e;
  let n = t.lineAt(e), r;
  for (; e < n.to && (r = n.text.charCodeAt(e - n.from)) >= 56320 && r < 57344; )
    e++;
  return e;
}
function a0(t) {
  let e = String(t.state.doc.lineAt(t.state.selection.main.head).number), n = rr("input", { class: "cm-textfield", name: "line", value: e }), r = rr("form", {
    class: "cm-gotoLine",
    onkeydown: (o) => {
      o.keyCode == 27 ? (o.preventDefault(), t.dispatch({ effects: ip.of(!1) }), t.focus()) : o.keyCode == 13 && (o.preventDefault(), i());
    },
    onsubmit: (o) => {
      o.preventDefault(), i();
    }
  }, rr("label", t.state.phrase("Go to line"), ": ", n), " ", rr("button", { class: "cm-button", type: "submit" }, t.state.phrase("go")));
  function i() {
    let o = /^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);
    if (!o)
      return;
    let { state: s } = t, a = s.doc.lineAt(s.selection.main.head), [, l, c, u, f] = o, d = u ? +u.slice(1) : 0, h = c ? +c : a.number;
    if (c && f) {
      let g = h / 100;
      l && (g = g * (l == "-" ? -1 : 1) + a.number / s.doc.lines), h = Math.round(s.doc.lines * g);
    } else
      c && l && (h = h * (l == "-" ? -1 : 1) + a.number);
    let p = s.doc.line(Math.max(1, Math.min(s.doc.lines, h))), m = Re.cursor(p.from + Math.max(0, Math.min(d, p.length)));
    t.dispatch({
      effects: [ip.of(!1), nt.scrollIntoView(m.from, { y: "center" })],
      selection: m
    }), t.focus();
  }
  return { dom: r };
}
const ip = /* @__PURE__ */ ln.define(), sj = /* @__PURE__ */ zr.define({
  create() {
    return !0;
  },
  update(t, e) {
    for (let n of e.effects)
      n.is(ip) && (t = n.value);
    return t;
  },
  provide: (t) => yf.from(t, (e) => e ? a0 : null)
}), IY = (t) => {
  let e = vf(t, a0);
  if (!e) {
    let n = [ip.of(!0)];
    t.state.field(sj, !1) == null && n.push(ln.appendConfig.of([sj, NY])), t.dispatch({ effects: n }), e = vf(t, a0);
  }
  return e && e.dom.querySelector("input").select(), !0;
}, NY = /* @__PURE__ */ nt.baseTheme({
  ".cm-panel.cm-gotoLine": {
    padding: "2px 6px 4px",
    "& label": { fontSize: "80%" }
  }
}), DY = {
  highlightWordAroundCursor: !1,
  minSelectionLength: 1,
  maxMatches: 100,
  wholeWords: !1
}, CE = /* @__PURE__ */ pt.define({
  combine(t) {
    return _o(t, DY, {
      highlightWordAroundCursor: (e, n) => e || n,
      minSelectionLength: Math.min,
      maxMatches: Math.min
    });
  }
});
function LY(t) {
  let e = [VY, FY];
  return t && e.push(CE.of(t)), e;
}
const BY = /* @__PURE__ */ Bt.mark({ class: "cm-selectionMatch" }), qY = /* @__PURE__ */ Bt.mark({ class: "cm-selectionMatch cm-selectionMatch-main" });
function aj(t, e, n, r) {
  return (n == 0 || t(e.sliceDoc(n - 1, n)) != gr.Word) && (r == e.doc.length || t(e.sliceDoc(r, r + 1)) != gr.Word);
}
function zY(t, e, n, r) {
  return t(e.sliceDoc(n, n + 1)) == gr.Word && t(e.sliceDoc(r - 1, r)) == gr.Word;
}
const FY = /* @__PURE__ */ kr.fromClass(class {
  constructor(t) {
    this.decorations = this.getDeco(t);
  }
  update(t) {
    (t.selectionSet || t.docChanged || t.viewportChanged) && (this.decorations = this.getDeco(t.view));
  }
  getDeco(t) {
    let e = t.state.facet(CE), { state: n } = t, r = n.selection;
    if (r.ranges.length > 1)
      return Bt.none;
    let i = r.main, o, s = null;
    if (i.empty) {
      if (!e.highlightWordAroundCursor)
        return Bt.none;
      let l = n.wordAt(i.head);
      if (!l)
        return Bt.none;
      s = n.charCategorizer(i.head), o = n.sliceDoc(l.from, l.to);
    } else {
      let l = i.to - i.from;
      if (l < e.minSelectionLength || l > 200)
        return Bt.none;
      if (e.wholeWords) {
        if (o = n.sliceDoc(i.from, i.to), s = n.charCategorizer(i.head), !(aj(s, n, i.from, i.to) && zY(s, n, i.from, i.to)))
          return Bt.none;
      } else if (o = n.sliceDoc(i.from, i.to).trim(), !o)
        return Bt.none;
    }
    let a = [];
    for (let l of t.visibleRanges) {
      let c = new Pc(n.doc, o, l.from, l.to);
      for (; !c.next().done; ) {
        let { from: u, to: f } = c.value;
        if ((!s || aj(s, n, u, f)) && (i.empty && u <= i.from && f >= i.to ? a.push(qY.range(u, f)) : (u >= i.to || f <= i.from) && a.push(BY.range(u, f)), a.length > e.maxMatches))
          return Bt.none;
      }
    }
    return Bt.set(a);
  }
}, {
  decorations: (t) => t.decorations
}), VY = /* @__PURE__ */ nt.baseTheme({
  ".cm-selectionMatch": { backgroundColor: "#99ff7780" },
  ".cm-searchMatch .cm-selectionMatch": { backgroundColor: "transparent" }
}), WY = ({ state: t, dispatch: e }) => {
  let { selection: n } = t, r = Re.create(n.ranges.map((i) => t.wordAt(i.head) || Re.cursor(i.head)), n.mainIndex);
  return r.eq(n) ? !1 : (e(t.update({ selection: r })), !0);
};
function HY(t, e) {
  let { main: n, ranges: r } = t.selection, i = t.wordAt(n.head), o = i && i.from == n.from && i.to == n.to;
  for (let s = !1, a = new Pc(t.doc, e, r[r.length - 1].to); ; )
    if (a.next(), a.done) {
      if (s)
        return null;
      a = new Pc(t.doc, e, 0, Math.max(0, r[r.length - 1].from - 1)), s = !0;
    } else {
      if (s && r.some((l) => l.from == a.value.from))
        continue;
      if (o) {
        let l = t.wordAt(a.value.from);
        if (!l || l.from != a.value.from || l.to != a.value.to)
          continue;
      }
      return a.value;
    }
}
const UY = ({ state: t, dispatch: e }) => {
  let { ranges: n } = t.selection;
  if (n.some((o) => o.from === o.to))
    return WY({ state: t, dispatch: e });
  let r = t.sliceDoc(n[0].from, n[0].to);
  if (t.selection.ranges.some((o) => t.sliceDoc(o.from, o.to) != r))
    return !1;
  let i = HY(t, r);
  return i ? (e(t.update({
    selection: t.selection.addRange(Re.range(i.from, i.to), !1),
    effects: nt.scrollIntoView(i.to)
  })), !0) : !1;
}, zl = /* @__PURE__ */ pt.define({
  combine(t) {
    return _o(t, {
      top: !1,
      caseSensitive: !1,
      literal: !1,
      regexp: !1,
      wholeWord: !1,
      createPanel: (e) => new oQ(e),
      scrollToMatch: (e) => nt.scrollIntoView(e)
    });
  }
});
function JY(t) {
  return t ? [zl.of(t), c0] : c0;
}
class _E {
  /**
  Create a query object.
  */
  constructor(e) {
    this.search = e.search, this.caseSensitive = !!e.caseSensitive, this.literal = !!e.literal, this.regexp = !!e.regexp, this.replace = e.replace || "", this.valid = !!this.search && (!this.regexp || PY(this.search)), this.unquoted = this.unquote(this.search), this.wholeWord = !!e.wholeWord;
  }
  /**
  @internal
  */
  unquote(e) {
    return this.literal ? e : e.replace(/\\([nrt\\])/g, (n, r) => r == "n" ? `
` : r == "r" ? "\r" : r == "t" ? "	" : "\\");
  }
  /**
  Compare this query to another query.
  */
  eq(e) {
    return this.search == e.search && this.replace == e.replace && this.caseSensitive == e.caseSensitive && this.regexp == e.regexp && this.wholeWord == e.wholeWord;
  }
  /**
  @internal
  */
  create() {
    return this.regexp ? new QY(this) : new KY(this);
  }
  /**
  Get a search cursor for this query, searching through the given
  range in the given state.
  */
  getCursor(e, n = 0, r) {
    let i = e.doc ? e : xn.create({ doc: e });
    return r == null && (r = i.doc.length), this.regexp ? Xl(this, i, n, r) : Ql(this, i, n, r);
  }
}
class OE {
  constructor(e) {
    this.spec = e;
  }
}
function Ql(t, e, n, r) {
  return new Pc(e.doc, t.unquoted, n, r, t.caseSensitive ? void 0 : (i) => i.toLowerCase(), t.wholeWord ? GY(e.doc, e.charCategorizer(e.selection.main.head)) : void 0);
}
function GY(t, e) {
  return (n, r, i, o) => ((o > n || o + i.length < r) && (o = Math.max(0, n - 2), i = t.sliceString(o, Math.min(t.length, r + 2))), (e(op(i, n - o)) != gr.Word || e(sp(i, n - o)) != gr.Word) && (e(sp(i, r - o)) != gr.Word || e(op(i, r - o)) != gr.Word));
}
class KY extends OE {
  constructor(e) {
    super(e);
  }
  nextMatch(e, n, r) {
    let i = Ql(this.spec, e, r, e.doc.length).nextOverlapping();
    return i.done && (i = Ql(this.spec, e, 0, n).nextOverlapping()), i.done ? null : i.value;
  }
  // Searching in reverse is, rather than implementing an inverted search
  // cursor, done by scanning chunk after chunk forward.
  prevMatchInRange(e, n, r) {
    for (let i = r; ; ) {
      let o = Math.max(n, i - 1e4 - this.spec.unquoted.length), s = Ql(this.spec, e, o, i), a = null;
      for (; !s.nextOverlapping().done; )
        a = s.value;
      if (a)
        return a;
      if (o == n)
        return null;
      i -= 1e4;
    }
  }
  prevMatch(e, n, r) {
    return this.prevMatchInRange(e, 0, n) || this.prevMatchInRange(e, r, e.doc.length);
  }
  getReplacement(e) {
    return this.spec.unquote(this.spec.replace);
  }
  matchAll(e, n) {
    let r = Ql(this.spec, e, 0, e.doc.length), i = [];
    for (; !r.next().done; ) {
      if (i.length >= n)
        return null;
      i.push(r.value);
    }
    return i;
  }
  highlight(e, n, r, i) {
    let o = Ql(this.spec, e, Math.max(0, n - this.spec.unquoted.length), Math.min(r + this.spec.unquoted.length, e.doc.length));
    for (; !o.next().done; )
      i(o.value.from, o.value.to);
  }
}
function Xl(t, e, n, r) {
  return new kE(e.doc, t.search, {
    ignoreCase: !t.caseSensitive,
    test: t.wholeWord ? YY(e.charCategorizer(e.selection.main.head)) : void 0
  }, n, r);
}
function op(t, e) {
  return t.slice(ni(t, e, !1), e);
}
function sp(t, e) {
  return t.slice(e, ni(t, e));
}
function YY(t) {
  return (e, n, r) => !r[0].length || (t(op(r.input, r.index)) != gr.Word || t(sp(r.input, r.index)) != gr.Word) && (t(sp(r.input, r.index + r[0].length)) != gr.Word || t(op(r.input, r.index + r[0].length)) != gr.Word);
}
class QY extends OE {
  nextMatch(e, n, r) {
    let i = Xl(this.spec, e, r, e.doc.length).next();
    return i.done && (i = Xl(this.spec, e, 0, n).next()), i.done ? null : i.value;
  }
  prevMatchInRange(e, n, r) {
    for (let i = 1; ; i++) {
      let o = Math.max(
        n,
        r - i * 1e4
        /* FindPrev.ChunkSize */
      ), s = Xl(this.spec, e, o, r), a = null;
      for (; !s.next().done; )
        a = s.value;
      if (a && (o == n || a.from > o + 10))
        return a;
      if (o == n)
        return null;
    }
  }
  prevMatch(e, n, r) {
    return this.prevMatchInRange(e, 0, n) || this.prevMatchInRange(e, r, e.doc.length);
  }
  getReplacement(e) {
    return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g, (n, r) => r == "$" ? "$" : r == "&" ? e.match[0] : r != "0" && +r < e.match.length ? e.match[r] : n);
  }
  matchAll(e, n) {
    let r = Xl(this.spec, e, 0, e.doc.length), i = [];
    for (; !r.next().done; ) {
      if (i.length >= n)
        return null;
      i.push(r.value);
    }
    return i;
  }
  highlight(e, n, r, i) {
    let o = Xl(this.spec, e, Math.max(
      0,
      n - 250
      /* RegExp.HighlightMargin */
    ), Math.min(r + 250, e.doc.length));
    for (; !o.next().done; )
      i(o.value.from, o.value.to);
  }
}
const wf = /* @__PURE__ */ ln.define(), Wy = /* @__PURE__ */ ln.define(), wa = /* @__PURE__ */ zr.define({
  create(t) {
    return new Sg(l0(t).create(), null);
  },
  update(t, e) {
    for (let n of e.effects)
      n.is(wf) ? t = new Sg(n.value.create(), t.panel) : n.is(Wy) && (t = new Sg(t.query, n.value ? Hy : null));
    return t;
  },
  provide: (t) => yf.from(t, (e) => e.panel)
});
class Sg {
  constructor(e, n) {
    this.query = e, this.panel = n;
  }
}
const XY = /* @__PURE__ */ Bt.mark({ class: "cm-searchMatch" }), ZY = /* @__PURE__ */ Bt.mark({ class: "cm-searchMatch cm-searchMatch-selected" }), eQ = /* @__PURE__ */ kr.fromClass(class {
  constructor(t) {
    this.view = t, this.decorations = this.highlight(t.state.field(wa));
  }
  update(t) {
    let e = t.state.field(wa);
    (e != t.startState.field(wa) || t.docChanged || t.selectionSet || t.viewportChanged) && (this.decorations = this.highlight(e));
  }
  highlight({ query: t, panel: e }) {
    if (!e || !t.spec.valid)
      return Bt.none;
    let { view: n } = this, r = new ms();
    for (let i = 0, o = n.visibleRanges, s = o.length; i < s; i++) {
      let { from: a, to: l } = o[i];
      for (; i < s - 1 && l > o[i + 1].from - 2 * 250; )
        l = o[++i].to;
      t.highlight(n.state, a, l, (c, u) => {
        let f = n.state.selection.ranges.some((d) => d.from == c && d.to == u);
        r.add(c, u, f ? ZY : XY);
      });
    }
    return r.finish();
  }
}, {
  decorations: (t) => t.decorations
});
function Qf(t) {
  return (e) => {
    let n = e.state.field(wa, !1);
    return n && n.query.spec.valid ? t(e, n) : Uy(e);
  };
}
const ap = /* @__PURE__ */ Qf((t, { query: e }) => {
  let { to: n } = t.state.selection.main, r = e.nextMatch(t.state, n, n);
  if (!r)
    return !1;
  let i = Re.single(r.from, r.to), o = t.state.facet(zl);
  return t.dispatch({
    selection: i,
    effects: [Gy(t, r), o.scrollToMatch(i.main, t)],
    userEvent: "select.search"
  }), EE(t), !0;
}), lp = /* @__PURE__ */ Qf((t, { query: e }) => {
  let { state: n } = t, { from: r } = n.selection.main, i = e.prevMatch(n, r, r);
  if (!i)
    return !1;
  let o = Re.single(i.from, i.to), s = t.state.facet(zl);
  return t.dispatch({
    selection: o,
    effects: [Gy(t, i), s.scrollToMatch(o.main, t)],
    userEvent: "select.search"
  }), EE(t), !0;
}), tQ = /* @__PURE__ */ Qf((t, { query: e }) => {
  let n = e.matchAll(t.state, 1e3);
  return !n || !n.length ? !1 : (t.dispatch({
    selection: Re.create(n.map((r) => Re.range(r.from, r.to))),
    userEvent: "select.search.matches"
  }), !0);
}), nQ = ({ state: t, dispatch: e }) => {
  let n = t.selection;
  if (n.ranges.length > 1 || n.main.empty)
    return !1;
  let { from: r, to: i } = n.main, o = [], s = 0;
  for (let a = new Pc(t.doc, t.sliceDoc(r, i)); !a.next().done; ) {
    if (o.length > 1e3)
      return !1;
    a.value.from == r && (s = o.length), o.push(Re.range(a.value.from, a.value.to));
  }
  return e(t.update({
    selection: Re.create(o, s),
    userEvent: "select.search.matches"
  })), !0;
}, lj = /* @__PURE__ */ Qf((t, { query: e }) => {
  let { state: n } = t, { from: r, to: i } = n.selection.main;
  if (n.readOnly)
    return !1;
  let o = e.nextMatch(n, r, r);
  if (!o)
    return !1;
  let s = [], a, l, c = [];
  if (o.from == r && o.to == i && (l = n.toText(e.getReplacement(o)), s.push({ from: o.from, to: o.to, insert: l }), o = e.nextMatch(n, o.from, o.to), c.push(nt.announce.of(n.phrase("replaced match on line $", n.doc.lineAt(r).number) + "."))), o) {
    let u = s.length == 0 || s[0].from >= o.to ? 0 : o.to - o.from - l.length;
    a = Re.single(o.from - u, o.to - u), c.push(Gy(t, o)), c.push(n.facet(zl).scrollToMatch(a.main, t));
  }
  return t.dispatch({
    changes: s,
    selection: a,
    effects: c,
    userEvent: "input.replace"
  }), !0;
}), rQ = /* @__PURE__ */ Qf((t, { query: e }) => {
  if (t.state.readOnly)
    return !1;
  let n = e.matchAll(t.state, 1e9).map((i) => {
    let { from: o, to: s } = i;
    return { from: o, to: s, insert: e.getReplacement(i) };
  });
  if (!n.length)
    return !1;
  let r = t.state.phrase("replaced $ matches", n.length) + ".";
  return t.dispatch({
    changes: n,
    effects: nt.announce.of(r),
    userEvent: "input.replace.all"
  }), !0;
});
function Hy(t) {
  return t.state.facet(zl).createPanel(t);
}
function l0(t, e) {
  var n, r, i, o, s;
  let a = t.selection.main, l = a.empty || a.to > a.from + 100 ? "" : t.sliceDoc(a.from, a.to);
  if (e && !l)
    return e;
  let c = t.facet(zl);
  return new _E({
    search: ((n = e == null ? void 0 : e.literal) !== null && n !== void 0 ? n : c.literal) ? l : l.replace(/\n/g, "\\n"),
    caseSensitive: (r = e == null ? void 0 : e.caseSensitive) !== null && r !== void 0 ? r : c.caseSensitive,
    literal: (i = e == null ? void 0 : e.literal) !== null && i !== void 0 ? i : c.literal,
    regexp: (o = e == null ? void 0 : e.regexp) !== null && o !== void 0 ? o : c.regexp,
    wholeWord: (s = e == null ? void 0 : e.wholeWord) !== null && s !== void 0 ? s : c.wholeWord
  });
}
function AE(t) {
  let e = vf(t, Hy);
  return e && e.dom.querySelector("[main-field]");
}
function EE(t) {
  let e = AE(t);
  e && e == t.root.activeElement && e.select();
}
const Uy = (t) => {
  let e = t.state.field(wa, !1);
  if (e && e.panel) {
    let n = AE(t);
    if (n && n != t.root.activeElement) {
      let r = l0(t.state, e.query.spec);
      r.valid && t.dispatch({ effects: wf.of(r) }), n.focus(), n.select();
    }
  } else
    t.dispatch({ effects: [
      Wy.of(!0),
      e ? wf.of(l0(t.state, e.query.spec)) : ln.appendConfig.of(c0)
    ] });
  return !0;
}, Jy = (t) => {
  let e = t.state.field(wa, !1);
  if (!e || !e.panel)
    return !1;
  let n = vf(t, Hy);
  return n && n.dom.contains(t.root.activeElement) && t.focus(), t.dispatch({ effects: Wy.of(!1) }), !0;
}, iQ = [
  { key: "Mod-f", run: Uy, scope: "editor search-panel" },
  { key: "F3", run: ap, shift: lp, scope: "editor search-panel", preventDefault: !0 },
  { key: "Mod-g", run: ap, shift: lp, scope: "editor search-panel", preventDefault: !0 },
  { key: "Escape", run: Jy, scope: "editor search-panel" },
  { key: "Mod-Shift-l", run: nQ },
  { key: "Mod-Alt-g", run: IY },
  { key: "Mod-d", run: UY, preventDefault: !0 }
];
class oQ {
  constructor(e) {
    this.view = e;
    let n = this.query = e.state.field(wa).query.spec;
    this.commit = this.commit.bind(this), this.searchField = rr("input", {
      value: n.search,
      placeholder: Hi(e, "Find"),
      "aria-label": Hi(e, "Find"),
      class: "cm-textfield",
      name: "search",
      form: "",
      "main-field": "true",
      onchange: this.commit,
      onkeyup: this.commit
    }), this.replaceField = rr("input", {
      value: n.replace,
      placeholder: Hi(e, "Replace"),
      "aria-label": Hi(e, "Replace"),
      class: "cm-textfield",
      name: "replace",
      form: "",
      onchange: this.commit,
      onkeyup: this.commit
    }), this.caseField = rr("input", {
      type: "checkbox",
      name: "case",
      form: "",
      checked: n.caseSensitive,
      onchange: this.commit
    }), this.reField = rr("input", {
      type: "checkbox",
      name: "re",
      form: "",
      checked: n.regexp,
      onchange: this.commit
    }), this.wordField = rr("input", {
      type: "checkbox",
      name: "word",
      form: "",
      checked: n.wholeWord,
      onchange: this.commit
    });
    function r(i, o, s) {
      return rr("button", { class: "cm-button", name: i, onclick: o, type: "button" }, s);
    }
    this.dom = rr("div", { onkeydown: (i) => this.keydown(i), class: "cm-search" }, [
      this.searchField,
      r("next", () => ap(e), [Hi(e, "next")]),
      r("prev", () => lp(e), [Hi(e, "previous")]),
      r("select", () => tQ(e), [Hi(e, "all")]),
      rr("label", null, [this.caseField, Hi(e, "match case")]),
      rr("label", null, [this.reField, Hi(e, "regexp")]),
      rr("label", null, [this.wordField, Hi(e, "by word")]),
      ...e.state.readOnly ? [] : [
        rr("br"),
        this.replaceField,
        r("replace", () => lj(e), [Hi(e, "replace")]),
        r("replaceAll", () => rQ(e), [Hi(e, "replace all")])
      ],
      rr("button", {
        name: "close",
        onclick: () => Jy(e),
        "aria-label": Hi(e, "close"),
        type: "button"
      }, [""])
    ]);
  }
  commit() {
    let e = new _E({
      search: this.searchField.value,
      caseSensitive: this.caseField.checked,
      regexp: this.reField.checked,
      wholeWord: this.wordField.checked,
      replace: this.replaceField.value
    });
    e.eq(this.query) || (this.query = e, this.view.dispatch({ effects: wf.of(e) }));
  }
  keydown(e) {
    BU(this.view, e, "search-panel") ? e.preventDefault() : e.keyCode == 13 && e.target == this.searchField ? (e.preventDefault(), (e.shiftKey ? lp : ap)(this.view)) : e.keyCode == 13 && e.target == this.replaceField && (e.preventDefault(), lj(this.view));
  }
  update(e) {
    for (let n of e.transactions)
      for (let r of n.effects)
        r.is(wf) && !r.value.eq(this.query) && this.setQuery(r.value);
  }
  setQuery(e) {
    this.query = e, this.searchField.value = e.search, this.replaceField.value = e.replace, this.caseField.checked = e.caseSensitive, this.reField.checked = e.regexp, this.wordField.checked = e.wholeWord;
  }
  mount() {
    this.searchField.select();
  }
  get pos() {
    return 80;
  }
  get top() {
    return this.view.state.facet(zl).top;
  }
}
function Hi(t, e) {
  return t.state.phrase(e);
}
const Bd = 30, qd = /[\s\.,:;?!]/;
function Gy(t, { from: e, to: n }) {
  let r = t.state.doc.lineAt(e), i = t.state.doc.lineAt(n).to, o = Math.max(r.from, e - Bd), s = Math.min(i, n + Bd), a = t.state.sliceDoc(o, s);
  if (o != r.from) {
    for (let l = 0; l < Bd; l++)
      if (!qd.test(a[l + 1]) && qd.test(a[l])) {
        a = a.slice(l);
        break;
      }
  }
  if (s != i) {
    for (let l = a.length - 1; l > a.length - Bd; l--)
      if (!qd.test(a[l - 1]) && qd.test(a[l])) {
        a = a.slice(0, l);
        break;
      }
  }
  return nt.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${r.number}.`);
}
const sQ = /* @__PURE__ */ nt.baseTheme({
  ".cm-panel.cm-search": {
    padding: "2px 6px 4px",
    position: "relative",
    "& [name=close]": {
      position: "absolute",
      top: "0",
      right: "4px",
      backgroundColor: "inherit",
      border: "none",
      font: "inherit",
      padding: 0,
      margin: 0
    },
    "& input, & button, & label": {
      margin: ".2em .6em .2em 0"
    },
    "& input[type=checkbox]": {
      marginRight: ".2em"
    },
    "& label": {
      fontSize: "80%",
      whiteSpace: "pre"
    }
  },
  "&light .cm-searchMatch": { backgroundColor: "#ffff0054" },
  "&dark .cm-searchMatch": { backgroundColor: "#00ffff8a" },
  "&light .cm-searchMatch-selected": { backgroundColor: "#ff6a0054" },
  "&dark .cm-searchMatch-selected": { backgroundColor: "#ff00ff8a" }
}), c0 = [
  wa,
  /* @__PURE__ */ iu.low(eQ),
  sQ
];
class ME {
  /**
  Create a new completion context. (Mostly useful for testing
  completion sourcesin the editor, the extension will create
  these for you.)
  */
  constructor(e, n, r) {
    this.state = e, this.pos = n, this.explicit = r, this.abortListeners = [];
  }
  /**
  Get the extent, content, and (if there is a token) type of the
  token before `this.pos`.
  */
  tokenBefore(e) {
    let n = gi(this.state).resolveInner(this.pos, -1);
    for (; n && e.indexOf(n.name) < 0; )
      n = n.parent;
    return n ? {
      from: n.from,
      to: this.pos,
      text: this.state.sliceDoc(n.from, this.pos),
      type: n.type
    } : null;
  }
  /**
  Get the match of the given expression directly before the
  cursor.
  */
  matchBefore(e) {
    let n = this.state.doc.lineAt(this.pos), r = Math.max(n.from, this.pos - 250), i = n.text.slice(r - n.from, this.pos - n.from), o = i.search(TE(e, !1));
    return o < 0 ? null : { from: r + o, to: this.pos, text: i.slice(o) };
  }
  /**
  Yields true when the query has been aborted. Can be useful in
  asynchronous queries to avoid doing work that will be ignored.
  */
  get aborted() {
    return this.abortListeners == null;
  }
  /**
  Allows you to register abort handlers, which will be called when
  the query is
  [aborted](https://codemirror.net/6/docs/ref/#autocomplete.CompletionContext.aborted).
  */
  addEventListener(e, n) {
    e == "abort" && this.abortListeners && this.abortListeners.push(n);
  }
}
function cj(t) {
  let e = Object.keys(t).join(""), n = /\w/.test(e);
  return n && (e = e.replace(/\w/g, "")), `[${n ? "\\w" : ""}${e.replace(/[^\w\s]/g, "\\$&")}]`;
}
function aQ(t) {
  let e = /* @__PURE__ */ Object.create(null), n = /* @__PURE__ */ Object.create(null);
  for (let { label: i } of t) {
    e[i[0]] = !0;
    for (let o = 1; o < i.length; o++)
      n[i[o]] = !0;
  }
  let r = cj(e) + cj(n) + "*$";
  return [new RegExp("^" + r), new RegExp(r)];
}
function lQ(t) {
  let e = t.map((i) => typeof i == "string" ? { label: i } : i), [n, r] = e.every((i) => /^\w+$/.test(i.label)) ? [/\w*$/, /\w+$/] : aQ(e);
  return (i) => {
    let o = i.matchBefore(r);
    return o || i.explicit ? { from: o ? o.from : i.pos, options: e, validFor: n } : null;
  };
}
class uj {
  constructor(e, n, r, i) {
    this.completion = e, this.source = n, this.match = r, this.score = i;
  }
}
function ja(t) {
  return t.selection.main.from;
}
function TE(t, e) {
  var n;
  let { source: r } = t, i = e && r[0] != "^", o = r[r.length - 1] != "$";
  return !i && !o ? t : new RegExp(`${i ? "^" : ""}(?:${r})${o ? "$" : ""}`, (n = t.flags) !== null && n !== void 0 ? n : t.ignoreCase ? "i" : "");
}
const cQ = /* @__PURE__ */ sa.define();
function uQ(t, e, n, r) {
  let { main: i } = t.selection, o = n - i.from, s = r - i.from;
  return Object.assign(Object.assign({}, t.changeByRange((a) => a != i && n != r && t.sliceDoc(a.from + o, a.from + s) != t.sliceDoc(n, r) ? { range: a } : {
    changes: { from: a.from + o, to: r == i.from ? a.to : a.from + s, insert: e },
    range: Re.cursor(a.from + o + e.length)
  })), { scrollIntoView: !0, userEvent: "input.complete" });
}
const fj = /* @__PURE__ */ new WeakMap();
function fQ(t) {
  if (!Array.isArray(t))
    return t;
  let e = fj.get(t);
  return e || fj.set(t, e = lQ(t)), e;
}
const cp = /* @__PURE__ */ ln.define(), jf = /* @__PURE__ */ ln.define();
class dQ {
  constructor(e) {
    this.pattern = e, this.chars = [], this.folded = [], this.any = [], this.precise = [], this.byWord = [], this.score = 0, this.matched = [];
    for (let n = 0; n < e.length; ) {
      let r = Qr(e, n), i = lo(r);
      this.chars.push(r);
      let o = e.slice(n, n + i), s = o.toUpperCase();
      this.folded.push(Qr(s == o ? o.toLowerCase() : s, 0)), n += i;
    }
    this.astral = e.length != this.chars.length;
  }
  ret(e, n) {
    return this.score = e, this.matched = n, !0;
  }
  // Matches a given word (completion) against the pattern (input).
  // Will return a boolean indicating whether there was a match and,
  // on success, set `this.score` to the score, `this.matched` to an
  // array of `from, to` pairs indicating the matched parts of `word`.
  //
  // The score is a number that is more negative the worse the match
  // is. See `Penalty` above.
  match(e) {
    if (this.pattern.length == 0)
      return this.ret(-100, []);
    if (e.length < this.pattern.length)
      return !1;
    let { chars: n, folded: r, any: i, precise: o, byWord: s } = this;
    if (n.length == 1) {
      let y = Qr(e, 0), x = lo(y), b = x == e.length ? 0 : -100;
      if (y != n[0])
        if (y == r[0])
          b += -200;
        else
          return !1;
      return this.ret(b, [0, x]);
    }
    let a = e.indexOf(this.pattern);
    if (a == 0)
      return this.ret(e.length == this.pattern.length ? 0 : -100, [0, this.pattern.length]);
    let l = n.length, c = 0;
    if (a < 0) {
      for (let y = 0, x = Math.min(e.length, 200); y < x && c < l; ) {
        let b = Qr(e, y);
        (b == n[c] || b == r[c]) && (i[c++] = y), y += lo(b);
      }
      if (c < l)
        return !1;
    }
    let u = 0, f = 0, d = !1, h = 0, p = -1, m = -1, g = /[a-z]/.test(e), v = !0;
    for (let y = 0, x = Math.min(e.length, 200), b = 0; y < x && f < l; ) {
      let w = Qr(e, y);
      a < 0 && (u < l && w == n[u] && (o[u++] = y), h < l && (w == n[h] || w == r[h] ? (h == 0 && (p = y), m = y + 1, h++) : h = 0));
      let j, k = w < 255 ? w >= 48 && w <= 57 || w >= 97 && w <= 122 ? 2 : w >= 65 && w <= 90 ? 1 : 0 : (j = vy(w)) != j.toLowerCase() ? 1 : j != j.toUpperCase() ? 2 : 0;
      (!y || k == 1 && g || b == 0 && k != 0) && (n[f] == w || r[f] == w && (d = !0) ? s[f++] = y : s.length && (v = !1)), b = k, y += lo(w);
    }
    return f == l && s[0] == 0 && v ? this.result(-100 + (d ? -200 : 0), s, e) : h == l && p == 0 ? this.ret(-200 - e.length + (m == e.length ? 0 : -100), [0, m]) : a > -1 ? this.ret(-700 - e.length, [a, a + this.pattern.length]) : h == l ? this.ret(-900 - e.length, [p, m]) : f == l ? this.result(-100 + (d ? -200 : 0) + -700 + (v ? 0 : -1100), s, e) : n.length == 2 ? !1 : this.result((i[0] ? -700 : 0) + -200 + -1100, i, e);
  }
  result(e, n, r) {
    let i = [], o = 0;
    for (let s of n) {
      let a = s + (this.astral ? lo(Qr(r, s)) : 1);
      o && i[o - 1] == s ? i[o - 1] = a : (i[o++] = s, i[o++] = a);
    }
    return this.ret(e - r.length, i);
  }
}
const ti = /* @__PURE__ */ pt.define({
  combine(t) {
    return _o(t, {
      activateOnTyping: !0,
      activateOnTypingDelay: 100,
      selectOnOpen: !0,
      override: null,
      closeOnBlur: !0,
      maxRenderedOptions: 100,
      defaultKeymap: !0,
      tooltipClass: () => "",
      optionClass: () => "",
      aboveCursor: !1,
      icons: !0,
      addToOptions: [],
      positionInfo: hQ,
      compareCompletions: (e, n) => e.label.localeCompare(n.label),
      interactionDelay: 75,
      updateSyncTime: 100
    }, {
      defaultKeymap: (e, n) => e && n,
      closeOnBlur: (e, n) => e && n,
      icons: (e, n) => e && n,
      tooltipClass: (e, n) => (r) => dj(e(r), n(r)),
      optionClass: (e, n) => (r) => dj(e(r), n(r)),
      addToOptions: (e, n) => e.concat(n)
    });
  }
});
function dj(t, e) {
  return t ? e ? t + " " + e : t : e;
}
function hQ(t, e, n, r, i, o) {
  let s = t.textDirection == fr.RTL, a = s, l = !1, c = "top", u, f, d = e.left - i.left, h = i.right - e.right, p = r.right - r.left, m = r.bottom - r.top;
  if (a && d < Math.min(p, h) ? a = !1 : !a && h < Math.min(p, d) && (a = !0), p <= (a ? d : h))
    u = Math.max(i.top, Math.min(n.top, i.bottom - m)) - e.top, f = Math.min(400, a ? d : h);
  else {
    l = !0, f = Math.min(
      400,
      (s ? e.right : i.right - e.left) - 30
      /* Info.Margin */
    );
    let y = i.bottom - e.bottom;
    y >= m || y > e.top ? u = n.bottom - e.top : (c = "bottom", u = e.bottom - n.top);
  }
  let g = (e.bottom - e.top) / o.offsetHeight, v = (e.right - e.left) / o.offsetWidth;
  return {
    style: `${c}: ${u / g}px; max-width: ${f / v}px`,
    class: "cm-completionInfo-" + (l ? s ? "left-narrow" : "right-narrow" : a ? "left" : "right")
  };
}
function pQ(t) {
  let e = t.addToOptions.slice();
  return t.icons && e.push({
    render(n) {
      let r = document.createElement("div");
      return r.classList.add("cm-completionIcon"), n.type && r.classList.add(...n.type.split(/\s+/g).map((i) => "cm-completionIcon-" + i)), r.setAttribute("aria-hidden", "true"), r;
    },
    position: 20
  }), e.push({
    render(n, r, i, o) {
      let s = document.createElement("span");
      s.className = "cm-completionLabel";
      let a = n.displayLabel || n.label, l = 0;
      for (let c = 0; c < o.length; ) {
        let u = o[c++], f = o[c++];
        u > l && s.appendChild(document.createTextNode(a.slice(l, u)));
        let d = s.appendChild(document.createElement("span"));
        d.appendChild(document.createTextNode(a.slice(u, f))), d.className = "cm-completionMatchedText", l = f;
      }
      return l < a.length && s.appendChild(document.createTextNode(a.slice(l))), s;
    },
    position: 50
  }, {
    render(n) {
      if (!n.detail)
        return null;
      let r = document.createElement("span");
      return r.className = "cm-completionDetail", r.textContent = n.detail, r;
    },
    position: 80
  }), e.sort((n, r) => n.position - r.position).map((n) => n.render);
}
function Cg(t, e, n) {
  if (t <= n)
    return { from: 0, to: t };
  if (e < 0 && (e = 0), e <= t >> 1) {
    let i = Math.floor(e / n);
    return { from: i * n, to: (i + 1) * n };
  }
  let r = Math.floor((t - e) / n);
  return { from: t - (r + 1) * n, to: t - r * n };
}
class mQ {
  constructor(e, n, r) {
    this.view = e, this.stateField = n, this.applyCompletion = r, this.info = null, this.infoDestroy = null, this.placeInfoReq = {
      read: () => this.measureInfo(),
      write: (l) => this.placeInfo(l),
      key: this
    }, this.space = null, this.currentClass = "";
    let i = e.state.field(n), { options: o, selected: s } = i.open, a = e.state.facet(ti);
    this.optionContent = pQ(a), this.optionClass = a.optionClass, this.tooltipClass = a.tooltipClass, this.range = Cg(o.length, s, a.maxRenderedOptions), this.dom = document.createElement("div"), this.dom.className = "cm-tooltip-autocomplete", this.updateTooltipClass(e.state), this.dom.addEventListener("mousedown", (l) => {
      let { options: c } = e.state.field(n).open;
      for (let u = l.target, f; u && u != this.dom; u = u.parentNode)
        if (u.nodeName == "LI" && (f = /-(\d+)$/.exec(u.id)) && +f[1] < c.length) {
          this.applyCompletion(e, c[+f[1]]), l.preventDefault();
          return;
        }
    }), this.dom.addEventListener("focusout", (l) => {
      let c = e.state.field(this.stateField, !1);
      c && c.tooltip && e.state.facet(ti).closeOnBlur && l.relatedTarget != e.contentDOM && e.dispatch({ effects: jf.of(null) });
    }), this.showOptions(o, i.id);
  }
  mount() {
    this.updateSel();
  }
  showOptions(e, n) {
    this.list && this.list.remove(), this.list = this.dom.appendChild(this.createListBox(e, n, this.range)), this.list.addEventListener("scroll", () => {
      this.info && this.view.requestMeasure(this.placeInfoReq);
    });
  }
  update(e) {
    var n;
    let r = e.state.field(this.stateField), i = e.startState.field(this.stateField);
    if (this.updateTooltipClass(e.state), r != i) {
      let { options: o, selected: s, disabled: a } = r.open;
      (!i.open || i.open.options != o) && (this.range = Cg(o.length, s, e.state.facet(ti).maxRenderedOptions), this.showOptions(o, r.id)), this.updateSel(), a != ((n = i.open) === null || n === void 0 ? void 0 : n.disabled) && this.dom.classList.toggle("cm-tooltip-autocomplete-disabled", !!a);
    }
  }
  updateTooltipClass(e) {
    let n = this.tooltipClass(e);
    if (n != this.currentClass) {
      for (let r of this.currentClass.split(" "))
        r && this.dom.classList.remove(r);
      for (let r of n.split(" "))
        r && this.dom.classList.add(r);
      this.currentClass = n;
    }
  }
  positioned(e) {
    this.space = e, this.info && this.view.requestMeasure(this.placeInfoReq);
  }
  updateSel() {
    let e = this.view.state.field(this.stateField), n = e.open;
    if ((n.selected > -1 && n.selected < this.range.from || n.selected >= this.range.to) && (this.range = Cg(n.options.length, n.selected, this.view.state.facet(ti).maxRenderedOptions), this.showOptions(n.options, e.id)), this.updateSelectedOption(n.selected)) {
      this.destroyInfo();
      let { completion: r } = n.options[n.selected], { info: i } = r;
      if (!i)
        return;
      let o = typeof i == "string" ? document.createTextNode(i) : i(r);
      if (!o)
        return;
      "then" in o ? o.then((s) => {
        s && this.view.state.field(this.stateField, !1) == e && this.addInfoPane(s, r);
      }).catch((s) => Zi(this.view.state, s, "completion info")) : this.addInfoPane(o, r);
    }
  }
  addInfoPane(e, n) {
    this.destroyInfo();
    let r = this.info = document.createElement("div");
    if (r.className = "cm-tooltip cm-completionInfo", e.nodeType != null)
      r.appendChild(e), this.infoDestroy = null;
    else {
      let { dom: i, destroy: o } = e;
      r.appendChild(i), this.infoDestroy = o || null;
    }
    this.dom.appendChild(r), this.view.requestMeasure(this.placeInfoReq);
  }
  updateSelectedOption(e) {
    let n = null;
    for (let r = this.list.firstChild, i = this.range.from; r; r = r.nextSibling, i++)
      r.nodeName != "LI" || !r.id ? i-- : i == e ? r.hasAttribute("aria-selected") || (r.setAttribute("aria-selected", "true"), n = r) : r.hasAttribute("aria-selected") && r.removeAttribute("aria-selected");
    return n && vQ(this.list, n), n;
  }
  measureInfo() {
    let e = this.dom.querySelector("[aria-selected]");
    if (!e || !this.info)
      return null;
    let n = this.dom.getBoundingClientRect(), r = this.info.getBoundingClientRect(), i = e.getBoundingClientRect(), o = this.space;
    if (!o) {
      let s = this.dom.ownerDocument.defaultView || window;
      o = { left: 0, top: 0, right: s.innerWidth, bottom: s.innerHeight };
    }
    return i.top > Math.min(o.bottom, n.bottom) - 10 || i.bottom < Math.max(o.top, n.top) + 10 ? null : this.view.state.facet(ti).positionInfo(this.view, n, i, r, o, this.dom);
  }
  placeInfo(e) {
    this.info && (e ? (e.style && (this.info.style.cssText = e.style), this.info.className = "cm-tooltip cm-completionInfo " + (e.class || "")) : this.info.style.cssText = "top: -1e6px");
  }
  createListBox(e, n, r) {
    const i = document.createElement("ul");
    i.id = n, i.setAttribute("role", "listbox"), i.setAttribute("aria-expanded", "true"), i.setAttribute("aria-label", this.view.state.phrase("Completions"));
    let o = null;
    for (let s = r.from; s < r.to; s++) {
      let { completion: a, match: l } = e[s], { section: c } = a;
      if (c) {
        let d = typeof c == "string" ? c : c.name;
        if (d != o && (s > r.from || r.from == 0))
          if (o = d, typeof c != "string" && c.header)
            i.appendChild(c.header(c));
          else {
            let h = i.appendChild(document.createElement("completion-section"));
            h.textContent = d;
          }
      }
      const u = i.appendChild(document.createElement("li"));
      u.id = n + "-" + s, u.setAttribute("role", "option");
      let f = this.optionClass(a);
      f && (u.className = f);
      for (let d of this.optionContent) {
        let h = d(a, this.view.state, this.view, l);
        h && u.appendChild(h);
      }
    }
    return r.from && i.classList.add("cm-completionListIncompleteTop"), r.to < e.length && i.classList.add("cm-completionListIncompleteBottom"), i;
  }
  destroyInfo() {
    this.info && (this.infoDestroy && this.infoDestroy(), this.info.remove(), this.info = null);
  }
  destroy() {
    this.destroyInfo();
  }
}
function gQ(t, e) {
  return (n) => new mQ(n, t, e);
}
function vQ(t, e) {
  let n = t.getBoundingClientRect(), r = e.getBoundingClientRect(), i = n.height / t.offsetHeight;
  r.top < n.top ? t.scrollTop -= (n.top - r.top) / i : r.bottom > n.bottom && (t.scrollTop += (r.bottom - n.bottom) / i);
}
function hj(t) {
  return (t.boost || 0) * 100 + (t.apply ? 10 : 0) + (t.info ? 5 : 0) + (t.type ? 1 : 0);
}
function yQ(t, e) {
  let n = [], r = null, i = (l) => {
    n.push(l);
    let { section: c } = l.completion;
    if (c) {
      r || (r = []);
      let u = typeof c == "string" ? c : c.name;
      r.some((f) => f.name == u) || r.push(typeof c == "string" ? { name: u } : c);
    }
  };
  for (let l of t)
    if (l.hasResult()) {
      let c = l.result.getMatch;
      if (l.result.filter === !1)
        for (let u of l.result.options)
          i(new uj(u, l.source, c ? c(u) : [], 1e9 - n.length));
      else {
        let u = new dQ(e.sliceDoc(l.from, l.to));
        for (let f of l.result.options)
          if (u.match(f.label)) {
            let d = f.displayLabel ? c ? c(f, u.matched) : [] : u.matched;
            i(new uj(f, l.source, d, u.score + (f.boost || 0)));
          }
      }
    }
  if (r) {
    let l = /* @__PURE__ */ Object.create(null), c = 0, u = (f, d) => {
      var h, p;
      return ((h = f.rank) !== null && h !== void 0 ? h : 1e9) - ((p = d.rank) !== null && p !== void 0 ? p : 1e9) || (f.name < d.name ? -1 : 1);
    };
    for (let f of r.sort(u))
      c -= 1e5, l[f.name] = c;
    for (let f of n) {
      let { section: d } = f.completion;
      d && (f.score += l[typeof d == "string" ? d : d.name]);
    }
  }
  let o = [], s = null, a = e.facet(ti).compareCompletions;
  for (let l of n.sort((c, u) => u.score - c.score || a(c.completion, u.completion))) {
    let c = l.completion;
    !s || s.label != c.label || s.detail != c.detail || s.type != null && c.type != null && s.type != c.type || s.apply != c.apply || s.boost != c.boost ? o.push(l) : hj(l.completion) > hj(s) && (o[o.length - 1] = l), s = l.completion;
  }
  return o;
}
class ac {
  constructor(e, n, r, i, o, s) {
    this.options = e, this.attrs = n, this.tooltip = r, this.timestamp = i, this.selected = o, this.disabled = s;
  }
  setSelected(e, n) {
    return e == this.selected || e >= this.options.length ? this : new ac(this.options, pj(n, e), this.tooltip, this.timestamp, e, this.disabled);
  }
  static build(e, n, r, i, o) {
    let s = yQ(e, n);
    if (!s.length)
      return i && e.some(
        (l) => l.state == 1
        /* State.Pending */
      ) ? new ac(i.options, i.attrs, i.tooltip, i.timestamp, i.selected, !0) : null;
    let a = n.facet(ti).selectOnOpen ? 0 : -1;
    if (i && i.selected != a && i.selected != -1) {
      let l = i.options[i.selected].completion;
      for (let c = 0; c < s.length; c++)
        if (s[c].completion == l) {
          a = c;
          break;
        }
    }
    return new ac(s, pj(r, a), {
      pos: e.reduce((l, c) => c.hasResult() ? Math.min(l, c.from) : l, 1e8),
      create: $Q,
      above: o.aboveCursor
    }, i ? i.timestamp : Date.now(), a, !1);
  }
  map(e) {
    return new ac(this.options, this.attrs, Object.assign(Object.assign({}, this.tooltip), { pos: e.mapPos(this.tooltip.pos) }), this.timestamp, this.selected, this.disabled);
  }
}
class up {
  constructor(e, n, r) {
    this.active = e, this.id = n, this.open = r;
  }
  static start() {
    return new up(wQ, "cm-ac-" + Math.floor(Math.random() * 2e6).toString(36), null);
  }
  update(e) {
    let { state: n } = e, r = n.facet(ti), o = (r.override || n.languageDataAt("autocomplete", ja(n)).map(fQ)).map((a) => (this.active.find((c) => c.source == a) || new Ti(
      a,
      this.active.some(
        (c) => c.state != 0
        /* State.Inactive */
      ) ? 1 : 0
      /* State.Inactive */
    )).update(e, r));
    o.length == this.active.length && o.every((a, l) => a == this.active[l]) && (o = this.active);
    let s = this.open;
    s && e.docChanged && (s = s.map(e.changes)), e.selection || o.some((a) => a.hasResult() && e.changes.touchesRange(a.from, a.to)) || !bQ(o, this.active) ? s = ac.build(o, n, this.id, s, r) : s && s.disabled && !o.some(
      (a) => a.state == 1
      /* State.Pending */
    ) && (s = null), !s && o.every(
      (a) => a.state != 1
      /* State.Pending */
    ) && o.some((a) => a.hasResult()) && (o = o.map((a) => a.hasResult() ? new Ti(
      a.source,
      0
      /* State.Inactive */
    ) : a));
    for (let a of e.effects)
      a.is(PE) && (s = s && s.setSelected(a.value, this.id));
    return o == this.active && s == this.open ? this : new up(o, this.id, s);
  }
  get tooltip() {
    return this.open ? this.open.tooltip : null;
  }
  get attrs() {
    return this.open ? this.open.attrs : xQ;
  }
}
function bQ(t, e) {
  if (t == e)
    return !0;
  for (let n = 0, r = 0; ; ) {
    for (; n < t.length && !t[n].hasResult; )
      n++;
    for (; r < e.length && !e[r].hasResult; )
      r++;
    let i = n == t.length, o = r == e.length;
    if (i || o)
      return i == o;
    if (t[n++].result != e[r++].result)
      return !1;
  }
}
const xQ = {
  "aria-autocomplete": "list"
};
function pj(t, e) {
  let n = {
    "aria-autocomplete": "list",
    "aria-haspopup": "listbox",
    "aria-controls": t
  };
  return e > -1 && (n["aria-activedescendant"] = t + "-" + e), n;
}
const wQ = [];
function u0(t) {
  return t.isUserEvent("input.type") ? "input" : t.isUserEvent("delete.backward") ? "delete" : null;
}
class Ti {
  constructor(e, n, r = -1) {
    this.source = e, this.state = n, this.explicitPos = r;
  }
  hasResult() {
    return !1;
  }
  update(e, n) {
    let r = u0(e), i = this;
    r ? i = i.handleUserEvent(e, r, n) : e.docChanged ? i = i.handleChange(e) : e.selection && i.state != 0 && (i = new Ti(
      i.source,
      0
      /* State.Inactive */
    ));
    for (let o of e.effects)
      if (o.is(cp))
        i = new Ti(i.source, 1, o.value ? ja(e.state) : -1);
      else if (o.is(jf))
        i = new Ti(
          i.source,
          0
          /* State.Inactive */
        );
      else if (o.is(RE))
        for (let s of o.value)
          s.source == i.source && (i = s);
    return i;
  }
  handleUserEvent(e, n, r) {
    return n == "delete" || !r.activateOnTyping ? this.map(e.changes) : new Ti(
      this.source,
      1
      /* State.Pending */
    );
  }
  handleChange(e) {
    return e.changes.touchesRange(ja(e.startState)) ? new Ti(
      this.source,
      0
      /* State.Inactive */
    ) : this.map(e.changes);
  }
  map(e) {
    return e.empty || this.explicitPos < 0 ? this : new Ti(this.source, this.state, e.mapPos(this.explicitPos));
  }
}
class jc extends Ti {
  constructor(e, n, r, i, o) {
    super(e, 2, n), this.result = r, this.from = i, this.to = o;
  }
  hasResult() {
    return !0;
  }
  handleUserEvent(e, n, r) {
    var i;
    let o = e.changes.mapPos(this.from), s = e.changes.mapPos(this.to, 1), a = ja(e.state);
    if ((this.explicitPos < 0 ? a <= o : a < this.from) || a > s || n == "delete" && ja(e.startState) == this.from)
      return new Ti(
        this.source,
        n == "input" && r.activateOnTyping ? 1 : 0
        /* State.Inactive */
      );
    let l = this.explicitPos < 0 ? -1 : e.changes.mapPos(this.explicitPos), c;
    return jQ(this.result.validFor, e.state, o, s) ? new jc(this.source, l, this.result, o, s) : this.result.update && (c = this.result.update(this.result, o, s, new ME(e.state, a, l >= 0))) ? new jc(this.source, l, c, c.from, (i = c.to) !== null && i !== void 0 ? i : ja(e.state)) : new Ti(this.source, 1, l);
  }
  handleChange(e) {
    return e.changes.touchesRange(this.from, this.to) ? new Ti(
      this.source,
      0
      /* State.Inactive */
    ) : this.map(e.changes);
  }
  map(e) {
    return e.empty ? this : new jc(this.source, this.explicitPos < 0 ? -1 : e.mapPos(this.explicitPos), this.result, e.mapPos(this.from), e.mapPos(this.to, 1));
  }
}
function jQ(t, e, n, r) {
  if (!t)
    return !1;
  let i = e.sliceDoc(n, r);
  return typeof t == "function" ? t(i, n, r, e) : TE(t, !0).test(i);
}
const RE = /* @__PURE__ */ ln.define({
  map(t, e) {
    return t.map((n) => n.map(e));
  }
}), PE = /* @__PURE__ */ ln.define(), Ji = /* @__PURE__ */ zr.define({
  create() {
    return up.start();
  },
  update(t, e) {
    return t.update(e);
  },
  provide: (t) => [
    pm.from(t, (e) => e.tooltip),
    nt.contentAttributes.from(t, (e) => e.attrs)
  ]
});
function IE(t, e) {
  const n = e.completion.apply || e.completion.label;
  let r = t.state.field(Ji).active.find((i) => i.source == e.source);
  return r instanceof jc ? (typeof n == "string" ? t.dispatch(Object.assign(Object.assign({}, uQ(t.state, n, r.from, r.to)), { annotations: cQ.of(e.completion) })) : n(t, e.completion, r.from, r.to), !0) : !1;
}
const $Q = /* @__PURE__ */ gQ(Ji, IE);
function zd(t, e = "option") {
  return (n) => {
    let r = n.state.field(Ji, !1);
    if (!r || !r.open || r.open.disabled || Date.now() - r.open.timestamp < n.state.facet(ti).interactionDelay)
      return !1;
    let i = 1, o;
    e == "page" && (o = lA(n, r.open.tooltip)) && (i = Math.max(2, Math.floor(o.dom.offsetHeight / o.dom.querySelector("li").offsetHeight) - 1));
    let { length: s } = r.open.options, a = r.open.selected > -1 ? r.open.selected + i * (t ? 1 : -1) : t ? 0 : s - 1;
    return a < 0 ? a = e == "page" ? 0 : s - 1 : a >= s && (a = e == "page" ? s - 1 : 0), n.dispatch({ effects: PE.of(a) }), !0;
  };
}
const kQ = (t) => {
  let e = t.state.field(Ji, !1);
  return t.state.readOnly || !e || !e.open || e.open.selected < 0 || e.open.disabled || Date.now() - e.open.timestamp < t.state.facet(ti).interactionDelay ? !1 : IE(t, e.open.options[e.open.selected]);
}, SQ = (t) => t.state.field(Ji, !1) ? (t.dispatch({ effects: cp.of(!0) }), !0) : !1, CQ = (t) => {
  let e = t.state.field(Ji, !1);
  return !e || !e.active.some(
    (n) => n.state != 0
    /* State.Inactive */
  ) ? !1 : (t.dispatch({ effects: jf.of(null) }), !0);
};
class _Q {
  constructor(e, n) {
    this.active = e, this.context = n, this.time = Date.now(), this.updates = [], this.done = void 0;
  }
}
const OQ = 50, AQ = 1e3, EQ = /* @__PURE__ */ kr.fromClass(class {
  constructor(t) {
    this.view = t, this.debounceUpdate = -1, this.running = [], this.debounceAccept = -1, this.pendingStart = !1, this.composing = 0;
    for (let e of t.state.field(Ji).active)
      e.state == 1 && this.startQuery(e);
  }
  update(t) {
    let e = t.state.field(Ji);
    if (!t.selectionSet && !t.docChanged && t.startState.field(Ji) == e)
      return;
    let n = t.transactions.some((i) => (i.selection || i.docChanged) && !u0(i));
    for (let i = 0; i < this.running.length; i++) {
      let o = this.running[i];
      if (n || o.updates.length + t.transactions.length > OQ && Date.now() - o.time > AQ) {
        for (let s of o.context.abortListeners)
          try {
            s();
          } catch (a) {
            Zi(this.view.state, a);
          }
        o.context.abortListeners = null, this.running.splice(i--, 1);
      } else
        o.updates.push(...t.transactions);
    }
    this.debounceUpdate > -1 && clearTimeout(this.debounceUpdate), t.transactions.some((i) => i.effects.some((o) => o.is(cp))) && (this.pendingStart = !0);
    let r = this.pendingStart ? 50 : t.state.facet(ti).activateOnTypingDelay;
    if (this.debounceUpdate = e.active.some((i) => i.state == 1 && !this.running.some((o) => o.active.source == i.source)) ? setTimeout(() => this.startUpdate(), r) : -1, this.composing != 0)
      for (let i of t.transactions)
        u0(i) == "input" ? this.composing = 2 : this.composing == 2 && i.selection && (this.composing = 3);
  }
  startUpdate() {
    this.debounceUpdate = -1, this.pendingStart = !1;
    let { state: t } = this.view, e = t.field(Ji);
    for (let n of e.active)
      n.state == 1 && !this.running.some((r) => r.active.source == n.source) && this.startQuery(n);
  }
  startQuery(t) {
    let { state: e } = this.view, n = ja(e), r = new ME(e, n, t.explicitPos == n), i = new _Q(t, r);
    this.running.push(i), Promise.resolve(t.source(r)).then((o) => {
      i.context.aborted || (i.done = o || null, this.scheduleAccept());
    }, (o) => {
      this.view.dispatch({ effects: jf.of(null) }), Zi(this.view.state, o);
    });
  }
  scheduleAccept() {
    this.running.every((t) => t.done !== void 0) ? this.accept() : this.debounceAccept < 0 && (this.debounceAccept = setTimeout(() => this.accept(), this.view.state.facet(ti).updateSyncTime));
  }
  // For each finished query in this.running, try to create a result
  // or, if appropriate, restart the query.
  accept() {
    var t;
    this.debounceAccept > -1 && clearTimeout(this.debounceAccept), this.debounceAccept = -1;
    let e = [], n = this.view.state.facet(ti);
    for (let r = 0; r < this.running.length; r++) {
      let i = this.running[r];
      if (i.done === void 0)
        continue;
      if (this.running.splice(r--, 1), i.done) {
        let s = new jc(i.active.source, i.active.explicitPos, i.done, i.done.from, (t = i.done.to) !== null && t !== void 0 ? t : ja(i.updates.length ? i.updates[0].startState : this.view.state));
        for (let a of i.updates)
          s = s.update(a, n);
        if (s.hasResult()) {
          e.push(s);
          continue;
        }
      }
      let o = this.view.state.field(Ji).active.find((s) => s.source == i.active.source);
      if (o && o.state == 1)
        if (i.done == null) {
          let s = new Ti(
            i.active.source,
            0
            /* State.Inactive */
          );
          for (let a of i.updates)
            s = s.update(a, n);
          s.state != 1 && e.push(s);
        } else
          this.startQuery(o);
    }
    e.length && this.view.dispatch({ effects: RE.of(e) });
  }
}, {
  eventHandlers: {
    blur(t) {
      let e = this.view.state.field(Ji, !1);
      if (e && e.tooltip && this.view.state.facet(ti).closeOnBlur) {
        let n = e.open && lA(this.view, e.open.tooltip);
        (!n || !n.dom.contains(t.relatedTarget)) && setTimeout(() => this.view.dispatch({ effects: jf.of(null) }), 10);
      }
    },
    compositionstart() {
      this.composing = 1;
    },
    compositionend() {
      this.composing == 3 && setTimeout(() => this.view.dispatch({ effects: cp.of(!1) }), 20), this.composing = 0;
    }
  }
}), MQ = /* @__PURE__ */ nt.baseTheme({
  ".cm-tooltip.cm-tooltip-autocomplete": {
    "& > ul": {
      fontFamily: "monospace",
      whiteSpace: "nowrap",
      overflow: "hidden auto",
      maxWidth_fallback: "700px",
      maxWidth: "min(700px, 95vw)",
      minWidth: "250px",
      maxHeight: "10em",
      height: "100%",
      listStyle: "none",
      margin: 0,
      padding: 0,
      "& > li, & > completion-section": {
        padding: "1px 3px",
        lineHeight: 1.2
      },
      "& > li": {
        overflowX: "hidden",
        textOverflow: "ellipsis",
        cursor: "pointer"
      },
      "& > completion-section": {
        display: "list-item",
        borderBottom: "1px solid silver",
        paddingLeft: "0.5em",
        opacity: 0.7
      }
    }
  },
  "&light .cm-tooltip-autocomplete ul li[aria-selected]": {
    background: "#17c",
    color: "white"
  },
  "&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]": {
    background: "#777"
  },
  "&dark .cm-tooltip-autocomplete ul li[aria-selected]": {
    background: "#347",
    color: "white"
  },
  "&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]": {
    background: "#444"
  },
  ".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after": {
    content: '""',
    opacity: 0.5,
    display: "block",
    textAlign: "center"
  },
  ".cm-tooltip.cm-completionInfo": {
    position: "absolute",
    padding: "3px 9px",
    width: "max-content",
    maxWidth: "400px",
    boxSizing: "border-box"
  },
  ".cm-completionInfo.cm-completionInfo-left": { right: "100%" },
  ".cm-completionInfo.cm-completionInfo-right": { left: "100%" },
  ".cm-completionInfo.cm-completionInfo-left-narrow": { right: "30px" },
  ".cm-completionInfo.cm-completionInfo-right-narrow": { left: "30px" },
  "&light .cm-snippetField": { backgroundColor: "#00000022" },
  "&dark .cm-snippetField": { backgroundColor: "#ffffff22" },
  ".cm-snippetFieldPosition": {
    verticalAlign: "text-top",
    width: 0,
    height: "1.15em",
    display: "inline-block",
    margin: "0 -0.7px -.7em",
    borderLeft: "1.4px dotted #888"
  },
  ".cm-completionMatchedText": {
    textDecoration: "underline"
  },
  ".cm-completionDetail": {
    marginLeft: "0.5em",
    fontStyle: "italic"
  },
  ".cm-completionIcon": {
    fontSize: "90%",
    width: ".8em",
    display: "inline-block",
    textAlign: "center",
    paddingRight: ".6em",
    opacity: "0.6",
    boxSizing: "content-box"
  },
  ".cm-completionIcon-function, .cm-completionIcon-method": {
    "&:after": { content: "''" }
  },
  ".cm-completionIcon-class": {
    "&:after": { content: "''" }
  },
  ".cm-completionIcon-interface": {
    "&:after": { content: "''" }
  },
  ".cm-completionIcon-variable": {
    "&:after": { content: "''" }
  },
  ".cm-completionIcon-constant": {
    "&:after": { content: "''" }
  },
  ".cm-completionIcon-type": {
    "&:after": { content: "''" }
  },
  ".cm-completionIcon-enum": {
    "&:after": { content: "''" }
  },
  ".cm-completionIcon-property": {
    "&:after": { content: "''" }
  },
  ".cm-completionIcon-keyword": {
    "&:after": { content: "''" }
    // Disable emoji rendering
  },
  ".cm-completionIcon-namespace": {
    "&:after": { content: "''" }
  },
  ".cm-completionIcon-text": {
    "&:after": { content: "'abc'", fontSize: "50%", verticalAlign: "middle" }
  }
}), $f = {
  brackets: ["(", "[", "{", "'", '"'],
  before: ")]}:;>",
  stringPrefixes: []
}, fl = /* @__PURE__ */ ln.define({
  map(t, e) {
    let n = e.mapPos(t, -1, wi.TrackAfter);
    return n ?? void 0;
  }
}), Ky = /* @__PURE__ */ new class extends bl {
}();
Ky.startSide = 1;
Ky.endSide = -1;
const NE = /* @__PURE__ */ zr.define({
  create() {
    return Cn.empty;
  },
  update(t, e) {
    if (t = t.map(e.changes), e.selection) {
      let n = e.state.doc.lineAt(e.selection.main.head);
      t = t.update({ filter: (r) => r >= n.from && r <= n.to });
    }
    for (let n of e.effects)
      n.is(fl) && (t = t.update({ add: [Ky.range(n.value, n.value + 1)] }));
    return t;
  }
});
function TQ() {
  return [PQ, NE];
}
const _g = "()[]{}<>";
function DE(t) {
  for (let e = 0; e < _g.length; e += 2)
    if (_g.charCodeAt(e) == t)
      return _g.charAt(e + 1);
  return vy(t < 128 ? t : t + 1);
}
function LE(t, e) {
  return t.languageDataAt("closeBrackets", e)[0] || $f;
}
const RQ = typeof navigator == "object" && /* @__PURE__ */ /Android\b/.test(navigator.userAgent), PQ = /* @__PURE__ */ nt.inputHandler.of((t, e, n, r) => {
  if ((RQ ? t.composing : t.compositionStarted) || t.state.readOnly)
    return !1;
  let i = t.state.selection.main;
  if (r.length > 2 || r.length == 2 && lo(Qr(r, 0)) == 1 || e != i.from || n != i.to)
    return !1;
  let o = DQ(t.state, r);
  return o ? (t.dispatch(o), !0) : !1;
}), IQ = ({ state: t, dispatch: e }) => {
  if (t.readOnly)
    return !1;
  let r = LE(t, t.selection.main.head).brackets || $f.brackets, i = null, o = t.changeByRange((s) => {
    if (s.empty) {
      let a = LQ(t.doc, s.head);
      for (let l of r)
        if (l == a && Cm(t.doc, s.head) == DE(Qr(l, 0)))
          return {
            changes: { from: s.head - l.length, to: s.head + l.length },
            range: Re.cursor(s.head - l.length)
          };
    }
    return { range: i = s };
  });
  return i || e(t.update(o, { scrollIntoView: !0, userEvent: "delete.backward" })), !i;
}, NQ = [
  { key: "Backspace", run: IQ }
];
function DQ(t, e) {
  let n = LE(t, t.selection.main.head), r = n.brackets || $f.brackets;
  for (let i of r) {
    let o = DE(Qr(i, 0));
    if (e == i)
      return o == i ? zQ(t, i, r.indexOf(i + i + i) > -1, n) : BQ(t, i, o, n.before || $f.before);
    if (e == o && BE(t, t.selection.main.from))
      return qQ(t, i, o);
  }
  return null;
}
function BE(t, e) {
  let n = !1;
  return t.field(NE).between(0, t.doc.length, (r) => {
    r == e && (n = !0);
  }), n;
}
function Cm(t, e) {
  let n = t.sliceString(e, e + 2);
  return n.slice(0, lo(Qr(n, 0)));
}
function LQ(t, e) {
  let n = t.sliceString(e - 2, e);
  return lo(Qr(n, 0)) == n.length ? n : n.slice(1);
}
function BQ(t, e, n, r) {
  let i = null, o = t.changeByRange((s) => {
    if (!s.empty)
      return {
        changes: [{ insert: e, from: s.from }, { insert: n, from: s.to }],
        effects: fl.of(s.to + e.length),
        range: Re.range(s.anchor + e.length, s.head + e.length)
      };
    let a = Cm(t.doc, s.head);
    return !a || /\s/.test(a) || r.indexOf(a) > -1 ? {
      changes: { insert: e + n, from: s.head },
      effects: fl.of(s.head + e.length),
      range: Re.cursor(s.head + e.length)
    } : { range: i = s };
  });
  return i ? null : t.update(o, {
    scrollIntoView: !0,
    userEvent: "input.type"
  });
}
function qQ(t, e, n) {
  let r = null, i = t.changeByRange((o) => o.empty && Cm(t.doc, o.head) == n ? {
    changes: { from: o.head, to: o.head + n.length, insert: n },
    range: Re.cursor(o.head + n.length)
  } : r = { range: o });
  return r ? null : t.update(i, {
    scrollIntoView: !0,
    userEvent: "input.type"
  });
}
function zQ(t, e, n, r) {
  let i = r.stringPrefixes || $f.stringPrefixes, o = null, s = t.changeByRange((a) => {
    if (!a.empty)
      return {
        changes: [{ insert: e, from: a.from }, { insert: e, from: a.to }],
        effects: fl.of(a.to + e.length),
        range: Re.range(a.anchor + e.length, a.head + e.length)
      };
    let l = a.head, c = Cm(t.doc, l), u;
    if (c == e) {
      if (mj(t, l))
        return {
          changes: { insert: e + e, from: l },
          effects: fl.of(l + e.length),
          range: Re.cursor(l + e.length)
        };
      if (BE(t, l)) {
        let d = n && t.sliceDoc(l, l + e.length * 3) == e + e + e ? e + e + e : e;
        return {
          changes: { from: l, to: l + d.length, insert: d },
          range: Re.cursor(l + d.length)
        };
      }
    } else {
      if (n && t.sliceDoc(l - 2 * e.length, l) == e + e && (u = gj(t, l - 2 * e.length, i)) > -1 && mj(t, u))
        return {
          changes: { insert: e + e + e + e, from: l },
          effects: fl.of(l + e.length),
          range: Re.cursor(l + e.length)
        };
      if (t.charCategorizer(l)(c) != gr.Word && gj(t, l, i) > -1 && !FQ(t, l, e, i))
        return {
          changes: { insert: e + e, from: l },
          effects: fl.of(l + e.length),
          range: Re.cursor(l + e.length)
        };
    }
    return { range: o = a };
  });
  return o ? null : t.update(s, {
    scrollIntoView: !0,
    userEvent: "input.type"
  });
}
function mj(t, e) {
  let n = gi(t).resolveInner(e + 1);
  return n.parent && n.from == e;
}
function FQ(t, e, n, r) {
  let i = gi(t).resolveInner(e, -1), o = r.reduce((s, a) => Math.max(s, a.length), 0);
  for (let s = 0; s < 5; s++) {
    let a = t.sliceDoc(i.from, Math.min(i.to, i.from + n.length + o)), l = a.indexOf(n);
    if (!l || l > -1 && r.indexOf(a.slice(0, l)) > -1) {
      let u = i.firstChild;
      for (; u && u.from == i.from && u.to - u.from > n.length + l; ) {
        if (t.sliceDoc(u.to - n.length, u.to) == n)
          return !1;
        u = u.firstChild;
      }
      return !0;
    }
    let c = i.to == e && i.parent;
    if (!c)
      break;
    i = c;
  }
  return !1;
}
function gj(t, e, n) {
  let r = t.charCategorizer(e);
  if (r(t.sliceDoc(e - 1, e)) != gr.Word)
    return e;
  for (let i of n) {
    let o = e - i.length;
    if (t.sliceDoc(o, e) == i && r(t.sliceDoc(o - 1, o)) != gr.Word)
      return o;
  }
  return -1;
}
function VQ(t = {}) {
  return [
    Ji,
    ti.of(t),
    EQ,
    WQ,
    MQ
  ];
}
const qE = [
  { key: "Ctrl-Space", run: SQ },
  { key: "Escape", run: CQ },
  { key: "ArrowDown", run: /* @__PURE__ */ zd(!0) },
  { key: "ArrowUp", run: /* @__PURE__ */ zd(!1) },
  { key: "PageDown", run: /* @__PURE__ */ zd(!0, "page") },
  { key: "PageUp", run: /* @__PURE__ */ zd(!1, "page") },
  { key: "Enter", run: kQ }
], WQ = /* @__PURE__ */ iu.highest(/* @__PURE__ */ Vh.computeN([ti], (t) => t.facet(ti).defaultKeymap ? [qE] : []));
function HQ(t, e = t.state) {
  const n = /* @__PURE__ */ new Set();
  for (const { from: r, to: i } of t.visibleRanges) {
    let o = r;
    for (; o <= i; ) {
      const s = e.doc.lineAt(o);
      n.has(s) || n.add(s), o = s.to + 1;
    }
  }
  return n;
}
function f0(t) {
  const e = t.selection.main.head;
  return t.doc.lineAt(e);
}
function vj(t, e) {
  let n = 0;
  e:
    for (let r = 0; r < t.length; r++)
      switch (t[r]) {
        case " ": {
          n += 1;
          continue e;
        }
        case "	": {
          n += e - n % e;
          continue e;
        }
        case "\r":
          continue e;
        default:
          break e;
      }
  return n;
}
const fp = /* @__PURE__ */ pt.define({
  combine(t) {
    return _o(t, {
      highlightActiveBlock: !0,
      hideFirstIndent: !1,
      markerType: "fullScope",
      thickness: 1
    });
  }
});
class UQ {
  /**
   * @param lines - The set of lines to get the indentation map for.
   * @param state - The {@link EditorState} to derive the indentation map from.
   * @param unitWidth - The width of the editor's indent unit.
   * @param markerType - The type of indentation to use (terminate at end of scope vs last line of code in scope)
   */
  constructor(e, n, r, i) {
    this.lines = e, this.state = n, this.map = /* @__PURE__ */ new Map(), this.unitWidth = r, this.markerType = i;
    for (const o of this.lines)
      this.add(o);
    this.state.facet(fp).highlightActiveBlock && this.findAndSetActiveLines();
  }
  /**
   * Checks if the indentation map has an entry for the given line.
   *
   * @param line - The {@link Line} or line number to check for.
   */
  has(e) {
    return this.map.has(typeof e == "number" ? e : e.number);
  }
  /**
   * Returns the {@link IndentEntry} for the given line.
   *
   * Note that this function will throw an error if the line does not exist in the map.
   *
   * @param line - The {@link Line} or line number to get the entry for.
   */
  get(e) {
    const n = this.map.get(typeof e == "number" ? e : e.number);
    if (!n)
      throw new Error("Line not found in indentation map");
    return n;
  }
  /**
   * Sets the {@link IndentEntry} for the given line.
   *
   * @param line - The {@link Line} to set the entry for.
   * @param col - The visual beginning whitespace width of the line.
   * @param level - The indentation level of the line.
   */
  set(e, n, r) {
    const i = !e.text.trim().length, o = { line: e, col: n, level: r, empty: i };
    return this.map.set(o.line.number, o), o;
  }
  /**
   * Adds a line to the indentation map.
   *
   * @param line - The {@link Line} to add to the map.
   */
  add(e) {
    if (this.has(e))
      return this.get(e);
    if (!e.length || !e.text.trim().length) {
      if (e.number === 1)
        return this.set(e, 0, 0);
      if (e.number === this.state.doc.lines) {
        const s = this.closestNonEmpty(e, -1);
        return this.set(e, 0, s.level);
      }
      const i = this.closestNonEmpty(e, -1), o = this.closestNonEmpty(e, 1);
      return i.level >= o.level && this.markerType !== "codeOnly" ? this.set(e, 0, i.level) : i.empty && i.level === 0 && o.level !== 0 ? this.set(e, 0, 0) : o.level > i.level ? this.set(e, 0, i.level + 1) : this.set(e, 0, o.level);
    }
    const n = vj(e.text, this.state.tabSize), r = Math.floor(n / this.unitWidth);
    return this.set(e, n, r);
  }
  /**
   * Finds the closest non-empty line, starting from the given line.
   *
   * @param from - The {@link Line} to start from.
   * @param dir - The direction to search in. Either `1` or `-1`.
   */
  closestNonEmpty(e, n) {
    let r = e.number + n;
    for (; n === -1 ? r >= 1 : r <= this.state.doc.lines; ) {
      if (this.has(r)) {
        const s = this.get(r);
        if (!s.empty)
          return s;
      }
      const o = this.state.doc.line(r);
      if (o.text.trim().length) {
        const s = vj(o.text, this.state.tabSize), a = Math.floor(s / this.unitWidth);
        return this.set(o, s, a);
      }
      r += n;
    }
    const i = this.state.doc.line(n === -1 ? 1 : this.state.doc.lines);
    return this.set(i, 0, 0);
  }
  /**
   * Finds the state's active block (via the current selection) and sets all
   * the active indent level for the lines in the block.
   */
  findAndSetActiveLines() {
    const e = f0(this.state);
    if (!this.has(e))
      return;
    let n = this.get(e);
    if (this.has(n.line.number + 1)) {
      const o = this.get(n.line.number + 1);
      o.level > n.level && (n = o);
    }
    if (this.has(n.line.number - 1)) {
      const o = this.get(n.line.number - 1);
      o.level > n.level && (n = o);
    }
    if (n.level === 0)
      return;
    n.active = n.level;
    let r, i;
    for (r = n.line.number; r > 1; r--) {
      if (!this.has(r - 1))
        continue;
      const o = this.get(r - 1);
      if (o.level < n.level)
        break;
      o.active = n.level;
    }
    for (i = n.line.number; i < this.state.doc.lines; i++) {
      if (!this.has(i + 1))
        continue;
      const o = this.get(i + 1);
      if (o.level < n.level)
        break;
      o.active = n.level;
    }
  }
}
function JQ(t) {
  const e = {
    light: "#F0F1F2",
    dark: "#2B3245",
    activeLight: "#E4E5E6",
    activeDark: "#3C445C"
  };
  let n = e;
  return t && (n = Object.assign(Object.assign({}, e), t)), nt.baseTheme({
    "&light": {
      "--indent-marker-bg-color": n.light,
      "--indent-marker-active-bg-color": n.activeLight
    },
    "&dark": {
      "--indent-marker-bg-color": n.dark,
      "--indent-marker-active-bg-color": n.activeDark
    },
    ".cm-line": {
      position: "relative"
    },
    // this pseudo-element is used to draw the indent markers,
    // while still allowing the line to have its own background.
    ".cm-indent-markers::before": {
      content: '""',
      position: "absolute",
      top: 0,
      left: 0,
      right: 0,
      bottom: 0,
      background: "var(--indent-markers)",
      pointerEvents: "none",
      zIndex: "-1"
    }
  });
}
function Fd(t, e, n, r, i) {
  return `${`repeating-linear-gradient(to right, var(${t}) 0 ${e}px, transparent ${e}px ${n}ch)`} ${r * n}.5ch/calc(${n * i}ch - 1px) no-repeat`;
}
function GQ(t, e, n, r) {
  const { level: i, active: o } = t;
  if (n && i === 0)
    return [];
  const s = n ? 1 : 0, a = [];
  if (o !== void 0) {
    const l = o - s - 1;
    l > 0 && a.push(Fd("--indent-marker-bg-color", r, e, s, l)), a.push(Fd("--indent-marker-active-bg-color", r, e, o - 1, 1)), o !== i && a.push(Fd("--indent-marker-bg-color", r, e, o, i - o));
  } else
    a.push(Fd("--indent-marker-bg-color", r, e, s, i - s));
  return a.join(",");
}
class KQ {
  constructor(e) {
    this.view = e, this.unitWidth = Da(e.state), this.currentLineNumber = f0(e.state).number, this.generate(e.state);
  }
  update(e) {
    const n = Da(e.state), r = n !== this.unitWidth;
    r && (this.unitWidth = n);
    const i = f0(e.state).number, o = i !== this.currentLineNumber;
    this.currentLineNumber = i;
    const s = e.state.facet(fp).highlightActiveBlock && o;
    (e.docChanged || e.viewportChanged || r || s) && this.generate(e.state);
  }
  generate(e) {
    const n = new ms(), r = HQ(this.view, e), { hideFirstIndent: i, markerType: o, thickness: s } = e.facet(fp), a = new UQ(r, e, this.unitWidth, o);
    for (const l of r) {
      const c = a.get(l.number);
      if (!(c != null && c.level))
        continue;
      const u = GQ(c, this.unitWidth, i, s);
      n.add(l.from, l.from, Bt.line({
        class: "cm-indent-markers",
        attributes: {
          style: `--indent-markers: ${u}`
        }
      }));
    }
    this.decorations = n.finish();
  }
}
function YQ(t = {}) {
  return [
    fp.of(t),
    JQ(t.colors),
    kr.fromClass(KQ, {
      decorations: (e) => e.decorations
    })
  ];
}
class QQ {
  constructor(e) {
    this.view = e, this.indentUnit = Da(e.state), this.initialPaddingLeft = null, this.generate(e.state);
  }
  update(e) {
    const n = Da(e.state);
    (n !== this.indentUnit || e.docChanged || e.viewportChanged) && (this.indentUnit = n, this.generate(e.state));
  }
  generate(e) {
    const n = new ms();
    this.initialPaddingLeft ? this.addStyleToBuilder(n, e, this.initialPaddingLeft) : this.view.requestMeasure({
      read: (r) => {
        const i = r.contentDOM.querySelector(".cm-line");
        i && (this.initialPaddingLeft = window.getComputedStyle(i).getPropertyValue("padding-left"), this.addStyleToBuilder(n, e, this.initialPaddingLeft)), this.decorations = n.finish();
      }
    }), this.decorations = n.finish();
  }
  addStyleToBuilder(e, n, r) {
    const i = this.getVisibleLines(n);
    for (const o of i) {
      const s = this.getIndentSize(o), a = `calc(${s + this.indentUnit}ch + ${r})`;
      e.add(o.from, o.from, Bt.line({
        attributes: {
          style: `padding-left: ${a}; text-indent: -${s + this.indentUnit}ch;`
        }
      }));
    }
  }
  // Get all lines that are currently visible in the viewport.
  getVisibleLines(e) {
    const n = /* @__PURE__ */ new Set();
    let r = null;
    for (const { from: i, to: o } of this.view.visibleRanges) {
      let s = i;
      for (; s <= o; ) {
        const a = e.doc.lineAt(s);
        r !== a && (n.add(a), r = a), s = a.to + 1;
      }
    }
    return n;
  }
  getIndentSize(e) {
    return e.text.length - e.text.trimStart().length;
  }
}
const XQ = [
  kr.fromClass(QQ, {
    decorations: (t) => t.decorations
  })
];
var yj = { exports: {} }, zE = {}, Bo = {}, Ic = {}, Xf = {}, vn = {}, kf = {};
(function(t) {
  Object.defineProperty(t, "__esModule", { value: !0 }), t.regexpCode = t.getEsmExportName = t.getProperty = t.safeStringify = t.stringify = t.strConcat = t.addCodeArg = t.str = t._ = t.nil = t._Code = t.Name = t.IDENTIFIER = t._CodeOrName = void 0;
  class e {
  }
  t._CodeOrName = e, t.IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;
  class n extends e {
    constructor(y) {
      if (super(), !t.IDENTIFIER.test(y))
        throw new Error("CodeGen: name must be a valid identifier");
      this.str = y;
    }
    toString() {
      return this.str;
    }
    emptyStr() {
      return !1;
    }
    get names() {
      return { [this.str]: 1 };
    }
  }
  t.Name = n;
  class r extends e {
    constructor(y) {
      super(), this._items = typeof y == "string" ? [y] : y;
    }
    toString() {
      return this.str;
    }
    emptyStr() {
      if (this._items.length > 1)
        return !1;
      const y = this._items[0];
      return y === "" || y === '""';
    }
    get str() {
      var y;
      return (y = this._str) !== null && y !== void 0 ? y : this._str = this._items.reduce((x, b) => `${x}${b}`, "");
    }
    get names() {
      var y;
      return (y = this._names) !== null && y !== void 0 ? y : this._names = this._items.reduce((x, b) => (b instanceof n && (x[b.str] = (x[b.str] || 0) + 1), x), {});
    }
  }
  t._Code = r, t.nil = new r("");
  function i(v, ...y) {
    const x = [v[0]];
    let b = 0;
    for (; b < y.length; )
      a(x, y[b]), x.push(v[++b]);
    return new r(x);
  }
  t._ = i;
  const o = new r("+");
  function s(v, ...y) {
    const x = [h(v[0])];
    let b = 0;
    for (; b < y.length; )
      x.push(o), a(x, y[b]), x.push(o, h(v[++b]));
    return l(x), new r(x);
  }
  t.str = s;
  function a(v, y) {
    y instanceof r ? v.push(...y._items) : y instanceof n ? v.push(y) : v.push(f(y));
  }
  t.addCodeArg = a;
  function l(v) {
    let y = 1;
    for (; y < v.length - 1; ) {
      if (v[y] === o) {
        const x = c(v[y - 1], v[y + 1]);
        if (x !== void 0) {
          v.splice(y - 1, 3, x);
          continue;
        }
        v[y++] = "+";
      }
      y++;
    }
  }
  function c(v, y) {
    if (y === '""')
      return v;
    if (v === '""')
      return y;
    if (typeof v == "string")
      return y instanceof n || v[v.length - 1] !== '"' ? void 0 : typeof y != "string" ? `${v.slice(0, -1)}${y}"` : y[0] === '"' ? v.slice(0, -1) + y.slice(1) : void 0;
    if (typeof y == "string" && y[0] === '"' && !(v instanceof n))
      return `"${v}${y.slice(1)}`;
  }
  function u(v, y) {
    return y.emptyStr() ? v : v.emptyStr() ? y : s`${v}${y}`;
  }
  t.strConcat = u;
  function f(v) {
    return typeof v == "number" || typeof v == "boolean" || v === null ? v : h(Array.isArray(v) ? v.join(",") : v);
  }
  function d(v) {
    return new r(h(v));
  }
  t.stringify = d;
  function h(v) {
    return JSON.stringify(v).replace(/\u2028/g, "\\u2028").replace(/\u2029/g, "\\u2029");
  }
  t.safeStringify = h;
  function p(v) {
    return typeof v == "string" && t.IDENTIFIER.test(v) ? new r(`.${v}`) : i`[${v}]`;
  }
  t.getProperty = p;
  function m(v) {
    if (typeof v == "string" && t.IDENTIFIER.test(v))
      return new r(`${v}`);
    throw new Error(`CodeGen: invalid export name: ${v}, use explicit $id name mapping`);
  }
  t.getEsmExportName = m;
  function g(v) {
    return new r(v.toString());
  }
  t.regexpCode = g;
})(kf);
var d0 = {};
(function(t) {
  Object.defineProperty(t, "__esModule", { value: !0 }), t.ValueScope = t.ValueScopeName = t.Scope = t.varKinds = t.UsedValueState = void 0;
  const e = kf;
  class n extends Error {
    constructor(c) {
      super(`CodeGen: "code" for ${c} not defined`), this.value = c.value;
    }
  }
  var r;
  (function(l) {
    l[l.Started = 0] = "Started", l[l.Completed = 1] = "Completed";
  })(r = t.UsedValueState || (t.UsedValueState = {})), t.varKinds = {
    const: new e.Name("const"),
    let: new e.Name("let"),
    var: new e.Name("var")
  };
  class i {
    constructor({ prefixes: c, parent: u } = {}) {
      this._names = {}, this._prefixes = c, this._parent = u;
    }
    toName(c) {
      return c instanceof e.Name ? c : this.name(c);
    }
    name(c) {
      return new e.Name(this._newName(c));
    }
    _newName(c) {
      const u = this._names[c] || this._nameGroup(c);
      return `${c}${u.index++}`;
    }
    _nameGroup(c) {
      var u, f;
      if (!((f = (u = this._parent) === null || u === void 0 ? void 0 : u._prefixes) === null || f === void 0) && f.has(c) || this._prefixes && !this._prefixes.has(c))
        throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);
      return this._names[c] = { prefix: c, index: 0 };
    }
  }
  t.Scope = i;
  class o extends e.Name {
    constructor(c, u) {
      super(u), this.prefix = c;
    }
    setValue(c, { property: u, itemIndex: f }) {
      this.value = c, this.scopePath = (0, e._)`.${new e.Name(u)}[${f}]`;
    }
  }
  t.ValueScopeName = o;
  const s = (0, e._)`\n`;
  class a extends i {
    constructor(c) {
      super(c), this._values = {}, this._scope = c.scope, this.opts = { ...c, _n: c.lines ? s : e.nil };
    }
    get() {
      return this._scope;
    }
    name(c) {
      return new o(c, this._newName(c));
    }
    value(c, u) {
      var f;
      if (u.ref === void 0)
        throw new Error("CodeGen: ref must be passed in value");
      const d = this.toName(c), { prefix: h } = d, p = (f = u.key) !== null && f !== void 0 ? f : u.ref;
      let m = this._values[h];
      if (m) {
        const y = m.get(p);
        if (y)
          return y;
      } else
        m = this._values[h] = /* @__PURE__ */ new Map();
      m.set(p, d);
      const g = this._scope[h] || (this._scope[h] = []), v = g.length;
      return g[v] = u.ref, d.setValue(u, { property: h, itemIndex: v }), d;
    }
    getValue(c, u) {
      const f = this._values[c];
      if (f)
        return f.get(u);
    }
    scopeRefs(c, u = this._values) {
      return this._reduceValues(u, (f) => {
        if (f.scopePath === void 0)
          throw new Error(`CodeGen: name "${f}" has no value`);
        return (0, e._)`${c}${f.scopePath}`;
      });
    }
    scopeCode(c = this._values, u, f) {
      return this._reduceValues(c, (d) => {
        if (d.value === void 0)
          throw new Error(`CodeGen: name "${d}" has no value`);
        return d.value.code;
      }, u, f);
    }
    _reduceValues(c, u, f = {}, d) {
      let h = e.nil;
      for (const p in c) {
        const m = c[p];
        if (!m)
          continue;
        const g = f[p] = f[p] || /* @__PURE__ */ new Map();
        m.forEach((v) => {
          if (g.has(v))
            return;
          g.set(v, r.Started);
          let y = u(v);
          if (y) {
            const x = this.opts.es5 ? t.varKinds.var : t.varKinds.const;
            h = (0, e._)`${h}${x} ${v} = ${y};${this.opts._n}`;
          } else if (y = d == null ? void 0 : d(v))
            h = (0, e._)`${h}${y}${this.opts._n}`;
          else
            throw new n(v);
          g.set(v, r.Completed);
        });
      }
      return h;
    }
  }
  t.ValueScope = a;
})(d0);
(function(t) {
  Object.defineProperty(t, "__esModule", { value: !0 }), t.or = t.and = t.not = t.CodeGen = t.operators = t.varKinds = t.ValueScopeName = t.ValueScope = t.Scope = t.Name = t.regexpCode = t.stringify = t.getProperty = t.nil = t.strConcat = t.str = t._ = void 0;
  const e = kf, n = d0;
  var r = kf;
  Object.defineProperty(t, "_", { enumerable: !0, get: function() {
    return r._;
  } }), Object.defineProperty(t, "str", { enumerable: !0, get: function() {
    return r.str;
  } }), Object.defineProperty(t, "strConcat", { enumerable: !0, get: function() {
    return r.strConcat;
  } }), Object.defineProperty(t, "nil", { enumerable: !0, get: function() {
    return r.nil;
  } }), Object.defineProperty(t, "getProperty", { enumerable: !0, get: function() {
    return r.getProperty;
  } }), Object.defineProperty(t, "stringify", { enumerable: !0, get: function() {
    return r.stringify;
  } }), Object.defineProperty(t, "regexpCode", { enumerable: !0, get: function() {
    return r.regexpCode;
  } }), Object.defineProperty(t, "Name", { enumerable: !0, get: function() {
    return r.Name;
  } });
  var i = d0;
  Object.defineProperty(t, "Scope", { enumerable: !0, get: function() {
    return i.Scope;
  } }), Object.defineProperty(t, "ValueScope", { enumerable: !0, get: function() {
    return i.ValueScope;
  } }), Object.defineProperty(t, "ValueScopeName", { enumerable: !0, get: function() {
    return i.ValueScopeName;
  } }), Object.defineProperty(t, "varKinds", { enumerable: !0, get: function() {
    return i.varKinds;
  } }), t.operators = {
    GT: new e._Code(">"),
    GTE: new e._Code(">="),
    LT: new e._Code("<"),
    LTE: new e._Code("<="),
    EQ: new e._Code("==="),
    NEQ: new e._Code("!=="),
    NOT: new e._Code("!"),
    OR: new e._Code("||"),
    AND: new e._Code("&&"),
    ADD: new e._Code("+")
  };
  class o {
    optimizeNodes() {
      return this;
    }
    optimizeNames(C, H) {
      return this;
    }
  }
  class s extends o {
    constructor(C, H, ie) {
      super(), this.varKind = C, this.name = H, this.rhs = ie;
    }
    render({ es5: C, _n: H }) {
      const ie = C ? n.varKinds.var : this.varKind, te = this.rhs === void 0 ? "" : ` = ${this.rhs}`;
      return `${ie} ${this.name}${te};` + H;
    }
    optimizeNames(C, H) {
      if (C[this.name.str])
        return this.rhs && (this.rhs = R(this.rhs, C, H)), this;
    }
    get names() {
      return this.rhs instanceof e._CodeOrName ? this.rhs.names : {};
    }
  }
  class a extends o {
    constructor(C, H, ie) {
      super(), this.lhs = C, this.rhs = H, this.sideEffects = ie;
    }
    render({ _n: C }) {
      return `${this.lhs} = ${this.rhs};` + C;
    }
    optimizeNames(C, H) {
      if (!(this.lhs instanceof e.Name && !C[this.lhs.str] && !this.sideEffects))
        return this.rhs = R(this.rhs, C, H), this;
    }
    get names() {
      const C = this.lhs instanceof e.Name ? {} : { ...this.lhs.names };
      return Y(C, this.rhs);
    }
  }
  class l extends a {
    constructor(C, H, ie, te) {
      super(C, ie, te), this.op = H;
    }
    render({ _n: C }) {
      return `${this.lhs} ${this.op}= ${this.rhs};` + C;
    }
  }
  class c extends o {
    constructor(C) {
      super(), this.label = C, this.names = {};
    }
    render({ _n: C }) {
      return `${this.label}:` + C;
    }
  }
  class u extends o {
    constructor(C) {
      super(), this.label = C, this.names = {};
    }
    render({ _n: C }) {
      return `break${this.label ? ` ${this.label}` : ""};` + C;
    }
  }
  class f extends o {
    constructor(C) {
      super(), this.error = C;
    }
    render({ _n: C }) {
      return `throw ${this.error};` + C;
    }
    get names() {
      return this.error.names;
    }
  }
  class d extends o {
    constructor(C) {
      super(), this.code = C;
    }
    render({ _n: C }) {
      return `${this.code};` + C;
    }
    optimizeNodes() {
      return `${this.code}` ? this : void 0;
    }
    optimizeNames(C, H) {
      return this.code = R(this.code, C, H), this;
    }
    get names() {
      return this.code instanceof e._CodeOrName ? this.code.names : {};
    }
  }
  class h extends o {
    constructor(C = []) {
      super(), this.nodes = C;
    }
    render(C) {
      return this.nodes.reduce((H, ie) => H + ie.render(C), "");
    }
    optimizeNodes() {
      const { nodes: C } = this;
      let H = C.length;
      for (; H--; ) {
        const ie = C[H].optimizeNodes();
        Array.isArray(ie) ? C.splice(H, 1, ...ie) : ie ? C[H] = ie : C.splice(H, 1);
      }
      return C.length > 0 ? this : void 0;
    }
    optimizeNames(C, H) {
      const { nodes: ie } = this;
      let te = ie.length;
      for (; te--; ) {
        const ke = ie[te];
        ke.optimizeNames(C, H) || (Z(C, ke.names), ie.splice(te, 1));
      }
      return ie.length > 0 ? this : void 0;
    }
    get names() {
      return this.nodes.reduce((C, H) => I(C, H.names), {});
    }
  }
  class p extends h {
    render(C) {
      return "{" + C._n + super.render(C) + "}" + C._n;
    }
  }
  class m extends h {
  }
  class g extends p {
  }
  g.kind = "else";
  class v extends p {
    constructor(C, H) {
      super(H), this.condition = C;
    }
    render(C) {
      let H = `if(${this.condition})` + super.render(C);
      return this.else && (H += "else " + this.else.render(C)), H;
    }
    optimizeNodes() {
      super.optimizeNodes();
      const C = this.condition;
      if (C === !0)
        return this.nodes;
      let H = this.else;
      if (H) {
        const ie = H.optimizeNodes();
        H = this.else = Array.isArray(ie) ? new g(ie) : ie;
      }
      if (H)
        return C === !1 ? H instanceof v ? H : H.nodes : this.nodes.length ? this : new v(ne(C), H instanceof v ? [H] : H.nodes);
      if (!(C === !1 || !this.nodes.length))
        return this;
    }
    optimizeNames(C, H) {
      var ie;
      if (this.else = (ie = this.else) === null || ie === void 0 ? void 0 : ie.optimizeNames(C, H), !!(super.optimizeNames(C, H) || this.else))
        return this.condition = R(this.condition, C, H), this;
    }
    get names() {
      const C = super.names;
      return Y(C, this.condition), this.else && I(C, this.else.names), C;
    }
  }
  v.kind = "if";
  class y extends p {
  }
  y.kind = "for";
  class x extends y {
    constructor(C) {
      super(), this.iteration = C;
    }
    render(C) {
      return `for(${this.iteration})` + super.render(C);
    }
    optimizeNames(C, H) {
      if (super.optimizeNames(C, H))
        return this.iteration = R(this.iteration, C, H), this;
    }
    get names() {
      return I(super.names, this.iteration.names);
    }
  }
  class b extends y {
    constructor(C, H, ie, te) {
      super(), this.varKind = C, this.name = H, this.from = ie, this.to = te;
    }
    render(C) {
      const H = C.es5 ? n.varKinds.var : this.varKind, { name: ie, from: te, to: ke } = this;
      return `for(${H} ${ie}=${te}; ${ie}<${ke}; ${ie}++)` + super.render(C);
    }
    get names() {
      const C = Y(super.names, this.from);
      return Y(C, this.to);
    }
  }
  class w extends y {
    constructor(C, H, ie, te) {
      super(), this.loop = C, this.varKind = H, this.name = ie, this.iterable = te;
    }
    render(C) {
      return `for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})` + super.render(C);
    }
    optimizeNames(C, H) {
      if (super.optimizeNames(C, H))
        return this.iterable = R(this.iterable, C, H), this;
    }
    get names() {
      return I(super.names, this.iterable.names);
    }
  }
  class j extends p {
    constructor(C, H, ie) {
      super(), this.name = C, this.args = H, this.async = ie;
    }
    render(C) {
      return `${this.async ? "async " : ""}function ${this.name}(${this.args})` + super.render(C);
    }
  }
  j.kind = "func";
  class k extends h {
    render(C) {
      return "return " + super.render(C);
    }
  }
  k.kind = "return";
  class N extends p {
    render(C) {
      let H = "try" + super.render(C);
      return this.catch && (H += this.catch.render(C)), this.finally && (H += this.finally.render(C)), H;
    }
    optimizeNodes() {
      var C, H;
      return super.optimizeNodes(), (C = this.catch) === null || C === void 0 || C.optimizeNodes(), (H = this.finally) === null || H === void 0 || H.optimizeNodes(), this;
    }
    optimizeNames(C, H) {
      var ie, te;
      return super.optimizeNames(C, H), (ie = this.catch) === null || ie === void 0 || ie.optimizeNames(C, H), (te = this.finally) === null || te === void 0 || te.optimizeNames(C, H), this;
    }
    get names() {
      const C = super.names;
      return this.catch && I(C, this.catch.names), this.finally && I(C, this.finally.names), C;
    }
  }
  class z extends p {
    constructor(C) {
      super(), this.error = C;
    }
    render(C) {
      return `catch(${this.error})` + super.render(C);
    }
  }
  z.kind = "catch";
  class _ extends p {
    render(C) {
      return "finally" + super.render(C);
    }
  }
  _.kind = "finally";
  class B {
    constructor(C, H = {}) {
      this._values = {}, this._blockStarts = [], this._constants = {}, this.opts = { ...H, _n: H.lines ? `
` : "" }, this._extScope = C, this._scope = new n.Scope({ parent: C }), this._nodes = [new m()];
    }
    toString() {
      return this._root.render(this.opts);
    }
    // returns unique name in the internal scope
    name(C) {
      return this._scope.name(C);
    }
    // reserves unique name in the external scope
    scopeName(C) {
      return this._extScope.name(C);
    }
    // reserves unique name in the external scope and assigns value to it
    scopeValue(C, H) {
      const ie = this._extScope.value(C, H);
      return (this._values[ie.prefix] || (this._values[ie.prefix] = /* @__PURE__ */ new Set())).add(ie), ie;
    }
    getScopeValue(C, H) {
      return this._extScope.getValue(C, H);
    }
    // return code that assigns values in the external scope to the names that are used internally
    // (same names that were returned by gen.scopeName or gen.scopeValue)
    scopeRefs(C) {
      return this._extScope.scopeRefs(C, this._values);
    }
    scopeCode() {
      return this._extScope.scopeCode(this._values);
    }
    _def(C, H, ie, te) {
      const ke = this._scope.toName(H);
      return ie !== void 0 && te && (this._constants[ke.str] = ie), this._leafNode(new s(C, ke, ie)), ke;
    }
    // `const` declaration (`var` in es5 mode)
    const(C, H, ie) {
      return this._def(n.varKinds.const, C, H, ie);
    }
    // `let` declaration with optional assignment (`var` in es5 mode)
    let(C, H, ie) {
      return this._def(n.varKinds.let, C, H, ie);
    }
    // `var` declaration with optional assignment
    var(C, H, ie) {
      return this._def(n.varKinds.var, C, H, ie);
    }
    // assignment code
    assign(C, H, ie) {
      return this._leafNode(new a(C, H, ie));
    }
    // `+=` code
    add(C, H) {
      return this._leafNode(new l(C, t.operators.ADD, H));
    }
    // appends passed SafeExpr to code or executes Block
    code(C) {
      return typeof C == "function" ? C() : C !== e.nil && this._leafNode(new d(C)), this;
    }
    // returns code for object literal for the passed argument list of key-value pairs
    object(...C) {
      const H = ["{"];
      for (const [ie, te] of C)
        H.length > 1 && H.push(","), H.push(ie), (ie !== te || this.opts.es5) && (H.push(":"), (0, e.addCodeArg)(H, te));
      return H.push("}"), new e._Code(H);
    }
    // `if` clause (or statement if `thenBody` and, optionally, `elseBody` are passed)
    if(C, H, ie) {
      if (this._blockNode(new v(C)), H && ie)
        this.code(H).else().code(ie).endIf();
      else if (H)
        this.code(H).endIf();
      else if (ie)
        throw new Error('CodeGen: "else" body without "then" body');
      return this;
    }
    // `else if` clause - invalid without `if` or after `else` clauses
    elseIf(C) {
      return this._elseNode(new v(C));
    }
    // `else` clause - only valid after `if` or `else if` clauses
    else() {
      return this._elseNode(new g());
    }
    // end `if` statement (needed if gen.if was used only with condition)
    endIf() {
      return this._endBlockNode(v, g);
    }
    _for(C, H) {
      return this._blockNode(C), H && this.code(H).endFor(), this;
    }
    // a generic `for` clause (or statement if `forBody` is passed)
    for(C, H) {
      return this._for(new x(C), H);
    }
    // `for` statement for a range of values
    forRange(C, H, ie, te, ke = this.opts.es5 ? n.varKinds.var : n.varKinds.let) {
      const Me = this._scope.toName(C);
      return this._for(new b(ke, Me, H, ie), () => te(Me));
    }
    // `for-of` statement (in es5 mode replace with a normal for loop)
    forOf(C, H, ie, te = n.varKinds.const) {
      const ke = this._scope.toName(C);
      if (this.opts.es5) {
        const Me = H instanceof e.Name ? H : this.var("_arr", H);
        return this.forRange("_i", 0, (0, e._)`${Me}.length`, (fe) => {
          this.var(ke, (0, e._)`${Me}[${fe}]`), ie(ke);
        });
      }
      return this._for(new w("of", te, ke, H), () => ie(ke));
    }
    // `for-in` statement.
    // With option `ownProperties` replaced with a `for-of` loop for object keys
    forIn(C, H, ie, te = this.opts.es5 ? n.varKinds.var : n.varKinds.const) {
      if (this.opts.ownProperties)
        return this.forOf(C, (0, e._)`Object.keys(${H})`, ie);
      const ke = this._scope.toName(C);
      return this._for(new w("in", te, ke, H), () => ie(ke));
    }
    // end `for` loop
    endFor() {
      return this._endBlockNode(y);
    }
    // `label` statement
    label(C) {
      return this._leafNode(new c(C));
    }
    // `break` statement
    break(C) {
      return this._leafNode(new u(C));
    }
    // `return` statement
    return(C) {
      const H = new k();
      if (this._blockNode(H), this.code(C), H.nodes.length !== 1)
        throw new Error('CodeGen: "return" should have one node');
      return this._endBlockNode(k);
    }
    // `try` statement
    try(C, H, ie) {
      if (!H && !ie)
        throw new Error('CodeGen: "try" without "catch" and "finally"');
      const te = new N();
      if (this._blockNode(te), this.code(C), H) {
        const ke = this.name("e");
        this._currNode = te.catch = new z(ke), H(ke);
      }
      return ie && (this._currNode = te.finally = new _(), this.code(ie)), this._endBlockNode(z, _);
    }
    // `throw` statement
    throw(C) {
      return this._leafNode(new f(C));
    }
    // start self-balancing block
    block(C, H) {
      return this._blockStarts.push(this._nodes.length), C && this.code(C).endBlock(H), this;
    }
    // end the current self-balancing block
    endBlock(C) {
      const H = this._blockStarts.pop();
      if (H === void 0)
        throw new Error("CodeGen: not in self-balancing block");
      const ie = this._nodes.length - H;
      if (ie < 0 || C !== void 0 && ie !== C)
        throw new Error(`CodeGen: wrong number of nodes: ${ie} vs ${C} expected`);
      return this._nodes.length = H, this;
    }
    // `function` heading (or definition if funcBody is passed)
    func(C, H = e.nil, ie, te) {
      return this._blockNode(new j(C, H, ie)), te && this.code(te).endFunc(), this;
    }
    // end function definition
    endFunc() {
      return this._endBlockNode(j);
    }
    optimize(C = 1) {
      for (; C-- > 0; )
        this._root.optimizeNodes(), this._root.optimizeNames(this._root.names, this._constants);
    }
    _leafNode(C) {
      return this._currNode.nodes.push(C), this;
    }
    _blockNode(C) {
      this._currNode.nodes.push(C), this._nodes.push(C);
    }
    _endBlockNode(C, H) {
      const ie = this._currNode;
      if (ie instanceof C || H && ie instanceof H)
        return this._nodes.pop(), this;
      throw new Error(`CodeGen: not in block "${H ? `${C.kind}/${H.kind}` : C.kind}"`);
    }
    _elseNode(C) {
      const H = this._currNode;
      if (!(H instanceof v))
        throw new Error('CodeGen: "else" without "if"');
      return this._currNode = H.else = C, this;
    }
    get _root() {
      return this._nodes[0];
    }
    get _currNode() {
      const C = this._nodes;
      return C[C.length - 1];
    }
    set _currNode(C) {
      const H = this._nodes;
      H[H.length - 1] = C;
    }
  }
  t.CodeGen = B;
  function I(L, C) {
    for (const H in C)
      L[H] = (L[H] || 0) + (C[H] || 0);
    return L;
  }
  function Y(L, C) {
    return C instanceof e._CodeOrName ? I(L, C.names) : L;
  }
  function R(L, C, H) {
    if (L instanceof e.Name)
      return ie(L);
    if (!te(L))
      return L;
    return new e._Code(L._items.reduce((ke, Me) => (Me instanceof e.Name && (Me = ie(Me)), Me instanceof e._Code ? ke.push(...Me._items) : ke.push(Me), ke), []));
    function ie(ke) {
      const Me = H[ke.str];
      return Me === void 0 || C[ke.str] !== 1 ? ke : (delete C[ke.str], Me);
    }
    function te(ke) {
      return ke instanceof e._Code && ke._items.some((Me) => Me instanceof e.Name && C[Me.str] === 1 && H[Me.str] !== void 0);
    }
  }
  function Z(L, C) {
    for (const H in C)
      L[H] = (L[H] || 0) - (C[H] || 0);
  }
  function ne(L) {
    return typeof L == "boolean" || typeof L == "number" || L === null ? !L : (0, e._)`!${O(L)}`;
  }
  t.not = ne;
  const V = T(t.operators.AND);
  function M(...L) {
    return L.reduce(V);
  }
  t.and = M;
  const F = T(t.operators.OR);
  function P(...L) {
    return L.reduce(F);
  }
  t.or = P;
  function T(L) {
    return (C, H) => C === e.nil ? H : H === e.nil ? C : (0, e._)`${O(C)} ${L} ${O(H)}`;
  }
  function O(L) {
    return L instanceof e.Name ? L : (0, e._)`(${L})`;
  }
})(vn);
var An = {};
(function(t) {
  Object.defineProperty(t, "__esModule", { value: !0 }), t.checkStrictMode = t.getErrorPath = t.Type = t.useFunc = t.setEvaluated = t.evaluatedPropsToName = t.mergeEvaluated = t.eachItem = t.unescapeJsonPointer = t.escapeJsonPointer = t.escapeFragment = t.unescapeFragment = t.schemaRefOrVal = t.schemaHasRulesButRef = t.schemaHasRules = t.checkUnknownRules = t.alwaysValidSchema = t.toHash = void 0;
  const e = vn, n = kf;
  function r(j) {
    const k = {};
    for (const N of j)
      k[N] = !0;
    return k;
  }
  t.toHash = r;
  function i(j, k) {
    return typeof k == "boolean" ? k : Object.keys(k).length === 0 ? !0 : (o(j, k), !s(k, j.self.RULES.all));
  }
  t.alwaysValidSchema = i;
  function o(j, k = j.schema) {
    const { opts: N, self: z } = j;
    if (!N.strictSchema || typeof k == "boolean")
      return;
    const _ = z.RULES.keywords;
    for (const B in k)
      _[B] || w(j, `unknown keyword: "${B}"`);
  }
  t.checkUnknownRules = o;
  function s(j, k) {
    if (typeof j == "boolean")
      return !j;
    for (const N in j)
      if (k[N])
        return !0;
    return !1;
  }
  t.schemaHasRules = s;
  function a(j, k) {
    if (typeof j == "boolean")
      return !j;
    for (const N in j)
      if (N !== "$ref" && k.all[N])
        return !0;
    return !1;
  }
  t.schemaHasRulesButRef = a;
  function l({ topSchemaRef: j, schemaPath: k }, N, z, _) {
    if (!_) {
      if (typeof N == "number" || typeof N == "boolean")
        return N;
      if (typeof N == "string")
        return (0, e._)`${N}`;
    }
    return (0, e._)`${j}${k}${(0, e.getProperty)(z)}`;
  }
  t.schemaRefOrVal = l;
  function c(j) {
    return d(decodeURIComponent(j));
  }
  t.unescapeFragment = c;
  function u(j) {
    return encodeURIComponent(f(j));
  }
  t.escapeFragment = u;
  function f(j) {
    return typeof j == "number" ? `${j}` : j.replace(/~/g, "~0").replace(/\//g, "~1");
  }
  t.escapeJsonPointer = f;
  function d(j) {
    return j.replace(/~1/g, "/").replace(/~0/g, "~");
  }
  t.unescapeJsonPointer = d;
  function h(j, k) {
    if (Array.isArray(j))
      for (const N of j)
        k(N);
    else
      k(j);
  }
  t.eachItem = h;
  function p({ mergeNames: j, mergeToName: k, mergeValues: N, resultToName: z }) {
    return (_, B, I, Y) => {
      const R = I === void 0 ? B : I instanceof e.Name ? (B instanceof e.Name ? j(_, B, I) : k(_, B, I), I) : B instanceof e.Name ? (k(_, I, B), B) : N(B, I);
      return Y === e.Name && !(R instanceof e.Name) ? z(_, R) : R;
    };
  }
  t.mergeEvaluated = {
    props: p({
      mergeNames: (j, k, N) => j.if((0, e._)`${N} !== true && ${k} !== undefined`, () => {
        j.if((0, e._)`${k} === true`, () => j.assign(N, !0), () => j.assign(N, (0, e._)`${N} || {}`).code((0, e._)`Object.assign(${N}, ${k})`));
      }),
      mergeToName: (j, k, N) => j.if((0, e._)`${N} !== true`, () => {
        k === !0 ? j.assign(N, !0) : (j.assign(N, (0, e._)`${N} || {}`), g(j, N, k));
      }),
      mergeValues: (j, k) => j === !0 ? !0 : { ...j, ...k },
      resultToName: m
    }),
    items: p({
      mergeNames: (j, k, N) => j.if((0, e._)`${N} !== true && ${k} !== undefined`, () => j.assign(N, (0, e._)`${k} === true ? true : ${N} > ${k} ? ${N} : ${k}`)),
      mergeToName: (j, k, N) => j.if((0, e._)`${N} !== true`, () => j.assign(N, k === !0 ? !0 : (0, e._)`${N} > ${k} ? ${N} : ${k}`)),
      mergeValues: (j, k) => j === !0 ? !0 : Math.max(j, k),
      resultToName: (j, k) => j.var("items", k)
    })
  };
  function m(j, k) {
    if (k === !0)
      return j.var("props", !0);
    const N = j.var("props", (0, e._)`{}`);
    return k !== void 0 && g(j, N, k), N;
  }
  t.evaluatedPropsToName = m;
  function g(j, k, N) {
    Object.keys(N).forEach((z) => j.assign((0, e._)`${k}${(0, e.getProperty)(z)}`, !0));
  }
  t.setEvaluated = g;
  const v = {};
  function y(j, k) {
    return j.scopeValue("func", {
      ref: k,
      code: v[k.code] || (v[k.code] = new n._Code(k.code))
    });
  }
  t.useFunc = y;
  var x;
  (function(j) {
    j[j.Num = 0] = "Num", j[j.Str = 1] = "Str";
  })(x = t.Type || (t.Type = {}));
  function b(j, k, N) {
    if (j instanceof e.Name) {
      const z = k === x.Num;
      return N ? z ? (0, e._)`"[" + ${j} + "]"` : (0, e._)`"['" + ${j} + "']"` : z ? (0, e._)`"/" + ${j}` : (0, e._)`"/" + ${j}.replace(/~/g, "~0").replace(/\\//g, "~1")`;
    }
    return N ? (0, e.getProperty)(j).toString() : "/" + f(j);
  }
  t.getErrorPath = b;
  function w(j, k, N = j.opts.strictSchema) {
    if (N) {
      if (k = `strict mode: ${k}`, N === !0)
        throw new Error(k);
      j.self.logger.warn(k);
    }
  }
  t.checkStrictMode = w;
})(An);
var As = {};
Object.defineProperty(As, "__esModule", { value: !0 });
const ai = vn, ZQ = {
  // validation function arguments
  data: new ai.Name("data"),
  // args passed from referencing schema
  valCxt: new ai.Name("valCxt"),
  instancePath: new ai.Name("instancePath"),
  parentData: new ai.Name("parentData"),
  parentDataProperty: new ai.Name("parentDataProperty"),
  rootData: new ai.Name("rootData"),
  dynamicAnchors: new ai.Name("dynamicAnchors"),
  // function scoped variables
  vErrors: new ai.Name("vErrors"),
  errors: new ai.Name("errors"),
  this: new ai.Name("this"),
  // "globals"
  self: new ai.Name("self"),
  scope: new ai.Name("scope"),
  // JTD serialize/parse name for JSON string and position
  json: new ai.Name("json"),
  jsonPos: new ai.Name("jsonPos"),
  jsonLen: new ai.Name("jsonLen"),
  jsonPart: new ai.Name("jsonPart")
};
As.default = ZQ;
(function(t) {
  Object.defineProperty(t, "__esModule", { value: !0 }), t.extendErrors = t.resetErrorsCount = t.reportExtraError = t.reportError = t.keyword$DataError = t.keywordError = void 0;
  const e = vn, n = An, r = As;
  t.keywordError = {
    message: ({ keyword: g }) => (0, e.str)`must pass "${g}" keyword validation`
  }, t.keyword$DataError = {
    message: ({ keyword: g, schemaType: v }) => v ? (0, e.str)`"${g}" keyword must be ${v} ($data)` : (0, e.str)`"${g}" keyword is invalid ($data)`
  };
  function i(g, v = t.keywordError, y, x) {
    const { it: b } = g, { gen: w, compositeRule: j, allErrors: k } = b, N = f(g, v, y);
    x ?? (j || k) ? l(w, N) : c(b, (0, e._)`[${N}]`);
  }
  t.reportError = i;
  function o(g, v = t.keywordError, y) {
    const { it: x } = g, { gen: b, compositeRule: w, allErrors: j } = x, k = f(g, v, y);
    l(b, k), w || j || c(x, r.default.vErrors);
  }
  t.reportExtraError = o;
  function s(g, v) {
    g.assign(r.default.errors, v), g.if((0, e._)`${r.default.vErrors} !== null`, () => g.if(v, () => g.assign((0, e._)`${r.default.vErrors}.length`, v), () => g.assign(r.default.vErrors, null)));
  }
  t.resetErrorsCount = s;
  function a({ gen: g, keyword: v, schemaValue: y, data: x, errsCount: b, it: w }) {
    if (b === void 0)
      throw new Error("ajv implementation error");
    const j = g.name("err");
    g.forRange("i", b, r.default.errors, (k) => {
      g.const(j, (0, e._)`${r.default.vErrors}[${k}]`), g.if((0, e._)`${j}.instancePath === undefined`, () => g.assign((0, e._)`${j}.instancePath`, (0, e.strConcat)(r.default.instancePath, w.errorPath))), g.assign((0, e._)`${j}.schemaPath`, (0, e.str)`${w.errSchemaPath}/${v}`), w.opts.verbose && (g.assign((0, e._)`${j}.schema`, y), g.assign((0, e._)`${j}.data`, x));
    });
  }
  t.extendErrors = a;
  function l(g, v) {
    const y = g.const("err", v);
    g.if((0, e._)`${r.default.vErrors} === null`, () => g.assign(r.default.vErrors, (0, e._)`[${y}]`), (0, e._)`${r.default.vErrors}.push(${y})`), g.code((0, e._)`${r.default.errors}++`);
  }
  function c(g, v) {
    const { gen: y, validateName: x, schemaEnv: b } = g;
    b.$async ? y.throw((0, e._)`new ${g.ValidationError}(${v})`) : (y.assign((0, e._)`${x}.errors`, v), y.return(!1));
  }
  const u = {
    keyword: new e.Name("keyword"),
    schemaPath: new e.Name("schemaPath"),
    params: new e.Name("params"),
    propertyName: new e.Name("propertyName"),
    message: new e.Name("message"),
    schema: new e.Name("schema"),
    parentSchema: new e.Name("parentSchema")
  };
  function f(g, v, y) {
    const { createErrors: x } = g.it;
    return x === !1 ? (0, e._)`{}` : d(g, v, y);
  }
  function d(g, v, y = {}) {
    const { gen: x, it: b } = g, w = [
      h(b, y),
      p(g, y)
    ];
    return m(g, v, w), x.object(...w);
  }
  function h({ errorPath: g }, { instancePath: v }) {
    const y = v ? (0, e.str)`${g}${(0, n.getErrorPath)(v, n.Type.Str)}` : g;
    return [r.default.instancePath, (0, e.strConcat)(r.default.instancePath, y)];
  }
  function p({ keyword: g, it: { errSchemaPath: v } }, { schemaPath: y, parentSchema: x }) {
    let b = x ? v : (0, e.str)`${v}/${g}`;
    return y && (b = (0, e.str)`${b}${(0, n.getErrorPath)(y, n.Type.Str)}`), [u.schemaPath, b];
  }
  function m(g, { params: v, message: y }, x) {
    const { keyword: b, data: w, schemaValue: j, it: k } = g, { opts: N, propertyName: z, topSchemaRef: _, schemaPath: B } = k;
    x.push([u.keyword, b], [u.params, typeof v == "function" ? v(g) : v || (0, e._)`{}`]), N.messages && x.push([u.message, typeof y == "function" ? y(g) : y]), N.verbose && x.push([u.schema, j], [u.parentSchema, (0, e._)`${_}${B}`], [r.default.data, w]), z && x.push([u.propertyName, z]);
  }
})(Xf);
Object.defineProperty(Ic, "__esModule", { value: !0 });
Ic.boolOrEmptySchema = Ic.topBoolOrEmptySchema = void 0;
const eX = Xf, tX = vn, nX = As, rX = {
  message: "boolean schema is false"
};
function iX(t) {
  const { gen: e, schema: n, validateName: r } = t;
  n === !1 ? FE(t, !1) : typeof n == "object" && n.$async === !0 ? e.return(nX.default.data) : (e.assign((0, tX._)`${r}.errors`, null), e.return(!0));
}
Ic.topBoolOrEmptySchema = iX;
function oX(t, e) {
  const { gen: n, schema: r } = t;
  r === !1 ? (n.var(e, !1), FE(t)) : n.var(e, !0);
}
Ic.boolOrEmptySchema = oX;
function FE(t, e) {
  const { gen: n, data: r } = t, i = {
    gen: n,
    keyword: "false schema",
    data: r,
    schema: !1,
    schemaCode: !1,
    schemaValue: !1,
    params: {},
    it: t
  };
  (0, eX.reportError)(i, rX, void 0, e);
}
var Zf = {}, $l = {};
Object.defineProperty($l, "__esModule", { value: !0 });
$l.getRules = $l.isJSONType = void 0;
const sX = ["string", "number", "integer", "boolean", "null", "object", "array"], aX = new Set(sX);
function lX(t) {
  return typeof t == "string" && aX.has(t);
}
$l.isJSONType = lX;
function cX() {
  const t = {
    number: { type: "number", rules: [] },
    string: { type: "string", rules: [] },
    array: { type: "array", rules: [] },
    object: { type: "object", rules: [] }
  };
  return {
    types: { ...t, integer: !0, boolean: !0, null: !0 },
    rules: [{ rules: [] }, t.number, t.string, t.array, t.object],
    post: { rules: [] },
    all: {},
    keywords: {}
  };
}
$l.getRules = cX;
var Bs = {};
Object.defineProperty(Bs, "__esModule", { value: !0 });
Bs.shouldUseRule = Bs.shouldUseGroup = Bs.schemaHasRulesForType = void 0;
function uX({ schema: t, self: e }, n) {
  const r = e.RULES.types[n];
  return r && r !== !0 && VE(t, r);
}
Bs.schemaHasRulesForType = uX;
function VE(t, e) {
  return e.rules.some((n) => WE(t, n));
}
Bs.shouldUseGroup = VE;
function WE(t, e) {
  var n;
  return t[e.keyword] !== void 0 || ((n = e.definition.implements) === null || n === void 0 ? void 0 : n.some((r) => t[r] !== void 0));
}
Bs.shouldUseRule = WE;
(function(t) {
  Object.defineProperty(t, "__esModule", { value: !0 }), t.reportTypeError = t.checkDataTypes = t.checkDataType = t.coerceAndCheckDataType = t.getJSONTypes = t.getSchemaTypes = t.DataType = void 0;
  const e = $l, n = Bs, r = Xf, i = vn, o = An;
  var s;
  (function(x) {
    x[x.Correct = 0] = "Correct", x[x.Wrong = 1] = "Wrong";
  })(s = t.DataType || (t.DataType = {}));
  function a(x) {
    const b = l(x.type);
    if (b.includes("null")) {
      if (x.nullable === !1)
        throw new Error("type: null contradicts nullable: false");
    } else {
      if (!b.length && x.nullable !== void 0)
        throw new Error('"nullable" cannot be used without "type"');
      x.nullable === !0 && b.push("null");
    }
    return b;
  }
  t.getSchemaTypes = a;
  function l(x) {
    const b = Array.isArray(x) ? x : x ? [x] : [];
    if (b.every(e.isJSONType))
      return b;
    throw new Error("type must be JSONType or JSONType[]: " + b.join(","));
  }
  t.getJSONTypes = l;
  function c(x, b) {
    const { gen: w, data: j, opts: k } = x, N = f(b, k.coerceTypes), z = b.length > 0 && !(N.length === 0 && b.length === 1 && (0, n.schemaHasRulesForType)(x, b[0]));
    if (z) {
      const _ = m(b, j, k.strictNumbers, s.Wrong);
      w.if(_, () => {
        N.length ? d(x, b, N) : v(x);
      });
    }
    return z;
  }
  t.coerceAndCheckDataType = c;
  const u = /* @__PURE__ */ new Set(["string", "number", "integer", "boolean", "null"]);
  function f(x, b) {
    return b ? x.filter((w) => u.has(w) || b === "array" && w === "array") : [];
  }
  function d(x, b, w) {
    const { gen: j, data: k, opts: N } = x, z = j.let("dataType", (0, i._)`typeof ${k}`), _ = j.let("coerced", (0, i._)`undefined`);
    N.coerceTypes === "array" && j.if((0, i._)`${z} == 'object' && Array.isArray(${k}) && ${k}.length == 1`, () => j.assign(k, (0, i._)`${k}[0]`).assign(z, (0, i._)`typeof ${k}`).if(m(b, k, N.strictNumbers), () => j.assign(_, k))), j.if((0, i._)`${_} !== undefined`);
    for (const I of w)
      (u.has(I) || I === "array" && N.coerceTypes === "array") && B(I);
    j.else(), v(x), j.endIf(), j.if((0, i._)`${_} !== undefined`, () => {
      j.assign(k, _), h(x, _);
    });
    function B(I) {
      switch (I) {
        case "string":
          j.elseIf((0, i._)`${z} == "number" || ${z} == "boolean"`).assign(_, (0, i._)`"" + ${k}`).elseIf((0, i._)`${k} === null`).assign(_, (0, i._)`""`);
          return;
        case "number":
          j.elseIf((0, i._)`${z} == "boolean" || ${k} === null
              || (${z} == "string" && ${k} && ${k} == +${k})`).assign(_, (0, i._)`+${k}`);
          return;
        case "integer":
          j.elseIf((0, i._)`${z} === "boolean" || ${k} === null
              || (${z} === "string" && ${k} && ${k} == +${k} && !(${k} % 1))`).assign(_, (0, i._)`+${k}`);
          return;
        case "boolean":
          j.elseIf((0, i._)`${k} === "false" || ${k} === 0 || ${k} === null`).assign(_, !1).elseIf((0, i._)`${k} === "true" || ${k} === 1`).assign(_, !0);
          return;
        case "null":
          j.elseIf((0, i._)`${k} === "" || ${k} === 0 || ${k} === false`), j.assign(_, null);
          return;
        case "array":
          j.elseIf((0, i._)`${z} === "string" || ${z} === "number"
              || ${z} === "boolean" || ${k} === null`).assign(_, (0, i._)`[${k}]`);
      }
    }
  }
  function h({ gen: x, parentData: b, parentDataProperty: w }, j) {
    x.if((0, i._)`${b} !== undefined`, () => x.assign((0, i._)`${b}[${w}]`, j));
  }
  function p(x, b, w, j = s.Correct) {
    const k = j === s.Correct ? i.operators.EQ : i.operators.NEQ;
    let N;
    switch (x) {
      case "null":
        return (0, i._)`${b} ${k} null`;
      case "array":
        N = (0, i._)`Array.isArray(${b})`;
        break;
      case "object":
        N = (0, i._)`${b} && typeof ${b} == "object" && !Array.isArray(${b})`;
        break;
      case "integer":
        N = z((0, i._)`!(${b} % 1) && !isNaN(${b})`);
        break;
      case "number":
        N = z();
        break;
      default:
        return (0, i._)`typeof ${b} ${k} ${x}`;
    }
    return j === s.Correct ? N : (0, i.not)(N);
    function z(_ = i.nil) {
      return (0, i.and)((0, i._)`typeof ${b} == "number"`, _, w ? (0, i._)`isFinite(${b})` : i.nil);
    }
  }
  t.checkDataType = p;
  function m(x, b, w, j) {
    if (x.length === 1)
      return p(x[0], b, w, j);
    let k;
    const N = (0, o.toHash)(x);
    if (N.array && N.object) {
      const z = (0, i._)`typeof ${b} != "object"`;
      k = N.null ? z : (0, i._)`!${b} || ${z}`, delete N.null, delete N.array, delete N.object;
    } else
      k = i.nil;
    N.number && delete N.integer;
    for (const z in N)
      k = (0, i.and)(k, p(z, b, w, j));
    return k;
  }
  t.checkDataTypes = m;
  const g = {
    message: ({ schema: x }) => `must be ${x}`,
    params: ({ schema: x, schemaValue: b }) => typeof x == "string" ? (0, i._)`{type: ${x}}` : (0, i._)`{type: ${b}}`
  };
  function v(x) {
    const b = y(x);
    (0, r.reportError)(b, g);
  }
  t.reportTypeError = v;
  function y(x) {
    const { gen: b, data: w, schema: j } = x, k = (0, o.schemaRefOrVal)(x, j, "type");
    return {
      gen: b,
      keyword: "type",
      data: w,
      schema: j.type,
      schemaCode: k,
      schemaValue: k,
      parentSchema: j,
      params: {},
      it: x
    };
  }
})(Zf);
var _m = {};
Object.defineProperty(_m, "__esModule", { value: !0 });
_m.assignDefaults = void 0;
const Hl = vn, fX = An;
function dX(t, e) {
  const { properties: n, items: r } = t.schema;
  if (e === "object" && n)
    for (const i in n)
      bj(t, i, n[i].default);
  else
    e === "array" && Array.isArray(r) && r.forEach((i, o) => bj(t, o, i.default));
}
_m.assignDefaults = dX;
function bj(t, e, n) {
  const { gen: r, compositeRule: i, data: o, opts: s } = t;
  if (n === void 0)
    return;
  const a = (0, Hl._)`${o}${(0, Hl.getProperty)(e)}`;
  if (i) {
    (0, fX.checkStrictMode)(t, `default is ignored for: ${a}`);
    return;
  }
  let l = (0, Hl._)`${a} === undefined`;
  s.useDefaults === "empty" && (l = (0, Hl._)`${l} || ${a} === null || ${a} === ""`), r.if(l, (0, Hl._)`${a} = ${(0, Hl.stringify)(n)}`);
}
var cs = {}, mn = {};
Object.defineProperty(mn, "__esModule", { value: !0 });
mn.validateUnion = mn.validateArray = mn.usePattern = mn.callValidateCode = mn.schemaProperties = mn.allSchemaProperties = mn.noPropertyInData = mn.propertyInData = mn.isOwnProperty = mn.hasPropFunc = mn.reportMissingProp = mn.checkMissingProp = mn.checkReportMissingProp = void 0;
const lr = vn, Yy = An, aa = As, hX = An;
function pX(t, e) {
  const { gen: n, data: r, it: i } = t;
  n.if(Xy(n, r, e, i.opts.ownProperties), () => {
    t.setParams({ missingProperty: (0, lr._)`${e}` }, !0), t.error();
  });
}
mn.checkReportMissingProp = pX;
function mX({ gen: t, data: e, it: { opts: n } }, r, i) {
  return (0, lr.or)(...r.map((o) => (0, lr.and)(Xy(t, e, o, n.ownProperties), (0, lr._)`${i} = ${o}`)));
}
mn.checkMissingProp = mX;
function gX(t, e) {
  t.setParams({ missingProperty: e }, !0), t.error();
}
mn.reportMissingProp = gX;
function HE(t) {
  return t.scopeValue("func", {
    // eslint-disable-next-line @typescript-eslint/unbound-method
    ref: Object.prototype.hasOwnProperty,
    code: (0, lr._)`Object.prototype.hasOwnProperty`
  });
}
mn.hasPropFunc = HE;
function Qy(t, e, n) {
  return (0, lr._)`${HE(t)}.call(${e}, ${n})`;
}
mn.isOwnProperty = Qy;
function vX(t, e, n, r) {
  const i = (0, lr._)`${e}${(0, lr.getProperty)(n)} !== undefined`;
  return r ? (0, lr._)`${i} && ${Qy(t, e, n)}` : i;
}
mn.propertyInData = vX;
function Xy(t, e, n, r) {
  const i = (0, lr._)`${e}${(0, lr.getProperty)(n)} === undefined`;
  return r ? (0, lr.or)(i, (0, lr.not)(Qy(t, e, n))) : i;
}
mn.noPropertyInData = Xy;
function UE(t) {
  return t ? Object.keys(t).filter((e) => e !== "__proto__") : [];
}
mn.allSchemaProperties = UE;
function yX(t, e) {
  return UE(e).filter((n) => !(0, Yy.alwaysValidSchema)(t, e[n]));
}
mn.schemaProperties = yX;
function bX({ schemaCode: t, data: e, it: { gen: n, topSchemaRef: r, schemaPath: i, errorPath: o }, it: s }, a, l, c) {
  const u = c ? (0, lr._)`${t}, ${e}, ${r}${i}` : e, f = [
    [aa.default.instancePath, (0, lr.strConcat)(aa.default.instancePath, o)],
    [aa.default.parentData, s.parentData],
    [aa.default.parentDataProperty, s.parentDataProperty],
    [aa.default.rootData, aa.default.rootData]
  ];
  s.opts.dynamicRef && f.push([aa.default.dynamicAnchors, aa.default.dynamicAnchors]);
  const d = (0, lr._)`${u}, ${n.object(...f)}`;
  return l !== lr.nil ? (0, lr._)`${a}.call(${l}, ${d})` : (0, lr._)`${a}(${d})`;
}
mn.callValidateCode = bX;
const xX = (0, lr._)`new RegExp`;
function wX({ gen: t, it: { opts: e } }, n) {
  const r = e.unicodeRegExp ? "u" : "", { regExp: i } = e.code, o = i(n, r);
  return t.scopeValue("pattern", {
    key: o.toString(),
    ref: o,
    code: (0, lr._)`${i.code === "new RegExp" ? xX : (0, hX.useFunc)(t, i)}(${n}, ${r})`
  });
}
mn.usePattern = wX;
function jX(t) {
  const { gen: e, data: n, keyword: r, it: i } = t, o = e.name("valid");
  if (i.allErrors) {
    const a = e.let("valid", !0);
    return s(() => e.assign(a, !1)), a;
  }
  return e.var(o, !0), s(() => e.break()), o;
  function s(a) {
    const l = e.const("len", (0, lr._)`${n}.length`);
    e.forRange("i", 0, l, (c) => {
      t.subschema({
        keyword: r,
        dataProp: c,
        dataPropType: Yy.Type.Num
      }, o), e.if((0, lr.not)(o), a);
    });
  }
}
mn.validateArray = jX;
function $X(t) {
  const { gen: e, schema: n, keyword: r, it: i } = t;
  if (!Array.isArray(n))
    throw new Error("ajv implementation error");
  if (n.some((l) => (0, Yy.alwaysValidSchema)(i, l)) && !i.opts.unevaluated)
    return;
  const s = e.let("valid", !1), a = e.name("_valid");
  e.block(() => n.forEach((l, c) => {
    const u = t.subschema({
      keyword: r,
      schemaProp: c,
      compositeRule: !0
    }, a);
    e.assign(s, (0, lr._)`${s} || ${a}`), t.mergeValidEvaluated(u, a) || e.if((0, lr.not)(s));
  })), t.result(s, () => t.reset(), () => t.error(!0));
}
mn.validateUnion = $X;
Object.defineProperty(cs, "__esModule", { value: !0 });
cs.validateKeywordUsage = cs.validSchemaType = cs.funcKeywordCode = cs.macroKeywordCode = void 0;
const xi = vn, il = As, kX = mn, SX = Xf;
function CX(t, e) {
  const { gen: n, keyword: r, schema: i, parentSchema: o, it: s } = t, a = e.macro.call(s.self, i, o, s), l = JE(n, r, a);
  s.opts.validateSchema !== !1 && s.self.validateSchema(a, !0);
  const c = n.name("valid");
  t.subschema({
    schema: a,
    schemaPath: xi.nil,
    errSchemaPath: `${s.errSchemaPath}/${r}`,
    topSchemaRef: l,
    compositeRule: !0
  }, c), t.pass(c, () => t.error(!0));
}
cs.macroKeywordCode = CX;
function _X(t, e) {
  var n;
  const { gen: r, keyword: i, schema: o, parentSchema: s, $data: a, it: l } = t;
  AX(l, e);
  const c = !a && e.compile ? e.compile.call(l.self, o, s, l) : e.validate, u = JE(r, i, c), f = r.let("valid");
  t.block$data(f, d), t.ok((n = e.valid) !== null && n !== void 0 ? n : f);
  function d() {
    if (e.errors === !1)
      m(), e.modifying && xj(t), g(() => t.error());
    else {
      const v = e.async ? h() : p();
      e.modifying && xj(t), g(() => OX(t, v));
    }
  }
  function h() {
    const v = r.let("ruleErrs", null);
    return r.try(() => m((0, xi._)`await `), (y) => r.assign(f, !1).if((0, xi._)`${y} instanceof ${l.ValidationError}`, () => r.assign(v, (0, xi._)`${y}.errors`), () => r.throw(y))), v;
  }
  function p() {
    const v = (0, xi._)`${u}.errors`;
    return r.assign(v, null), m(xi.nil), v;
  }
  function m(v = e.async ? (0, xi._)`await ` : xi.nil) {
    const y = l.opts.passContext ? il.default.this : il.default.self, x = !("compile" in e && !a || e.schema === !1);
    r.assign(f, (0, xi._)`${v}${(0, kX.callValidateCode)(t, u, y, x)}`, e.modifying);
  }
  function g(v) {
    var y;
    r.if((0, xi.not)((y = e.valid) !== null && y !== void 0 ? y : f), v);
  }
}
cs.funcKeywordCode = _X;
function xj(t) {
  const { gen: e, data: n, it: r } = t;
  e.if(r.parentData, () => e.assign(n, (0, xi._)`${r.parentData}[${r.parentDataProperty}]`));
}
function OX(t, e) {
  const { gen: n } = t;
  n.if((0, xi._)`Array.isArray(${e})`, () => {
    n.assign(il.default.vErrors, (0, xi._)`${il.default.vErrors} === null ? ${e} : ${il.default.vErrors}.concat(${e})`).assign(il.default.errors, (0, xi._)`${il.default.vErrors}.length`), (0, SX.extendErrors)(t);
  }, () => t.error());
}
function AX({ schemaEnv: t }, e) {
  if (e.async && !t.$async)
    throw new Error("async keyword in sync schema");
}
function JE(t, e, n) {
  if (n === void 0)
    throw new Error(`keyword "${e}" failed to compile`);
  return t.scopeValue("keyword", typeof n == "function" ? { ref: n } : { ref: n, code: (0, xi.stringify)(n) });
}
function EX(t, e, n = !1) {
  return !e.length || e.some((r) => r === "array" ? Array.isArray(t) : r === "object" ? t && typeof t == "object" && !Array.isArray(t) : typeof t == r || n && typeof t > "u");
}
cs.validSchemaType = EX;
function MX({ schema: t, opts: e, self: n, errSchemaPath: r }, i, o) {
  if (Array.isArray(i.keyword) ? !i.keyword.includes(o) : i.keyword !== o)
    throw new Error("ajv implementation error");
  const s = i.dependencies;
  if (s != null && s.some((a) => !Object.prototype.hasOwnProperty.call(t, a)))
    throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);
  if (i.validateSchema && !i.validateSchema(t[o])) {
    const l = `keyword "${o}" value is invalid at path "${r}": ` + n.errorsText(i.validateSchema.errors);
    if (e.validateSchema === "log")
      n.logger.error(l);
    else
      throw new Error(l);
  }
}
cs.validateKeywordUsage = MX;
var $a = {};
Object.defineProperty($a, "__esModule", { value: !0 });
$a.extendSubschemaMode = $a.extendSubschemaData = $a.getSubschema = void 0;
const os = vn, GE = An;
function TX(t, { keyword: e, schemaProp: n, schema: r, schemaPath: i, errSchemaPath: o, topSchemaRef: s }) {
  if (e !== void 0 && r !== void 0)
    throw new Error('both "keyword" and "schema" passed, only one allowed');
  if (e !== void 0) {
    const a = t.schema[e];
    return n === void 0 ? {
      schema: a,
      schemaPath: (0, os._)`${t.schemaPath}${(0, os.getProperty)(e)}`,
      errSchemaPath: `${t.errSchemaPath}/${e}`
    } : {
      schema: a[n],
      schemaPath: (0, os._)`${t.schemaPath}${(0, os.getProperty)(e)}${(0, os.getProperty)(n)}`,
      errSchemaPath: `${t.errSchemaPath}/${e}/${(0, GE.escapeFragment)(n)}`
    };
  }
  if (r !== void 0) {
    if (i === void 0 || o === void 0 || s === void 0)
      throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');
    return {
      schema: r,
      schemaPath: i,
      topSchemaRef: s,
      errSchemaPath: o
    };
  }
  throw new Error('either "keyword" or "schema" must be passed');
}
$a.getSubschema = TX;
function RX(t, e, { dataProp: n, dataPropType: r, data: i, dataTypes: o, propertyName: s }) {
  if (i !== void 0 && n !== void 0)
    throw new Error('both "data" and "dataProp" passed, only one allowed');
  const { gen: a } = e;
  if (n !== void 0) {
    const { errorPath: c, dataPathArr: u, opts: f } = e, d = a.let("data", (0, os._)`${e.data}${(0, os.getProperty)(n)}`, !0);
    l(d), t.errorPath = (0, os.str)`${c}${(0, GE.getErrorPath)(n, r, f.jsPropertySyntax)}`, t.parentDataProperty = (0, os._)`${n}`, t.dataPathArr = [...u, t.parentDataProperty];
  }
  if (i !== void 0) {
    const c = i instanceof os.Name ? i : a.let("data", i, !0);
    l(c), s !== void 0 && (t.propertyName = s);
  }
  o && (t.dataTypes = o);
  function l(c) {
    t.data = c, t.dataLevel = e.dataLevel + 1, t.dataTypes = [], e.definedProperties = /* @__PURE__ */ new Set(), t.parentData = e.data, t.dataNames = [...e.dataNames, c];
  }
}
$a.extendSubschemaData = RX;
function PX(t, { jtdDiscriminator: e, jtdMetadata: n, compositeRule: r, createErrors: i, allErrors: o }) {
  r !== void 0 && (t.compositeRule = r), i !== void 0 && (t.createErrors = i), o !== void 0 && (t.allErrors = o), t.jtdDiscriminator = e, t.jtdMetadata = n;
}
$a.extendSubschemaMode = PX;
var Zr = {}, KE = function t(e, n) {
  if (e === n)
    return !0;
  if (e && n && typeof e == "object" && typeof n == "object") {
    if (e.constructor !== n.constructor)
      return !1;
    var r, i, o;
    if (Array.isArray(e)) {
      if (r = e.length, r != n.length)
        return !1;
      for (i = r; i-- !== 0; )
        if (!t(e[i], n[i]))
          return !1;
      return !0;
    }
    if (e.constructor === RegExp)
      return e.source === n.source && e.flags === n.flags;
    if (e.valueOf !== Object.prototype.valueOf)
      return e.valueOf() === n.valueOf();
    if (e.toString !== Object.prototype.toString)
      return e.toString() === n.toString();
    if (o = Object.keys(e), r = o.length, r !== Object.keys(n).length)
      return !1;
    for (i = r; i-- !== 0; )
      if (!Object.prototype.hasOwnProperty.call(n, o[i]))
        return !1;
    for (i = r; i-- !== 0; ) {
      var s = o[i];
      if (!t(e[s], n[s]))
        return !1;
    }
    return !0;
  }
  return e !== e && n !== n;
}, YE = { exports: {} }, ya = YE.exports = function(t, e, n) {
  typeof e == "function" && (n = e, e = {}), n = e.cb || n;
  var r = typeof n == "function" ? n : n.pre || function() {
  }, i = n.post || function() {
  };
  yh(e, r, i, t, "", t);
};
ya.keywords = {
  additionalItems: !0,
  items: !0,
  contains: !0,
  additionalProperties: !0,
  propertyNames: !0,
  not: !0,
  if: !0,
  then: !0,
  else: !0
};
ya.arrayKeywords = {
  items: !0,
  allOf: !0,
  anyOf: !0,
  oneOf: !0
};
ya.propsKeywords = {
  $defs: !0,
  definitions: !0,
  properties: !0,
  patternProperties: !0,
  dependencies: !0
};
ya.skipKeywords = {
  default: !0,
  enum: !0,
  const: !0,
  required: !0,
  maximum: !0,
  minimum: !0,
  exclusiveMaximum: !0,
  exclusiveMinimum: !0,
  multipleOf: !0,
  maxLength: !0,
  minLength: !0,
  pattern: !0,
  format: !0,
  maxItems: !0,
  minItems: !0,
  uniqueItems: !0,
  maxProperties: !0,
  minProperties: !0
};
function yh(t, e, n, r, i, o, s, a, l, c) {
  if (r && typeof r == "object" && !Array.isArray(r)) {
    e(r, i, o, s, a, l, c);
    for (var u in r) {
      var f = r[u];
      if (Array.isArray(f)) {
        if (u in ya.arrayKeywords)
          for (var d = 0; d < f.length; d++)
            yh(t, e, n, f[d], i + "/" + u + "/" + d, o, i, u, r, d);
      } else if (u in ya.propsKeywords) {
        if (f && typeof f == "object")
          for (var h in f)
            yh(t, e, n, f[h], i + "/" + u + "/" + IX(h), o, i, u, r, h);
      } else
        (u in ya.keywords || t.allKeys && !(u in ya.skipKeywords)) && yh(t, e, n, f, i + "/" + u, o, i, u, r);
    }
    n(r, i, o, s, a, l, c);
  }
}
function IX(t) {
  return t.replace(/~/g, "~0").replace(/\//g, "~1");
}
var NX = YE.exports;
Object.defineProperty(Zr, "__esModule", { value: !0 });
Zr.getSchemaRefs = Zr.resolveUrl = Zr.normalizeId = Zr._getFullPath = Zr.getFullPath = Zr.inlineRef = void 0;
const DX = An, LX = KE, BX = NX, qX = /* @__PURE__ */ new Set([
  "type",
  "format",
  "pattern",
  "maxLength",
  "minLength",
  "maxProperties",
  "minProperties",
  "maxItems",
  "minItems",
  "maximum",
  "minimum",
  "uniqueItems",
  "multipleOf",
  "required",
  "enum",
  "const"
]);
function zX(t, e = !0) {
  return typeof t == "boolean" ? !0 : e === !0 ? !h0(t) : e ? QE(t) <= e : !1;
}
Zr.inlineRef = zX;
const FX = /* @__PURE__ */ new Set([
  "$ref",
  "$recursiveRef",
  "$recursiveAnchor",
  "$dynamicRef",
  "$dynamicAnchor"
]);
function h0(t) {
  for (const e in t) {
    if (FX.has(e))
      return !0;
    const n = t[e];
    if (Array.isArray(n) && n.some(h0) || typeof n == "object" && h0(n))
      return !0;
  }
  return !1;
}
function QE(t) {
  let e = 0;
  for (const n in t) {
    if (n === "$ref")
      return 1 / 0;
    if (e++, !qX.has(n) && (typeof t[n] == "object" && (0, DX.eachItem)(t[n], (r) => e += QE(r)), e === 1 / 0))
      return 1 / 0;
  }
  return e;
}
function XE(t, e = "", n) {
  n !== !1 && (e = $c(e));
  const r = t.parse(e);
  return ZE(t, r);
}
Zr.getFullPath = XE;
function ZE(t, e) {
  return t.serialize(e).split("#")[0] + "#";
}
Zr._getFullPath = ZE;
const VX = /#\/?$/;
function $c(t) {
  return t ? t.replace(VX, "") : "";
}
Zr.normalizeId = $c;
function WX(t, e, n) {
  return n = $c(n), t.resolve(e, n);
}
Zr.resolveUrl = WX;
const HX = /^[a-z_][-a-z0-9._]*$/i;
function UX(t, e) {
  if (typeof t == "boolean")
    return {};
  const { schemaId: n, uriResolver: r } = this.opts, i = $c(t[n] || e), o = { "": i }, s = XE(r, i, !1), a = {}, l = /* @__PURE__ */ new Set();
  return BX(t, { allKeys: !0 }, (f, d, h, p) => {
    if (p === void 0)
      return;
    const m = s + d;
    let g = o[p];
    typeof f[n] == "string" && (g = v.call(this, f[n])), y.call(this, f.$anchor), y.call(this, f.$dynamicAnchor), o[d] = g;
    function v(x) {
      const b = this.opts.uriResolver.resolve;
      if (x = $c(g ? b(g, x) : x), l.has(x))
        throw u(x);
      l.add(x);
      let w = this.refs[x];
      return typeof w == "string" && (w = this.refs[w]), typeof w == "object" ? c(f, w.schema, x) : x !== $c(m) && (x[0] === "#" ? (c(f, a[x], x), a[x] = f) : this.refs[x] = m), x;
    }
    function y(x) {
      if (typeof x == "string") {
        if (!HX.test(x))
          throw new Error(`invalid anchor "${x}"`);
        v.call(this, `#${x}`);
      }
    }
  }), a;
  function c(f, d, h) {
    if (d !== void 0 && !LX(f, d))
      throw u(h);
  }
  function u(f) {
    return new Error(`reference "${f}" resolves to more than one schema`);
  }
}
Zr.getSchemaRefs = UX;
Object.defineProperty(Bo, "__esModule", { value: !0 });
Bo.getData = Bo.KeywordCxt = Bo.validateFunctionCode = void 0;
const eM = Ic, wj = Zf, Zy = Bs, dp = Zf, JX = _m, Hu = cs, Og = $a, St = vn, Vt = As, GX = Zr, qs = An, Su = Xf;
function KX(t) {
  if (rM(t) && (iM(t), nM(t))) {
    XX(t);
    return;
  }
  tM(t, () => (0, eM.topBoolOrEmptySchema)(t));
}
Bo.validateFunctionCode = KX;
function tM({ gen: t, validateName: e, schema: n, schemaEnv: r, opts: i }, o) {
  i.code.es5 ? t.func(e, (0, St._)`${Vt.default.data}, ${Vt.default.valCxt}`, r.$async, () => {
    t.code((0, St._)`"use strict"; ${jj(n, i)}`), QX(t, i), t.code(o);
  }) : t.func(e, (0, St._)`${Vt.default.data}, ${YX(i)}`, r.$async, () => t.code(jj(n, i)).code(o));
}
function YX(t) {
  return (0, St._)`{${Vt.default.instancePath}="", ${Vt.default.parentData}, ${Vt.default.parentDataProperty}, ${Vt.default.rootData}=${Vt.default.data}${t.dynamicRef ? (0, St._)`, ${Vt.default.dynamicAnchors}={}` : St.nil}}={}`;
}
function QX(t, e) {
  t.if(Vt.default.valCxt, () => {
    t.var(Vt.default.instancePath, (0, St._)`${Vt.default.valCxt}.${Vt.default.instancePath}`), t.var(Vt.default.parentData, (0, St._)`${Vt.default.valCxt}.${Vt.default.parentData}`), t.var(Vt.default.parentDataProperty, (0, St._)`${Vt.default.valCxt}.${Vt.default.parentDataProperty}`), t.var(Vt.default.rootData, (0, St._)`${Vt.default.valCxt}.${Vt.default.rootData}`), e.dynamicRef && t.var(Vt.default.dynamicAnchors, (0, St._)`${Vt.default.valCxt}.${Vt.default.dynamicAnchors}`);
  }, () => {
    t.var(Vt.default.instancePath, (0, St._)`""`), t.var(Vt.default.parentData, (0, St._)`undefined`), t.var(Vt.default.parentDataProperty, (0, St._)`undefined`), t.var(Vt.default.rootData, Vt.default.data), e.dynamicRef && t.var(Vt.default.dynamicAnchors, (0, St._)`{}`);
  });
}
function XX(t) {
  const { schema: e, opts: n, gen: r } = t;
  tM(t, () => {
    n.$comment && e.$comment && sM(t), rZ(t), r.let(Vt.default.vErrors, null), r.let(Vt.default.errors, 0), n.unevaluated && ZX(t), oM(t), sZ(t);
  });
}
function ZX(t) {
  const { gen: e, validateName: n } = t;
  t.evaluated = e.const("evaluated", (0, St._)`${n}.evaluated`), e.if((0, St._)`${t.evaluated}.dynamicProps`, () => e.assign((0, St._)`${t.evaluated}.props`, (0, St._)`undefined`)), e.if((0, St._)`${t.evaluated}.dynamicItems`, () => e.assign((0, St._)`${t.evaluated}.items`, (0, St._)`undefined`));
}
function jj(t, e) {
  const n = typeof t == "object" && t[e.schemaId];
  return n && (e.code.source || e.code.process) ? (0, St._)`/*# sourceURL=${n} */` : St.nil;
}
function eZ(t, e) {
  if (rM(t) && (iM(t), nM(t))) {
    tZ(t, e);
    return;
  }
  (0, eM.boolOrEmptySchema)(t, e);
}
function nM({ schema: t, self: e }) {
  if (typeof t == "boolean")
    return !t;
  for (const n in t)
    if (e.RULES.all[n])
      return !0;
  return !1;
}
function rM(t) {
  return typeof t.schema != "boolean";
}
function tZ(t, e) {
  const { schema: n, gen: r, opts: i } = t;
  i.$comment && n.$comment && sM(t), iZ(t), oZ(t);
  const o = r.const("_errs", Vt.default.errors);
  oM(t, o), r.var(e, (0, St._)`${o} === ${Vt.default.errors}`);
}
function iM(t) {
  (0, qs.checkUnknownRules)(t), nZ(t);
}
function oM(t, e) {
  if (t.opts.jtd)
    return $j(t, [], !1, e);
  const n = (0, wj.getSchemaTypes)(t.schema), r = (0, wj.coerceAndCheckDataType)(t, n);
  $j(t, n, !r, e);
}
function nZ(t) {
  const { schema: e, errSchemaPath: n, opts: r, self: i } = t;
  e.$ref && r.ignoreKeywordsWithRef && (0, qs.schemaHasRulesButRef)(e, i.RULES) && i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`);
}
function rZ(t) {
  const { schema: e, opts: n } = t;
  e.default !== void 0 && n.useDefaults && n.strictSchema && (0, qs.checkStrictMode)(t, "default is ignored in the schema root");
}
function iZ(t) {
  const e = t.schema[t.opts.schemaId];
  e && (t.baseId = (0, GX.resolveUrl)(t.opts.uriResolver, t.baseId, e));
}
function oZ(t) {
  if (t.schema.$async && !t.schemaEnv.$async)
    throw new Error("async schema in sync schema");
}
function sM({ gen: t, schemaEnv: e, schema: n, errSchemaPath: r, opts: i }) {
  const o = n.$comment;
  if (i.$comment === !0)
    t.code((0, St._)`${Vt.default.self}.logger.log(${o})`);
  else if (typeof i.$comment == "function") {
    const s = (0, St.str)`${r}/$comment`, a = t.scopeValue("root", { ref: e.root });
    t.code((0, St._)`${Vt.default.self}.opts.$comment(${o}, ${s}, ${a}.schema)`);
  }
}
function sZ(t) {
  const { gen: e, schemaEnv: n, validateName: r, ValidationError: i, opts: o } = t;
  n.$async ? e.if((0, St._)`${Vt.default.errors} === 0`, () => e.return(Vt.default.data), () => e.throw((0, St._)`new ${i}(${Vt.default.vErrors})`)) : (e.assign((0, St._)`${r}.errors`, Vt.default.vErrors), o.unevaluated && aZ(t), e.return((0, St._)`${Vt.default.errors} === 0`));
}
function aZ({ gen: t, evaluated: e, props: n, items: r }) {
  n instanceof St.Name && t.assign((0, St._)`${e}.props`, n), r instanceof St.Name && t.assign((0, St._)`${e}.items`, r);
}
function $j(t, e, n, r) {
  const { gen: i, schema: o, data: s, allErrors: a, opts: l, self: c } = t, { RULES: u } = c;
  if (o.$ref && (l.ignoreKeywordsWithRef || !(0, qs.schemaHasRulesButRef)(o, u))) {
    i.block(() => cM(t, "$ref", u.all.$ref.definition));
    return;
  }
  l.jtd || lZ(t, e), i.block(() => {
    for (const d of u.rules)
      f(d);
    f(u.post);
  });
  function f(d) {
    (0, Zy.shouldUseGroup)(o, d) && (d.type ? (i.if((0, dp.checkDataType)(d.type, s, l.strictNumbers)), kj(t, d), e.length === 1 && e[0] === d.type && n && (i.else(), (0, dp.reportTypeError)(t)), i.endIf()) : kj(t, d), a || i.if((0, St._)`${Vt.default.errors} === ${r || 0}`));
  }
}
function kj(t, e) {
  const { gen: n, schema: r, opts: { useDefaults: i } } = t;
  i && (0, JX.assignDefaults)(t, e.type), n.block(() => {
    for (const o of e.rules)
      (0, Zy.shouldUseRule)(r, o) && cM(t, o.keyword, o.definition, e.type);
  });
}
function lZ(t, e) {
  t.schemaEnv.meta || !t.opts.strictTypes || (cZ(t, e), t.opts.allowUnionTypes || uZ(t, e), fZ(t, t.dataTypes));
}
function cZ(t, e) {
  if (e.length) {
    if (!t.dataTypes.length) {
      t.dataTypes = e;
      return;
    }
    e.forEach((n) => {
      aM(t.dataTypes, n) || eb(t, `type "${n}" not allowed by context "${t.dataTypes.join(",")}"`);
    }), hZ(t, e);
  }
}
function uZ(t, e) {
  e.length > 1 && !(e.length === 2 && e.includes("null")) && eb(t, "use allowUnionTypes to allow union type keyword");
}
function fZ(t, e) {
  const n = t.self.RULES.all;
  for (const r in n) {
    const i = n[r];
    if (typeof i == "object" && (0, Zy.shouldUseRule)(t.schema, i)) {
      const { type: o } = i.definition;
      o.length && !o.some((s) => dZ(e, s)) && eb(t, `missing type "${o.join(",")}" for keyword "${r}"`);
    }
  }
}
function dZ(t, e) {
  return t.includes(e) || e === "number" && t.includes("integer");
}
function aM(t, e) {
  return t.includes(e) || e === "integer" && t.includes("number");
}
function hZ(t, e) {
  const n = [];
  for (const r of t.dataTypes)
    aM(e, r) ? n.push(r) : e.includes("integer") && r === "number" && n.push("integer");
  t.dataTypes = n;
}
function eb(t, e) {
  const n = t.schemaEnv.baseId + t.errSchemaPath;
  e += ` at "${n}" (strictTypes)`, (0, qs.checkStrictMode)(t, e, t.opts.strictTypes);
}
class lM {
  constructor(e, n, r) {
    if ((0, Hu.validateKeywordUsage)(e, n, r), this.gen = e.gen, this.allErrors = e.allErrors, this.keyword = r, this.data = e.data, this.schema = e.schema[r], this.$data = n.$data && e.opts.$data && this.schema && this.schema.$data, this.schemaValue = (0, qs.schemaRefOrVal)(e, this.schema, r, this.$data), this.schemaType = n.schemaType, this.parentSchema = e.schema, this.params = {}, this.it = e, this.def = n, this.$data)
      this.schemaCode = e.gen.const("vSchema", uM(this.$data, e));
    else if (this.schemaCode = this.schemaValue, !(0, Hu.validSchemaType)(this.schema, n.schemaType, n.allowUndefined))
      throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);
    ("code" in n ? n.trackErrors : n.errors !== !1) && (this.errsCount = e.gen.const("_errs", Vt.default.errors));
  }
  result(e, n, r) {
    this.failResult((0, St.not)(e), n, r);
  }
  failResult(e, n, r) {
    this.gen.if(e), r ? r() : this.error(), n ? (this.gen.else(), n(), this.allErrors && this.gen.endIf()) : this.allErrors ? this.gen.endIf() : this.gen.else();
  }
  pass(e, n) {
    this.failResult((0, St.not)(e), void 0, n);
  }
  fail(e) {
    if (e === void 0) {
      this.error(), this.allErrors || this.gen.if(!1);
      return;
    }
    this.gen.if(e), this.error(), this.allErrors ? this.gen.endIf() : this.gen.else();
  }
  fail$data(e) {
    if (!this.$data)
      return this.fail(e);
    const { schemaCode: n } = this;
    this.fail((0, St._)`${n} !== undefined && (${(0, St.or)(this.invalid$data(), e)})`);
  }
  error(e, n, r) {
    if (n) {
      this.setParams(n), this._error(e, r), this.setParams({});
      return;
    }
    this._error(e, r);
  }
  _error(e, n) {
    (e ? Su.reportExtraError : Su.reportError)(this, this.def.error, n);
  }
  $dataError() {
    (0, Su.reportError)(this, this.def.$dataError || Su.keyword$DataError);
  }
  reset() {
    if (this.errsCount === void 0)
      throw new Error('add "trackErrors" to keyword definition');
    (0, Su.resetErrorsCount)(this.gen, this.errsCount);
  }
  ok(e) {
    this.allErrors || this.gen.if(e);
  }
  setParams(e, n) {
    n ? Object.assign(this.params, e) : this.params = e;
  }
  block$data(e, n, r = St.nil) {
    this.gen.block(() => {
      this.check$data(e, r), n();
    });
  }
  check$data(e = St.nil, n = St.nil) {
    if (!this.$data)
      return;
    const { gen: r, schemaCode: i, schemaType: o, def: s } = this;
    r.if((0, St.or)((0, St._)`${i} === undefined`, n)), e !== St.nil && r.assign(e, !0), (o.length || s.validateSchema) && (r.elseIf(this.invalid$data()), this.$dataError(), e !== St.nil && r.assign(e, !1)), r.else();
  }
  invalid$data() {
    const { gen: e, schemaCode: n, schemaType: r, def: i, it: o } = this;
    return (0, St.or)(s(), a());
    function s() {
      if (r.length) {
        if (!(n instanceof St.Name))
          throw new Error("ajv implementation error");
        const l = Array.isArray(r) ? r : [r];
        return (0, St._)`${(0, dp.checkDataTypes)(l, n, o.opts.strictNumbers, dp.DataType.Wrong)}`;
      }
      return St.nil;
    }
    function a() {
      if (i.validateSchema) {
        const l = e.scopeValue("validate$data", { ref: i.validateSchema });
        return (0, St._)`!${l}(${n})`;
      }
      return St.nil;
    }
  }
  subschema(e, n) {
    const r = (0, Og.getSubschema)(this.it, e);
    (0, Og.extendSubschemaData)(r, this.it, e), (0, Og.extendSubschemaMode)(r, e);
    const i = { ...this.it, ...r, items: void 0, props: void 0 };
    return eZ(i, n), i;
  }
  mergeEvaluated(e, n) {
    const { it: r, gen: i } = this;
    r.opts.unevaluated && (r.props !== !0 && e.props !== void 0 && (r.props = qs.mergeEvaluated.props(i, e.props, r.props, n)), r.items !== !0 && e.items !== void 0 && (r.items = qs.mergeEvaluated.items(i, e.items, r.items, n)));
  }
  mergeValidEvaluated(e, n) {
    const { it: r, gen: i } = this;
    if (r.opts.unevaluated && (r.props !== !0 || r.items !== !0))
      return i.if(n, () => this.mergeEvaluated(e, St.Name)), !0;
  }
}
Bo.KeywordCxt = lM;
function cM(t, e, n, r) {
  const i = new lM(t, n, e);
  "code" in n ? n.code(i, r) : i.$data && n.validate ? (0, Hu.funcKeywordCode)(i, n) : "macro" in n ? (0, Hu.macroKeywordCode)(i, n) : (n.compile || n.validate) && (0, Hu.funcKeywordCode)(i, n);
}
const pZ = /^\/(?:[^~]|~0|~1)*$/, mZ = /^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;
function uM(t, { dataLevel: e, dataNames: n, dataPathArr: r }) {
  let i, o;
  if (t === "")
    return Vt.default.rootData;
  if (t[0] === "/") {
    if (!pZ.test(t))
      throw new Error(`Invalid JSON-pointer: ${t}`);
    i = t, o = Vt.default.rootData;
  } else {
    const c = mZ.exec(t);
    if (!c)
      throw new Error(`Invalid JSON-pointer: ${t}`);
    const u = +c[1];
    if (i = c[2], i === "#") {
      if (u >= e)
        throw new Error(l("property/index", u));
      return r[e - u];
    }
    if (u > e)
      throw new Error(l("data", u));
    if (o = n[e - u], !i)
      return o;
  }
  let s = o;
  const a = i.split("/");
  for (const c of a)
    c && (o = (0, St._)`${o}${(0, St.getProperty)((0, qs.unescapeJsonPointer)(c))}`, s = (0, St._)`${s} && ${o}`);
  return s;
  function l(c, u) {
    return `Cannot access ${c} ${u} levels up, current level is ${e}`;
  }
}
Bo.getData = uM;
var ed = {};
Object.defineProperty(ed, "__esModule", { value: !0 });
class gZ extends Error {
  constructor(e) {
    super("validation failed"), this.errors = e, this.ajv = this.validation = !0;
  }
}
ed.default = gZ;
var td = {};
Object.defineProperty(td, "__esModule", { value: !0 });
const Ag = Zr;
class vZ extends Error {
  constructor(e, n, r, i) {
    super(i || `can't resolve reference ${r} from id ${n}`), this.missingRef = (0, Ag.resolveUrl)(e, n, r), this.missingSchema = (0, Ag.normalizeId)((0, Ag.getFullPath)(e, this.missingRef));
  }
}
td.default = vZ;
var Ri = {};
Object.defineProperty(Ri, "__esModule", { value: !0 });
Ri.resolveSchema = Ri.getCompilingSchema = Ri.resolveRef = Ri.compileSchema = Ri.SchemaEnv = void 0;
const Ao = vn, yZ = ed, el = As, To = Zr, Sj = An, bZ = Bo;
class Om {
  constructor(e) {
    var n;
    this.refs = {}, this.dynamicAnchors = {};
    let r;
    typeof e.schema == "object" && (r = e.schema), this.schema = e.schema, this.schemaId = e.schemaId, this.root = e.root || this, this.baseId = (n = e.baseId) !== null && n !== void 0 ? n : (0, To.normalizeId)(r == null ? void 0 : r[e.schemaId || "$id"]), this.schemaPath = e.schemaPath, this.localRefs = e.localRefs, this.meta = e.meta, this.$async = r == null ? void 0 : r.$async, this.refs = {};
  }
}
Ri.SchemaEnv = Om;
function tb(t) {
  const e = fM.call(this, t);
  if (e)
    return e;
  const n = (0, To.getFullPath)(this.opts.uriResolver, t.root.baseId), { es5: r, lines: i } = this.opts.code, { ownProperties: o } = this.opts, s = new Ao.CodeGen(this.scope, { es5: r, lines: i, ownProperties: o });
  let a;
  t.$async && (a = s.scopeValue("Error", {
    ref: yZ.default,
    code: (0, Ao._)`require("ajv/dist/runtime/validation_error").default`
  }));
  const l = s.scopeName("validate");
  t.validateName = l;
  const c = {
    gen: s,
    allErrors: this.opts.allErrors,
    data: el.default.data,
    parentData: el.default.parentData,
    parentDataProperty: el.default.parentDataProperty,
    dataNames: [el.default.data],
    dataPathArr: [Ao.nil],
    dataLevel: 0,
    dataTypes: [],
    definedProperties: /* @__PURE__ */ new Set(),
    topSchemaRef: s.scopeValue("schema", this.opts.code.source === !0 ? { ref: t.schema, code: (0, Ao.stringify)(t.schema) } : { ref: t.schema }),
    validateName: l,
    ValidationError: a,
    schema: t.schema,
    schemaEnv: t,
    rootId: n,
    baseId: t.baseId || n,
    schemaPath: Ao.nil,
    errSchemaPath: t.schemaPath || (this.opts.jtd ? "" : "#"),
    errorPath: (0, Ao._)`""`,
    opts: this.opts,
    self: this
  };
  let u;
  try {
    this._compilations.add(t), (0, bZ.validateFunctionCode)(c), s.optimize(this.opts.code.optimize);
    const f = s.toString();
    u = `${s.scopeRefs(el.default.scope)}return ${f}`, this.opts.code.process && (u = this.opts.code.process(u, t));
    const h = new Function(`${el.default.self}`, `${el.default.scope}`, u)(this, this.scope.get());
    if (this.scope.value(l, { ref: h }), h.errors = null, h.schema = t.schema, h.schemaEnv = t, t.$async && (h.$async = !0), this.opts.code.source === !0 && (h.source = { validateName: l, validateCode: f, scopeValues: s._values }), this.opts.unevaluated) {
      const { props: p, items: m } = c;
      h.evaluated = {
        props: p instanceof Ao.Name ? void 0 : p,
        items: m instanceof Ao.Name ? void 0 : m,
        dynamicProps: p instanceof Ao.Name,
        dynamicItems: m instanceof Ao.Name
      }, h.source && (h.source.evaluated = (0, Ao.stringify)(h.evaluated));
    }
    return t.validate = h, t;
  } catch (f) {
    throw delete t.validate, delete t.validateName, u && this.logger.error("Error compiling schema, function code:", u), f;
  } finally {
    this._compilations.delete(t);
  }
}
Ri.compileSchema = tb;
function xZ(t, e, n) {
  var r;
  n = (0, To.resolveUrl)(this.opts.uriResolver, e, n);
  const i = t.refs[n];
  if (i)
    return i;
  let o = $Z.call(this, t, n);
  if (o === void 0) {
    const s = (r = t.localRefs) === null || r === void 0 ? void 0 : r[n], { schemaId: a } = this.opts;
    s && (o = new Om({ schema: s, schemaId: a, root: t, baseId: e }));
  }
  if (o !== void 0)
    return t.refs[n] = wZ.call(this, o);
}
Ri.resolveRef = xZ;
function wZ(t) {
  return (0, To.inlineRef)(t.schema, this.opts.inlineRefs) ? t.schema : t.validate ? t : tb.call(this, t);
}
function fM(t) {
  for (const e of this._compilations)
    if (jZ(e, t))
      return e;
}
Ri.getCompilingSchema = fM;
function jZ(t, e) {
  return t.schema === e.schema && t.root === e.root && t.baseId === e.baseId;
}
function $Z(t, e) {
  let n;
  for (; typeof (n = this.refs[e]) == "string"; )
    e = n;
  return n || this.schemas[e] || Am.call(this, t, e);
}
function Am(t, e) {
  const n = this.opts.uriResolver.parse(e), r = (0, To._getFullPath)(this.opts.uriResolver, n);
  let i = (0, To.getFullPath)(this.opts.uriResolver, t.baseId, void 0);
  if (Object.keys(t.schema).length > 0 && r === i)
    return Eg.call(this, n, t);
  const o = (0, To.normalizeId)(r), s = this.refs[o] || this.schemas[o];
  if (typeof s == "string") {
    const a = Am.call(this, t, s);
    return typeof (a == null ? void 0 : a.schema) != "object" ? void 0 : Eg.call(this, n, a);
  }
  if (typeof (s == null ? void 0 : s.schema) == "object") {
    if (s.validate || tb.call(this, s), o === (0, To.normalizeId)(e)) {
      const { schema: a } = s, { schemaId: l } = this.opts, c = a[l];
      return c && (i = (0, To.resolveUrl)(this.opts.uriResolver, i, c)), new Om({ schema: a, schemaId: l, root: t, baseId: i });
    }
    return Eg.call(this, n, s);
  }
}
Ri.resolveSchema = Am;
const kZ = /* @__PURE__ */ new Set([
  "properties",
  "patternProperties",
  "enum",
  "dependencies",
  "definitions"
]);
function Eg(t, { baseId: e, schema: n, root: r }) {
  var i;
  if (((i = t.fragment) === null || i === void 0 ? void 0 : i[0]) !== "/")
    return;
  for (const a of t.fragment.slice(1).split("/")) {
    if (typeof n == "boolean")
      return;
    const l = n[(0, Sj.unescapeFragment)(a)];
    if (l === void 0)
      return;
    n = l;
    const c = typeof n == "object" && n[this.opts.schemaId];
    !kZ.has(a) && c && (e = (0, To.resolveUrl)(this.opts.uriResolver, e, c));
  }
  let o;
  if (typeof n != "boolean" && n.$ref && !(0, Sj.schemaHasRulesButRef)(n, this.RULES)) {
    const a = (0, To.resolveUrl)(this.opts.uriResolver, e, n.$ref);
    o = Am.call(this, r, a);
  }
  const { schemaId: s } = this.opts;
  if (o = o || new Om({ schema: n, schemaId: s, root: r, baseId: e }), o.schema !== o.root.schema)
    return o;
}
const SZ = "https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#", CZ = "Meta-schema for $data reference (JSON AnySchema extension proposal)", _Z = "object", OZ = [
  "$data"
], AZ = {
  $data: {
    type: "string",
    anyOf: [
      {
        format: "relative-json-pointer"
      },
      {
        format: "json-pointer"
      }
    ]
  }
}, EZ = !1, MZ = {
  $id: SZ,
  description: CZ,
  type: _Z,
  required: OZ,
  properties: AZ,
  additionalProperties: EZ
};
var nb = {}, p0 = { exports: {} };
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
(function(t, e) {
  (function(n, r) {
    r(e);
  })(oR, function(n) {
    function r() {
      for (var q = arguments.length, K = Array(q), re = 0; re < q; re++)
        K[re] = arguments[re];
      if (K.length > 1) {
        K[0] = K[0].slice(0, -1);
        for (var ue = K.length - 1, ye = 1; ye < ue; ++ye)
          K[ye] = K[ye].slice(1, -1);
        return K[ue] = K[ue].slice(1), K.join("");
      } else
        return K[0];
    }
    function i(q) {
      return "(?:" + q + ")";
    }
    function o(q) {
      return q === void 0 ? "undefined" : q === null ? "null" : Object.prototype.toString.call(q).split(" ").pop().split("]").shift().toLowerCase();
    }
    function s(q) {
      return q.toUpperCase();
    }
    function a(q) {
      return q != null ? q instanceof Array ? q : typeof q.length != "number" || q.split || q.setInterval || q.call ? [q] : Array.prototype.slice.call(q) : [];
    }
    function l(q, K) {
      var re = q;
      if (K)
        for (var ue in K)
          re[ue] = K[ue];
      return re;
    }
    function c(q) {
      var K = "[A-Za-z]", re = "[0-9]", ue = r(re, "[A-Fa-f]"), ye = i(i("%[EFef]" + ue + "%" + ue + ue + "%" + ue + ue) + "|" + i("%[89A-Fa-f]" + ue + "%" + ue + ue) + "|" + i("%" + ue + ue)), ft = "[\\:\\/\\?\\#\\[\\]\\@]", jt = "[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]", Qt = r(ft, jt), Sn = q ? "[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]" : "[]", Mn = q ? "[\\uE000-\\uF8FF]" : "[]", Jt = r(K, re, "[\\-\\.\\_\\~]", Sn);
      i(K + r(K, re, "[\\+\\-\\.]") + "*"), i(i(ye + "|" + r(Jt, jt, "[\\:]")) + "*");
      var bn = i(i("25[0-5]") + "|" + i("2[0-4]" + re) + "|" + i("1" + re + re) + "|" + i("0?[1-9]" + re) + "|0?0?" + re), Ln = i(bn + "\\." + bn + "\\." + bn + "\\." + bn), J = i(ue + "{1,4}"), je = i(i(J + "\\:" + J) + "|" + Ln), Ie = i(i(J + "\\:") + "{6}" + je), Be = i("\\:\\:" + i(J + "\\:") + "{5}" + je), Ye = i(i(J) + "?\\:\\:" + i(J + "\\:") + "{4}" + je), Ot = i(i(i(J + "\\:") + "{0,1}" + J) + "?\\:\\:" + i(J + "\\:") + "{3}" + je), et = i(i(i(J + "\\:") + "{0,2}" + J) + "?\\:\\:" + i(J + "\\:") + "{2}" + je), Xt = i(i(i(J + "\\:") + "{0,3}" + J) + "?\\:\\:" + J + "\\:" + je), gt = i(i(i(J + "\\:") + "{0,4}" + J) + "?\\:\\:" + je), bt = i(i(i(J + "\\:") + "{0,5}" + J) + "?\\:\\:" + J), pn = i(i(i(J + "\\:") + "{0,6}" + J) + "?\\:\\:"), On = i([Ie, Be, Ye, Ot, et, Xt, gt, bt, pn].join("|")), Un = i(i(Jt + "|" + ye) + "+");
      i("[vV]" + ue + "+\\." + r(Jt, jt, "[\\:]") + "+"), i(i(ye + "|" + r(Jt, jt)) + "*");
      var Ai = i(ye + "|" + r(Jt, jt, "[\\:\\@]"));
      return i(i(ye + "|" + r(Jt, jt, "[\\@]")) + "+"), i(i(Ai + "|" + r("[\\/\\?]", Mn)) + "*"), {
        NOT_SCHEME: new RegExp(r("[^]", K, re, "[\\+\\-\\.]"), "g"),
        NOT_USERINFO: new RegExp(r("[^\\%\\:]", Jt, jt), "g"),
        NOT_HOST: new RegExp(r("[^\\%\\[\\]\\:]", Jt, jt), "g"),
        NOT_PATH: new RegExp(r("[^\\%\\/\\:\\@]", Jt, jt), "g"),
        NOT_PATH_NOSCHEME: new RegExp(r("[^\\%\\/\\@]", Jt, jt), "g"),
        NOT_QUERY: new RegExp(r("[^\\%]", Jt, jt, "[\\:\\@\\/\\?]", Mn), "g"),
        NOT_FRAGMENT: new RegExp(r("[^\\%]", Jt, jt, "[\\:\\@\\/\\?]"), "g"),
        ESCAPE: new RegExp(r("[^]", Jt, jt), "g"),
        UNRESERVED: new RegExp(Jt, "g"),
        OTHER_CHARS: new RegExp(r("[^\\%]", Jt, Qt), "g"),
        PCT_ENCODED: new RegExp(ye, "g"),
        IPV4ADDRESS: new RegExp("^(" + Ln + ")$"),
        IPV6ADDRESS: new RegExp("^\\[?(" + On + ")" + i(i("\\%25|\\%(?!" + ue + "{2})") + "(" + Un + ")") + "?\\]?$")
        //RFC 6874, with relaxed parsing rules
      };
    }
    var u = c(!1), f = c(!0), d = /* @__PURE__ */ function() {
      function q(K, re) {
        var ue = [], ye = !0, ft = !1, jt = void 0;
        try {
          for (var Qt = K[Symbol.iterator](), Sn; !(ye = (Sn = Qt.next()).done) && (ue.push(Sn.value), !(re && ue.length === re)); ye = !0)
            ;
        } catch (Mn) {
          ft = !0, jt = Mn;
        } finally {
          try {
            !ye && Qt.return && Qt.return();
          } finally {
            if (ft)
              throw jt;
          }
        }
        return ue;
      }
      return function(K, re) {
        if (Array.isArray(K))
          return K;
        if (Symbol.iterator in Object(K))
          return q(K, re);
        throw new TypeError("Invalid attempt to destructure non-iterable instance");
      };
    }(), h = function(q) {
      if (Array.isArray(q)) {
        for (var K = 0, re = Array(q.length); K < q.length; K++)
          re[K] = q[K];
        return re;
      } else
        return Array.from(q);
    }, p = 2147483647, m = 36, g = 1, v = 26, y = 38, x = 700, b = 72, w = 128, j = "-", k = /^xn--/, N = /[^\0-\x7E]/, z = /[\x2E\u3002\uFF0E\uFF61]/g, _ = {
      overflow: "Overflow: input needs wider integers to process",
      "not-basic": "Illegal input >= 0x80 (not a basic code point)",
      "invalid-input": "Invalid input"
    }, B = m - g, I = Math.floor, Y = String.fromCharCode;
    function R(q) {
      throw new RangeError(_[q]);
    }
    function Z(q, K) {
      for (var re = [], ue = q.length; ue--; )
        re[ue] = K(q[ue]);
      return re;
    }
    function ne(q, K) {
      var re = q.split("@"), ue = "";
      re.length > 1 && (ue = re[0] + "@", q = re[1]), q = q.replace(z, ".");
      var ye = q.split("."), ft = Z(ye, K).join(".");
      return ue + ft;
    }
    function V(q) {
      for (var K = [], re = 0, ue = q.length; re < ue; ) {
        var ye = q.charCodeAt(re++);
        if (ye >= 55296 && ye <= 56319 && re < ue) {
          var ft = q.charCodeAt(re++);
          (ft & 64512) == 56320 ? K.push(((ye & 1023) << 10) + (ft & 1023) + 65536) : (K.push(ye), re--);
        } else
          K.push(ye);
      }
      return K;
    }
    var M = function(K) {
      return String.fromCodePoint.apply(String, h(K));
    }, F = function(K) {
      return K - 48 < 10 ? K - 22 : K - 65 < 26 ? K - 65 : K - 97 < 26 ? K - 97 : m;
    }, P = function(K, re) {
      return K + 22 + 75 * (K < 26) - ((re != 0) << 5);
    }, T = function(K, re, ue) {
      var ye = 0;
      for (
        K = ue ? I(K / x) : K >> 1, K += I(K / re);
        /* no initialization */
        K > B * v >> 1;
        ye += m
      )
        K = I(K / B);
      return I(ye + (B + 1) * K / (K + y));
    }, O = function(K) {
      var re = [], ue = K.length, ye = 0, ft = w, jt = b, Qt = K.lastIndexOf(j);
      Qt < 0 && (Qt = 0);
      for (var Sn = 0; Sn < Qt; ++Sn)
        K.charCodeAt(Sn) >= 128 && R("not-basic"), re.push(K.charCodeAt(Sn));
      for (var Mn = Qt > 0 ? Qt + 1 : 0; Mn < ue; ) {
        for (
          var Jt = ye, bn = 1, Ln = m;
          ;
          /* no condition */
          Ln += m
        ) {
          Mn >= ue && R("invalid-input");
          var J = F(K.charCodeAt(Mn++));
          (J >= m || J > I((p - ye) / bn)) && R("overflow"), ye += J * bn;
          var je = Ln <= jt ? g : Ln >= jt + v ? v : Ln - jt;
          if (J < je)
            break;
          var Ie = m - je;
          bn > I(p / Ie) && R("overflow"), bn *= Ie;
        }
        var Be = re.length + 1;
        jt = T(ye - Jt, Be, Jt == 0), I(ye / Be) > p - ft && R("overflow"), ft += I(ye / Be), ye %= Be, re.splice(ye++, 0, ft);
      }
      return String.fromCodePoint.apply(String, re);
    }, L = function(K) {
      var re = [];
      K = V(K);
      var ue = K.length, ye = w, ft = 0, jt = b, Qt = !0, Sn = !1, Mn = void 0;
      try {
        for (var Jt = K[Symbol.iterator](), bn; !(Qt = (bn = Jt.next()).done); Qt = !0) {
          var Ln = bn.value;
          Ln < 128 && re.push(Y(Ln));
        }
      } catch (Ko) {
        Sn = !0, Mn = Ko;
      } finally {
        try {
          !Qt && Jt.return && Jt.return();
        } finally {
          if (Sn)
            throw Mn;
        }
      }
      var J = re.length, je = J;
      for (J && re.push(j); je < ue; ) {
        var Ie = p, Be = !0, Ye = !1, Ot = void 0;
        try {
          for (var et = K[Symbol.iterator](), Xt; !(Be = (Xt = et.next()).done); Be = !0) {
            var gt = Xt.value;
            gt >= ye && gt < Ie && (Ie = gt);
          }
        } catch (Ko) {
          Ye = !0, Ot = Ko;
        } finally {
          try {
            !Be && et.return && et.return();
          } finally {
            if (Ye)
              throw Ot;
          }
        }
        var bt = je + 1;
        Ie - ye > I((p - ft) / bt) && R("overflow"), ft += (Ie - ye) * bt, ye = Ie;
        var pn = !0, On = !1, Un = void 0;
        try {
          for (var Ai = K[Symbol.iterator](), Ya; !(pn = (Ya = Ai.next()).done); pn = !0) {
            var Es = Ya.value;
            if (Es < ye && ++ft > p && R("overflow"), Es == ye) {
              for (
                var zi = ft, Fi = m;
                ;
                /* no condition */
                Fi += m
              ) {
                var Go = Fi <= jt ? g : Fi >= jt + v ? v : Fi - jt;
                if (zi < Go)
                  break;
                var tr = zi - Go, Ei = m - Go;
                re.push(Y(P(Go + tr % Ei, 0))), zi = I(tr / Ei);
              }
              re.push(Y(P(zi, 0))), jt = T(ft, bt, je == J), ft = 0, ++je;
            }
          }
        } catch (Ko) {
          On = !0, Un = Ko;
        } finally {
          try {
            !pn && Ai.return && Ai.return();
          } finally {
            if (On)
              throw Un;
          }
        }
        ++ft, ++ye;
      }
      return re.join("");
    }, C = function(K) {
      return ne(K, function(re) {
        return k.test(re) ? O(re.slice(4).toLowerCase()) : re;
      });
    }, H = function(K) {
      return ne(K, function(re) {
        return N.test(re) ? "xn--" + L(re) : re;
      });
    }, ie = {
      /**
       * A string representing the current Punycode.js version number.
       * @memberOf punycode
       * @type String
       */
      version: "2.1.0",
      /**
       * An object of methods to convert from JavaScript's internal character
       * representation (UCS-2) to Unicode code points, and back.
       * @see <https://mathiasbynens.be/notes/javascript-encoding>
       * @memberOf punycode
       * @type Object
       */
      ucs2: {
        decode: V,
        encode: M
      },
      decode: O,
      encode: L,
      toASCII: H,
      toUnicode: C
    }, te = {};
    function ke(q) {
      var K = q.charCodeAt(0), re = void 0;
      return K < 16 ? re = "%0" + K.toString(16).toUpperCase() : K < 128 ? re = "%" + K.toString(16).toUpperCase() : K < 2048 ? re = "%" + (K >> 6 | 192).toString(16).toUpperCase() + "%" + (K & 63 | 128).toString(16).toUpperCase() : re = "%" + (K >> 12 | 224).toString(16).toUpperCase() + "%" + (K >> 6 & 63 | 128).toString(16).toUpperCase() + "%" + (K & 63 | 128).toString(16).toUpperCase(), re;
    }
    function Me(q) {
      for (var K = "", re = 0, ue = q.length; re < ue; ) {
        var ye = parseInt(q.substr(re + 1, 2), 16);
        if (ye < 128)
          K += String.fromCharCode(ye), re += 3;
        else if (ye >= 194 && ye < 224) {
          if (ue - re >= 6) {
            var ft = parseInt(q.substr(re + 4, 2), 16);
            K += String.fromCharCode((ye & 31) << 6 | ft & 63);
          } else
            K += q.substr(re, 6);
          re += 6;
        } else if (ye >= 224) {
          if (ue - re >= 9) {
            var jt = parseInt(q.substr(re + 4, 2), 16), Qt = parseInt(q.substr(re + 7, 2), 16);
            K += String.fromCharCode((ye & 15) << 12 | (jt & 63) << 6 | Qt & 63);
          } else
            K += q.substr(re, 9);
          re += 9;
        } else
          K += q.substr(re, 3), re += 3;
      }
      return K;
    }
    function fe(q, K) {
      function re(ue) {
        var ye = Me(ue);
        return ye.match(K.UNRESERVED) ? ye : ue;
      }
      return q.scheme && (q.scheme = String(q.scheme).replace(K.PCT_ENCODED, re).toLowerCase().replace(K.NOT_SCHEME, "")), q.userinfo !== void 0 && (q.userinfo = String(q.userinfo).replace(K.PCT_ENCODED, re).replace(K.NOT_USERINFO, ke).replace(K.PCT_ENCODED, s)), q.host !== void 0 && (q.host = String(q.host).replace(K.PCT_ENCODED, re).toLowerCase().replace(K.NOT_HOST, ke).replace(K.PCT_ENCODED, s)), q.path !== void 0 && (q.path = String(q.path).replace(K.PCT_ENCODED, re).replace(q.scheme ? K.NOT_PATH : K.NOT_PATH_NOSCHEME, ke).replace(K.PCT_ENCODED, s)), q.query !== void 0 && (q.query = String(q.query).replace(K.PCT_ENCODED, re).replace(K.NOT_QUERY, ke).replace(K.PCT_ENCODED, s)), q.fragment !== void 0 && (q.fragment = String(q.fragment).replace(K.PCT_ENCODED, re).replace(K.NOT_FRAGMENT, ke).replace(K.PCT_ENCODED, s)), q;
    }
    function pe(q) {
      return q.replace(/^0*(.*)/, "$1") || "0";
    }
    function Fe(q, K) {
      var re = q.match(K.IPV4ADDRESS) || [], ue = d(re, 2), ye = ue[1];
      return ye ? ye.split(".").map(pe).join(".") : q;
    }
    function Ue(q, K) {
      var re = q.match(K.IPV6ADDRESS) || [], ue = d(re, 3), ye = ue[1], ft = ue[2];
      if (ye) {
        for (var jt = ye.toLowerCase().split("::").reverse(), Qt = d(jt, 2), Sn = Qt[0], Mn = Qt[1], Jt = Mn ? Mn.split(":").map(pe) : [], bn = Sn.split(":").map(pe), Ln = K.IPV4ADDRESS.test(bn[bn.length - 1]), J = Ln ? 7 : 8, je = bn.length - J, Ie = Array(J), Be = 0; Be < J; ++Be)
          Ie[Be] = Jt[Be] || bn[je + Be] || "";
        Ln && (Ie[J - 1] = Fe(Ie[J - 1], K));
        var Ye = Ie.reduce(function(bt, pn, On) {
          if (!pn || pn === "0") {
            var Un = bt[bt.length - 1];
            Un && Un.index + Un.length === On ? Un.length++ : bt.push({ index: On, length: 1 });
          }
          return bt;
        }, []), Ot = Ye.sort(function(bt, pn) {
          return pn.length - bt.length;
        })[0], et = void 0;
        if (Ot && Ot.length > 1) {
          var Xt = Ie.slice(0, Ot.index), gt = Ie.slice(Ot.index + Ot.length);
          et = Xt.join(":") + "::" + gt.join(":");
        } else
          et = Ie.join(":");
        return ft && (et += "%" + ft), et;
      } else
        return q;
    }
    var ut = /^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i, rn = "".match(/(){0}/)[1] === void 0;
    function ae(q) {
      var K = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, re = {}, ue = K.iri !== !1 ? f : u;
      K.reference === "suffix" && (q = (K.scheme ? K.scheme + ":" : "") + "//" + q);
      var ye = q.match(ut);
      if (ye) {
        rn ? (re.scheme = ye[1], re.userinfo = ye[3], re.host = ye[4], re.port = parseInt(ye[5], 10), re.path = ye[6] || "", re.query = ye[7], re.fragment = ye[8], isNaN(re.port) && (re.port = ye[5])) : (re.scheme = ye[1] || void 0, re.userinfo = q.indexOf("@") !== -1 ? ye[3] : void 0, re.host = q.indexOf("//") !== -1 ? ye[4] : void 0, re.port = parseInt(ye[5], 10), re.path = ye[6] || "", re.query = q.indexOf("?") !== -1 ? ye[7] : void 0, re.fragment = q.indexOf("#") !== -1 ? ye[8] : void 0, isNaN(re.port) && (re.port = q.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/) ? ye[4] : void 0)), re.host && (re.host = Ue(Fe(re.host, ue), ue)), re.scheme === void 0 && re.userinfo === void 0 && re.host === void 0 && re.port === void 0 && !re.path && re.query === void 0 ? re.reference = "same-document" : re.scheme === void 0 ? re.reference = "relative" : re.fragment === void 0 ? re.reference = "absolute" : re.reference = "uri", K.reference && K.reference !== "suffix" && K.reference !== re.reference && (re.error = re.error || "URI is not a " + K.reference + " reference.");
        var ft = te[(K.scheme || re.scheme || "").toLowerCase()];
        if (!K.unicodeSupport && (!ft || !ft.unicodeSupport)) {
          if (re.host && (K.domainHost || ft && ft.domainHost))
            try {
              re.host = ie.toASCII(re.host.replace(ue.PCT_ENCODED, Me).toLowerCase());
            } catch (jt) {
              re.error = re.error || "Host's domain name can not be converted to ASCII via punycode: " + jt;
            }
          fe(re, u);
        } else
          fe(re, ue);
        ft && ft.parse && ft.parse(re, K);
      } else
        re.error = re.error || "URI can not be parsed.";
      return re;
    }
    function At(q, K) {
      var re = K.iri !== !1 ? f : u, ue = [];
      return q.userinfo !== void 0 && (ue.push(q.userinfo), ue.push("@")), q.host !== void 0 && ue.push(Ue(Fe(String(q.host), re), re).replace(re.IPV6ADDRESS, function(ye, ft, jt) {
        return "[" + ft + (jt ? "%25" + jt : "") + "]";
      })), (typeof q.port == "number" || typeof q.port == "string") && (ue.push(":"), ue.push(String(q.port))), ue.length ? ue.join("") : void 0;
    }
    var Ge = /^\.\.?\//, me = /^\/\.(\/|$)/, Ct = /^\/\.\.(\/|$)/, _n = /^\/?(?:.|\n)*?(?=\/|$)/;
    function Ut(q) {
      for (var K = []; q.length; )
        if (q.match(Ge))
          q = q.replace(Ge, "");
        else if (q.match(me))
          q = q.replace(me, "/");
        else if (q.match(Ct))
          q = q.replace(Ct, "/"), K.pop();
        else if (q === "." || q === "..")
          q = "";
        else {
          var re = q.match(_n);
          if (re) {
            var ue = re[0];
            q = q.slice(ue.length), K.push(ue);
          } else
            throw new Error("Unexpected dot segment condition");
        }
      return K.join("");
    }
    function un(q) {
      var K = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, re = K.iri ? f : u, ue = [], ye = te[(K.scheme || q.scheme || "").toLowerCase()];
      if (ye && ye.serialize && ye.serialize(q, K), q.host && !re.IPV6ADDRESS.test(q.host)) {
        if (K.domainHost || ye && ye.domainHost)
          try {
            q.host = K.iri ? ie.toUnicode(q.host) : ie.toASCII(q.host.replace(re.PCT_ENCODED, Me).toLowerCase());
          } catch (Qt) {
            q.error = q.error || "Host's domain name can not be converted to " + (K.iri ? "Unicode" : "ASCII") + " via punycode: " + Qt;
          }
      }
      fe(q, re), K.reference !== "suffix" && q.scheme && (ue.push(q.scheme), ue.push(":"));
      var ft = At(q, K);
      if (ft !== void 0 && (K.reference !== "suffix" && ue.push("//"), ue.push(ft), q.path && q.path.charAt(0) !== "/" && ue.push("/")), q.path !== void 0) {
        var jt = q.path;
        !K.absolutePath && (!ye || !ye.absolutePath) && (jt = Ut(jt)), ft === void 0 && (jt = jt.replace(/^\/\//, "/%2F")), ue.push(jt);
      }
      return q.query !== void 0 && (ue.push("?"), ue.push(q.query)), q.fragment !== void 0 && (ue.push("#"), ue.push(q.fragment)), ue.join("");
    }
    function Xn(q, K) {
      var re = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, ue = arguments[3], ye = {};
      return ue || (q = ae(un(q, re), re), K = ae(un(K, re), re)), re = re || {}, !re.tolerant && K.scheme ? (ye.scheme = K.scheme, ye.userinfo = K.userinfo, ye.host = K.host, ye.port = K.port, ye.path = Ut(K.path || ""), ye.query = K.query) : (K.userinfo !== void 0 || K.host !== void 0 || K.port !== void 0 ? (ye.userinfo = K.userinfo, ye.host = K.host, ye.port = K.port, ye.path = Ut(K.path || ""), ye.query = K.query) : (K.path ? (K.path.charAt(0) === "/" ? ye.path = Ut(K.path) : ((q.userinfo !== void 0 || q.host !== void 0 || q.port !== void 0) && !q.path ? ye.path = "/" + K.path : q.path ? ye.path = q.path.slice(0, q.path.lastIndexOf("/") + 1) + K.path : ye.path = K.path, ye.path = Ut(ye.path)), ye.query = K.query) : (ye.path = q.path, K.query !== void 0 ? ye.query = K.query : ye.query = q.query), ye.userinfo = q.userinfo, ye.host = q.host, ye.port = q.port), ye.scheme = q.scheme), ye.fragment = K.fragment, ye;
    }
    function kn(q, K, re) {
      var ue = l({ scheme: "null" }, re);
      return un(Xn(ae(q, ue), ae(K, ue), ue, !0), ue);
    }
    function D(q, K) {
      return typeof q == "string" ? q = un(ae(q, K), K) : o(q) === "object" && (q = ae(un(q, K), K)), q;
    }
    function ee(q, K, re) {
      return typeof q == "string" ? q = un(ae(q, re), re) : o(q) === "object" && (q = un(q, re)), typeof K == "string" ? K = un(ae(K, re), re) : o(K) === "object" && (K = un(K, re)), q === K;
    }
    function oe(q, K) {
      return q && q.toString().replace(!K || !K.iri ? u.ESCAPE : f.ESCAPE, ke);
    }
    function ge(q, K) {
      return q && q.toString().replace(!K || !K.iri ? u.PCT_ENCODED : f.PCT_ENCODED, Me);
    }
    var $e = {
      scheme: "http",
      domainHost: !0,
      parse: function(K, re) {
        return K.host || (K.error = K.error || "HTTP URIs must have a host."), K;
      },
      serialize: function(K, re) {
        var ue = String(K.scheme).toLowerCase() === "https";
        return (K.port === (ue ? 443 : 80) || K.port === "") && (K.port = void 0), K.path || (K.path = "/"), K;
      }
    }, Oe = {
      scheme: "https",
      domainHost: $e.domainHost,
      parse: $e.parse,
      serialize: $e.serialize
    };
    function Ze(q) {
      return typeof q.secure == "boolean" ? q.secure : String(q.scheme).toLowerCase() === "wss";
    }
    var wt = {
      scheme: "ws",
      domainHost: !0,
      parse: function(K, re) {
        var ue = K;
        return ue.secure = Ze(ue), ue.resourceName = (ue.path || "/") + (ue.query ? "?" + ue.query : ""), ue.path = void 0, ue.query = void 0, ue;
      },
      serialize: function(K, re) {
        if ((K.port === (Ze(K) ? 443 : 80) || K.port === "") && (K.port = void 0), typeof K.secure == "boolean" && (K.scheme = K.secure ? "wss" : "ws", K.secure = void 0), K.resourceName) {
          var ue = K.resourceName.split("?"), ye = d(ue, 2), ft = ye[0], jt = ye[1];
          K.path = ft && ft !== "/" ? ft : void 0, K.query = jt, K.resourceName = void 0;
        }
        return K.fragment = void 0, K;
      }
    }, kt = {
      scheme: "wss",
      domainHost: wt.domainHost,
      parse: wt.parse,
      serialize: wt.serialize
    }, En = {}, It = "[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]", Je = "[0-9A-Fa-f]", yn = i(i("%[EFef]" + Je + "%" + Je + Je + "%" + Je + Je) + "|" + i("%[89A-Fa-f]" + Je + "%" + Je + Je) + "|" + i("%" + Je + Je)), Zn = "[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]", jn = "[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]", Vn = r(jn, '[\\"\\\\]'), Wn = "[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]", Hn = new RegExp(It, "g"), fn = new RegExp(yn, "g"), ve = new RegExp(r("[^]", Zn, "[\\.]", '[\\"]', Vn), "g"), He = new RegExp(r("[^]", It, Wn), "g"), Rt = He;
    function qt(q) {
      var K = Me(q);
      return K.match(Hn) ? K : q;
    }
    var zt = {
      scheme: "mailto",
      parse: function(K, re) {
        var ue = K, ye = ue.to = ue.path ? ue.path.split(",") : [];
        if (ue.path = void 0, ue.query) {
          for (var ft = !1, jt = {}, Qt = ue.query.split("&"), Sn = 0, Mn = Qt.length; Sn < Mn; ++Sn) {
            var Jt = Qt[Sn].split("=");
            switch (Jt[0]) {
              case "to":
                for (var bn = Jt[1].split(","), Ln = 0, J = bn.length; Ln < J; ++Ln)
                  ye.push(bn[Ln]);
                break;
              case "subject":
                ue.subject = ge(Jt[1], re);
                break;
              case "body":
                ue.body = ge(Jt[1], re);
                break;
              default:
                ft = !0, jt[ge(Jt[0], re)] = ge(Jt[1], re);
                break;
            }
          }
          ft && (ue.headers = jt);
        }
        ue.query = void 0;
        for (var je = 0, Ie = ye.length; je < Ie; ++je) {
          var Be = ye[je].split("@");
          if (Be[0] = ge(Be[0]), re.unicodeSupport)
            Be[1] = ge(Be[1], re).toLowerCase();
          else
            try {
              Be[1] = ie.toASCII(ge(Be[1], re).toLowerCase());
            } catch (Ye) {
              ue.error = ue.error || "Email address's domain name can not be converted to ASCII via punycode: " + Ye;
            }
          ye[je] = Be.join("@");
        }
        return ue;
      },
      serialize: function(K, re) {
        var ue = K, ye = a(K.to);
        if (ye) {
          for (var ft = 0, jt = ye.length; ft < jt; ++ft) {
            var Qt = String(ye[ft]), Sn = Qt.lastIndexOf("@"), Mn = Qt.slice(0, Sn).replace(fn, qt).replace(fn, s).replace(ve, ke), Jt = Qt.slice(Sn + 1);
            try {
              Jt = re.iri ? ie.toUnicode(Jt) : ie.toASCII(ge(Jt, re).toLowerCase());
            } catch (je) {
              ue.error = ue.error || "Email address's domain name can not be converted to " + (re.iri ? "Unicode" : "ASCII") + " via punycode: " + je;
            }
            ye[ft] = Mn + "@" + Jt;
          }
          ue.path = ye.join(",");
        }
        var bn = K.headers = K.headers || {};
        K.subject && (bn.subject = K.subject), K.body && (bn.body = K.body);
        var Ln = [];
        for (var J in bn)
          bn[J] !== En[J] && Ln.push(J.replace(fn, qt).replace(fn, s).replace(He, ke) + "=" + bn[J].replace(fn, qt).replace(fn, s).replace(Rt, ke));
        return Ln.length && (ue.query = Ln.join("&")), ue;
      }
    }, Ft = /^([^\:]+)\:(.*)/, de = {
      scheme: "urn",
      parse: function(K, re) {
        var ue = K.path && K.path.match(Ft), ye = K;
        if (ue) {
          var ft = re.scheme || ye.scheme || "urn", jt = ue[1].toLowerCase(), Qt = ue[2], Sn = ft + ":" + (re.nid || jt), Mn = te[Sn];
          ye.nid = jt, ye.nss = Qt, ye.path = void 0, Mn && (ye = Mn.parse(ye, re));
        } else
          ye.error = ye.error || "URN can not be parsed.";
        return ye;
      },
      serialize: function(K, re) {
        var ue = re.scheme || K.scheme || "urn", ye = K.nid, ft = ue + ":" + (re.nid || ye), jt = te[ft];
        jt && (K = jt.serialize(K, re));
        var Qt = K, Sn = K.nss;
        return Qt.path = (ye || re.nid) + ":" + Sn, Qt;
      }
    }, Qe = /^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/, ze = {
      scheme: "urn:uuid",
      parse: function(K, re) {
        var ue = K;
        return ue.uuid = ue.nss, ue.nss = void 0, !re.tolerant && (!ue.uuid || !ue.uuid.match(Qe)) && (ue.error = ue.error || "UUID is not valid."), ue;
      },
      serialize: function(K, re) {
        var ue = K;
        return ue.nss = (K.uuid || "").toLowerCase(), ue;
      }
    };
    te[$e.scheme] = $e, te[Oe.scheme] = Oe, te[wt.scheme] = wt, te[kt.scheme] = kt, te[zt.scheme] = zt, te[de.scheme] = de, te[ze.scheme] = ze, n.SCHEMES = te, n.pctEncChar = ke, n.pctDecChars = Me, n.parse = ae, n.removeDotSegments = Ut, n.serialize = un, n.resolveComponents = Xn, n.resolve = kn, n.normalize = D, n.equal = ee, n.escapeComponent = oe, n.unescapeComponent = ge, Object.defineProperty(n, "__esModule", { value: !0 });
  });
})(p0, p0.exports);
var TZ = p0.exports;
Object.defineProperty(nb, "__esModule", { value: !0 });
const dM = TZ;
dM.code = 'require("ajv/dist/runtime/uri").default';
nb.default = dM;
(function(t) {
  Object.defineProperty(t, "__esModule", { value: !0 }), t.CodeGen = t.Name = t.nil = t.stringify = t.str = t._ = t.KeywordCxt = void 0;
  var e = Bo;
  Object.defineProperty(t, "KeywordCxt", { enumerable: !0, get: function() {
    return e.KeywordCxt;
  } });
  var n = vn;
  Object.defineProperty(t, "_", { enumerable: !0, get: function() {
    return n._;
  } }), Object.defineProperty(t, "str", { enumerable: !0, get: function() {
    return n.str;
  } }), Object.defineProperty(t, "stringify", { enumerable: !0, get: function() {
    return n.stringify;
  } }), Object.defineProperty(t, "nil", { enumerable: !0, get: function() {
    return n.nil;
  } }), Object.defineProperty(t, "Name", { enumerable: !0, get: function() {
    return n.Name;
  } }), Object.defineProperty(t, "CodeGen", { enumerable: !0, get: function() {
    return n.CodeGen;
  } });
  const r = ed, i = td, o = $l, s = Ri, a = vn, l = Zr, c = Zf, u = An, f = MZ, d = nb, h = (P, T) => new RegExp(P, T);
  h.code = "new RegExp";
  const p = ["removeAdditional", "useDefaults", "coerceTypes"], m = /* @__PURE__ */ new Set([
    "validate",
    "serialize",
    "parse",
    "wrapper",
    "root",
    "schema",
    "keyword",
    "pattern",
    "formats",
    "validate$data",
    "func",
    "obj",
    "Error"
  ]), g = {
    errorDataPath: "",
    format: "`validateFormats: false` can be used instead.",
    nullable: '"nullable" keyword is supported by default.',
    jsonPointers: "Deprecated jsPropertySyntax can be used instead.",
    extendRefs: "Deprecated ignoreKeywordsWithRef can be used instead.",
    missingRefs: "Pass empty schema with $id that should be ignored to ajv.addSchema.",
    processCode: "Use option `code: {process: (code, schemaEnv: object) => string}`",
    sourceCode: "Use option `code: {source: true}`",
    strictDefaults: "It is default now, see option `strict`.",
    strictKeywords: "It is default now, see option `strict`.",
    uniqueItems: '"uniqueItems" keyword is always validated.',
    unknownFormats: "Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",
    cache: "Map is used as cache, schema object as key.",
    serialize: "Map is used as cache, schema object as key.",
    ajvErrors: "It is default now."
  }, v = {
    ignoreKeywordsWithRef: "",
    jsPropertySyntax: "",
    unicode: '"minLength"/"maxLength" account for unicode characters by default.'
  }, y = 200;
  function x(P) {
    var T, O, L, C, H, ie, te, ke, Me, fe, pe, Fe, Ue, ut, rn, ae, At, Ge, me, Ct, _n, Ut, un, Xn, kn;
    const D = P.strict, ee = (T = P.code) === null || T === void 0 ? void 0 : T.optimize, oe = ee === !0 || ee === void 0 ? 1 : ee || 0, ge = (L = (O = P.code) === null || O === void 0 ? void 0 : O.regExp) !== null && L !== void 0 ? L : h, $e = (C = P.uriResolver) !== null && C !== void 0 ? C : d.default;
    return {
      strictSchema: (ie = (H = P.strictSchema) !== null && H !== void 0 ? H : D) !== null && ie !== void 0 ? ie : !0,
      strictNumbers: (ke = (te = P.strictNumbers) !== null && te !== void 0 ? te : D) !== null && ke !== void 0 ? ke : !0,
      strictTypes: (fe = (Me = P.strictTypes) !== null && Me !== void 0 ? Me : D) !== null && fe !== void 0 ? fe : "log",
      strictTuples: (Fe = (pe = P.strictTuples) !== null && pe !== void 0 ? pe : D) !== null && Fe !== void 0 ? Fe : "log",
      strictRequired: (ut = (Ue = P.strictRequired) !== null && Ue !== void 0 ? Ue : D) !== null && ut !== void 0 ? ut : !1,
      code: P.code ? { ...P.code, optimize: oe, regExp: ge } : { optimize: oe, regExp: ge },
      loopRequired: (rn = P.loopRequired) !== null && rn !== void 0 ? rn : y,
      loopEnum: (ae = P.loopEnum) !== null && ae !== void 0 ? ae : y,
      meta: (At = P.meta) !== null && At !== void 0 ? At : !0,
      messages: (Ge = P.messages) !== null && Ge !== void 0 ? Ge : !0,
      inlineRefs: (me = P.inlineRefs) !== null && me !== void 0 ? me : !0,
      schemaId: (Ct = P.schemaId) !== null && Ct !== void 0 ? Ct : "$id",
      addUsedSchema: (_n = P.addUsedSchema) !== null && _n !== void 0 ? _n : !0,
      validateSchema: (Ut = P.validateSchema) !== null && Ut !== void 0 ? Ut : !0,
      validateFormats: (un = P.validateFormats) !== null && un !== void 0 ? un : !0,
      unicodeRegExp: (Xn = P.unicodeRegExp) !== null && Xn !== void 0 ? Xn : !0,
      int32range: (kn = P.int32range) !== null && kn !== void 0 ? kn : !0,
      uriResolver: $e
    };
  }
  class b {
    constructor(T = {}) {
      this.schemas = {}, this.refs = {}, this.formats = {}, this._compilations = /* @__PURE__ */ new Set(), this._loading = {}, this._cache = /* @__PURE__ */ new Map(), T = this.opts = { ...T, ...x(T) };
      const { es5: O, lines: L } = this.opts.code;
      this.scope = new a.ValueScope({ scope: {}, prefixes: m, es5: O, lines: L }), this.logger = I(T.logger);
      const C = T.validateFormats;
      T.validateFormats = !1, this.RULES = (0, o.getRules)(), w.call(this, g, T, "NOT SUPPORTED"), w.call(this, v, T, "DEPRECATED", "warn"), this._metaOpts = _.call(this), T.formats && N.call(this), this._addVocabularies(), this._addDefaultMetaSchema(), T.keywords && z.call(this, T.keywords), typeof T.meta == "object" && this.addMetaSchema(T.meta), k.call(this), T.validateFormats = C;
    }
    _addVocabularies() {
      this.addKeyword("$async");
    }
    _addDefaultMetaSchema() {
      const { $data: T, meta: O, schemaId: L } = this.opts;
      let C = f;
      L === "id" && (C = { ...f }, C.id = C.$id, delete C.$id), O && T && this.addMetaSchema(C, C[L], !1);
    }
    defaultMeta() {
      const { meta: T, schemaId: O } = this.opts;
      return this.opts.defaultMeta = typeof T == "object" ? T[O] || T : void 0;
    }
    validate(T, O) {
      let L;
      if (typeof T == "string") {
        if (L = this.getSchema(T), !L)
          throw new Error(`no schema with key or ref "${T}"`);
      } else
        L = this.compile(T);
      const C = L(O);
      return "$async" in L || (this.errors = L.errors), C;
    }
    compile(T, O) {
      const L = this._addSchema(T, O);
      return L.validate || this._compileSchemaEnv(L);
    }
    compileAsync(T, O) {
      if (typeof this.opts.loadSchema != "function")
        throw new Error("options.loadSchema should be a function");
      const { loadSchema: L } = this.opts;
      return C.call(this, T, O);
      async function C(fe, pe) {
        await H.call(this, fe.$schema);
        const Fe = this._addSchema(fe, pe);
        return Fe.validate || ie.call(this, Fe);
      }
      async function H(fe) {
        fe && !this.getSchema(fe) && await C.call(this, { $ref: fe }, !0);
      }
      async function ie(fe) {
        try {
          return this._compileSchemaEnv(fe);
        } catch (pe) {
          if (!(pe instanceof i.default))
            throw pe;
          return te.call(this, pe), await ke.call(this, pe.missingSchema), ie.call(this, fe);
        }
      }
      function te({ missingSchema: fe, missingRef: pe }) {
        if (this.refs[fe])
          throw new Error(`AnySchema ${fe} is loaded but ${pe} cannot be resolved`);
      }
      async function ke(fe) {
        const pe = await Me.call(this, fe);
        this.refs[fe] || await H.call(this, pe.$schema), this.refs[fe] || this.addSchema(pe, fe, O);
      }
      async function Me(fe) {
        const pe = this._loading[fe];
        if (pe)
          return pe;
        try {
          return await (this._loading[fe] = L(fe));
        } finally {
          delete this._loading[fe];
        }
      }
    }
    // Adds schema to the instance
    addSchema(T, O, L, C = this.opts.validateSchema) {
      if (Array.isArray(T)) {
        for (const ie of T)
          this.addSchema(ie, void 0, L, C);
        return this;
      }
      let H;
      if (typeof T == "object") {
        const { schemaId: ie } = this.opts;
        if (H = T[ie], H !== void 0 && typeof H != "string")
          throw new Error(`schema ${ie} must be string`);
      }
      return O = (0, l.normalizeId)(O || H), this._checkUnique(O), this.schemas[O] = this._addSchema(T, L, O, C, !0), this;
    }
    // Add schema that will be used to validate other schemas
    // options in META_IGNORE_OPTIONS are alway set to false
    addMetaSchema(T, O, L = this.opts.validateSchema) {
      return this.addSchema(T, O, !0, L), this;
    }
    //  Validate schema against its meta-schema
    validateSchema(T, O) {
      if (typeof T == "boolean")
        return !0;
      let L;
      if (L = T.$schema, L !== void 0 && typeof L != "string")
        throw new Error("$schema must be a string");
      if (L = L || this.opts.defaultMeta || this.defaultMeta(), !L)
        return this.logger.warn("meta-schema not available"), this.errors = null, !0;
      const C = this.validate(L, T);
      if (!C && O) {
        const H = "schema is invalid: " + this.errorsText();
        if (this.opts.validateSchema === "log")
          this.logger.error(H);
        else
          throw new Error(H);
      }
      return C;
    }
    // Get compiled schema by `key` or `ref`.
    // (`key` that was passed to `addSchema` or full schema reference - `schema.$id` or resolved id)
    getSchema(T) {
      let O;
      for (; typeof (O = j.call(this, T)) == "string"; )
        T = O;
      if (O === void 0) {
        const { schemaId: L } = this.opts, C = new s.SchemaEnv({ schema: {}, schemaId: L });
        if (O = s.resolveSchema.call(this, C, T), !O)
          return;
        this.refs[T] = O;
      }
      return O.validate || this._compileSchemaEnv(O);
    }
    // Remove cached schema(s).
    // If no parameter is passed all schemas but meta-schemas are removed.
    // If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.
    // Even if schema is referenced by other schemas it still can be removed as other schemas have local references.
    removeSchema(T) {
      if (T instanceof RegExp)
        return this._removeAllSchemas(this.schemas, T), this._removeAllSchemas(this.refs, T), this;
      switch (typeof T) {
        case "undefined":
          return this._removeAllSchemas(this.schemas), this._removeAllSchemas(this.refs), this._cache.clear(), this;
        case "string": {
          const O = j.call(this, T);
          return typeof O == "object" && this._cache.delete(O.schema), delete this.schemas[T], delete this.refs[T], this;
        }
        case "object": {
          const O = T;
          this._cache.delete(O);
          let L = T[this.opts.schemaId];
          return L && (L = (0, l.normalizeId)(L), delete this.schemas[L], delete this.refs[L]), this;
        }
        default:
          throw new Error("ajv.removeSchema: invalid parameter");
      }
    }
    // add "vocabulary" - a collection of keywords
    addVocabulary(T) {
      for (const O of T)
        this.addKeyword(O);
      return this;
    }
    addKeyword(T, O) {
      let L;
      if (typeof T == "string")
        L = T, typeof O == "object" && (this.logger.warn("these parameters are deprecated, see docs for addKeyword"), O.keyword = L);
      else if (typeof T == "object" && O === void 0) {
        if (O = T, L = O.keyword, Array.isArray(L) && !L.length)
          throw new Error("addKeywords: keyword must be string or non-empty array");
      } else
        throw new Error("invalid addKeywords parameters");
      if (R.call(this, L, O), !O)
        return (0, u.eachItem)(L, (H) => Z.call(this, H)), this;
      V.call(this, O);
      const C = {
        ...O,
        type: (0, c.getJSONTypes)(O.type),
        schemaType: (0, c.getJSONTypes)(O.schemaType)
      };
      return (0, u.eachItem)(L, C.type.length === 0 ? (H) => Z.call(this, H, C) : (H) => C.type.forEach((ie) => Z.call(this, H, C, ie))), this;
    }
    getKeyword(T) {
      const O = this.RULES.all[T];
      return typeof O == "object" ? O.definition : !!O;
    }
    // Remove keyword
    removeKeyword(T) {
      const { RULES: O } = this;
      delete O.keywords[T], delete O.all[T];
      for (const L of O.rules) {
        const C = L.rules.findIndex((H) => H.keyword === T);
        C >= 0 && L.rules.splice(C, 1);
      }
      return this;
    }
    // Add format
    addFormat(T, O) {
      return typeof O == "string" && (O = new RegExp(O)), this.formats[T] = O, this;
    }
    errorsText(T = this.errors, { separator: O = ", ", dataVar: L = "data" } = {}) {
      return !T || T.length === 0 ? "No errors" : T.map((C) => `${L}${C.instancePath} ${C.message}`).reduce((C, H) => C + O + H);
    }
    $dataMetaSchema(T, O) {
      const L = this.RULES.all;
      T = JSON.parse(JSON.stringify(T));
      for (const C of O) {
        const H = C.split("/").slice(1);
        let ie = T;
        for (const te of H)
          ie = ie[te];
        for (const te in L) {
          const ke = L[te];
          if (typeof ke != "object")
            continue;
          const { $data: Me } = ke.definition, fe = ie[te];
          Me && fe && (ie[te] = F(fe));
        }
      }
      return T;
    }
    _removeAllSchemas(T, O) {
      for (const L in T) {
        const C = T[L];
        (!O || O.test(L)) && (typeof C == "string" ? delete T[L] : C && !C.meta && (this._cache.delete(C.schema), delete T[L]));
      }
    }
    _addSchema(T, O, L, C = this.opts.validateSchema, H = this.opts.addUsedSchema) {
      let ie;
      const { schemaId: te } = this.opts;
      if (typeof T == "object")
        ie = T[te];
      else {
        if (this.opts.jtd)
          throw new Error("schema must be object");
        if (typeof T != "boolean")
          throw new Error("schema must be object or boolean");
      }
      let ke = this._cache.get(T);
      if (ke !== void 0)
        return ke;
      L = (0, l.normalizeId)(ie || L);
      const Me = l.getSchemaRefs.call(this, T, L);
      return ke = new s.SchemaEnv({ schema: T, schemaId: te, meta: O, baseId: L, localRefs: Me }), this._cache.set(ke.schema, ke), H && !L.startsWith("#") && (L && this._checkUnique(L), this.refs[L] = ke), C && this.validateSchema(T, !0), ke;
    }
    _checkUnique(T) {
      if (this.schemas[T] || this.refs[T])
        throw new Error(`schema with key or id "${T}" already exists`);
    }
    _compileSchemaEnv(T) {
      if (T.meta ? this._compileMetaSchema(T) : s.compileSchema.call(this, T), !T.validate)
        throw new Error("ajv implementation error");
      return T.validate;
    }
    _compileMetaSchema(T) {
      const O = this.opts;
      this.opts = this._metaOpts;
      try {
        s.compileSchema.call(this, T);
      } finally {
        this.opts = O;
      }
    }
  }
  t.default = b, b.ValidationError = r.default, b.MissingRefError = i.default;
  function w(P, T, O, L = "error") {
    for (const C in P) {
      const H = C;
      H in T && this.logger[L](`${O}: option ${C}. ${P[H]}`);
    }
  }
  function j(P) {
    return P = (0, l.normalizeId)(P), this.schemas[P] || this.refs[P];
  }
  function k() {
    const P = this.opts.schemas;
    if (P)
      if (Array.isArray(P))
        this.addSchema(P);
      else
        for (const T in P)
          this.addSchema(P[T], T);
  }
  function N() {
    for (const P in this.opts.formats) {
      const T = this.opts.formats[P];
      T && this.addFormat(P, T);
    }
  }
  function z(P) {
    if (Array.isArray(P)) {
      this.addVocabulary(P);
      return;
    }
    this.logger.warn("keywords option as map is deprecated, pass array");
    for (const T in P) {
      const O = P[T];
      O.keyword || (O.keyword = T), this.addKeyword(O);
    }
  }
  function _() {
    const P = { ...this.opts };
    for (const T of p)
      delete P[T];
    return P;
  }
  const B = { log() {
  }, warn() {
  }, error() {
  } };
  function I(P) {
    if (P === !1)
      return B;
    if (P === void 0)
      return console;
    if (P.log && P.warn && P.error)
      return P;
    throw new Error("logger must implement log, warn and error methods");
  }
  const Y = /^[a-z_$][a-z0-9_$:-]*$/i;
  function R(P, T) {
    const { RULES: O } = this;
    if ((0, u.eachItem)(P, (L) => {
      if (O.keywords[L])
        throw new Error(`Keyword ${L} is already defined`);
      if (!Y.test(L))
        throw new Error(`Keyword ${L} has invalid name`);
    }), !!T && T.$data && !("code" in T || "validate" in T))
      throw new Error('$data keyword must have "code" or "validate" function');
  }
  function Z(P, T, O) {
    var L;
    const C = T == null ? void 0 : T.post;
    if (O && C)
      throw new Error('keyword with "post" flag cannot have "type"');
    const { RULES: H } = this;
    let ie = C ? H.post : H.rules.find(({ type: ke }) => ke === O);
    if (ie || (ie = { type: O, rules: [] }, H.rules.push(ie)), H.keywords[P] = !0, !T)
      return;
    const te = {
      keyword: P,
      definition: {
        ...T,
        type: (0, c.getJSONTypes)(T.type),
        schemaType: (0, c.getJSONTypes)(T.schemaType)
      }
    };
    T.before ? ne.call(this, ie, te, T.before) : ie.rules.push(te), H.all[P] = te, (L = T.implements) === null || L === void 0 || L.forEach((ke) => this.addKeyword(ke));
  }
  function ne(P, T, O) {
    const L = P.rules.findIndex((C) => C.keyword === O);
    L >= 0 ? P.rules.splice(L, 0, T) : (P.rules.push(T), this.logger.warn(`rule ${O} is not defined`));
  }
  function V(P) {
    let { metaSchema: T } = P;
    T !== void 0 && (P.$data && this.opts.$data && (T = F(T)), P.validateSchema = this.compile(T, !0));
  }
  const M = {
    $ref: "https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"
  };
  function F(P) {
    return { anyOf: [P, M] };
  }
})(zE);
var rb = {}, ib = {}, ob = {};
Object.defineProperty(ob, "__esModule", { value: !0 });
const RZ = {
  keyword: "id",
  code() {
    throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID');
  }
};
ob.default = RZ;
var kl = {};
Object.defineProperty(kl, "__esModule", { value: !0 });
kl.callRef = kl.getValidate = void 0;
const PZ = td, Cj = mn, Mi = vn, Ul = As, _j = Ri, Vd = An, IZ = {
  keyword: "$ref",
  schemaType: "string",
  code(t) {
    const { gen: e, schema: n, it: r } = t, { baseId: i, schemaEnv: o, validateName: s, opts: a, self: l } = r, { root: c } = o;
    if ((n === "#" || n === "#/") && i === c.baseId)
      return f();
    const u = _j.resolveRef.call(l, c, i, n);
    if (u === void 0)
      throw new PZ.default(r.opts.uriResolver, i, n);
    if (u instanceof _j.SchemaEnv)
      return d(u);
    return h(u);
    function f() {
      if (o === c)
        return bh(t, s, o, o.$async);
      const p = e.scopeValue("root", { ref: c });
      return bh(t, (0, Mi._)`${p}.validate`, c, c.$async);
    }
    function d(p) {
      const m = hM(t, p);
      bh(t, m, p, p.$async);
    }
    function h(p) {
      const m = e.scopeValue("schema", a.code.source === !0 ? { ref: p, code: (0, Mi.stringify)(p) } : { ref: p }), g = e.name("valid"), v = t.subschema({
        schema: p,
        dataTypes: [],
        schemaPath: Mi.nil,
        topSchemaRef: m,
        errSchemaPath: n
      }, g);
      t.mergeEvaluated(v), t.ok(g);
    }
  }
};
function hM(t, e) {
  const { gen: n } = t;
  return e.validate ? n.scopeValue("validate", { ref: e.validate }) : (0, Mi._)`${n.scopeValue("wrapper", { ref: e })}.validate`;
}
kl.getValidate = hM;
function bh(t, e, n, r) {
  const { gen: i, it: o } = t, { allErrors: s, schemaEnv: a, opts: l } = o, c = l.passContext ? Ul.default.this : Mi.nil;
  r ? u() : f();
  function u() {
    if (!a.$async)
      throw new Error("async schema referenced by sync schema");
    const p = i.let("valid");
    i.try(() => {
      i.code((0, Mi._)`await ${(0, Cj.callValidateCode)(t, e, c)}`), h(e), s || i.assign(p, !0);
    }, (m) => {
      i.if((0, Mi._)`!(${m} instanceof ${o.ValidationError})`, () => i.throw(m)), d(m), s || i.assign(p, !1);
    }), t.ok(p);
  }
  function f() {
    t.result((0, Cj.callValidateCode)(t, e, c), () => h(e), () => d(e));
  }
  function d(p) {
    const m = (0, Mi._)`${p}.errors`;
    i.assign(Ul.default.vErrors, (0, Mi._)`${Ul.default.vErrors} === null ? ${m} : ${Ul.default.vErrors}.concat(${m})`), i.assign(Ul.default.errors, (0, Mi._)`${Ul.default.vErrors}.length`);
  }
  function h(p) {
    var m;
    if (!o.opts.unevaluated)
      return;
    const g = (m = n == null ? void 0 : n.validate) === null || m === void 0 ? void 0 : m.evaluated;
    if (o.props !== !0)
      if (g && !g.dynamicProps)
        g.props !== void 0 && (o.props = Vd.mergeEvaluated.props(i, g.props, o.props));
      else {
        const v = i.var("props", (0, Mi._)`${p}.evaluated.props`);
        o.props = Vd.mergeEvaluated.props(i, v, o.props, Mi.Name);
      }
    if (o.items !== !0)
      if (g && !g.dynamicItems)
        g.items !== void 0 && (o.items = Vd.mergeEvaluated.items(i, g.items, o.items));
      else {
        const v = i.var("items", (0, Mi._)`${p}.evaluated.items`);
        o.items = Vd.mergeEvaluated.items(i, v, o.items, Mi.Name);
      }
  }
}
kl.callRef = bh;
kl.default = IZ;
Object.defineProperty(ib, "__esModule", { value: !0 });
const NZ = ob, DZ = kl, LZ = [
  "$schema",
  "$id",
  "$defs",
  "$vocabulary",
  { keyword: "$comment" },
  "definitions",
  NZ.default,
  DZ.default
];
ib.default = LZ;
var sb = {}, ab = {};
Object.defineProperty(ab, "__esModule", { value: !0 });
const hp = vn, la = hp.operators, pp = {
  maximum: { okStr: "<=", ok: la.LTE, fail: la.GT },
  minimum: { okStr: ">=", ok: la.GTE, fail: la.LT },
  exclusiveMaximum: { okStr: "<", ok: la.LT, fail: la.GTE },
  exclusiveMinimum: { okStr: ">", ok: la.GT, fail: la.LTE }
}, BZ = {
  message: ({ keyword: t, schemaCode: e }) => (0, hp.str)`must be ${pp[t].okStr} ${e}`,
  params: ({ keyword: t, schemaCode: e }) => (0, hp._)`{comparison: ${pp[t].okStr}, limit: ${e}}`
}, qZ = {
  keyword: Object.keys(pp),
  type: "number",
  schemaType: "number",
  $data: !0,
  error: BZ,
  code(t) {
    const { keyword: e, data: n, schemaCode: r } = t;
    t.fail$data((0, hp._)`${n} ${pp[e].fail} ${r} || isNaN(${n})`);
  }
};
ab.default = qZ;
var lb = {};
Object.defineProperty(lb, "__esModule", { value: !0 });
const Uu = vn, zZ = {
  message: ({ schemaCode: t }) => (0, Uu.str)`must be multiple of ${t}`,
  params: ({ schemaCode: t }) => (0, Uu._)`{multipleOf: ${t}}`
}, FZ = {
  keyword: "multipleOf",
  type: "number",
  schemaType: "number",
  $data: !0,
  error: zZ,
  code(t) {
    const { gen: e, data: n, schemaCode: r, it: i } = t, o = i.opts.multipleOfPrecision, s = e.let("res"), a = o ? (0, Uu._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${o}` : (0, Uu._)`${s} !== parseInt(${s})`;
    t.fail$data((0, Uu._)`(${r} === 0 || (${s} = ${n}/${r}, ${a}))`);
  }
};
lb.default = FZ;
var cb = {}, ub = {};
Object.defineProperty(ub, "__esModule", { value: !0 });
function pM(t) {
  const e = t.length;
  let n = 0, r = 0, i;
  for (; r < e; )
    n++, i = t.charCodeAt(r++), i >= 55296 && i <= 56319 && r < e && (i = t.charCodeAt(r), (i & 64512) === 56320 && r++);
  return n;
}
ub.default = pM;
pM.code = 'require("ajv/dist/runtime/ucs2length").default';
Object.defineProperty(cb, "__esModule", { value: !0 });
const ol = vn, VZ = An, WZ = ub, HZ = {
  message({ keyword: t, schemaCode: e }) {
    const n = t === "maxLength" ? "more" : "fewer";
    return (0, ol.str)`must NOT have ${n} than ${e} characters`;
  },
  params: ({ schemaCode: t }) => (0, ol._)`{limit: ${t}}`
}, UZ = {
  keyword: ["maxLength", "minLength"],
  type: "string",
  schemaType: "number",
  $data: !0,
  error: HZ,
  code(t) {
    const { keyword: e, data: n, schemaCode: r, it: i } = t, o = e === "maxLength" ? ol.operators.GT : ol.operators.LT, s = i.opts.unicode === !1 ? (0, ol._)`${n}.length` : (0, ol._)`${(0, VZ.useFunc)(t.gen, WZ.default)}(${n})`;
    t.fail$data((0, ol._)`${s} ${o} ${r}`);
  }
};
cb.default = UZ;
var fb = {};
Object.defineProperty(fb, "__esModule", { value: !0 });
const JZ = mn, mp = vn, GZ = {
  message: ({ schemaCode: t }) => (0, mp.str)`must match pattern "${t}"`,
  params: ({ schemaCode: t }) => (0, mp._)`{pattern: ${t}}`
}, KZ = {
  keyword: "pattern",
  type: "string",
  schemaType: "string",
  $data: !0,
  error: GZ,
  code(t) {
    const { data: e, $data: n, schema: r, schemaCode: i, it: o } = t, s = o.opts.unicodeRegExp ? "u" : "", a = n ? (0, mp._)`(new RegExp(${i}, ${s}))` : (0, JZ.usePattern)(t, r);
    t.fail$data((0, mp._)`!${a}.test(${e})`);
  }
};
fb.default = KZ;
var db = {};
Object.defineProperty(db, "__esModule", { value: !0 });
const Ju = vn, YZ = {
  message({ keyword: t, schemaCode: e }) {
    const n = t === "maxProperties" ? "more" : "fewer";
    return (0, Ju.str)`must NOT have ${n} than ${e} properties`;
  },
  params: ({ schemaCode: t }) => (0, Ju._)`{limit: ${t}}`
}, QZ = {
  keyword: ["maxProperties", "minProperties"],
  type: "object",
  schemaType: "number",
  $data: !0,
  error: YZ,
  code(t) {
    const { keyword: e, data: n, schemaCode: r } = t, i = e === "maxProperties" ? Ju.operators.GT : Ju.operators.LT;
    t.fail$data((0, Ju._)`Object.keys(${n}).length ${i} ${r}`);
  }
};
db.default = QZ;
var hb = {};
Object.defineProperty(hb, "__esModule", { value: !0 });
const Cu = mn, Gu = vn, XZ = An, ZZ = {
  message: ({ params: { missingProperty: t } }) => (0, Gu.str)`must have required property '${t}'`,
  params: ({ params: { missingProperty: t } }) => (0, Gu._)`{missingProperty: ${t}}`
}, eee = {
  keyword: "required",
  type: "object",
  schemaType: "array",
  $data: !0,
  error: ZZ,
  code(t) {
    const { gen: e, schema: n, schemaCode: r, data: i, $data: o, it: s } = t, { opts: a } = s;
    if (!o && n.length === 0)
      return;
    const l = n.length >= a.loopRequired;
    if (s.allErrors ? c() : u(), a.strictRequired) {
      const h = t.parentSchema.properties, { definedProperties: p } = t.it;
      for (const m of n)
        if ((h == null ? void 0 : h[m]) === void 0 && !p.has(m)) {
          const g = s.schemaEnv.baseId + s.errSchemaPath, v = `required property "${m}" is not defined at "${g}" (strictRequired)`;
          (0, XZ.checkStrictMode)(s, v, s.opts.strictRequired);
        }
    }
    function c() {
      if (l || o)
        t.block$data(Gu.nil, f);
      else
        for (const h of n)
          (0, Cu.checkReportMissingProp)(t, h);
    }
    function u() {
      const h = e.let("missing");
      if (l || o) {
        const p = e.let("valid", !0);
        t.block$data(p, () => d(h, p)), t.ok(p);
      } else
        e.if((0, Cu.checkMissingProp)(t, n, h)), (0, Cu.reportMissingProp)(t, h), e.else();
    }
    function f() {
      e.forOf("prop", r, (h) => {
        t.setParams({ missingProperty: h }), e.if((0, Cu.noPropertyInData)(e, i, h, a.ownProperties), () => t.error());
      });
    }
    function d(h, p) {
      t.setParams({ missingProperty: h }), e.forOf(h, r, () => {
        e.assign(p, (0, Cu.propertyInData)(e, i, h, a.ownProperties)), e.if((0, Gu.not)(p), () => {
          t.error(), e.break();
        });
      }, Gu.nil);
    }
  }
};
hb.default = eee;
var pb = {};
Object.defineProperty(pb, "__esModule", { value: !0 });
const Ku = vn, tee = {
  message({ keyword: t, schemaCode: e }) {
    const n = t === "maxItems" ? "more" : "fewer";
    return (0, Ku.str)`must NOT have ${n} than ${e} items`;
  },
  params: ({ schemaCode: t }) => (0, Ku._)`{limit: ${t}}`
}, nee = {
  keyword: ["maxItems", "minItems"],
  type: "array",
  schemaType: "number",
  $data: !0,
  error: tee,
  code(t) {
    const { keyword: e, data: n, schemaCode: r } = t, i = e === "maxItems" ? Ku.operators.GT : Ku.operators.LT;
    t.fail$data((0, Ku._)`${n}.length ${i} ${r}`);
  }
};
pb.default = nee;
var mb = {}, nd = {};
Object.defineProperty(nd, "__esModule", { value: !0 });
const mM = KE;
mM.code = 'require("ajv/dist/runtime/equal").default';
nd.default = mM;
Object.defineProperty(mb, "__esModule", { value: !0 });
const Mg = Zf, Kr = vn, ree = An, iee = nd, oee = {
  message: ({ params: { i: t, j: e } }) => (0, Kr.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,
  params: ({ params: { i: t, j: e } }) => (0, Kr._)`{i: ${t}, j: ${e}}`
}, see = {
  keyword: "uniqueItems",
  type: "array",
  schemaType: "boolean",
  $data: !0,
  error: oee,
  code(t) {
    const { gen: e, data: n, $data: r, schema: i, parentSchema: o, schemaCode: s, it: a } = t;
    if (!r && !i)
      return;
    const l = e.let("valid"), c = o.items ? (0, Mg.getSchemaTypes)(o.items) : [];
    t.block$data(l, u, (0, Kr._)`${s} === false`), t.ok(l);
    function u() {
      const p = e.let("i", (0, Kr._)`${n}.length`), m = e.let("j");
      t.setParams({ i: p, j: m }), e.assign(l, !0), e.if((0, Kr._)`${p} > 1`, () => (f() ? d : h)(p, m));
    }
    function f() {
      return c.length > 0 && !c.some((p) => p === "object" || p === "array");
    }
    function d(p, m) {
      const g = e.name("item"), v = (0, Mg.checkDataTypes)(c, g, a.opts.strictNumbers, Mg.DataType.Wrong), y = e.const("indices", (0, Kr._)`{}`);
      e.for((0, Kr._)`;${p}--;`, () => {
        e.let(g, (0, Kr._)`${n}[${p}]`), e.if(v, (0, Kr._)`continue`), c.length > 1 && e.if((0, Kr._)`typeof ${g} == "string"`, (0, Kr._)`${g} += "_"`), e.if((0, Kr._)`typeof ${y}[${g}] == "number"`, () => {
          e.assign(m, (0, Kr._)`${y}[${g}]`), t.error(), e.assign(l, !1).break();
        }).code((0, Kr._)`${y}[${g}] = ${p}`);
      });
    }
    function h(p, m) {
      const g = (0, ree.useFunc)(e, iee.default), v = e.name("outer");
      e.label(v).for((0, Kr._)`;${p}--;`, () => e.for((0, Kr._)`${m} = ${p}; ${m}--;`, () => e.if((0, Kr._)`${g}(${n}[${p}], ${n}[${m}])`, () => {
        t.error(), e.assign(l, !1).break(v);
      })));
    }
  }
};
mb.default = see;
var gb = {};
Object.defineProperty(gb, "__esModule", { value: !0 });
const m0 = vn, aee = An, lee = nd, cee = {
  message: "must be equal to constant",
  params: ({ schemaCode: t }) => (0, m0._)`{allowedValue: ${t}}`
}, uee = {
  keyword: "const",
  $data: !0,
  error: cee,
  code(t) {
    const { gen: e, data: n, $data: r, schemaCode: i, schema: o } = t;
    r || o && typeof o == "object" ? t.fail$data((0, m0._)`!${(0, aee.useFunc)(e, lee.default)}(${n}, ${i})`) : t.fail((0, m0._)`${o} !== ${n}`);
  }
};
gb.default = uee;
var vb = {};
Object.defineProperty(vb, "__esModule", { value: !0 });
const Iu = vn, fee = An, dee = nd, hee = {
  message: "must be equal to one of the allowed values",
  params: ({ schemaCode: t }) => (0, Iu._)`{allowedValues: ${t}}`
}, pee = {
  keyword: "enum",
  schemaType: "array",
  $data: !0,
  error: hee,
  code(t) {
    const { gen: e, data: n, $data: r, schema: i, schemaCode: o, it: s } = t;
    if (!r && i.length === 0)
      throw new Error("enum must have non-empty array");
    const a = i.length >= s.opts.loopEnum;
    let l;
    const c = () => l ?? (l = (0, fee.useFunc)(e, dee.default));
    let u;
    if (a || r)
      u = e.let("valid"), t.block$data(u, f);
    else {
      if (!Array.isArray(i))
        throw new Error("ajv implementation error");
      const h = e.const("vSchema", o);
      u = (0, Iu.or)(...i.map((p, m) => d(h, m)));
    }
    t.pass(u);
    function f() {
      e.assign(u, !1), e.forOf("v", o, (h) => e.if((0, Iu._)`${c()}(${n}, ${h})`, () => e.assign(u, !0).break()));
    }
    function d(h, p) {
      const m = i[p];
      return typeof m == "object" && m !== null ? (0, Iu._)`${c()}(${n}, ${h}[${p}])` : (0, Iu._)`${n} === ${m}`;
    }
  }
};
vb.default = pee;
Object.defineProperty(sb, "__esModule", { value: !0 });
const mee = ab, gee = lb, vee = cb, yee = fb, bee = db, xee = hb, wee = pb, jee = mb, $ee = gb, kee = vb, See = [
  // number
  mee.default,
  gee.default,
  // string
  vee.default,
  yee.default,
  // object
  bee.default,
  xee.default,
  // array
  wee.default,
  jee.default,
  // any
  { keyword: "type", schemaType: ["string", "array"] },
  { keyword: "nullable", schemaType: "boolean" },
  $ee.default,
  kee.default
];
sb.default = See;
var yb = {}, au = {};
Object.defineProperty(au, "__esModule", { value: !0 });
au.validateAdditionalItems = void 0;
const sl = vn, g0 = An, Cee = {
  message: ({ params: { len: t } }) => (0, sl.str)`must NOT have more than ${t} items`,
  params: ({ params: { len: t } }) => (0, sl._)`{limit: ${t}}`
}, _ee = {
  keyword: "additionalItems",
  type: "array",
  schemaType: ["boolean", "object"],
  before: "uniqueItems",
  error: Cee,
  code(t) {
    const { parentSchema: e, it: n } = t, { items: r } = e;
    if (!Array.isArray(r)) {
      (0, g0.checkStrictMode)(n, '"additionalItems" is ignored when "items" is not an array of schemas');
      return;
    }
    gM(t, r);
  }
};
function gM(t, e) {
  const { gen: n, schema: r, data: i, keyword: o, it: s } = t;
  s.items = !0;
  const a = n.const("len", (0, sl._)`${i}.length`);
  if (r === !1)
    t.setParams({ len: e.length }), t.pass((0, sl._)`${a} <= ${e.length}`);
  else if (typeof r == "object" && !(0, g0.alwaysValidSchema)(s, r)) {
    const c = n.var("valid", (0, sl._)`${a} <= ${e.length}`);
    n.if((0, sl.not)(c), () => l(c)), t.ok(c);
  }
  function l(c) {
    n.forRange("i", e.length, a, (u) => {
      t.subschema({ keyword: o, dataProp: u, dataPropType: g0.Type.Num }, c), s.allErrors || n.if((0, sl.not)(c), () => n.break());
    });
  }
}
au.validateAdditionalItems = gM;
au.default = _ee;
var bb = {}, lu = {};
Object.defineProperty(lu, "__esModule", { value: !0 });
lu.validateTuple = void 0;
const Oj = vn, xh = An, Oee = mn, Aee = {
  keyword: "items",
  type: "array",
  schemaType: ["object", "array", "boolean"],
  before: "uniqueItems",
  code(t) {
    const { schema: e, it: n } = t;
    if (Array.isArray(e))
      return vM(t, "additionalItems", e);
    n.items = !0, !(0, xh.alwaysValidSchema)(n, e) && t.ok((0, Oee.validateArray)(t));
  }
};
function vM(t, e, n = t.schema) {
  const { gen: r, parentSchema: i, data: o, keyword: s, it: a } = t;
  u(i), a.opts.unevaluated && n.length && a.items !== !0 && (a.items = xh.mergeEvaluated.items(r, n.length, a.items));
  const l = r.name("valid"), c = r.const("len", (0, Oj._)`${o}.length`);
  n.forEach((f, d) => {
    (0, xh.alwaysValidSchema)(a, f) || (r.if((0, Oj._)`${c} > ${d}`, () => t.subschema({
      keyword: s,
      schemaProp: d,
      dataProp: d
    }, l)), t.ok(l));
  });
  function u(f) {
    const { opts: d, errSchemaPath: h } = a, p = n.length, m = p === f.minItems && (p === f.maxItems || f[e] === !1);
    if (d.strictTuples && !m) {
      const g = `"${s}" is ${p}-tuple, but minItems or maxItems/${e} are not specified or different at path "${h}"`;
      (0, xh.checkStrictMode)(a, g, d.strictTuples);
    }
  }
}
lu.validateTuple = vM;
lu.default = Aee;
Object.defineProperty(bb, "__esModule", { value: !0 });
const Eee = lu, Mee = {
  keyword: "prefixItems",
  type: "array",
  schemaType: ["array"],
  before: "uniqueItems",
  code: (t) => (0, Eee.validateTuple)(t, "items")
};
bb.default = Mee;
var xb = {};
Object.defineProperty(xb, "__esModule", { value: !0 });
const Aj = vn, Tee = An, Ree = mn, Pee = au, Iee = {
  message: ({ params: { len: t } }) => (0, Aj.str)`must NOT have more than ${t} items`,
  params: ({ params: { len: t } }) => (0, Aj._)`{limit: ${t}}`
}, Nee = {
  keyword: "items",
  type: "array",
  schemaType: ["object", "boolean"],
  before: "uniqueItems",
  error: Iee,
  code(t) {
    const { schema: e, parentSchema: n, it: r } = t, { prefixItems: i } = n;
    r.items = !0, !(0, Tee.alwaysValidSchema)(r, e) && (i ? (0, Pee.validateAdditionalItems)(t, i) : t.ok((0, Ree.validateArray)(t)));
  }
};
xb.default = Nee;
var wb = {};
Object.defineProperty(wb, "__esModule", { value: !0 });
const oo = vn, Wd = An, Dee = {
  message: ({ params: { min: t, max: e } }) => e === void 0 ? (0, oo.str)`must contain at least ${t} valid item(s)` : (0, oo.str)`must contain at least ${t} and no more than ${e} valid item(s)`,
  params: ({ params: { min: t, max: e } }) => e === void 0 ? (0, oo._)`{minContains: ${t}}` : (0, oo._)`{minContains: ${t}, maxContains: ${e}}`
}, Lee = {
  keyword: "contains",
  type: "array",
  schemaType: ["object", "boolean"],
  before: "uniqueItems",
  trackErrors: !0,
  error: Dee,
  code(t) {
    const { gen: e, schema: n, parentSchema: r, data: i, it: o } = t;
    let s, a;
    const { minContains: l, maxContains: c } = r;
    o.opts.next ? (s = l === void 0 ? 1 : l, a = c) : s = 1;
    const u = e.const("len", (0, oo._)`${i}.length`);
    if (t.setParams({ min: s, max: a }), a === void 0 && s === 0) {
      (0, Wd.checkStrictMode)(o, '"minContains" == 0 without "maxContains": "contains" keyword ignored');
      return;
    }
    if (a !== void 0 && s > a) {
      (0, Wd.checkStrictMode)(o, '"minContains" > "maxContains" is always invalid'), t.fail();
      return;
    }
    if ((0, Wd.alwaysValidSchema)(o, n)) {
      let m = (0, oo._)`${u} >= ${s}`;
      a !== void 0 && (m = (0, oo._)`${m} && ${u} <= ${a}`), t.pass(m);
      return;
    }
    o.items = !0;
    const f = e.name("valid");
    a === void 0 && s === 1 ? h(f, () => e.if(f, () => e.break())) : s === 0 ? (e.let(f, !0), a !== void 0 && e.if((0, oo._)`${i}.length > 0`, d)) : (e.let(f, !1), d()), t.result(f, () => t.reset());
    function d() {
      const m = e.name("_valid"), g = e.let("count", 0);
      h(m, () => e.if(m, () => p(g)));
    }
    function h(m, g) {
      e.forRange("i", 0, u, (v) => {
        t.subschema({
          keyword: "contains",
          dataProp: v,
          dataPropType: Wd.Type.Num,
          compositeRule: !0
        }, m), g();
      });
    }
    function p(m) {
      e.code((0, oo._)`${m}++`), a === void 0 ? e.if((0, oo._)`${m} >= ${s}`, () => e.assign(f, !0).break()) : (e.if((0, oo._)`${m} > ${a}`, () => e.assign(f, !1).break()), s === 1 ? e.assign(f, !0) : e.if((0, oo._)`${m} >= ${s}`, () => e.assign(f, !0)));
    }
  }
};
wb.default = Lee;
var yM = {};
(function(t) {
  Object.defineProperty(t, "__esModule", { value: !0 }), t.validateSchemaDeps = t.validatePropertyDeps = t.error = void 0;
  const e = vn, n = An, r = mn;
  t.error = {
    message: ({ params: { property: l, depsCount: c, deps: u } }) => {
      const f = c === 1 ? "property" : "properties";
      return (0, e.str)`must have ${f} ${u} when property ${l} is present`;
    },
    params: ({ params: { property: l, depsCount: c, deps: u, missingProperty: f } }) => (0, e._)`{property: ${l},
    missingProperty: ${f},
    depsCount: ${c},
    deps: ${u}}`
    // TODO change to reference
  };
  const i = {
    keyword: "dependencies",
    type: "object",
    schemaType: "object",
    error: t.error,
    code(l) {
      const [c, u] = o(l);
      s(l, c), a(l, u);
    }
  };
  function o({ schema: l }) {
    const c = {}, u = {};
    for (const f in l) {
      if (f === "__proto__")
        continue;
      const d = Array.isArray(l[f]) ? c : u;
      d[f] = l[f];
    }
    return [c, u];
  }
  function s(l, c = l.schema) {
    const { gen: u, data: f, it: d } = l;
    if (Object.keys(c).length === 0)
      return;
    const h = u.let("missing");
    for (const p in c) {
      const m = c[p];
      if (m.length === 0)
        continue;
      const g = (0, r.propertyInData)(u, f, p, d.opts.ownProperties);
      l.setParams({
        property: p,
        depsCount: m.length,
        deps: m.join(", ")
      }), d.allErrors ? u.if(g, () => {
        for (const v of m)
          (0, r.checkReportMissingProp)(l, v);
      }) : (u.if((0, e._)`${g} && (${(0, r.checkMissingProp)(l, m, h)})`), (0, r.reportMissingProp)(l, h), u.else());
    }
  }
  t.validatePropertyDeps = s;
  function a(l, c = l.schema) {
    const { gen: u, data: f, keyword: d, it: h } = l, p = u.name("valid");
    for (const m in c)
      (0, n.alwaysValidSchema)(h, c[m]) || (u.if(
        (0, r.propertyInData)(u, f, m, h.opts.ownProperties),
        () => {
          const g = l.subschema({ keyword: d, schemaProp: m }, p);
          l.mergeValidEvaluated(g, p);
        },
        () => u.var(p, !0)
        // TODO var
      ), l.ok(p));
  }
  t.validateSchemaDeps = a, t.default = i;
})(yM);
var jb = {};
Object.defineProperty(jb, "__esModule", { value: !0 });
const bM = vn, Bee = An, qee = {
  message: "property name must be valid",
  params: ({ params: t }) => (0, bM._)`{propertyName: ${t.propertyName}}`
}, zee = {
  keyword: "propertyNames",
  type: "object",
  schemaType: ["object", "boolean"],
  error: qee,
  code(t) {
    const { gen: e, schema: n, data: r, it: i } = t;
    if ((0, Bee.alwaysValidSchema)(i, n))
      return;
    const o = e.name("valid");
    e.forIn("key", r, (s) => {
      t.setParams({ propertyName: s }), t.subschema({
        keyword: "propertyNames",
        data: s,
        dataTypes: ["string"],
        propertyName: s,
        compositeRule: !0
      }, o), e.if((0, bM.not)(o), () => {
        t.error(!0), i.allErrors || e.break();
      });
    }), t.ok(o);
  }
};
jb.default = zee;
var Em = {};
Object.defineProperty(Em, "__esModule", { value: !0 });
const Hd = mn, Eo = vn, Fee = As, Ud = An, Vee = {
  message: "must NOT have additional properties",
  params: ({ params: t }) => (0, Eo._)`{additionalProperty: ${t.additionalProperty}}`
}, Wee = {
  keyword: "additionalProperties",
  type: ["object"],
  schemaType: ["boolean", "object"],
  allowUndefined: !0,
  trackErrors: !0,
  error: Vee,
  code(t) {
    const { gen: e, schema: n, parentSchema: r, data: i, errsCount: o, it: s } = t;
    if (!o)
      throw new Error("ajv implementation error");
    const { allErrors: a, opts: l } = s;
    if (s.props = !0, l.removeAdditional !== "all" && (0, Ud.alwaysValidSchema)(s, n))
      return;
    const c = (0, Hd.allSchemaProperties)(r.properties), u = (0, Hd.allSchemaProperties)(r.patternProperties);
    f(), t.ok((0, Eo._)`${o} === ${Fee.default.errors}`);
    function f() {
      e.forIn("key", i, (g) => {
        !c.length && !u.length ? p(g) : e.if(d(g), () => p(g));
      });
    }
    function d(g) {
      let v;
      if (c.length > 8) {
        const y = (0, Ud.schemaRefOrVal)(s, r.properties, "properties");
        v = (0, Hd.isOwnProperty)(e, y, g);
      } else
        c.length ? v = (0, Eo.or)(...c.map((y) => (0, Eo._)`${g} === ${y}`)) : v = Eo.nil;
      return u.length && (v = (0, Eo.or)(v, ...u.map((y) => (0, Eo._)`${(0, Hd.usePattern)(t, y)}.test(${g})`))), (0, Eo.not)(v);
    }
    function h(g) {
      e.code((0, Eo._)`delete ${i}[${g}]`);
    }
    function p(g) {
      if (l.removeAdditional === "all" || l.removeAdditional && n === !1) {
        h(g);
        return;
      }
      if (n === !1) {
        t.setParams({ additionalProperty: g }), t.error(), a || e.break();
        return;
      }
      if (typeof n == "object" && !(0, Ud.alwaysValidSchema)(s, n)) {
        const v = e.name("valid");
        l.removeAdditional === "failing" ? (m(g, v, !1), e.if((0, Eo.not)(v), () => {
          t.reset(), h(g);
        })) : (m(g, v), a || e.if((0, Eo.not)(v), () => e.break()));
      }
    }
    function m(g, v, y) {
      const x = {
        keyword: "additionalProperties",
        dataProp: g,
        dataPropType: Ud.Type.Str
      };
      y === !1 && Object.assign(x, {
        compositeRule: !0,
        createErrors: !1,
        allErrors: !1
      }), t.subschema(x, v);
    }
  }
};
Em.default = Wee;
var $b = {};
Object.defineProperty($b, "__esModule", { value: !0 });
const Hee = Bo, Ej = mn, Tg = An, Mj = Em, Uee = {
  keyword: "properties",
  type: "object",
  schemaType: "object",
  code(t) {
    const { gen: e, schema: n, parentSchema: r, data: i, it: o } = t;
    o.opts.removeAdditional === "all" && r.additionalProperties === void 0 && Mj.default.code(new Hee.KeywordCxt(o, Mj.default, "additionalProperties"));
    const s = (0, Ej.allSchemaProperties)(n);
    for (const f of s)
      o.definedProperties.add(f);
    o.opts.unevaluated && s.length && o.props !== !0 && (o.props = Tg.mergeEvaluated.props(e, (0, Tg.toHash)(s), o.props));
    const a = s.filter((f) => !(0, Tg.alwaysValidSchema)(o, n[f]));
    if (a.length === 0)
      return;
    const l = e.name("valid");
    for (const f of a)
      c(f) ? u(f) : (e.if((0, Ej.propertyInData)(e, i, f, o.opts.ownProperties)), u(f), o.allErrors || e.else().var(l, !0), e.endIf()), t.it.definedProperties.add(f), t.ok(l);
    function c(f) {
      return o.opts.useDefaults && !o.compositeRule && n[f].default !== void 0;
    }
    function u(f) {
      t.subschema({
        keyword: "properties",
        schemaProp: f,
        dataProp: f
      }, l);
    }
  }
};
$b.default = Uee;
var kb = {};
Object.defineProperty(kb, "__esModule", { value: !0 });
const Tj = mn, Jd = vn, Rj = An, Pj = An, Jee = {
  keyword: "patternProperties",
  type: "object",
  schemaType: "object",
  code(t) {
    const { gen: e, schema: n, data: r, parentSchema: i, it: o } = t, { opts: s } = o, a = (0, Tj.allSchemaProperties)(n), l = a.filter((m) => (0, Rj.alwaysValidSchema)(o, n[m]));
    if (a.length === 0 || l.length === a.length && (!o.opts.unevaluated || o.props === !0))
      return;
    const c = s.strictSchema && !s.allowMatchingProperties && i.properties, u = e.name("valid");
    o.props !== !0 && !(o.props instanceof Jd.Name) && (o.props = (0, Pj.evaluatedPropsToName)(e, o.props));
    const { props: f } = o;
    d();
    function d() {
      for (const m of a)
        c && h(m), o.allErrors ? p(m) : (e.var(u, !0), p(m), e.if(u));
    }
    function h(m) {
      for (const g in c)
        new RegExp(m).test(g) && (0, Rj.checkStrictMode)(o, `property ${g} matches pattern ${m} (use allowMatchingProperties)`);
    }
    function p(m) {
      e.forIn("key", r, (g) => {
        e.if((0, Jd._)`${(0, Tj.usePattern)(t, m)}.test(${g})`, () => {
          const v = l.includes(m);
          v || t.subschema({
            keyword: "patternProperties",
            schemaProp: m,
            dataProp: g,
            dataPropType: Pj.Type.Str
          }, u), o.opts.unevaluated && f !== !0 ? e.assign((0, Jd._)`${f}[${g}]`, !0) : !v && !o.allErrors && e.if((0, Jd.not)(u), () => e.break());
        });
      });
    }
  }
};
kb.default = Jee;
var Sb = {};
Object.defineProperty(Sb, "__esModule", { value: !0 });
const Gee = An, Kee = {
  keyword: "not",
  schemaType: ["object", "boolean"],
  trackErrors: !0,
  code(t) {
    const { gen: e, schema: n, it: r } = t;
    if ((0, Gee.alwaysValidSchema)(r, n)) {
      t.fail();
      return;
    }
    const i = e.name("valid");
    t.subschema({
      keyword: "not",
      compositeRule: !0,
      createErrors: !1,
      allErrors: !1
    }, i), t.failResult(i, () => t.reset(), () => t.error());
  },
  error: { message: "must NOT be valid" }
};
Sb.default = Kee;
var Cb = {};
Object.defineProperty(Cb, "__esModule", { value: !0 });
const Yee = mn, Qee = {
  keyword: "anyOf",
  schemaType: "array",
  trackErrors: !0,
  code: Yee.validateUnion,
  error: { message: "must match a schema in anyOf" }
};
Cb.default = Qee;
var _b = {};
Object.defineProperty(_b, "__esModule", { value: !0 });
const wh = vn, Xee = An, Zee = {
  message: "must match exactly one schema in oneOf",
  params: ({ params: t }) => (0, wh._)`{passingSchemas: ${t.passing}}`
}, ete = {
  keyword: "oneOf",
  schemaType: "array",
  trackErrors: !0,
  error: Zee,
  code(t) {
    const { gen: e, schema: n, parentSchema: r, it: i } = t;
    if (!Array.isArray(n))
      throw new Error("ajv implementation error");
    if (i.opts.discriminator && r.discriminator)
      return;
    const o = n, s = e.let("valid", !1), a = e.let("passing", null), l = e.name("_valid");
    t.setParams({ passing: a }), e.block(c), t.result(s, () => t.reset(), () => t.error(!0));
    function c() {
      o.forEach((u, f) => {
        let d;
        (0, Xee.alwaysValidSchema)(i, u) ? e.var(l, !0) : d = t.subschema({
          keyword: "oneOf",
          schemaProp: f,
          compositeRule: !0
        }, l), f > 0 && e.if((0, wh._)`${l} && ${s}`).assign(s, !1).assign(a, (0, wh._)`[${a}, ${f}]`).else(), e.if(l, () => {
          e.assign(s, !0), e.assign(a, f), d && t.mergeEvaluated(d, wh.Name);
        });
      });
    }
  }
};
_b.default = ete;
var Ob = {};
Object.defineProperty(Ob, "__esModule", { value: !0 });
const tte = An, nte = {
  keyword: "allOf",
  schemaType: "array",
  code(t) {
    const { gen: e, schema: n, it: r } = t;
    if (!Array.isArray(n))
      throw new Error("ajv implementation error");
    const i = e.name("valid");
    n.forEach((o, s) => {
      if ((0, tte.alwaysValidSchema)(r, o))
        return;
      const a = t.subschema({ keyword: "allOf", schemaProp: s }, i);
      t.ok(i), t.mergeEvaluated(a);
    });
  }
};
Ob.default = nte;
var Ab = {};
Object.defineProperty(Ab, "__esModule", { value: !0 });
const gp = vn, xM = An, rte = {
  message: ({ params: t }) => (0, gp.str)`must match "${t.ifClause}" schema`,
  params: ({ params: t }) => (0, gp._)`{failingKeyword: ${t.ifClause}}`
}, ite = {
  keyword: "if",
  schemaType: ["object", "boolean"],
  trackErrors: !0,
  error: rte,
  code(t) {
    const { gen: e, parentSchema: n, it: r } = t;
    n.then === void 0 && n.else === void 0 && (0, xM.checkStrictMode)(r, '"if" without "then" and "else" is ignored');
    const i = Ij(r, "then"), o = Ij(r, "else");
    if (!i && !o)
      return;
    const s = e.let("valid", !0), a = e.name("_valid");
    if (l(), t.reset(), i && o) {
      const u = e.let("ifClause");
      t.setParams({ ifClause: u }), e.if(a, c("then", u), c("else", u));
    } else
      i ? e.if(a, c("then")) : e.if((0, gp.not)(a), c("else"));
    t.pass(s, () => t.error(!0));
    function l() {
      const u = t.subschema({
        keyword: "if",
        compositeRule: !0,
        createErrors: !1,
        allErrors: !1
      }, a);
      t.mergeEvaluated(u);
    }
    function c(u, f) {
      return () => {
        const d = t.subschema({ keyword: u }, a);
        e.assign(s, a), t.mergeValidEvaluated(d, s), f ? e.assign(f, (0, gp._)`${u}`) : t.setParams({ ifClause: u });
      };
    }
  }
};
function Ij(t, e) {
  const n = t.schema[e];
  return n !== void 0 && !(0, xM.alwaysValidSchema)(t, n);
}
Ab.default = ite;
var Eb = {};
Object.defineProperty(Eb, "__esModule", { value: !0 });
const ote = An, ste = {
  keyword: ["then", "else"],
  schemaType: ["object", "boolean"],
  code({ keyword: t, parentSchema: e, it: n }) {
    e.if === void 0 && (0, ote.checkStrictMode)(n, `"${t}" without "if" is ignored`);
  }
};
Eb.default = ste;
Object.defineProperty(yb, "__esModule", { value: !0 });
const ate = au, lte = bb, cte = lu, ute = xb, fte = wb, dte = yM, hte = jb, pte = Em, mte = $b, gte = kb, vte = Sb, yte = Cb, bte = _b, xte = Ob, wte = Ab, jte = Eb;
function $te(t = !1) {
  const e = [
    // any
    vte.default,
    yte.default,
    bte.default,
    xte.default,
    wte.default,
    jte.default,
    // object
    hte.default,
    pte.default,
    dte.default,
    mte.default,
    gte.default
  ];
  return t ? e.push(lte.default, ute.default) : e.push(ate.default, cte.default), e.push(fte.default), e;
}
yb.default = $te;
var Mb = {}, Tb = {};
Object.defineProperty(Tb, "__esModule", { value: !0 });
const Er = vn, kte = {
  message: ({ schemaCode: t }) => (0, Er.str)`must match format "${t}"`,
  params: ({ schemaCode: t }) => (0, Er._)`{format: ${t}}`
}, Ste = {
  keyword: "format",
  type: ["number", "string"],
  schemaType: "string",
  $data: !0,
  error: kte,
  code(t, e) {
    const { gen: n, data: r, $data: i, schema: o, schemaCode: s, it: a } = t, { opts: l, errSchemaPath: c, schemaEnv: u, self: f } = a;
    if (!l.validateFormats)
      return;
    i ? d() : h();
    function d() {
      const p = n.scopeValue("formats", {
        ref: f.formats,
        code: l.code.formats
      }), m = n.const("fDef", (0, Er._)`${p}[${s}]`), g = n.let("fType"), v = n.let("format");
      n.if((0, Er._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`, () => n.assign(g, (0, Er._)`${m}.type || "string"`).assign(v, (0, Er._)`${m}.validate`), () => n.assign(g, (0, Er._)`"string"`).assign(v, m)), t.fail$data((0, Er.or)(y(), x()));
      function y() {
        return l.strictSchema === !1 ? Er.nil : (0, Er._)`${s} && !${v}`;
      }
      function x() {
        const b = u.$async ? (0, Er._)`(${m}.async ? await ${v}(${r}) : ${v}(${r}))` : (0, Er._)`${v}(${r})`, w = (0, Er._)`(typeof ${v} == "function" ? ${b} : ${v}.test(${r}))`;
        return (0, Er._)`${v} && ${v} !== true && ${g} === ${e} && !${w}`;
      }
    }
    function h() {
      const p = f.formats[o];
      if (!p) {
        y();
        return;
      }
      if (p === !0)
        return;
      const [m, g, v] = x(p);
      m === e && t.pass(b());
      function y() {
        if (l.strictSchema === !1) {
          f.logger.warn(w());
          return;
        }
        throw new Error(w());
        function w() {
          return `unknown format "${o}" ignored in schema at path "${c}"`;
        }
      }
      function x(w) {
        const j = w instanceof RegExp ? (0, Er.regexpCode)(w) : l.code.formats ? (0, Er._)`${l.code.formats}${(0, Er.getProperty)(o)}` : void 0, k = n.scopeValue("formats", { key: o, ref: w, code: j });
        return typeof w == "object" && !(w instanceof RegExp) ? [w.type || "string", w.validate, (0, Er._)`${k}.validate`] : ["string", w, k];
      }
      function b() {
        if (typeof p == "object" && !(p instanceof RegExp) && p.async) {
          if (!u.$async)
            throw new Error("async format in sync schema");
          return (0, Er._)`await ${v}(${r})`;
        }
        return typeof g == "function" ? (0, Er._)`${v}(${r})` : (0, Er._)`${v}.test(${r})`;
      }
    }
  }
};
Tb.default = Ste;
Object.defineProperty(Mb, "__esModule", { value: !0 });
const Cte = Tb, _te = [Cte.default];
Mb.default = _te;
var Nc = {};
Object.defineProperty(Nc, "__esModule", { value: !0 });
Nc.contentVocabulary = Nc.metadataVocabulary = void 0;
Nc.metadataVocabulary = [
  "title",
  "description",
  "default",
  "deprecated",
  "readOnly",
  "writeOnly",
  "examples"
];
Nc.contentVocabulary = [
  "contentMediaType",
  "contentEncoding",
  "contentSchema"
];
Object.defineProperty(rb, "__esModule", { value: !0 });
const Ote = ib, Ate = sb, Ete = yb, Mte = Mb, Nj = Nc, Tte = [
  Ote.default,
  Ate.default,
  (0, Ete.default)(),
  Mte.default,
  Nj.metadataVocabulary,
  Nj.contentVocabulary
];
rb.default = Tte;
var Rb = {}, wM = {};
(function(t) {
  Object.defineProperty(t, "__esModule", { value: !0 }), t.DiscrError = void 0, function(e) {
    e.Tag = "tag", e.Mapping = "mapping";
  }(t.DiscrError || (t.DiscrError = {}));
})(wM);
Object.defineProperty(Rb, "__esModule", { value: !0 });
const Zl = vn, v0 = wM, Dj = Ri, Rte = An, Pte = {
  message: ({ params: { discrError: t, tagName: e } }) => t === v0.DiscrError.Tag ? `tag "${e}" must be string` : `value of tag "${e}" must be in oneOf`,
  params: ({ params: { discrError: t, tag: e, tagName: n } }) => (0, Zl._)`{error: ${t}, tag: ${n}, tagValue: ${e}}`
}, Ite = {
  keyword: "discriminator",
  type: "object",
  schemaType: "object",
  error: Pte,
  code(t) {
    const { gen: e, data: n, schema: r, parentSchema: i, it: o } = t, { oneOf: s } = i;
    if (!o.opts.discriminator)
      throw new Error("discriminator: requires discriminator option");
    const a = r.propertyName;
    if (typeof a != "string")
      throw new Error("discriminator: requires propertyName");
    if (r.mapping)
      throw new Error("discriminator: mapping is not supported");
    if (!s)
      throw new Error("discriminator: requires oneOf keyword");
    const l = e.let("valid", !1), c = e.const("tag", (0, Zl._)`${n}${(0, Zl.getProperty)(a)}`);
    e.if((0, Zl._)`typeof ${c} == "string"`, () => u(), () => t.error(!1, { discrError: v0.DiscrError.Tag, tag: c, tagName: a })), t.ok(l);
    function u() {
      const h = d();
      e.if(!1);
      for (const p in h)
        e.elseIf((0, Zl._)`${c} === ${p}`), e.assign(l, f(h[p]));
      e.else(), t.error(!1, { discrError: v0.DiscrError.Mapping, tag: c, tagName: a }), e.endIf();
    }
    function f(h) {
      const p = e.name("valid"), m = t.subschema({ keyword: "oneOf", schemaProp: h }, p);
      return t.mergeEvaluated(m, Zl.Name), p;
    }
    function d() {
      var h;
      const p = {}, m = v(i);
      let g = !0;
      for (let b = 0; b < s.length; b++) {
        let w = s[b];
        w != null && w.$ref && !(0, Rte.schemaHasRulesButRef)(w, o.self.RULES) && (w = Dj.resolveRef.call(o.self, o.schemaEnv.root, o.baseId, w == null ? void 0 : w.$ref), w instanceof Dj.SchemaEnv && (w = w.schema));
        const j = (h = w == null ? void 0 : w.properties) === null || h === void 0 ? void 0 : h[a];
        if (typeof j != "object")
          throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);
        g = g && (m || v(w)), y(j, b);
      }
      if (!g)
        throw new Error(`discriminator: "${a}" must be required`);
      return p;
      function v({ required: b }) {
        return Array.isArray(b) && b.includes(a);
      }
      function y(b, w) {
        if (b.const)
          x(b.const, w);
        else if (b.enum)
          for (const j of b.enum)
            x(j, w);
        else
          throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`);
      }
      function x(b, w) {
        if (typeof b != "string" || b in p)
          throw new Error(`discriminator: "${a}" values must be unique strings`);
        p[b] = w;
      }
    }
  }
};
Rb.default = Ite;
const Nte = "http://json-schema.org/draft-07/schema#", Dte = "http://json-schema.org/draft-07/schema#", Lte = "Core schema meta-schema", Bte = {
  schemaArray: {
    type: "array",
    minItems: 1,
    items: {
      $ref: "#"
    }
  },
  nonNegativeInteger: {
    type: "integer",
    minimum: 0
  },
  nonNegativeIntegerDefault0: {
    allOf: [
      {
        $ref: "#/definitions/nonNegativeInteger"
      },
      {
        default: 0
      }
    ]
  },
  simpleTypes: {
    enum: [
      "array",
      "boolean",
      "integer",
      "null",
      "number",
      "object",
      "string"
    ]
  },
  stringArray: {
    type: "array",
    items: {
      type: "string"
    },
    uniqueItems: !0,
    default: []
  }
}, qte = [
  "object",
  "boolean"
], zte = {
  $id: {
    type: "string",
    format: "uri-reference"
  },
  $schema: {
    type: "string",
    format: "uri"
  },
  $ref: {
    type: "string",
    format: "uri-reference"
  },
  $comment: {
    type: "string"
  },
  title: {
    type: "string"
  },
  description: {
    type: "string"
  },
  default: !0,
  readOnly: {
    type: "boolean",
    default: !1
  },
  examples: {
    type: "array",
    items: !0
  },
  multipleOf: {
    type: "number",
    exclusiveMinimum: 0
  },
  maximum: {
    type: "number"
  },
  exclusiveMaximum: {
    type: "number"
  },
  minimum: {
    type: "number"
  },
  exclusiveMinimum: {
    type: "number"
  },
  maxLength: {
    $ref: "#/definitions/nonNegativeInteger"
  },
  minLength: {
    $ref: "#/definitions/nonNegativeIntegerDefault0"
  },
  pattern: {
    type: "string",
    format: "regex"
  },
  additionalItems: {
    $ref: "#"
  },
  items: {
    anyOf: [
      {
        $ref: "#"
      },
      {
        $ref: "#/definitions/schemaArray"
      }
    ],
    default: !0
  },
  maxItems: {
    $ref: "#/definitions/nonNegativeInteger"
  },
  minItems: {
    $ref: "#/definitions/nonNegativeIntegerDefault0"
  },
  uniqueItems: {
    type: "boolean",
    default: !1
  },
  contains: {
    $ref: "#"
  },
  maxProperties: {
    $ref: "#/definitions/nonNegativeInteger"
  },
  minProperties: {
    $ref: "#/definitions/nonNegativeIntegerDefault0"
  },
  required: {
    $ref: "#/definitions/stringArray"
  },
  additionalProperties: {
    $ref: "#"
  },
  definitions: {
    type: "object",
    additionalProperties: {
      $ref: "#"
    },
    default: {}
  },
  properties: {
    type: "object",
    additionalProperties: {
      $ref: "#"
    },
    default: {}
  },
  patternProperties: {
    type: "object",
    additionalProperties: {
      $ref: "#"
    },
    propertyNames: {
      format: "regex"
    },
    default: {}
  },
  dependencies: {
    type: "object",
    additionalProperties: {
      anyOf: [
        {
          $ref: "#"
        },
        {
          $ref: "#/definitions/stringArray"
        }
      ]
    }
  },
  propertyNames: {
    $ref: "#"
  },
  const: !0,
  enum: {
    type: "array",
    items: !0,
    minItems: 1,
    uniqueItems: !0
  },
  type: {
    anyOf: [
      {
        $ref: "#/definitions/simpleTypes"
      },
      {
        type: "array",
        items: {
          $ref: "#/definitions/simpleTypes"
        },
        minItems: 1,
        uniqueItems: !0
      }
    ]
  },
  format: {
    type: "string"
  },
  contentMediaType: {
    type: "string"
  },
  contentEncoding: {
    type: "string"
  },
  if: {
    $ref: "#"
  },
  then: {
    $ref: "#"
  },
  else: {
    $ref: "#"
  },
  allOf: {
    $ref: "#/definitions/schemaArray"
  },
  anyOf: {
    $ref: "#/definitions/schemaArray"
  },
  oneOf: {
    $ref: "#/definitions/schemaArray"
  },
  not: {
    $ref: "#"
  }
}, Fte = {
  $schema: Nte,
  $id: Dte,
  title: Lte,
  definitions: Bte,
  type: qte,
  properties: zte,
  default: !0
};
(function(t, e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.MissingRefError = e.ValidationError = e.CodeGen = e.Name = e.nil = e.stringify = e.str = e._ = e.KeywordCxt = void 0;
  const n = zE, r = rb, i = Rb, o = Fte, s = ["/properties"], a = "http://json-schema.org/draft-07/schema";
  class l extends n.default {
    _addVocabularies() {
      super._addVocabularies(), r.default.forEach((p) => this.addVocabulary(p)), this.opts.discriminator && this.addKeyword(i.default);
    }
    _addDefaultMetaSchema() {
      if (super._addDefaultMetaSchema(), !this.opts.meta)
        return;
      const p = this.opts.$data ? this.$dataMetaSchema(o, s) : o;
      this.addMetaSchema(p, a, !1), this.refs["http://json-schema.org/schema"] = a;
    }
    defaultMeta() {
      return this.opts.defaultMeta = super.defaultMeta() || (this.getSchema(a) ? a : void 0);
    }
  }
  t.exports = e = l, Object.defineProperty(e, "__esModule", { value: !0 }), e.default = l;
  var c = Bo;
  Object.defineProperty(e, "KeywordCxt", { enumerable: !0, get: function() {
    return c.KeywordCxt;
  } });
  var u = vn;
  Object.defineProperty(e, "_", { enumerable: !0, get: function() {
    return u._;
  } }), Object.defineProperty(e, "str", { enumerable: !0, get: function() {
    return u.str;
  } }), Object.defineProperty(e, "stringify", { enumerable: !0, get: function() {
    return u.stringify;
  } }), Object.defineProperty(e, "nil", { enumerable: !0, get: function() {
    return u.nil;
  } }), Object.defineProperty(e, "Name", { enumerable: !0, get: function() {
    return u.Name;
  } }), Object.defineProperty(e, "CodeGen", { enumerable: !0, get: function() {
    return u.CodeGen;
  } });
  var f = ed;
  Object.defineProperty(e, "ValidationError", { enumerable: !0, get: function() {
    return f.default;
  } });
  var d = td;
  Object.defineProperty(e, "MissingRefError", { enumerable: !0, get: function() {
    return d.default;
  } });
})(yj, yj.exports);
var jM = {};
(function(t) {
  (function(e) {
    function n(D) {
      return D !== null ? Object.prototype.toString.call(D) === "[object Array]" : !1;
    }
    function r(D) {
      return D !== null ? Object.prototype.toString.call(D) === "[object Object]" : !1;
    }
    function i(D, ee) {
      if (D === ee)
        return !0;
      var oe = Object.prototype.toString.call(D);
      if (oe !== Object.prototype.toString.call(ee))
        return !1;
      if (n(D) === !0) {
        if (D.length !== ee.length)
          return !1;
        for (var ge = 0; ge < D.length; ge++)
          if (i(D[ge], ee[ge]) === !1)
            return !1;
        return !0;
      }
      if (r(D) === !0) {
        var $e = {};
        for (var Oe in D)
          if (hasOwnProperty.call(D, Oe)) {
            if (i(D[Oe], ee[Oe]) === !1)
              return !1;
            $e[Oe] = !0;
          }
        for (var Ze in ee)
          if (hasOwnProperty.call(ee, Ze) && $e[Ze] !== !0)
            return !1;
        return !0;
      }
      return !1;
    }
    function o(D) {
      if (D === "" || D === !1 || D === null)
        return !0;
      if (n(D) && D.length === 0)
        return !0;
      if (r(D)) {
        for (var ee in D)
          if (D.hasOwnProperty(ee))
            return !1;
        return !0;
      } else
        return !1;
    }
    function s(D) {
      for (var ee = Object.keys(D), oe = [], ge = 0; ge < ee.length; ge++)
        oe.push(D[ee[ge]]);
      return oe;
    }
    var a;
    typeof String.prototype.trimLeft == "function" ? a = function(D) {
      return D.trimLeft();
    } : a = function(D) {
      return D.match(/^\s*(.*)/)[1];
    };
    var l = 0, c = 1, u = 2, f = 3, d = 4, h = 5, p = 6, m = 7, g = 8, v = 9, y = {
      0: "number",
      1: "any",
      2: "string",
      3: "array",
      4: "object",
      5: "boolean",
      6: "expression",
      7: "null",
      8: "Array<number>",
      9: "Array<string>"
    }, x = "EOF", b = "UnquotedIdentifier", w = "QuotedIdentifier", j = "Rbracket", k = "Rparen", N = "Comma", z = "Colon", _ = "Rbrace", B = "Number", I = "Current", Y = "Expref", R = "Pipe", Z = "Or", ne = "And", V = "EQ", M = "GT", F = "LT", P = "GTE", T = "LTE", O = "NE", L = "Flatten", C = "Star", H = "Filter", ie = "Dot", te = "Not", ke = "Lbrace", Me = "Lbracket", fe = "Lparen", pe = "Literal", Fe = {
      ".": ie,
      "*": C,
      ",": N,
      ":": z,
      "{": ke,
      "}": _,
      "]": j,
      "(": fe,
      ")": k,
      "@": I
    }, Ue = {
      "<": !0,
      ">": !0,
      "=": !0,
      "!": !0
    }, ut = {
      " ": !0,
      "	": !0,
      "\n": !0
    };
    function rn(D) {
      return D >= "a" && D <= "z" || D >= "A" && D <= "Z" || D === "_";
    }
    function ae(D) {
      return D >= "0" && D <= "9" || D === "-";
    }
    function At(D) {
      return D >= "a" && D <= "z" || D >= "A" && D <= "Z" || D >= "0" && D <= "9" || D === "_";
    }
    function Ge() {
    }
    Ge.prototype = {
      tokenize: function(D) {
        var ee = [];
        this._current = 0;
        for (var oe, ge, $e; this._current < D.length; )
          if (rn(D[this._current]))
            oe = this._current, ge = this._consumeUnquotedIdentifier(D), ee.push({
              type: b,
              value: ge,
              start: oe
            });
          else if (Fe[D[this._current]] !== void 0)
            ee.push({
              type: Fe[D[this._current]],
              value: D[this._current],
              start: this._current
            }), this._current++;
          else if (ae(D[this._current]))
            $e = this._consumeNumber(D), ee.push($e);
          else if (D[this._current] === "[")
            $e = this._consumeLBracket(D), ee.push($e);
          else if (D[this._current] === '"')
            oe = this._current, ge = this._consumeQuotedIdentifier(D), ee.push({
              type: w,
              value: ge,
              start: oe
            });
          else if (D[this._current] === "'")
            oe = this._current, ge = this._consumeRawStringLiteral(D), ee.push({
              type: pe,
              value: ge,
              start: oe
            });
          else if (D[this._current] === "`") {
            oe = this._current;
            var Oe = this._consumeLiteral(D);
            ee.push({
              type: pe,
              value: Oe,
              start: oe
            });
          } else if (Ue[D[this._current]] !== void 0)
            ee.push(this._consumeOperator(D));
          else if (ut[D[this._current]] !== void 0)
            this._current++;
          else if (D[this._current] === "&")
            oe = this._current, this._current++, D[this._current] === "&" ? (this._current++, ee.push({ type: ne, value: "&&", start: oe })) : ee.push({ type: Y, value: "&", start: oe });
          else if (D[this._current] === "|")
            oe = this._current, this._current++, D[this._current] === "|" ? (this._current++, ee.push({ type: Z, value: "||", start: oe })) : ee.push({ type: R, value: "|", start: oe });
          else {
            var Ze = new Error("Unknown character:" + D[this._current]);
            throw Ze.name = "LexerError", Ze;
          }
        return ee;
      },
      _consumeUnquotedIdentifier: function(D) {
        var ee = this._current;
        for (this._current++; this._current < D.length && At(D[this._current]); )
          this._current++;
        return D.slice(ee, this._current);
      },
      _consumeQuotedIdentifier: function(D) {
        var ee = this._current;
        this._current++;
        for (var oe = D.length; D[this._current] !== '"' && this._current < oe; ) {
          var ge = this._current;
          D[ge] === "\\" && (D[ge + 1] === "\\" || D[ge + 1] === '"') ? ge += 2 : ge++, this._current = ge;
        }
        return this._current++, JSON.parse(D.slice(ee, this._current));
      },
      _consumeRawStringLiteral: function(D) {
        var ee = this._current;
        this._current++;
        for (var oe = D.length; D[this._current] !== "'" && this._current < oe; ) {
          var ge = this._current;
          D[ge] === "\\" && (D[ge + 1] === "\\" || D[ge + 1] === "'") ? ge += 2 : ge++, this._current = ge;
        }
        this._current++;
        var $e = D.slice(ee + 1, this._current - 1);
        return $e.replace("\\'", "'");
      },
      _consumeNumber: function(D) {
        var ee = this._current;
        this._current++;
        for (var oe = D.length; ae(D[this._current]) && this._current < oe; )
          this._current++;
        var ge = parseInt(D.slice(ee, this._current));
        return { type: B, value: ge, start: ee };
      },
      _consumeLBracket: function(D) {
        var ee = this._current;
        return this._current++, D[this._current] === "?" ? (this._current++, { type: H, value: "[?", start: ee }) : D[this._current] === "]" ? (this._current++, { type: L, value: "[]", start: ee }) : { type: Me, value: "[", start: ee };
      },
      _consumeOperator: function(D) {
        var ee = this._current, oe = D[ee];
        if (this._current++, oe === "!")
          return D[this._current] === "=" ? (this._current++, { type: O, value: "!=", start: ee }) : { type: te, value: "!", start: ee };
        if (oe === "<")
          return D[this._current] === "=" ? (this._current++, { type: T, value: "<=", start: ee }) : { type: F, value: "<", start: ee };
        if (oe === ">")
          return D[this._current] === "=" ? (this._current++, { type: P, value: ">=", start: ee }) : { type: M, value: ">", start: ee };
        if (oe === "=" && D[this._current] === "=")
          return this._current++, { type: V, value: "==", start: ee };
      },
      _consumeLiteral: function(D) {
        this._current++;
        for (var ee = this._current, oe = D.length, ge; D[this._current] !== "`" && this._current < oe; ) {
          var $e = this._current;
          D[$e] === "\\" && (D[$e + 1] === "\\" || D[$e + 1] === "`") ? $e += 2 : $e++, this._current = $e;
        }
        var Oe = a(D.slice(ee, this._current));
        return Oe = Oe.replace("\\`", "`"), this._looksLikeJSON(Oe) ? ge = JSON.parse(Oe) : ge = JSON.parse('"' + Oe + '"'), this._current++, ge;
      },
      _looksLikeJSON: function(D) {
        var ee = '[{"', oe = ["true", "false", "null"], ge = "-0123456789";
        if (D === "")
          return !1;
        if (ee.indexOf(D[0]) >= 0)
          return !0;
        if (oe.indexOf(D) >= 0)
          return !0;
        if (ge.indexOf(D[0]) >= 0)
          try {
            return JSON.parse(D), !0;
          } catch {
            return !1;
          }
        else
          return !1;
      }
    };
    var me = {};
    me[x] = 0, me[b] = 0, me[w] = 0, me[j] = 0, me[k] = 0, me[N] = 0, me[_] = 0, me[B] = 0, me[I] = 0, me[Y] = 0, me[R] = 1, me[Z] = 2, me[ne] = 3, me[V] = 5, me[M] = 5, me[F] = 5, me[P] = 5, me[T] = 5, me[O] = 5, me[L] = 9, me[C] = 20, me[H] = 21, me[ie] = 40, me[te] = 45, me[ke] = 50, me[Me] = 55, me[fe] = 60;
    function Ct() {
    }
    Ct.prototype = {
      parse: function(D) {
        this._loadTokens(D), this.index = 0;
        var ee = this.expression(0);
        if (this._lookahead(0) !== x) {
          var oe = this._lookaheadToken(0), ge = new Error(
            "Unexpected token type: " + oe.type + ", value: " + oe.value
          );
          throw ge.name = "ParserError", ge;
        }
        return ee;
      },
      _loadTokens: function(D) {
        var ee = new Ge(), oe = ee.tokenize(D);
        oe.push({ type: x, value: "", start: D.length }), this.tokens = oe;
      },
      expression: function(D) {
        var ee = this._lookaheadToken(0);
        this._advance();
        for (var oe = this.nud(ee), ge = this._lookahead(0); D < me[ge]; )
          this._advance(), oe = this.led(ge, oe), ge = this._lookahead(0);
        return oe;
      },
      _lookahead: function(D) {
        return this.tokens[this.index + D].type;
      },
      _lookaheadToken: function(D) {
        return this.tokens[this.index + D];
      },
      _advance: function() {
        this.index++;
      },
      nud: function(D) {
        var ee, oe, ge;
        switch (D.type) {
          case pe:
            return { type: "Literal", value: D.value };
          case b:
            return { type: "Field", name: D.value };
          case w:
            var $e = { type: "Field", name: D.value };
            if (this._lookahead(0) === fe)
              throw new Error("Quoted identifier not allowed for function names.");
            return $e;
          case te:
            return oe = this.expression(me.Not), { type: "NotExpression", children: [oe] };
          case C:
            return ee = { type: "Identity" }, oe = null, this._lookahead(0) === j ? oe = { type: "Identity" } : oe = this._parseProjectionRHS(me.Star), { type: "ValueProjection", children: [ee, oe] };
          case H:
            return this.led(D.type, { type: "Identity" });
          case ke:
            return this._parseMultiselectHash();
          case L:
            return ee = { type: L, children: [{ type: "Identity" }] }, oe = this._parseProjectionRHS(me.Flatten), { type: "Projection", children: [ee, oe] };
          case Me:
            return this._lookahead(0) === B || this._lookahead(0) === z ? (oe = this._parseIndexExpression(), this._projectIfSlice({ type: "Identity" }, oe)) : this._lookahead(0) === C && this._lookahead(1) === j ? (this._advance(), this._advance(), oe = this._parseProjectionRHS(me.Star), {
              type: "Projection",
              children: [{ type: "Identity" }, oe]
            }) : this._parseMultiselectList();
          case I:
            return { type: I };
          case Y:
            return ge = this.expression(me.Expref), { type: "ExpressionReference", children: [ge] };
          case fe:
            for (var Oe = []; this._lookahead(0) !== k; )
              this._lookahead(0) === I ? (ge = { type: I }, this._advance()) : ge = this.expression(0), Oe.push(ge);
            return this._match(k), Oe[0];
          default:
            this._errorToken(D);
        }
      },
      led: function(D, ee) {
        var oe;
        switch (D) {
          case ie:
            var ge = me.Dot;
            return this._lookahead(0) !== C ? (oe = this._parseDotRHS(ge), { type: "Subexpression", children: [ee, oe] }) : (this._advance(), oe = this._parseProjectionRHS(ge), { type: "ValueProjection", children: [ee, oe] });
          case R:
            return oe = this.expression(me.Pipe), { type: R, children: [ee, oe] };
          case Z:
            return oe = this.expression(me.Or), { type: "OrExpression", children: [ee, oe] };
          case ne:
            return oe = this.expression(me.And), { type: "AndExpression", children: [ee, oe] };
          case fe:
            for (var $e = ee.name, Oe = [], Ze, wt; this._lookahead(0) !== k; )
              this._lookahead(0) === I ? (Ze = { type: I }, this._advance()) : Ze = this.expression(0), this._lookahead(0) === N && this._match(N), Oe.push(Ze);
            return this._match(k), wt = { type: "Function", name: $e, children: Oe }, wt;
          case H:
            var kt = this.expression(0);
            return this._match(j), this._lookahead(0) === L ? oe = { type: "Identity" } : oe = this._parseProjectionRHS(me.Filter), { type: "FilterProjection", children: [ee, oe, kt] };
          case L:
            var En = { type: L, children: [ee] }, It = this._parseProjectionRHS(me.Flatten);
            return { type: "Projection", children: [En, It] };
          case V:
          case O:
          case M:
          case P:
          case F:
          case T:
            return this._parseComparator(ee, D);
          case Me:
            var Je = this._lookaheadToken(0);
            return Je.type === B || Je.type === z ? (oe = this._parseIndexExpression(), this._projectIfSlice(ee, oe)) : (this._match(C), this._match(j), oe = this._parseProjectionRHS(me.Star), { type: "Projection", children: [ee, oe] });
          default:
            this._errorToken(this._lookaheadToken(0));
        }
      },
      _match: function(D) {
        if (this._lookahead(0) === D)
          this._advance();
        else {
          var ee = this._lookaheadToken(0), oe = new Error("Expected " + D + ", got: " + ee.type);
          throw oe.name = "ParserError", oe;
        }
      },
      _errorToken: function(D) {
        var ee = new Error("Invalid token (" + D.type + '): "' + D.value + '"');
        throw ee.name = "ParserError", ee;
      },
      _parseIndexExpression: function() {
        if (this._lookahead(0) === z || this._lookahead(1) === z)
          return this._parseSliceExpression();
        var D = {
          type: "Index",
          value: this._lookaheadToken(0).value
        };
        return this._advance(), this._match(j), D;
      },
      _projectIfSlice: function(D, ee) {
        var oe = { type: "IndexExpression", children: [D, ee] };
        return ee.type === "Slice" ? {
          type: "Projection",
          children: [oe, this._parseProjectionRHS(me.Star)]
        } : oe;
      },
      _parseSliceExpression: function() {
        for (var D = [null, null, null], ee = 0, oe = this._lookahead(0); oe !== j && ee < 3; ) {
          if (oe === z)
            ee++, this._advance();
          else if (oe === B)
            D[ee] = this._lookaheadToken(0).value, this._advance();
          else {
            var ge = this._lookahead(0), $e = new Error("Syntax error, unexpected token: " + ge.value + "(" + ge.type + ")");
            throw $e.name = "Parsererror", $e;
          }
          oe = this._lookahead(0);
        }
        return this._match(j), {
          type: "Slice",
          children: D
        };
      },
      _parseComparator: function(D, ee) {
        var oe = this.expression(me[ee]);
        return { type: "Comparator", name: ee, children: [D, oe] };
      },
      _parseDotRHS: function(D) {
        var ee = this._lookahead(0), oe = [b, w, C];
        if (oe.indexOf(ee) >= 0)
          return this.expression(D);
        if (ee === Me)
          return this._match(Me), this._parseMultiselectList();
        if (ee === ke)
          return this._match(ke), this._parseMultiselectHash();
      },
      _parseProjectionRHS: function(D) {
        var ee;
        if (me[this._lookahead(0)] < 10)
          ee = { type: "Identity" };
        else if (this._lookahead(0) === Me)
          ee = this.expression(D);
        else if (this._lookahead(0) === H)
          ee = this.expression(D);
        else if (this._lookahead(0) === ie)
          this._match(ie), ee = this._parseDotRHS(D);
        else {
          var oe = this._lookaheadToken(0), ge = new Error("Sytanx error, unexpected token: " + oe.value + "(" + oe.type + ")");
          throw ge.name = "ParserError", ge;
        }
        return ee;
      },
      _parseMultiselectList: function() {
        for (var D = []; this._lookahead(0) !== j; ) {
          var ee = this.expression(0);
          if (D.push(ee), this._lookahead(0) === N && (this._match(N), this._lookahead(0) === j))
            throw new Error("Unexpected token Rbracket");
        }
        return this._match(j), { type: "MultiSelectList", children: D };
      },
      _parseMultiselectHash: function() {
        for (var D = [], ee = [b, w], oe, ge, $e, Oe; ; ) {
          if (oe = this._lookaheadToken(0), ee.indexOf(oe.type) < 0)
            throw new Error("Expecting an identifier token, got: " + oe.type);
          if (ge = oe.value, this._advance(), this._match(z), $e = this.expression(0), Oe = { type: "KeyValuePair", name: ge, value: $e }, D.push(Oe), this._lookahead(0) === N)
            this._match(N);
          else if (this._lookahead(0) === _) {
            this._match(_);
            break;
          }
        }
        return { type: "MultiSelectHash", children: D };
      }
    };
    function _n(D) {
      this.runtime = D;
    }
    _n.prototype = {
      search: function(D, ee) {
        return this.visit(D, ee);
      },
      visit: function(D, ee) {
        var oe, ge, $e, Oe, Ze, wt, kt, En, It, Je;
        switch (D.type) {
          case "Field":
            return ee !== null && r(ee) ? (wt = ee[D.name], wt === void 0 ? null : wt) : null;
          case "Subexpression":
            for ($e = this.visit(D.children[0], ee), Je = 1; Je < D.children.length; Je++)
              if ($e = this.visit(D.children[1], $e), $e === null)
                return null;
            return $e;
          case "IndexExpression":
            return kt = this.visit(D.children[0], ee), En = this.visit(D.children[1], kt), En;
          case "Index":
            if (!n(ee))
              return null;
            var yn = D.value;
            return yn < 0 && (yn = ee.length + yn), $e = ee[yn], $e === void 0 && ($e = null), $e;
          case "Slice":
            if (!n(ee))
              return null;
            var Zn = D.children.slice(0), jn = this.computeSliceParams(ee.length, Zn), Vn = jn[0], Wn = jn[1], Hn = jn[2];
            if ($e = [], Hn > 0)
              for (Je = Vn; Je < Wn; Je += Hn)
                $e.push(ee[Je]);
            else
              for (Je = Vn; Je > Wn; Je += Hn)
                $e.push(ee[Je]);
            return $e;
          case "Projection":
            var fn = this.visit(D.children[0], ee);
            if (!n(fn))
              return null;
            for (It = [], Je = 0; Je < fn.length; Je++)
              ge = this.visit(D.children[1], fn[Je]), ge !== null && It.push(ge);
            return It;
          case "ValueProjection":
            if (fn = this.visit(D.children[0], ee), !r(fn))
              return null;
            It = [];
            var ve = s(fn);
            for (Je = 0; Je < ve.length; Je++)
              ge = this.visit(D.children[1], ve[Je]), ge !== null && It.push(ge);
            return It;
          case "FilterProjection":
            if (fn = this.visit(D.children[0], ee), !n(fn))
              return null;
            var He = [], Rt = [];
            for (Je = 0; Je < fn.length; Je++)
              oe = this.visit(D.children[2], fn[Je]), o(oe) || He.push(fn[Je]);
            for (var qt = 0; qt < He.length; qt++)
              ge = this.visit(D.children[1], He[qt]), ge !== null && Rt.push(ge);
            return Rt;
          case "Comparator":
            switch (Oe = this.visit(D.children[0], ee), Ze = this.visit(D.children[1], ee), D.name) {
              case V:
                $e = i(Oe, Ze);
                break;
              case O:
                $e = !i(Oe, Ze);
                break;
              case M:
                $e = Oe > Ze;
                break;
              case P:
                $e = Oe >= Ze;
                break;
              case F:
                $e = Oe < Ze;
                break;
              case T:
                $e = Oe <= Ze;
                break;
              default:
                throw new Error("Unknown comparator: " + D.name);
            }
            return $e;
          case L:
            var zt = this.visit(D.children[0], ee);
            if (!n(zt))
              return null;
            var Ft = [];
            for (Je = 0; Je < zt.length; Je++)
              ge = zt[Je], n(ge) ? Ft.push.apply(Ft, ge) : Ft.push(ge);
            return Ft;
          case "Identity":
            return ee;
          case "MultiSelectList":
            if (ee === null)
              return null;
            for (It = [], Je = 0; Je < D.children.length; Je++)
              It.push(this.visit(D.children[Je], ee));
            return It;
          case "MultiSelectHash":
            if (ee === null)
              return null;
            It = {};
            var de;
            for (Je = 0; Je < D.children.length; Je++)
              de = D.children[Je], It[de.name] = this.visit(de.value, ee);
            return It;
          case "OrExpression":
            return oe = this.visit(D.children[0], ee), o(oe) && (oe = this.visit(D.children[1], ee)), oe;
          case "AndExpression":
            return Oe = this.visit(D.children[0], ee), o(Oe) === !0 ? Oe : this.visit(D.children[1], ee);
          case "NotExpression":
            return Oe = this.visit(D.children[0], ee), o(Oe);
          case "Literal":
            return D.value;
          case R:
            return kt = this.visit(D.children[0], ee), this.visit(D.children[1], kt);
          case I:
            return ee;
          case "Function":
            var Qe = [];
            for (Je = 0; Je < D.children.length; Je++)
              Qe.push(this.visit(D.children[Je], ee));
            return this.runtime.callFunction(D.name, Qe);
          case "ExpressionReference":
            var ze = D.children[0];
            return ze.jmespathType = Y, ze;
          default:
            throw new Error("Unknown node type: " + D.type);
        }
      },
      computeSliceParams: function(D, ee) {
        var oe = ee[0], ge = ee[1], $e = ee[2], Oe = [null, null, null];
        if ($e === null)
          $e = 1;
        else if ($e === 0) {
          var Ze = new Error("Invalid slice, step cannot be 0");
          throw Ze.name = "RuntimeError", Ze;
        }
        var wt = $e < 0;
        return oe === null ? oe = wt ? D - 1 : 0 : oe = this.capSliceRange(D, oe, $e), ge === null ? ge = wt ? -1 : D : ge = this.capSliceRange(D, ge, $e), Oe[0] = oe, Oe[1] = ge, Oe[2] = $e, Oe;
      },
      capSliceRange: function(D, ee, oe) {
        return ee < 0 ? (ee += D, ee < 0 && (ee = oe < 0 ? -1 : 0)) : ee >= D && (ee = oe < 0 ? D - 1 : D), ee;
      }
    };
    function Ut(D) {
      this._interpreter = D, this.functionTable = {
        // name: [function, <signature>]
        // The <signature> can be:
        //
        // {
        //   args: [[type1, type2], [type1, type2]],
        //   variadic: true|false
        // }
        //
        // Each arg in the arg list is a list of valid types
        // (if the function is overloaded and supports multiple
        // types.  If the type is "any" then no type checking
        // occurs on the argument.  Variadic is optional
        // and if not provided is assumed to be false.
        abs: { _func: this._functionAbs, _signature: [{ types: [l] }] },
        avg: { _func: this._functionAvg, _signature: [{ types: [g] }] },
        ceil: { _func: this._functionCeil, _signature: [{ types: [l] }] },
        contains: {
          _func: this._functionContains,
          _signature: [
            { types: [u, f] },
            { types: [c] }
          ]
        },
        ends_with: {
          _func: this._functionEndsWith,
          _signature: [{ types: [u] }, { types: [u] }]
        },
        floor: { _func: this._functionFloor, _signature: [{ types: [l] }] },
        length: {
          _func: this._functionLength,
          _signature: [{ types: [u, f, d] }]
        },
        map: {
          _func: this._functionMap,
          _signature: [{ types: [p] }, { types: [f] }]
        },
        max: {
          _func: this._functionMax,
          _signature: [{ types: [g, v] }]
        },
        merge: {
          _func: this._functionMerge,
          _signature: [{ types: [d], variadic: !0 }]
        },
        max_by: {
          _func: this._functionMaxBy,
          _signature: [{ types: [f] }, { types: [p] }]
        },
        sum: { _func: this._functionSum, _signature: [{ types: [g] }] },
        starts_with: {
          _func: this._functionStartsWith,
          _signature: [{ types: [u] }, { types: [u] }]
        },
        min: {
          _func: this._functionMin,
          _signature: [{ types: [g, v] }]
        },
        min_by: {
          _func: this._functionMinBy,
          _signature: [{ types: [f] }, { types: [p] }]
        },
        type: { _func: this._functionType, _signature: [{ types: [c] }] },
        keys: { _func: this._functionKeys, _signature: [{ types: [d] }] },
        values: { _func: this._functionValues, _signature: [{ types: [d] }] },
        sort: { _func: this._functionSort, _signature: [{ types: [v, g] }] },
        sort_by: {
          _func: this._functionSortBy,
          _signature: [{ types: [f] }, { types: [p] }]
        },
        join: {
          _func: this._functionJoin,
          _signature: [
            { types: [u] },
            { types: [v] }
          ]
        },
        reverse: {
          _func: this._functionReverse,
          _signature: [{ types: [u, f] }]
        },
        to_array: { _func: this._functionToArray, _signature: [{ types: [c] }] },
        to_string: { _func: this._functionToString, _signature: [{ types: [c] }] },
        to_number: { _func: this._functionToNumber, _signature: [{ types: [c] }] },
        not_null: {
          _func: this._functionNotNull,
          _signature: [{ types: [c], variadic: !0 }]
        }
      };
    }
    Ut.prototype = {
      callFunction: function(D, ee) {
        var oe = this.functionTable[D];
        if (oe === void 0)
          throw new Error("Unknown function: " + D + "()");
        return this._validateArgs(D, ee, oe._signature), oe._func.call(this, ee);
      },
      _validateArgs: function(D, ee, oe) {
        var ge;
        if (oe[oe.length - 1].variadic) {
          if (ee.length < oe.length)
            throw ge = oe.length === 1 ? " argument" : " arguments", new Error("ArgumentError: " + D + "() takes at least" + oe.length + ge + " but received " + ee.length);
        } else if (ee.length !== oe.length)
          throw ge = oe.length === 1 ? " argument" : " arguments", new Error("ArgumentError: " + D + "() takes " + oe.length + ge + " but received " + ee.length);
        for (var $e, Oe, Ze, wt = 0; wt < oe.length; wt++) {
          Ze = !1, $e = oe[wt].types, Oe = this._getTypeName(ee[wt]);
          for (var kt = 0; kt < $e.length; kt++)
            if (this._typeMatches(Oe, $e[kt], ee[wt])) {
              Ze = !0;
              break;
            }
          if (!Ze) {
            var En = $e.map(function(It) {
              return y[It];
            }).join(",");
            throw new Error("TypeError: " + D + "() expected argument " + (wt + 1) + " to be type " + En + " but received type " + y[Oe] + " instead.");
          }
        }
      },
      _typeMatches: function(D, ee, oe) {
        if (ee === c)
          return !0;
        if (ee === v || ee === g || ee === f) {
          if (ee === f)
            return D === f;
          if (D === f) {
            var ge;
            ee === g ? ge = l : ee === v && (ge = u);
            for (var $e = 0; $e < oe.length; $e++)
              if (!this._typeMatches(
                this._getTypeName(oe[$e]),
                ge,
                oe[$e]
              ))
                return !1;
            return !0;
          }
        } else
          return D === ee;
      },
      _getTypeName: function(D) {
        switch (Object.prototype.toString.call(D)) {
          case "[object String]":
            return u;
          case "[object Number]":
            return l;
          case "[object Array]":
            return f;
          case "[object Boolean]":
            return h;
          case "[object Null]":
            return m;
          case "[object Object]":
            return D.jmespathType === Y ? p : d;
        }
      },
      _functionStartsWith: function(D) {
        return D[0].lastIndexOf(D[1]) === 0;
      },
      _functionEndsWith: function(D) {
        var ee = D[0], oe = D[1];
        return ee.indexOf(oe, ee.length - oe.length) !== -1;
      },
      _functionReverse: function(D) {
        var ee = this._getTypeName(D[0]);
        if (ee === u) {
          for (var oe = D[0], ge = "", $e = oe.length - 1; $e >= 0; $e--)
            ge += oe[$e];
          return ge;
        } else {
          var Oe = D[0].slice(0);
          return Oe.reverse(), Oe;
        }
      },
      _functionAbs: function(D) {
        return Math.abs(D[0]);
      },
      _functionCeil: function(D) {
        return Math.ceil(D[0]);
      },
      _functionAvg: function(D) {
        for (var ee = 0, oe = D[0], ge = 0; ge < oe.length; ge++)
          ee += oe[ge];
        return ee / oe.length;
      },
      _functionContains: function(D) {
        return D[0].indexOf(D[1]) >= 0;
      },
      _functionFloor: function(D) {
        return Math.floor(D[0]);
      },
      _functionLength: function(D) {
        return r(D[0]) ? Object.keys(D[0]).length : D[0].length;
      },
      _functionMap: function(D) {
        for (var ee = [], oe = this._interpreter, ge = D[0], $e = D[1], Oe = 0; Oe < $e.length; Oe++)
          ee.push(oe.visit(ge, $e[Oe]));
        return ee;
      },
      _functionMerge: function(D) {
        for (var ee = {}, oe = 0; oe < D.length; oe++) {
          var ge = D[oe];
          for (var $e in ge)
            ee[$e] = ge[$e];
        }
        return ee;
      },
      _functionMax: function(D) {
        if (D[0].length > 0) {
          var ee = this._getTypeName(D[0][0]);
          if (ee === l)
            return Math.max.apply(Math, D[0]);
          for (var oe = D[0], ge = oe[0], $e = 1; $e < oe.length; $e++)
            ge.localeCompare(oe[$e]) < 0 && (ge = oe[$e]);
          return ge;
        } else
          return null;
      },
      _functionMin: function(D) {
        if (D[0].length > 0) {
          var ee = this._getTypeName(D[0][0]);
          if (ee === l)
            return Math.min.apply(Math, D[0]);
          for (var oe = D[0], ge = oe[0], $e = 1; $e < oe.length; $e++)
            oe[$e].localeCompare(ge) < 0 && (ge = oe[$e]);
          return ge;
        } else
          return null;
      },
      _functionSum: function(D) {
        for (var ee = 0, oe = D[0], ge = 0; ge < oe.length; ge++)
          ee += oe[ge];
        return ee;
      },
      _functionType: function(D) {
        switch (this._getTypeName(D[0])) {
          case l:
            return "number";
          case u:
            return "string";
          case f:
            return "array";
          case d:
            return "object";
          case h:
            return "boolean";
          case p:
            return "expref";
          case m:
            return "null";
        }
      },
      _functionKeys: function(D) {
        return Object.keys(D[0]);
      },
      _functionValues: function(D) {
        for (var ee = D[0], oe = Object.keys(ee), ge = [], $e = 0; $e < oe.length; $e++)
          ge.push(ee[oe[$e]]);
        return ge;
      },
      _functionJoin: function(D) {
        var ee = D[0], oe = D[1];
        return oe.join(ee);
      },
      _functionToArray: function(D) {
        return this._getTypeName(D[0]) === f ? D[0] : [D[0]];
      },
      _functionToString: function(D) {
        return this._getTypeName(D[0]) === u ? D[0] : JSON.stringify(D[0]);
      },
      _functionToNumber: function(D) {
        var ee = this._getTypeName(D[0]), oe;
        return ee === l ? D[0] : ee === u && (oe = +D[0], !isNaN(oe)) ? oe : null;
      },
      _functionNotNull: function(D) {
        for (var ee = 0; ee < D.length; ee++)
          if (this._getTypeName(D[ee]) !== m)
            return D[ee];
        return null;
      },
      _functionSort: function(D) {
        var ee = D[0].slice(0);
        return ee.sort(), ee;
      },
      _functionSortBy: function(D) {
        var ee = D[0].slice(0);
        if (ee.length === 0)
          return ee;
        var oe = this._interpreter, ge = D[1], $e = this._getTypeName(
          oe.visit(ge, ee[0])
        );
        if ([l, u].indexOf($e) < 0)
          throw new Error("TypeError");
        for (var Oe = this, Ze = [], wt = 0; wt < ee.length; wt++)
          Ze.push([wt, ee[wt]]);
        Ze.sort(function(En, It) {
          var Je = oe.visit(ge, En[1]), yn = oe.visit(ge, It[1]);
          if (Oe._getTypeName(Je) !== $e)
            throw new Error(
              "TypeError: expected " + $e + ", received " + Oe._getTypeName(Je)
            );
          if (Oe._getTypeName(yn) !== $e)
            throw new Error(
              "TypeError: expected " + $e + ", received " + Oe._getTypeName(yn)
            );
          return Je > yn ? 1 : Je < yn ? -1 : En[0] - It[0];
        });
        for (var kt = 0; kt < Ze.length; kt++)
          ee[kt] = Ze[kt][1];
        return ee;
      },
      _functionMaxBy: function(D) {
        for (var ee = D[1], oe = D[0], ge = this.createKeyFunction(ee, [l, u]), $e = -1 / 0, Oe, Ze, wt = 0; wt < oe.length; wt++)
          Ze = ge(oe[wt]), Ze > $e && ($e = Ze, Oe = oe[wt]);
        return Oe;
      },
      _functionMinBy: function(D) {
        for (var ee = D[1], oe = D[0], ge = this.createKeyFunction(ee, [l, u]), $e = 1 / 0, Oe, Ze, wt = 0; wt < oe.length; wt++)
          Ze = ge(oe[wt]), Ze < $e && ($e = Ze, Oe = oe[wt]);
        return Oe;
      },
      createKeyFunction: function(D, ee) {
        var oe = this, ge = this._interpreter, $e = function(Oe) {
          var Ze = ge.visit(D, Oe);
          if (ee.indexOf(oe._getTypeName(Ze)) < 0) {
            var wt = "TypeError: expected one of " + ee + ", received " + oe._getTypeName(Ze);
            throw new Error(wt);
          }
          return Ze;
        };
        return $e;
      }
    };
    function un(D) {
      var ee = new Ct(), oe = ee.parse(D);
      return oe;
    }
    function Xn(D) {
      var ee = new Ge();
      return ee.tokenize(D);
    }
    function kn(D, ee) {
      var oe = new Ct(), ge = new Ut(), $e = new _n(ge);
      ge._interpreter = $e;
      var Oe = oe.parse(ee);
      return $e.search(Oe, D);
    }
    e.tokenize = Xn, e.compile = un, e.search = kn, e.strictDeepEqual = i;
  })(t);
})(jM);
const Vte = /* @__PURE__ */ OS(jM);
var Wte = ["mainAxis", "crossAxis", "fallbackPlacements", "fallbackStrategy", "fallbackAxisSideDirection", "flipAlignment"], Hte = ["mainAxis", "crossAxis", "limiter"];
function $M(t, e) {
  if (t == null)
    return {};
  var n, r, i = function(s, a) {
    if (s == null)
      return {};
    var l, c, u = {}, f = Object.keys(s);
    for (c = 0; c < f.length; c++)
      l = f[c], a.indexOf(l) >= 0 || (u[l] = s[l]);
    return u;
  }(t, e);
  if (Object.getOwnPropertySymbols) {
    var o = Object.getOwnPropertySymbols(t);
    for (r = 0; r < o.length; r++)
      n = o[r], e.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(t, n) && (i[n] = t[n]);
  }
  return i;
}
function Sf(t, e) {
  var n = typeof Symbol < "u" && t[Symbol.iterator] || t["@@iterator"];
  if (!n) {
    if (Array.isArray(t) || (n = Mm(t)) || e && t && typeof t.length == "number") {
      n && (t = n);
      var r = 0, i = function() {
      };
      return { s: i, n: function() {
        return r >= t.length ? { done: !0 } : { done: !1, value: t[r++] };
      }, e: function(l) {
        throw l;
      }, f: i };
    }
    throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
  }
  var o, s = !0, a = !1;
  return { s: function() {
    n = n.call(t);
  }, n: function() {
    var l = n.next();
    return s = l.done, l;
  }, e: function(l) {
    a = !0, o = l;
  }, f: function() {
    try {
      s || n.return == null || n.return();
    } finally {
      if (a)
        throw o;
    }
  } };
}
function Ne() {
  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
  Ne = function() {
    return e;
  };
  var t, e = {}, n = Object.prototype, r = n.hasOwnProperty, i = Object.defineProperty || function(ne, V, M) {
    ne[V] = M.value;
  }, o = typeof Symbol == "function" ? Symbol : {}, s = o.iterator || "@@iterator", a = o.asyncIterator || "@@asyncIterator", l = o.toStringTag || "@@toStringTag";
  function c(ne, V, M) {
    return Object.defineProperty(ne, V, { value: M, enumerable: !0, configurable: !0, writable: !0 }), ne[V];
  }
  try {
    c({}, "");
  } catch {
    c = function(V, M, F) {
      return V[M] = F;
    };
  }
  function u(ne, V, M, F) {
    var P = V && V.prototype instanceof v ? V : v, T = Object.create(P.prototype), O = new R(F || []);
    return i(T, "_invoke", { value: _(ne, M, O) }), T;
  }
  function f(ne, V, M) {
    try {
      return { type: "normal", arg: ne.call(V, M) };
    } catch (F) {
      return { type: "throw", arg: F };
    }
  }
  e.wrap = u;
  var d = "suspendedStart", h = "suspendedYield", p = "executing", m = "completed", g = {};
  function v() {
  }
  function y() {
  }
  function x() {
  }
  var b = {};
  c(b, s, function() {
    return this;
  });
  var w = Object.getPrototypeOf, j = w && w(w(Z([])));
  j && j !== n && r.call(j, s) && (b = j);
  var k = x.prototype = v.prototype = Object.create(b);
  function N(ne) {
    ["next", "throw", "return"].forEach(function(V) {
      c(ne, V, function(M) {
        return this._invoke(V, M);
      });
    });
  }
  function z(ne, V) {
    function M(P, T, O, L) {
      var C = f(ne[P], ne, T);
      if (C.type !== "throw") {
        var H = C.arg, ie = H.value;
        return ie && Or(ie) == "object" && r.call(ie, "__await") ? V.resolve(ie.__await).then(function(te) {
          M("next", te, O, L);
        }, function(te) {
          M("throw", te, O, L);
        }) : V.resolve(ie).then(function(te) {
          H.value = te, O(H);
        }, function(te) {
          return M("throw", te, O, L);
        });
      }
      L(C.arg);
    }
    var F;
    i(this, "_invoke", { value: function(P, T) {
      function O() {
        return new V(function(L, C) {
          M(P, T, L, C);
        });
      }
      return F = F ? F.then(O, O) : O();
    } });
  }
  function _(ne, V, M) {
    var F = d;
    return function(P, T) {
      if (F === p)
        throw new Error("Generator is already running");
      if (F === m) {
        if (P === "throw")
          throw T;
        return { value: t, done: !0 };
      }
      for (M.method = P, M.arg = T; ; ) {
        var O = M.delegate;
        if (O) {
          var L = B(O, M);
          if (L) {
            if (L === g)
              continue;
            return L;
          }
        }
        if (M.method === "next")
          M.sent = M._sent = M.arg;
        else if (M.method === "throw") {
          if (F === d)
            throw F = m, M.arg;
          M.dispatchException(M.arg);
        } else
          M.method === "return" && M.abrupt("return", M.arg);
        F = p;
        var C = f(ne, V, M);
        if (C.type === "normal") {
          if (F = M.done ? m : h, C.arg === g)
            continue;
          return { value: C.arg, done: M.done };
        }
        C.type === "throw" && (F = m, M.method = "throw", M.arg = C.arg);
      }
    };
  }
  function B(ne, V) {
    var M = V.method, F = ne.iterator[M];
    if (F === t)
      return V.delegate = null, M === "throw" && ne.iterator.return && (V.method = "return", V.arg = t, B(ne, V), V.method === "throw") || M !== "return" && (V.method = "throw", V.arg = new TypeError("The iterator does not provide a '" + M + "' method")), g;
    var P = f(F, ne.iterator, V.arg);
    if (P.type === "throw")
      return V.method = "throw", V.arg = P.arg, V.delegate = null, g;
    var T = P.arg;
    return T ? T.done ? (V[ne.resultName] = T.value, V.next = ne.nextLoc, V.method !== "return" && (V.method = "next", V.arg = t), V.delegate = null, g) : T : (V.method = "throw", V.arg = new TypeError("iterator result is not an object"), V.delegate = null, g);
  }
  function I(ne) {
    var V = { tryLoc: ne[0] };
    1 in ne && (V.catchLoc = ne[1]), 2 in ne && (V.finallyLoc = ne[2], V.afterLoc = ne[3]), this.tryEntries.push(V);
  }
  function Y(ne) {
    var V = ne.completion || {};
    V.type = "normal", delete V.arg, ne.completion = V;
  }
  function R(ne) {
    this.tryEntries = [{ tryLoc: "root" }], ne.forEach(I, this), this.reset(!0);
  }
  function Z(ne) {
    if (ne || ne === "") {
      var V = ne[s];
      if (V)
        return V.call(ne);
      if (typeof ne.next == "function")
        return ne;
      if (!isNaN(ne.length)) {
        var M = -1, F = function P() {
          for (; ++M < ne.length; )
            if (r.call(ne, M))
              return P.value = ne[M], P.done = !1, P;
          return P.value = t, P.done = !0, P;
        };
        return F.next = F;
      }
    }
    throw new TypeError(Or(ne) + " is not iterable");
  }
  return y.prototype = x, i(k, "constructor", { value: x, configurable: !0 }), i(x, "constructor", { value: y, configurable: !0 }), y.displayName = c(x, l, "GeneratorFunction"), e.isGeneratorFunction = function(ne) {
    var V = typeof ne == "function" && ne.constructor;
    return !!V && (V === y || (V.displayName || V.name) === "GeneratorFunction");
  }, e.mark = function(ne) {
    return Object.setPrototypeOf ? Object.setPrototypeOf(ne, x) : (ne.__proto__ = x, c(ne, l, "GeneratorFunction")), ne.prototype = Object.create(k), ne;
  }, e.awrap = function(ne) {
    return { __await: ne };
  }, N(z.prototype), c(z.prototype, a, function() {
    return this;
  }), e.AsyncIterator = z, e.async = function(ne, V, M, F, P) {
    P === void 0 && (P = Promise);
    var T = new z(u(ne, V, M, F), P);
    return e.isGeneratorFunction(V) ? T : T.next().then(function(O) {
      return O.done ? O.value : T.next();
    });
  }, N(k), c(k, l, "Generator"), c(k, s, function() {
    return this;
  }), c(k, "toString", function() {
    return "[object Generator]";
  }), e.keys = function(ne) {
    var V = Object(ne), M = [];
    for (var F in V)
      M.push(F);
    return M.reverse(), function P() {
      for (; M.length; ) {
        var T = M.pop();
        if (T in V)
          return P.value = T, P.done = !1, P;
      }
      return P.done = !0, P;
    };
  }, e.values = Z, R.prototype = { constructor: R, reset: function(ne) {
    if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(Y), !ne)
      for (var V in this)
        V.charAt(0) === "t" && r.call(this, V) && !isNaN(+V.slice(1)) && (this[V] = t);
  }, stop: function() {
    this.done = !0;
    var ne = this.tryEntries[0].completion;
    if (ne.type === "throw")
      throw ne.arg;
    return this.rval;
  }, dispatchException: function(ne) {
    if (this.done)
      throw ne;
    var V = this;
    function M(C, H) {
      return T.type = "throw", T.arg = ne, V.next = C, H && (V.method = "next", V.arg = t), !!H;
    }
    for (var F = this.tryEntries.length - 1; F >= 0; --F) {
      var P = this.tryEntries[F], T = P.completion;
      if (P.tryLoc === "root")
        return M("end");
      if (P.tryLoc <= this.prev) {
        var O = r.call(P, "catchLoc"), L = r.call(P, "finallyLoc");
        if (O && L) {
          if (this.prev < P.catchLoc)
            return M(P.catchLoc, !0);
          if (this.prev < P.finallyLoc)
            return M(P.finallyLoc);
        } else if (O) {
          if (this.prev < P.catchLoc)
            return M(P.catchLoc, !0);
        } else {
          if (!L)
            throw new Error("try statement without catch or finally");
          if (this.prev < P.finallyLoc)
            return M(P.finallyLoc);
        }
      }
    }
  }, abrupt: function(ne, V) {
    for (var M = this.tryEntries.length - 1; M >= 0; --M) {
      var F = this.tryEntries[M];
      if (F.tryLoc <= this.prev && r.call(F, "finallyLoc") && this.prev < F.finallyLoc) {
        var P = F;
        break;
      }
    }
    P && (ne === "break" || ne === "continue") && P.tryLoc <= V && V <= P.finallyLoc && (P = null);
    var T = P ? P.completion : {};
    return T.type = ne, T.arg = V, P ? (this.method = "next", this.next = P.finallyLoc, g) : this.complete(T);
  }, complete: function(ne, V) {
    if (ne.type === "throw")
      throw ne.arg;
    return ne.type === "break" || ne.type === "continue" ? this.next = ne.arg : ne.type === "return" ? (this.rval = this.arg = ne.arg, this.method = "return", this.next = "end") : ne.type === "normal" && V && (this.next = V), g;
  }, finish: function(ne) {
    for (var V = this.tryEntries.length - 1; V >= 0; --V) {
      var M = this.tryEntries[V];
      if (M.finallyLoc === ne)
        return this.complete(M.completion, M.afterLoc), Y(M), g;
    }
  }, catch: function(ne) {
    for (var V = this.tryEntries.length - 1; V >= 0; --V) {
      var M = this.tryEntries[V];
      if (M.tryLoc === ne) {
        var F = M.completion;
        if (F.type === "throw") {
          var P = F.arg;
          Y(M);
        }
        return P;
      }
    }
    throw new Error("illegal catch attempt");
  }, delegateYield: function(ne, V, M) {
    return this.delegate = { iterator: Z(ne), resultName: V, nextLoc: M }, this.method === "next" && (this.arg = t), g;
  } }, e;
}
function Lj(t, e, n, r, i, o, s) {
  try {
    var a = t[o](s), l = a.value;
  } catch (c) {
    return void n(c);
  }
  a.done ? e(l) : Promise.resolve(l).then(r, i);
}
function Dt(t) {
  return function() {
    var e = this, n = arguments;
    return new Promise(function(r, i) {
      var o = t.apply(e, n);
      function s(l) {
        Lj(o, r, i, s, a, "next", l);
      }
      function a(l) {
        Lj(o, r, i, s, a, "throw", l);
      }
      s(void 0);
    });
  };
}
function Mt(t, e) {
  return SM(t) || function(n, r) {
    var i = n == null ? null : typeof Symbol < "u" && n[Symbol.iterator] || n["@@iterator"];
    if (i != null) {
      var o, s, a, l, c = [], u = !0, f = !1;
      try {
        if (a = (i = i.call(n)).next, r === 0) {
          if (Object(i) !== i)
            return;
          u = !1;
        } else
          for (; !(u = (o = a.call(i)).done) && (c.push(o.value), c.length !== r); u = !0)
            ;
      } catch (d) {
        f = !0, s = d;
      } finally {
        try {
          if (!u && i.return != null && (l = i.return(), Object(l) !== l))
            return;
        } finally {
          if (f)
            throw s;
        }
      }
      return c;
    }
  }(t, e) || Mm(t, e) || kM();
}
function kM() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function SM(t) {
  if (Array.isArray(t))
    return t;
}
function st(t, e, n) {
  return e = vp(e), function(r, i) {
    if (i && (Or(i) === "object" || typeof i == "function"))
      return i;
    if (i !== void 0)
      throw new TypeError("Derived constructors may only return object or undefined");
    return rt(r);
  }(t, CM() ? Reflect.construct(e, n || [], vp(t).constructor) : e.apply(t, n));
}
function CM() {
  try {
    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    }));
  } catch {
  }
  return (CM = function() {
    return !!t;
  })();
}
function vp(t) {
  return vp = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(e) {
    return e.__proto__ || Object.getPrototypeOf(e);
  }, vp(t);
}
function rt(t) {
  if (t === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return t;
}
function at(t, e) {
  if (typeof e != "function" && e !== null)
    throw new TypeError("Super expression must either be null or a function");
  t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && y0(t, e);
}
function y0(t, e) {
  return y0 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, r) {
    return n.__proto__ = r, n;
  }, y0(t, e);
}
function Bj(t, e) {
  var n = Object.keys(t);
  if (Object.getOwnPropertySymbols) {
    var r = Object.getOwnPropertySymbols(t);
    e && (r = r.filter(function(i) {
      return Object.getOwnPropertyDescriptor(t, i).enumerable;
    })), n.push.apply(n, r);
  }
  return n;
}
function he(t) {
  for (var e = 1; e < arguments.length; e++) {
    var n = arguments[e] != null ? arguments[e] : {};
    e % 2 ? Bj(Object(n), !0).forEach(function(r) {
      eo(t, r, n[r]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Bj(Object(n)).forEach(function(r) {
      Object.defineProperty(t, r, Object.getOwnPropertyDescriptor(n, r));
    });
  }
  return t;
}
function it(t, e) {
  if (!(t instanceof e))
    throw new TypeError("Cannot call a class as a function");
}
function qj(t, e) {
  for (var n = 0; n < e.length; n++) {
    var r = e[n];
    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, _M(r.key), r);
  }
}
function ot(t, e, n) {
  return e && qj(t.prototype, e), n && qj(t, n), Object.defineProperty(t, "prototype", { writable: !1 }), t;
}
function eo(t, e, n) {
  return (e = _M(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t;
}
function _M(t) {
  var e = function(n, r) {
    if (Or(n) != "object" || !n)
      return n;
    var i = n[Symbol.toPrimitive];
    if (i !== void 0) {
      var o = i.call(n, r || "default");
      if (Or(o) != "object")
        return o;
      throw new TypeError("@@toPrimitive must return a primitive value.");
    }
    return (r === "string" ? String : Number)(n);
  }(t, "string");
  return Or(e) == "symbol" ? e : String(e);
}
function Wt(t) {
  return function(e) {
    if (Array.isArray(e))
      return b0(e);
  }(t) || OM(t) || Mm(t) || function() {
    throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
  }();
}
function Mm(t, e) {
  if (t) {
    if (typeof t == "string")
      return b0(t, e);
    var n = Object.prototype.toString.call(t).slice(8, -1);
    return n === "Object" && t.constructor && (n = t.constructor.name), n === "Map" || n === "Set" ? Array.from(t) : n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? b0(t, e) : void 0;
  }
}
function OM(t) {
  if (typeof Symbol < "u" && t[Symbol.iterator] != null || t["@@iterator"] != null)
    return Array.from(t);
}
function b0(t, e) {
  (e == null || e > t.length) && (e = t.length);
  for (var n = 0, r = new Array(e); n < e; n++)
    r[n] = t[n];
  return r;
}
function Or(t) {
  return Or = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(e) {
    return typeof e;
  } : function(e) {
    return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
  }, Or(t);
}
function Te() {
}
var AM = function(t) {
  return t;
};
function Bi(t, e) {
  for (var n in e)
    t[n] = e[n];
  return t;
}
function EM(t) {
  return t();
}
function zj() {
  return /* @__PURE__ */ Object.create(null);
}
function Dn(t) {
  t.forEach(EM);
}
function di(t) {
  return typeof t == "function";
}
function Nr(t, e) {
  return t != t ? e == e : t !== e || t && Or(t) === "object" || typeof t == "function";
}
function Lt(t, e) {
  return t != t ? e == e : t !== e;
}
function yr(t, e, n, r) {
  if (t) {
    var i = MM(t, e, n, r);
    return t[0](i);
  }
}
function MM(t, e, n, r) {
  return t[1] && r ? Bi(n.ctx.slice(), t[1](r(e))) : n.ctx;
}
function br(t, e, n, r) {
  if (t[2] && r) {
    var i = t[2](r(n));
    if (e.dirty === void 0)
      return i;
    if (Or(i) === "object") {
      for (var o = [], s = Math.max(e.dirty.length, i.length), a = 0; a < s; a += 1)
        o[a] = e.dirty[a] | i[a];
      return o;
    }
    return e.dirty | i;
  }
  return e.dirty;
}
function xr(t, e, n, r, i, o) {
  if (i) {
    var s = MM(e, n, r, o);
    t.p(s, i);
  }
}
function wr(t) {
  if (t.ctx.length > 32) {
    for (var e = [], n = t.ctx.length / 32, r = 0; r < n; r++)
      e[r] = -1;
    return e;
  }
  return -1;
}
function TM(t) {
  var e = {};
  for (var n in t)
    n[0] !== "$" && (e[n] = t[n]);
  return e;
}
function yp(t, e) {
  var n = {};
  for (var r in e = new Set(e), t)
    e.has(r) || r[0] === "$" || (n[r] = t[r]);
  return n;
}
function ir(t) {
  return t ?? "";
}
function Wr(t) {
  return t && di(t.destroy) ? t.destroy : Te;
}
var RM = typeof window < "u", Ute = RM ? function() {
  return window.performance.now();
} : function() {
  return Date.now();
}, Pb = RM ? function(t) {
  return requestAnimationFrame(t);
} : Te, Yu = /* @__PURE__ */ new Set();
function PM(t) {
  Yu.forEach(function(e) {
    e.c(t) || (Yu.delete(e), e.f());
  }), Yu.size !== 0 && Pb(PM);
}
var Ib = typeof window < "u" ? window : typeof globalThis < "u" ? globalThis : global;
function E(t, e) {
  t.appendChild(e);
}
function Tt(t, e, n) {
  var r = Nb(t);
  if (!r.getElementById(e)) {
    var i = U("style");
    i.id = e, i.textContent = n, IM(r, i);
  }
}
function Nb(t) {
  if (!t)
    return document;
  var e = t.getRootNode ? t.getRootNode() : t.ownerDocument;
  return e && e.host ? e : t.ownerDocument;
}
function Jte(t) {
  var e = U("style");
  return e.textContent = "/* empty */", IM(Nb(t), e), e.sheet;
}
function IM(t, e) {
  return E(t.head || t, e), e.sheet;
}
function X(t, e, n) {
  t.insertBefore(e, n || null);
}
function Q(t) {
  t.parentNode && t.parentNode.removeChild(t);
}
function Sr(t, e) {
  for (var n = 0; n < t.length; n += 1)
    t[n] && t[n].d(e);
}
function U(t) {
  return document.createElement(t);
}
function vs(t) {
  return document.createElementNS("http://www.w3.org/2000/svg", t);
}
function Le(t) {
  return document.createTextNode(t);
}
function le() {
  return Le(" ");
}
function wn() {
  return Le("");
}
function _e(t, e, n, r) {
  return t.addEventListener(e, n, r), function() {
    return t.removeEventListener(e, n, r);
  };
}
function Sl(t) {
  return function(e) {
    return e.preventDefault(), t.call(this, e);
  };
}
function Ho(t) {
  return function(e) {
    return e.stopPropagation(), t.call(this, e);
  };
}
function $(t, e, n) {
  n == null ? t.removeAttribute(e) : t.getAttribute(e) !== n && t.setAttribute(e, n);
}
var Gte = ["width", "height"];
function Fj(t, e) {
  var n = Object.getOwnPropertyDescriptors(t.__proto__);
  for (var r in e)
    e[r] == null ? t.removeAttribute(r) : r === "style" ? t.style.cssText = e[r] : r === "__value" ? t.value = t[r] = e[r] : n[r] && n[r].set && Gte.indexOf(r) === -1 ? t[r] = e[r] : $(t, r, e[r]);
}
function Dc(t, e) {
  for (var n in e)
    $(t, n, e[n]);
}
function yt(t, e) {
  e = "" + e, t.data !== e && (t.data = e);
}
function ys(t, e) {
  t.value = e ?? "";
}
function hi(t, e, n, r) {
  n == null ? t.style.removeProperty(e) : t.style.setProperty(e, n, r ? "important" : "");
}
function Vj(t, e, n) {
  for (var r = 0; r < t.options.length; r += 1) {
    var i = t.options[r];
    if (i.__value === e)
      return void (i.selected = !0);
  }
  n && e === void 0 || (t.selectedIndex = -1);
}
function Se(t, e, n) {
  t.classList.toggle(e, !!n);
}
function NM(t, e) {
  var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, r = n.bubbles, i = r !== void 0 && r, o = n.cancelable;
  return new CustomEvent(t, { detail: e, bubbles: i, cancelable: o !== void 0 && o });
}
function bs(t, e) {
  return new t(e);
}
var Cf, bp = /* @__PURE__ */ new Map(), x0 = 0;
function Wj(t, e, n, r, i, o, s) {
  for (var a = arguments.length > 7 && arguments[7] !== void 0 ? arguments[7] : 0, l = 16.666 / r, c = `{
`, u = 0; u <= 1; u += l) {
    var f = e + (n - e) * o(u);
    c += 100 * u + "%{".concat(s(f, 1 - f), `}
`);
  }
  var d = c + "100% {".concat(s(n, 1 - n), `}
}`), h = "__svelte_".concat(function(x) {
    for (var b = 5381, w = x.length; w--; )
      b = (b << 5) - b ^ x.charCodeAt(w);
    return b >>> 0;
  }(d), "_").concat(a), p = Nb(t), m = bp.get(p) || function(x, b) {
    var w = { stylesheet: Jte(b), rules: {} };
    return bp.set(x, w), w;
  }(p, t), g = m.stylesheet, v = m.rules;
  v[h] || (v[h] = !0, g.insertRule("@keyframes ".concat(h, " ").concat(d), g.cssRules.length));
  var y = t.style.animation || "";
  return t.style.animation = "".concat(y ? "".concat(y, ", ") : "").concat(h, " ").concat(r, "ms linear ").concat(i, "ms 1 both"), x0 += 1, h;
}
function Kte(t, e) {
  var n = (t.style.animation || "").split(", "), r = n.filter(e ? function(o) {
    return o.indexOf(e) < 0;
  } : function(o) {
    return o.indexOf("__svelte") === -1;
  }), i = n.length - r.length;
  i && (t.style.animation = r.join(", "), (x0 -= i) || Pb(function() {
    x0 || (bp.forEach(function(o) {
      var s = o.stylesheet.ownerNode;
      s && Q(s);
    }), bp.clear());
  }));
}
function Qu(t) {
  Cf = t;
}
function cu() {
  if (!Cf)
    throw new Error("Function called outside component initialization");
  return Cf;
}
function $o(t) {
  cu().$$.on_mount.push(t);
}
function to(t) {
  cu().$$.on_destroy.push(t);
}
function DM() {
  var t = cu();
  return function(e, n) {
    var r = (arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}).cancelable, i = r !== void 0 && r, o = t.$$.callbacks[e];
    if (o) {
      var s = NM(e, n, { cancelable: i });
      return o.slice().forEach(function(a) {
        a.call(t, s);
      }), !s.defaultPrevented;
    }
    return !0;
  };
}
function LM(t, e) {
  return cu().$$.context.set(t, e), e;
}
function Hr(t) {
  return cu().$$.context.get(t);
}
function Gd(t, e) {
  var n = this, r = t.$$.callbacks[e.type];
  r && r.slice().forEach(function(i) {
    return i.call(n, e);
  });
}
var ec = [], tn = [], kc = [], w0 = [], BM = Promise.resolve(), j0 = !1;
function qM() {
  j0 || (j0 = !0, BM.then(zM));
}
function mr() {
  return qM(), BM;
}
function Cl(t) {
  kc.push(t);
}
function Ro(t) {
  w0.push(t);
}
var Kd, Rg = /* @__PURE__ */ new Set(), Jl = 0;
function zM() {
  if (Jl === 0) {
    var t = Cf;
    do {
      try {
        for (; Jl < ec.length; ) {
          var e = ec[Jl];
          Jl++, Qu(e), Yte(e.$$);
        }
      } catch (i) {
        throw ec.length = 0, Jl = 0, i;
      }
      for (Qu(null), ec.length = 0, Jl = 0; tn.length; )
        tn.pop()();
      for (var n = 0; n < kc.length; n += 1) {
        var r = kc[n];
        Rg.has(r) || (Rg.add(r), r());
      }
      kc.length = 0;
    } while (ec.length);
    for (; w0.length; )
      w0.pop()();
    j0 = !1, Rg.clear(), Qu(t);
  }
}
function Yte(t) {
  if (t.fragment !== null) {
    t.update(), Dn(t.before_update);
    var e = t.dirty;
    t.dirty = [-1], t.fragment && t.fragment.p(t.ctx, e), t.after_update.forEach(Cl);
  }
}
function Pg(t, e, n) {
  t.dispatchEvent(NM("".concat(e ? "intro" : "outro").concat(n)));
}
var Is, jh = /* @__PURE__ */ new Set();
function Ae() {
  Is = { r: 0, c: [], p: Is };
}
function Ee() {
  Is.r || Dn(Is.c), Is = Is.p;
}
function S(t, e) {
  t && t.i && (jh.delete(t), t.i(e));
}
function A(t, e, n, r) {
  if (t && t.o) {
    if (jh.has(t))
      return;
    jh.add(t), Is.c.push(function() {
      jh.delete(t), r && (n && t.d(1), r());
    }), t.o(e);
  } else
    r && r();
}
var Qte = { duration: 0 };
function Yd(t, e, n, r) {
  var i, o = e(t, n, { direction: "both" }), s = r ? 0 : 1, a = null, l = null, c = null;
  function u() {
    c && Kte(t, c);
  }
  function f(h, p) {
    var m = h.b - s;
    return p *= Math.abs(m), { a: s, b: h.b, d: m, duration: p, start: h.start, end: h.start + p, group: h.group };
  }
  function d(h) {
    var p, m = o || Qte, g = m.delay, v = g === void 0 ? 0 : g, y = m.duration, x = y === void 0 ? 300 : y, b = m.easing, w = b === void 0 ? AM : b, j = m.tick, k = j === void 0 ? Te : j, N = m.css, z = { start: Ute() + v, b: h };
    h || (z.group = Is, Is.r += 1), "inert" in t && (h ? i !== void 0 && (t.inert = i) : (i = t.inert, t.inert = !0)), a || l ? l = z : (N && (u(), c = Wj(t, s, h, x, v, w, N)), h && k(0, 1), a = f(z, x), Cl(function() {
      return Pg(t, h, "start");
    }), p = function(_) {
      if (l && _ > l.start && (a = f(l, x), l = null, Pg(t, a.b, "start"), N && (u(), c = Wj(t, s, a.b, a.duration, 0, w, o.css))), a) {
        if (_ >= a.end)
          k(s = a.b, 1 - s), Pg(t, a.b, "end"), l || (a.b ? u() : --a.group.r || Dn(a.group.c)), a = null;
        else if (_ >= a.start) {
          var B = _ - a.start;
          s = a.a + a.d * w(B / a.duration), k(s, 1 - s);
        }
      }
      return !(!a && !l);
    }, Yu.size === 0 && Pb(PM), new Promise(function(_) {
      Yu.add({ c: p, f: _ });
    }));
  }
  return { run: function(h) {
    di(o) ? (Kd || (Kd = Promise.resolve()).then(function() {
      Kd = null;
    }), Kd).then(function() {
      o = o({ direction: h ? "in" : "out" }), d(h);
    }) : d(h);
  }, end: function() {
    u(), a = l = null;
  } };
}
function Et(t) {
  return (t == null ? void 0 : t.length) !== void 0 ? t : Array.from(t);
}
function Xte(t, e) {
  t.d(1), e.delete(t.key);
}
function Db(t, e) {
  A(t, 1, 1, function() {
    e.delete(t.key);
  });
}
function Tm(t, e, n, r, i, o, s, a, l, c, u, f) {
  for (var d = t.length, h = o.length, p = d, m = {}; p--; )
    m[t[p].key] = p;
  var g = [], v = /* @__PURE__ */ new Map(), y = /* @__PURE__ */ new Map(), x = [];
  p = h;
  for (var b = function() {
    var Y = f(i, o, p), R = n(Y), Z = s.get(R);
    Z ? r && x.push(function() {
      return Z.p(Y, e);
    }) : (Z = c(R, Y)).c(), v.set(R, g[p] = Z), R in m && y.set(R, Math.abs(p - m[R]));
  }; p--; )
    b();
  var w = /* @__PURE__ */ new Set(), j = /* @__PURE__ */ new Set();
  function k(Y) {
    S(Y, 1), Y.m(a, u), s.set(Y.key, Y), u = Y.first, h--;
  }
  for (; d && h; ) {
    var N = g[h - 1], z = t[d - 1], _ = N.key, B = z.key;
    N === z ? (u = N.first, d--, h--) : v.has(B) ? !s.has(_) || w.has(_) ? k(N) : j.has(B) ? d-- : y.get(_) > y.get(B) ? (j.add(_), k(N)) : (w.add(B), d--) : (l(z, s), d--);
  }
  for (; d--; ) {
    var I = t[d];
    v.has(I.key) || l(I, s);
  }
  for (; h; )
    k(g[h - 1]);
  return Dn(x), g;
}
function ko(t, e) {
  for (var n = {}, r = {}, i = { $$scope: 1 }, o = t.length; o--; ) {
    var s = t[o], a = e[o];
    if (a) {
      for (var l in s)
        l in a || (r[l] = 1);
      for (var c in a)
        i[c] || (n[c] = a[c], i[c] = 1);
      t[o] = a;
    } else
      for (var u in s)
        i[u] = 1;
  }
  for (var f in r)
    f in n || (n[f] = void 0);
  return n;
}
function _l(t) {
  return Or(t) === "object" && t !== null ? t : {};
}
function Po(t, e, n) {
  var r = t.$$.props[e];
  r !== void 0 && (t.$$.bound[r] = n, n(t.$$.ctx[r]));
}
function we(t) {
  t && t.c();
}
function be(t, e, n) {
  var r = t.$$, i = r.fragment, o = r.after_update;
  i && i.m(e, n), Cl(function() {
    var s, a = t.$$.on_mount.map(EM).filter(di);
    t.$$.on_destroy ? (s = t.$$.on_destroy).push.apply(s, Wt(a)) : Dn(a), t.$$.on_mount = [];
  }), o.forEach(Cl);
}
function xe(t, e) {
  var n, r, i, o = t.$$;
  o.fragment !== null && (n = o.after_update, r = [], i = [], kc.forEach(function(s) {
    return n.indexOf(s) === -1 ? r.push(s) : i.push(s);
  }), i.forEach(function(s) {
    return s();
  }), kc = r, Dn(o.on_destroy), o.fragment && o.fragment.d(e), o.on_destroy = o.fragment = null, o.ctx = []);
}
function lt(t, e, n, r, i, o) {
  var s = arguments.length > 6 && arguments[6] !== void 0 ? arguments[6] : null, a = arguments.length > 7 && arguments[7] !== void 0 ? arguments[7] : [-1], l = Cf;
  Qu(t);
  var c = t.$$ = { fragment: null, ctx: [], props: o, update: Te, not_equal: i, bound: zj(), on_mount: [], on_destroy: [], on_disconnect: [], before_update: [], after_update: [], context: new Map(e.context || (l ? l.$$.context : [])), callbacks: zj(), dirty: a, skip_bound: !1, root: e.target || l.$$.root };
  s && s(c.root);
  var u = !1;
  if (c.ctx = n ? n(t, e.props || {}, function(d, h) {
    var p = !(arguments.length <= 2) && arguments.length - 2 ? arguments.length <= 2 ? void 0 : arguments[2] : h;
    return c.ctx && i(c.ctx[d], c.ctx[d] = p) && (!c.skip_bound && c.bound[d] && c.bound[d](p), u && function(m, g) {
      m.$$.dirty[0] === -1 && (ec.push(m), qM(), m.$$.dirty.fill(0)), m.$$.dirty[g / 31 | 0] |= 1 << g % 31;
    }(t, d)), h;
  }) : [], c.update(), u = !0, Dn(c.before_update), c.fragment = !!r && r(c.ctx), e.target) {
    if (e.hydrate) {
      var f = function(d) {
        return Array.from(d.childNodes);
      }(e.target);
      c.fragment && c.fragment.l(f), f.forEach(Q);
    } else
      c.fragment && c.fragment.c();
    e.intro && S(t.$$.fragment), be(t, e.target, e.anchor), zM();
  }
  Qu(l);
}
var ct = function() {
  function t() {
    it(this, t), eo(this, "$$", void 0), eo(this, "$$set", void 0);
  }
  return ot(t, [{ key: "$destroy", value: function() {
    xe(this, 1), this.$destroy = Te;
  } }, { key: "$on", value: function(e, n) {
    if (!di(n))
      return Te;
    var r = this.$$.callbacks[e] || (this.$$.callbacks[e] = []);
    return r.push(n), function() {
      var i = r.indexOf(n);
      i !== -1 && r.splice(i, 1);
    };
  } }, { key: "$set", value: function(e) {
    var n;
    this.$$set && (n = e, Object.keys(n).length !== 0) && (this.$$.skip_bound = !0, this.$$set(e), this.$$.skip_bound = !1);
  } }]), t;
}();
function Jr(t) {
  var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : function(r) {
    var i = function(o) {
      try {
        if (typeof window < "u" && window.localStorage !== void 0)
          return window.localStorage[o];
      } catch {
      }
    }("debug");
    return i != null && i.endsWith("*") ? r.startsWith(i.slice(0, -1)) : r === i;
  }(t);
  if (!e)
    return Zte;
  var n = function(r) {
    for (var i = 0, o = 0; o < r.length; o++)
      i = (i << 5) - i + r.charCodeAt(o), i |= 0;
    return Hj[Math.abs(i) % Hj.length];
  }(t);
  return function() {
    for (var r, i = arguments.length, o = new Array(i), s = 0; s < i; s++)
      o[s] = arguments[s];
    (r = console).log.apply(r, ["%c".concat(t), "color:".concat(n)].concat(o));
  };
}
function Zte() {
}
typeof window < "u" && (window.__svelte || (window.__svelte = { v: /* @__PURE__ */ new Set() })).v.add("4");
var Hj = ["#0000CC", "#0099FF", "#009400", "#8dd200", "#CCCC00", "#CC9933", "#ae04e7", "#ff35d7", "#FF3333", "#FF6600", "#FF9933", "#FFCC33"];
function ene(t) {
  var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, n = e.delay, r = n === void 0 ? 0 : n, i = e.duration, o = i === void 0 ? 400 : i, s = e.easing, a = s === void 0 ? AM : s, l = +getComputedStyle(t).opacity;
  return { delay: r, duration: o, easing: a, css: function(c) {
    return "opacity: ".concat(c * l);
  } };
}
var tne = Ib.window;
function nne(t) {
  Tt(t, "svelte-n7cvum", `.svelte-n7cvum{box-sizing:border-box}.bg.svelte-n7cvum{position:fixed;z-index:1000;top:0;left:0;display:flex;flex-direction:column;justify-content:center;width:100vw;height:100vh;background:rgba(0, 0, 0, 0.66)}@supports (-webkit-touch-callout: none){}.wrap.svelte-n7cvum{position:relative;margin:2rem;max-height:100%}.window.svelte-n7cvum{position:relative;width:40rem;max-width:100%;max-height:100%;margin:2rem auto;color:black;border-radius:0.5rem;background:white}.content.svelte-n7cvum{position:relative;padding:1rem;max-height:calc(100vh - 4rem);overflow:auto}.close.svelte-n7cvum{display:block;box-sizing:border-box;position:absolute;z-index:1000;top:1rem;right:1rem;margin:0;padding:0;width:1.5rem;height:1.5rem;border:0;color:black;border-radius:1.5rem;background:white;box-shadow:0 0 0 1px black;transition:transform 0.2s cubic-bezier(0.25, 0.1, 0.25, 1),
      background 0.2s cubic-bezier(0.25, 0.1, 0.25, 1);-webkit-appearance:none}.close.svelte-n7cvum:before,.close.svelte-n7cvum:after{content:'';display:block;box-sizing:border-box;position:absolute;top:50%;width:1rem;height:1px;background:black;transform-origin:center;transition:height 0.2s cubic-bezier(0.25, 0.1, 0.25, 1),
      background 0.2s cubic-bezier(0.25, 0.1, 0.25, 1)}.close.svelte-n7cvum:before{-webkit-transform:translate(0, -50%) rotate(45deg);-moz-transform:translate(0, -50%) rotate(45deg);transform:translate(0, -50%) rotate(45deg);left:0.25rem}.close.svelte-n7cvum:after{-webkit-transform:translate(0, -50%) rotate(-45deg);-moz-transform:translate(0, -50%) rotate(-45deg);transform:translate(0, -50%) rotate(-45deg);left:0.25rem}.close.svelte-n7cvum:hover{background:black}.close.svelte-n7cvum:hover:before,.close.svelte-n7cvum:hover:after{height:2px;background:white}.close.svelte-n7cvum:focus{border-color:#3399ff;box-shadow:0 0 0 2px #3399ff}.close.svelte-n7cvum:active{transform:scale(0.9)}.close.svelte-n7cvum:hover,.close.svelte-n7cvum:focus,.close.svelte-n7cvum:active{outline:none}`);
}
function Uj(t) {
  var e, n, r, i, o, s, a, l, c, u, f, d, h, p, m, g, v, y, x = t[1].closeButton && Jj(t), b = t[2];
  return b && (s = bs(b, {})), { c: function() {
    e = U("div"), n = U("div"), r = U("div"), x && x.c(), i = le(), o = U("div"), s && we(s.$$.fragment), $(o, "class", a = ir(t[1].classContent) + " svelte-n7cvum"), $(o, "style", t[9]), Se(o, "content", !t[0]), $(r, "class", l = ir(t[1].classWindow) + " svelte-n7cvum"), $(r, "role", "dialog"), $(r, "aria-modal", "true"), $(r, "aria-label", c = t[1].ariaLabelledBy ? null : t[1].ariaLabel || null), $(r, "aria-labelledby", u = t[1].ariaLabelledBy || null), $(r, "style", t[8]), Se(r, "window", !t[0]), $(n, "class", d = ir(t[1].classWindowWrap) + " svelte-n7cvum"), $(n, "style", t[7]), Se(n, "wrap", !t[0]), $(e, "aria-hidden", "true"), $(e, "id", h = t[1].id), $(e, "class", p = ir(t[1].classBg) + " svelte-n7cvum"), $(e, "style", t[6]), Se(e, "bg", !t[0]);
  }, m: function(w, j) {
    X(w, e, j), E(e, n), E(n, r), x && x.m(r, null), E(r, i), E(r, o), s && be(s, o, null), t[50](r), t[51](n), t[52](e), g = !0, v || (y = [_e(r, "introstart", function() {
      di(t[13]) && t[13].apply(this, arguments);
    }), _e(r, "outrostart", function() {
      di(t[14]) && t[14].apply(this, arguments);
    }), _e(r, "introend", function() {
      di(t[15]) && t[15].apply(this, arguments);
    }), _e(r, "outroend", function() {
      di(t[16]) && t[16].apply(this, arguments);
    }), _e(e, "mousedown", t[20]), _e(e, "mouseup", t[21])], v = !0);
  }, p: function(w, j) {
    if ((t = w)[1].closeButton ? x ? (x.p(t, j), 2 & j[0] && S(x, 1)) : ((x = Jj(t)).c(), S(x, 1), x.m(r, i)) : x && (Ae(), A(x, 1, 1, function() {
      x = null;
    }), Ee()), 4 & j[0] && b !== (b = t[2])) {
      if (s) {
        Ae();
        var k = s;
        A(k.$$.fragment, 1, 0, function() {
          xe(k, 1);
        }), Ee();
      }
      b ? (we((s = bs(b, {})).$$.fragment), S(s.$$.fragment, 1), be(s, o, null)) : s = null;
    }
    (!g || 2 & j[0] && a !== (a = ir(t[1].classContent) + " svelte-n7cvum")) && $(o, "class", a), (!g || 512 & j[0]) && $(o, "style", t[9]), (!g || 3 & j[0]) && Se(o, "content", !t[0]), (!g || 2 & j[0] && l !== (l = ir(t[1].classWindow) + " svelte-n7cvum")) && $(r, "class", l), (!g || 2 & j[0] && c !== (c = t[1].ariaLabelledBy ? null : t[1].ariaLabel || null)) && $(r, "aria-label", c), (!g || 2 & j[0] && u !== (u = t[1].ariaLabelledBy || null)) && $(r, "aria-labelledby", u), (!g || 256 & j[0]) && $(r, "style", t[8]), (!g || 3 & j[0]) && Se(r, "window", !t[0]), (!g || 2 & j[0] && d !== (d = ir(t[1].classWindowWrap) + " svelte-n7cvum")) && $(n, "class", d), (!g || 128 & j[0]) && $(n, "style", t[7]), (!g || 3 & j[0]) && Se(n, "wrap", !t[0]), (!g || 2 & j[0] && h !== (h = t[1].id)) && $(e, "id", h), (!g || 2 & j[0] && p !== (p = ir(t[1].classBg) + " svelte-n7cvum")) && $(e, "class", p), (!g || 64 & j[0]) && $(e, "style", t[6]), (!g || 3 & j[0]) && Se(e, "bg", !t[0]);
  }, i: function(w) {
    g || (S(x), s && S(s.$$.fragment, w), w && Cl(function() {
      g && (f || (f = Yd(r, t[12], t[1].transitionWindowProps, !0)), f.run(1));
    }), w && Cl(function() {
      g && (m || (m = Yd(e, t[11], t[1].transitionBgProps, !0)), m.run(1));
    }), g = !0);
  }, o: function(w) {
    A(x), s && A(s.$$.fragment, w), w && (f || (f = Yd(r, t[12], t[1].transitionWindowProps, !1)), f.run(0)), w && (m || (m = Yd(e, t[11], t[1].transitionBgProps, !1)), m.run(0)), g = !1;
  }, d: function(w) {
    w && Q(e), x && x.d(), s && xe(s), t[50](null), w && f && f.end(), t[51](null), t[52](null), w && m && m.end(), v = !1, Dn(y);
  } };
}
function Jj(t) {
  var e, n, r, i, o, s = [ine, rne], a = [];
  function l(c, u) {
    return 2 & u[0] && (e = null), e == null && (e = !!c[17](c[1].closeButton)), e ? 0 : 1;
  }
  return n = l(t, [-1, -1, -1]), r = a[n] = s[n](t), { c: function() {
    r.c(), i = wn();
  }, m: function(c, u) {
    a[n].m(c, u), X(c, i, u), o = !0;
  }, p: function(c, u) {
    var f = n;
    (n = l(c, u)) === f ? a[n].p(c, u) : (Ae(), A(a[f], 1, 1, function() {
      a[f] = null;
    }), Ee(), (r = a[n]) ? r.p(c, u) : (r = a[n] = s[n](c)).c(), S(r, 1), r.m(i.parentNode, i));
  }, i: function(c) {
    o || (S(r), o = !0);
  }, o: function(c) {
    A(r), o = !1;
  }, d: function(c) {
    c && Q(i), a[n].d(c);
  } };
}
function rne(t) {
  var e, n, r, i;
  return { c: function() {
    $(e = U("button"), "class", n = ir(t[1].classCloseButton) + " svelte-n7cvum"), $(e, "aria-label", "Close modal"), $(e, "style", t[10]), $(e, "type", "button"), Se(e, "close", !t[0]);
  }, m: function(o, s) {
    X(o, e, s), r || (i = _e(e, "click", t[18]), r = !0);
  }, p: function(o, s) {
    2 & s[0] && n !== (n = ir(o[1].classCloseButton) + " svelte-n7cvum") && $(e, "class", n), 1024 & s[0] && $(e, "style", o[10]), 3 & s[0] && Se(e, "close", !o[0]);
  }, i: Te, o: Te, d: function(o) {
    o && Q(e), r = !1, i();
  } };
}
function ine(t) {
  var e, n, r, i = t[1].closeButton;
  function o(s, a) {
    return { props: { onClose: s[18] } };
  }
  return i && (e = bs(i, o(t))), { c: function() {
    e && we(e.$$.fragment), n = wn();
  }, m: function(s, a) {
    e && be(e, s, a), X(s, n, a), r = !0;
  }, p: function(s, a) {
    if (2 & a[0] && i !== (i = s[1].closeButton)) {
      if (e) {
        Ae();
        var l = e;
        A(l.$$.fragment, 1, 0, function() {
          xe(l, 1);
        }), Ee();
      }
      i ? (we((e = bs(i, o(s))).$$.fragment), S(e.$$.fragment, 1), be(e, n.parentNode, n)) : e = null;
    }
  }, i: function(s) {
    r || (e && S(e.$$.fragment, s), r = !0);
  }, o: function(s) {
    e && A(e.$$.fragment, s), r = !1;
  }, d: function(s) {
    s && Q(n), e && xe(e, s);
  } };
}
function one(t) {
  var e, n, r, i, o = t[2] && Uj(t), s = t[49].default, a = yr(s, t, t[48], null);
  return { c: function() {
    o && o.c(), e = le(), a && a.c();
  }, m: function(l, c) {
    o && o.m(l, c), X(l, e, c), a && a.m(l, c), n = !0, r || (i = _e(tne, "keydown", t[19]), r = !0);
  }, p: function(l, c) {
    l[2] ? o ? (o.p(l, c), 4 & c[0] && S(o, 1)) : ((o = Uj(l)).c(), S(o, 1), o.m(e.parentNode, e)) : o && (Ae(), A(o, 1, 1, function() {
      o = null;
    }), Ee()), a && a.p && (!n || 131072 & c[1]) && xr(a, s, l, l[48], n ? br(s, l[48], c, null) : wr(l[48]), null);
  }, i: function(l) {
    n || (S(o), S(a, l), n = !0);
  }, o: function(l) {
    A(o), A(a, l), n = !1;
  }, d: function(l) {
    l && Q(e), o && o.d(l), a && a.d(l), r = !1, i();
  } };
}
function FM(t) {
  var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
  return function(n) {
    return new t(he(he({}, n), {}, { props: he(he({}, e), n.props) }));
  };
}
function sne(t, e, n) {
  var r, i, o, s, a, l, c, u, f, d, h, p, m, g, v, y = e.$$slots, x = y === void 0 ? {} : y, b = e.$$scope, w = DM(), j = LM, k = e.isTabbable, N = k === void 0 ? function(q) {
    return q.tabIndex >= 0 && !q.hidden && !q.disabled && q.style.display !== "none" && q.type !== "hidden" && !!(q.offsetWidth || q.offsetHeight || q.getClientRects().length);
  } : k, z = e.show, _ = z === void 0 ? null : z, B = e.id, I = B === void 0 ? null : B, Y = e.key, R = Y === void 0 ? "simple-modal" : Y, Z = e.ariaLabel, ne = Z === void 0 ? null : Z, V = e.ariaLabelledBy, M = V === void 0 ? null : V, F = e.closeButton, P = F === void 0 || F, T = e.closeOnEsc, O = T === void 0 || T, L = e.closeOnOuterClick, C = L === void 0 || L, H = e.styleBg, ie = H === void 0 ? {} : H, te = e.styleWindowWrap, ke = te === void 0 ? {} : te, Me = e.styleWindow, fe = Me === void 0 ? {} : Me, pe = e.styleContent, Fe = pe === void 0 ? {} : pe, Ue = e.styleCloseButton, ut = Ue === void 0 ? {} : Ue, rn = e.classBg, ae = rn === void 0 ? null : rn, At = e.classWindowWrap, Ge = At === void 0 ? null : At, me = e.classWindow, Ct = me === void 0 ? null : me, _n = e.classContent, Ut = _n === void 0 ? null : _n, un = e.classCloseButton, Xn = un === void 0 ? null : un, kn = e.unstyled, D = kn !== void 0 && kn, ee = e.setContext, oe = ee === void 0 ? j : ee, ge = e.transitionBg, $e = ge === void 0 ? ene : ge, Oe = e.transitionBgProps, Ze = Oe === void 0 ? { duration: 250 } : Oe, wt = e.transitionWindow, kt = wt === void 0 ? $e : wt, En = e.transitionWindowProps, It = En === void 0 ? Ze : En, Je = e.disableFocusTrap, yn = Je !== void 0 && Je, Zn = { id: I, ariaLabel: ne, ariaLabelledBy: M, closeButton: P, closeOnEsc: O, closeOnOuterClick: C, styleBg: ie, styleWindowWrap: ke, styleWindow: fe, styleContent: Fe, styleCloseButton: ut, classBg: ae, classWindowWrap: Ge, classWindow: Ct, classContent: Ut, classCloseButton: Xn, transitionBg: $e, transitionBgProps: Ze, transitionWindow: kt, transitionWindowProps: It, disableFocusTrap: yn, isTabbable: N, unstyled: D }, jn = he({}, Zn), Vn = null, Wn = function(q) {
    return q ? Object.keys(q).reduce(function(K, re) {
      return "".concat(K, "; ").concat(function(ue) {
        return ue.replace(/([a-zA-Z])(?=[A-Z])/g, "$1-").toLowerCase();
      }(re), ": ").concat(q[re]);
    }, "") : "";
  }, Hn = function(q) {
    return !!(q && q.constructor && q.call && q.apply);
  }, fn = function() {
  }, ve = fn, He = fn, Rt = fn, qt = fn, zt = function(q) {
    var K = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, re = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};
    n(2, Vn = FM(q, arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {})), n(1, jn = he(he({}, Zn), K)), n(6, a = Wn(Object.assign({}, { width: window.innerWidth, height: window.innerHeight }, jn.styleBg))), n(7, l = Wn(jn.styleWindowWrap)), n(8, c = Wn(jn.styleWindow)), n(9, u = Wn(jn.styleContent)), n(10, f = Wn(jn.styleCloseButton)), n(11, d = jn.transitionBg), n(12, h = jn.transitionWindow), de(), n(13, ve = function(ue) {
      re.onOpen && re.onOpen(ue), w("open"), w("opening");
    }), n(14, He = function(ue) {
      re.onClose && re.onClose(ue), w("close"), w("closing");
    }), n(15, Rt = function(ue) {
      re.onOpened && re.onOpened(ue), w("opened");
    }), n(16, qt = function(ue) {
      re.onClosed && re.onClosed(ue), w("closed");
    });
  }, Ft = function() {
    var q = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    Vn && (n(14, He = q.onClose || He), n(16, qt = q.onClosed || qt), n(2, Vn = null), Qe());
  }, de = function() {
    s = window.scrollY, p = document.body.style.position, m = document.body.style.overflow, g = document.body.style.width, document.body.style.position = "fixed", document.body.style.top = "-".concat(s, "px"), document.body.style.overflow = "hidden", document.body.style.width = "100%";
  }, Qe = function() {
    document.body.style.position = p || "", document.body.style.top = "", document.body.style.overflow = m || "", document.body.style.width = g || "", window.scrollTo({ top: s, left: 0, behavior: "instant" });
  };
  oe(R, { open: zt, close: Ft });
  var ze = !1;
  return to(function() {
    ze && Ft();
  }), $o(function() {
    n(47, ze = !0);
  }), t.$$set = function(q) {
    "isTabbable" in q && n(22, N = q.isTabbable), "show" in q && n(23, _ = q.show), "id" in q && n(24, I = q.id), "key" in q && n(25, R = q.key), "ariaLabel" in q && n(26, ne = q.ariaLabel), "ariaLabelledBy" in q && n(27, M = q.ariaLabelledBy), "closeButton" in q && n(28, P = q.closeButton), "closeOnEsc" in q && n(29, O = q.closeOnEsc), "closeOnOuterClick" in q && n(30, C = q.closeOnOuterClick), "styleBg" in q && n(31, ie = q.styleBg), "styleWindowWrap" in q && n(32, ke = q.styleWindowWrap), "styleWindow" in q && n(33, fe = q.styleWindow), "styleContent" in q && n(34, Fe = q.styleContent), "styleCloseButton" in q && n(35, ut = q.styleCloseButton), "classBg" in q && n(36, ae = q.classBg), "classWindowWrap" in q && n(37, Ge = q.classWindowWrap), "classWindow" in q && n(38, Ct = q.classWindow), "classContent" in q && n(39, Ut = q.classContent), "classCloseButton" in q && n(40, Xn = q.classCloseButton), "unstyled" in q && n(0, D = q.unstyled), "setContext" in q && n(41, oe = q.setContext), "transitionBg" in q && n(42, $e = q.transitionBg), "transitionBgProps" in q && n(43, Ze = q.transitionBgProps), "transitionWindow" in q && n(44, kt = q.transitionWindow), "transitionWindowProps" in q && n(45, It = q.transitionWindowProps), "disableFocusTrap" in q && n(46, yn = q.disableFocusTrap), "$$scope" in q && n(48, b = q.$$scope);
  }, t.$$.update = function() {
    8388608 & t.$$.dirty[0] | 65536 & t.$$.dirty[1] && ze && (Hn(_) ? zt(_) : Ft());
  }, [D, jn, Vn, r, i, o, a, l, c, u, f, d, h, ve, He, Rt, qt, Hn, Ft, function(q) {
    if (jn.closeOnEsc && Vn && q.key === "Escape" && (q.preventDefault(), Ft()), Vn && q.key === "Tab" && !jn.disableFocusTrap) {
      var K = o.querySelectorAll("*"), re = Array.from(K).filter(jn.isTabbable).sort(function(ye, ft) {
        return ye.tabIndex - ft.tabIndex;
      }), ue = re.indexOf(document.activeElement);
      ue === -1 && q.shiftKey && (ue = 0), ue += re.length + (q.shiftKey ? -1 : 1), re[ue %= re.length].focus(), q.preventDefault();
    }
  }, function(q) {
    !jn.closeOnOuterClick || q.target !== r && q.target !== i || (v = q.target);
  }, function(q) {
    jn.closeOnOuterClick && q.target === v && (q.preventDefault(), Ft());
  }, N, _, I, R, ne, M, P, O, C, ie, ke, fe, Fe, ut, ae, Ge, Ct, Ut, Xn, oe, $e, Ze, kt, It, yn, ze, b, x, function(q) {
    tn[q ? "unshift" : "push"](function() {
      n(5, o = q);
    });
  }, function(q) {
    tn[q ? "unshift" : "push"](function() {
      n(4, i = q);
    });
  }, function(q) {
    tn[q ? "unshift" : "push"](function() {
      n(3, r = q);
    });
  }];
}
var ei, qn, Io, Ks, qo, vo, ka, VM = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, sne, one, Nr, { isTabbable: 22, show: 23, id: 24, key: 25, ariaLabel: 26, ariaLabelledBy: 27, closeButton: 28, closeOnEsc: 29, closeOnOuterClick: 30, styleBg: 31, styleWindowWrap: 32, styleWindow: 33, styleContent: 34, styleCloseButton: 35, classBg: 36, classWindowWrap: 37, classWindow: 38, classContent: 39, classCloseButton: 40, unstyled: 0, setContext: 41, transitionBg: 42, transitionBgProps: 43, transitionWindow: 44, transitionWindowProps: 45, disableFocusTrap: 46 }, nne, [-1, -1, -1]), r;
  }
  return at(e, ct), ot(e);
}();
(function(t) {
  t.text = "text", t.tree = "tree", t.table = "table";
})(ei || (ei = {})), function(t) {
  t.after = "after", t.inside = "inside", t.key = "key", t.value = "value", t.multi = "multi", t.text = "text";
}(qn || (qn = {})), function(t) {
  t.after = "after", t.key = "key", t.value = "value", t.inside = "inside";
}(Io || (Io = {})), function(t) {
  t.info = "info", t.warning = "warning", t.error = "error";
}(Ks || (Ks = {})), function(t) {
  t.key = "key", t.value = "value";
}(qo || (qo = {})), function(t) {
  t.asc = "asc", t.desc = "desc";
}(vo || (vo = {})), function(t) {
  t.no = "no", t.self = "self", t.nextInside = "nextInside";
}(ka || (ka = {}));
var Gj = 50, ane = 200, lne = 400, cne = 1200, WM = 1e3, _f = 100, lc = 100, $0 = 2e4, Ol = [{ start: 0, end: _f }], une = 104857600, fne = 1048576, k0 = 10485760, HM = 10240, Al = { closeButton: !1, classBg: "jse-modal-bg", classWindow: "jse-modal-window", classWindowWrap: "jse-modal-window-wrap", classContent: "jse-modal-container" }, dne = he(he({}, Al), {}, { classWindow: "jse-modal-window jse-modal-window-sort" }), hne = he(he({}, Al), {}, { classWindow: "jse-modal-window jse-modal-window-transform" }), pne = he(he({}, Al), {}, { classWindow: "jse-modal-window jse-modal-window-jsoneditor" }), Lb = "Insert or paste contents, enter [ insert a new array, enter { to insert a new object, or start typing to insert a new value", Bb = "Open context menu (Click here, right click on the selection, or use the context menu button or Ctrl+Q)", Ys = "hover-insert-inside", Of = "hover-insert-after", S0 = "hover-collection", Ig = "valid", Kj = "repairable", Ns = 336, Ds = 260, mne = eo(eo({}, vo.asc, "ascending"), vo.desc, "descending"), gne = 0;
function Xu() {
  return ++gne;
}
function ri(t) {
  return parseInt(t, 10);
}
function qb(t) {
  return vne.test(t);
}
var vne = /^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;
function Yn(t) {
  return Or(t) === "object" && t !== null && t.constructor.name === "Object";
}
function cr(t) {
  return Or(t) === "object" && t !== null && (t.constructor.name === "Object" || t.constructor.name === "Array");
}
function C0(t) {
  if (typeof t == "number")
    return t > 9466848e5 && isFinite(t) && Math.floor(t) === t && !isNaN(new Date(t).valueOf());
  if (typeof t == "bigint")
    return C0(Number(t));
  try {
    var e = t && t.valueOf();
    if (e !== t)
      return C0(e);
  } catch {
    return !1;
  }
  return !1;
}
function UM(t) {
  (Qd = Qd || window.document.createElement("div")).style.color = "", Qd.style.color = t;
  var e = Qd.style.color;
  return e !== "" ? e.replace(/\s+/g, "").toLowerCase() : null;
}
var Qd = null;
function zb(t, e) {
  if (typeof t == "number" || typeof t == "string" || typeof t == "boolean" || t === void 0)
    return Or(t);
  if (typeof t == "bigint")
    return "number";
  if (t === null)
    return "null";
  if (Array.isArray(t))
    return "array";
  if (Yn(t))
    return "object";
  var n = e.stringify(t);
  return n && qb(n) ? "number" : n === "true" || n === "false" ? "boolean" : n === "null" ? "null" : "unknown";
}
var yne = /^https?:\/\/\S+$/;
function Rm(t) {
  return typeof t == "string" && yne.test(t);
}
function uu(t, e) {
  if (t === "")
    return "";
  var n = t.trim();
  return n === "null" ? null : n === "true" || n !== "false" && (qb(n) ? e.parse(n) : t);
}
function JM(t) {
  return bne.test(t);
}
var bne = /^-?[0-9]+$/, xne = 1e4, wne = [];
function _0(t) {
  var e = arguments.length > 1 && arguments[1] !== void 0 && arguments[1], n = {};
  if (!Array.isArray(t))
    throw new TypeError("Array expected");
  function r(s, a) {
    (!Array.isArray(s) && !Yn(s) || e && a.length > 0) && (n[We(a)] = !0), Yn(s) && Object.keys(s).forEach(function(l) {
      r(s[l], a.concat(l));
    });
  }
  for (var i = Math.min(t.length, xne), o = 0; o < i; o++)
    r(t[o], wne);
  return Object.keys(n).sort().map(zo);
}
function GM(t, e, n) {
  if (!(e <= t))
    for (var r = t; r < e; r++)
      n(r);
}
function xp(t, e) {
  return t.length > e ? t.slice(0, e) : t;
}
function Yj(t) {
  return he({}, t);
}
function Qj(t) {
  return Object.values(t);
}
function Xj(t, e, n, r) {
  var i = t.slice(0), o = i.splice(e, n);
  return i.splice.apply(i, [e + r, 0].concat(Wt(o))), i;
}
function rd(t, e) {
  try {
    return e.parse(t);
  } catch {
    return e.parse(fs(t));
  }
}
function KM(t, e) {
  try {
    return rd(t, e);
  } catch {
    return;
  }
}
function Pm(t, e) {
  t = t.replace(QM, "");
  try {
    return e(t);
  } catch {
  }
  try {
    return e("[" + t + "]");
  } catch {
  }
  try {
    return e("{" + t + "}");
  } catch {
  }
  throw new Error("Failed to parse partial JSON");
}
function YM(t) {
  t = t.replace(QM, "");
  try {
    return fs(t);
  } catch {
  }
  try {
    var e = fs("[" + t + "]");
    return e.substring(1, e.length - 1);
  } catch {
  }
  try {
    var n = fs("{" + t + "}");
    return n.substring(1, n.length - 1);
  } catch {
  }
  throw new Error("Failed to repair partial JSON");
}
var QM = /,\s*$/;
function Lc(t, e) {
  var n = e$.exec(e);
  if (n) {
    var r = ri(n[2]), i = function(h, p) {
      for (var m = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0, g = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : h.length, v = 0, y = m; y < g; y++)
        h.charAt(y) === p && v++;
      return v;
    }(t, `
`, 0, r), o = r - t.lastIndexOf(`
`, r) - 1;
    return { position: r, line: i, column: o, message: e.replace(e$, function() {
      return "line ".concat(i + 1, " column ").concat(o + 1);
    }) };
  }
  var s = kne.exec(e), a = s ? ri(s[1]) : null, l = a !== null ? a - 1 : null, c = Sne.exec(e), u = c ? ri(c[1]) : null, f = u !== null ? u - 1 : null, d = l !== null && f !== null ? function(h, p, m) {
    for (var g = h.indexOf(`
`), v = 1; v < p && g !== -1; )
      g = h.indexOf(`
`, g + 1), v++;
    return g !== -1 ? g + m + 1 : null;
  }(t, l, f) : null;
  return { position: d, line: l, column: f, message: e.replace(/^JSON.parse: /, "").replace(/ of the JSON data$/, "") };
}
function Ng(t) {
  return Yn(t) ? t.json !== void 0 ? t.text !== void 0 ? 'Content must contain either a property "json" or a property "text" but not both' : null : t.text === void 0 ? 'Content must contain either a property "json" or a property "text"' : typeof t.text != "string" ? 'Content "text" property must be a string containing a JSON document. Did you mean to use the "json" property instead?' : null : "Content must be an object";
}
function Bc(t) {
  return Yn(t) && typeof t.text == "string";
}
function Af(t) {
  return Yn(t) && t.json !== void 0;
}
function jne(t) {
  var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : void 0, n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : JSON;
  return Bc(t) ? t : { text: n.stringify(t.json, null, e) };
}
function Zj(t) {
  var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : JSON;
  return Af(t) ? t : { json: e.parse(t.text) };
}
function O0(t, e, n) {
  return jne(t, e, n).text;
}
function XM(t, e) {
  return $ne(t, e) > e;
}
function $ne(t) {
  var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1 / 0;
  if (Bc(t))
    return t.text.length;
  var n = t.json, r = 0;
  return function i(o) {
    if (Array.isArray(o)) {
      if ((r += o.length - 1 + 2) > e)
        return r;
      for (var s = 0; s < o.length; s++)
        if (i(o[s]), r > e)
          return r;
    } else if (Yn(o)) {
      var a = Object.keys(o);
      r += 2 + a.length + (a.length - 1);
      for (var l = 0; l < a.length; l++) {
        var c = a[l], u = o[c];
        r += c.length + 2, i(u);
      }
    } else
      r += typeof o == "string" ? o.length + 2 : String(o).length;
  }(n), r;
}
var e$ = /(position|char) (\d+)/, kne = /line (\d+)/, Sne = /column (\d+)/;
function ZM(t, e) {
  return t.parse === e.parse && t.stringify === e.stringify;
}
function t$(t) {
  return Cne.test(t) && t.length > 2;
}
var Cne = /^[[{]\S/;
function Fb(t) {
  var e = t.escapeControlCharacters, n = t.escapeUnicodeCharacters;
  return e ? n ? _ne : One : n ? Ane : Ene;
}
var _ne = { escapeValue: function(t) {
  return eT(rT(String(t)));
}, unescapeValue: function(t) {
  return iT(tT(t));
} }, One = { escapeValue: function(t) {
  return rT(String(t));
}, unescapeValue: function(t) {
  return iT(t);
} }, Ane = { escapeValue: function(t) {
  return eT(String(t));
}, unescapeValue: function(t) {
  return tT(t);
} }, Ene = { escapeValue: function(t) {
  return String(t);
}, unescapeValue: function(t) {
  return t;
} };
function eT(t) {
  return t.replace(/[^\x20-\x7F]/g, function(e) {
    var n;
    return e === "\b" || e === "\f" || e === `
` || e === "\r" || e === "	" ? e : "\\u" + ("000" + ((n = e.codePointAt(0)) === null || n === void 0 ? void 0 : n.toString(16))).slice(-4);
  });
}
function tT(t) {
  return t.replace(/\\u[a-fA-F0-9]{4}/g, function(e) {
    try {
      var n = JSON.parse('"' + e + '"');
      return nT[n] || n;
    } catch {
      return e;
    }
  });
}
var nT = { '"': '\\"', "\\": "\\\\", "\b": "\\b", "\f": "\\f", "\n": "\\n", "\r": "\\r", "	": "\\t" }, Mne = { '\\"': '"', "\\\\": "\\", "\\/": "/", "\\b": "\b", "\\f": "\f", "\\n": `
`, "\\r": "\r", "\\t": "	" };
function rT(t) {
  return t.replace(/["\b\f\n\r\t\\]/g, function(e) {
    return nT[e] || e;
  });
}
function iT(t) {
  return t.replace(/\\["bfnrt\\]/g, function(e) {
    return Mne[e] || e;
  });
}
function El(t) {
  return typeof t != "string" ? String(t) : t.endsWith(`
`) ? t + `
` : t;
}
function Vb(t, e) {
  return id(t, function(n) {
    return n.nodeName.toUpperCase() === e.toUpperCase();
  });
}
function dl(t, e, n) {
  return id(t, function(r) {
    return function(i, o, s) {
      return typeof i.getAttribute == "function" && i.getAttribute(o) === s;
    }(r, e, n);
  });
}
function id(t, e) {
  return !!Wb(t, e);
}
function Wb(t, e) {
  for (var n = t; n && !e(n); )
    n = n.parentNode;
  return n || void 0;
}
function oT(t) {
  if (t.firstChild != null) {
    var e = document.createRange(), n = window.getSelection();
    e.setStart(t, 1), e.collapse(!0), n == null || n.removeAllRanges(), n == null || n.addRange(e);
  } else
    t.focus();
}
function wp(t, e, n, r) {
  var i = fu(t);
  if (i) {
    var o = i.document.activeElement ? i.document.activeElement : null;
    o && o.isContentEditable && (o.textContent = n ? e : o.textContent + e, oT(o), r && r(o));
  }
}
function fu(t) {
  return t && t.ownerDocument ? t.ownerDocument.defaultView : null;
}
function Hb(t) {
  var e = fu(t), n = e == null ? void 0 : e.document.activeElement;
  return !!n && id(n, function(r) {
    return r === t;
  });
}
function sT(t, e) {
  return Wb(t, function(n) {
    return n.nodeName === e;
  });
}
function Dg(t) {
  return dl(t, "data-type", "selectable-key") ? qn.key : dl(t, "data-type", "selectable-value") ? qn.value : dl(t, "data-type", "insert-selection-area-inside") ? qn.inside : dl(t, "data-type", "insert-selection-area-after") ? qn.after : qn.multi;
}
function qc(t) {
  return encodeURIComponent(We(t));
}
function aT(t) {
  var e = Wb(t, function(r) {
    return !(r == null || !r.hasAttribute) && r.hasAttribute("data-path");
  }), n = e == null ? void 0 : e.getAttribute("data-path");
  return n ? zo(decodeURIComponent(n)) : null;
}
function Tne(t) {
  var e = t.allElements, n = t.currentElement, r = t.direction, i = t.hasPrio, o = i === void 0 ? function() {
    return !0;
  } : i, s = t.margin, a = s === void 0 ? 10 : s, l = Zc(e.filter(function(x) {
    var b = x.getBoundingClientRect();
    return b.width > 0 && b.height > 0;
  }), u), c = u(n);
  function u(x) {
    var b = x.getBoundingClientRect();
    return { x: b.left + b.width / 2, y: b.top + b.height / 2, rect: b, element: x };
  }
  function f(x, b) {
    var w = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 1, j = x.x - b.x, k = (x.y - b.y) * w;
    return Math.sqrt(j * j + k * k);
  }
  var d = function(x) {
    return f(x, c);
  };
  if (r === "Left" || r === "Right") {
    var h = r === "Left" ? l.filter(function(x) {
      return b = c, x.rect.left + a < b.rect.left;
      var b;
    }) : l.filter(function(x) {
      return b = c, x.rect.right > b.rect.right + a;
      var b;
    }), p = h.filter(function(x) {
      return b = x, w = c, Math.abs(b.y - w.y) < a;
      var b, w;
    }), m = rc(p, d) || rc(h, function(x) {
      return f(x, c, 10);
    });
    return m == null ? void 0 : m.element;
  }
  if (r === "Up" || r === "Down") {
    var g = r === "Up" ? l.filter(function(x) {
      return b = c, x.y + a < b.y;
      var b;
    }) : l.filter(function(x) {
      return b = c, x.y > b.y + a;
      var b;
    }), v = g.filter(function(x) {
      return o(x.element);
    }), y = rc(v, d) || rc(g, d);
    return y == null ? void 0 : y.element;
  }
}
function lT(t) {
  return !!t && t.nodeName === "DIV" && typeof t.refresh == "function" && typeof t.cancel == "function";
}
function Ga(t) {
  var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "+", n = [];
  t.ctrlKey && n.push("Ctrl"), t.metaKey && n.push("Ctrl"), t.altKey && n.push("Alt"), t.shiftKey && n.push("Shift");
  var r = t.key.length === 1 ? t.key.toUpperCase() : t.key;
  return r in Rne || n.push(r), n.join(e);
}
var Rne = { Ctrl: !0, Command: !0, Control: !0, Alt: !0, Option: !0, Shift: !0 }, Lg = Ib.window;
function Pne(t) {
  Tt(t, "svelte-1r8q3m8", ".jse-absolute-popup.svelte-1r8q3m8.svelte-1r8q3m8{position:relative;left:0;top:0;width:0;height:0;z-index:1001}.jse-absolute-popup.svelte-1r8q3m8 .jse-hidden-input.svelte-1r8q3m8{position:fixed;left:0;top:0;width:0;height:0;padding:0;margin:0;border:none;outline:none;overflow:hidden}.jse-absolute-popup.svelte-1r8q3m8 .jse-absolute-popup-content.svelte-1r8q3m8{position:absolute}");
}
function n$(t) {
  var e, n, r, i, o, s, a = [t[0].props], l = t[0].component;
  function c(u, f) {
    var d = {};
    if (f !== void 0 && 1 & f)
      d = ko(a, [_l(u[0].props)]);
    else
      for (var h = 0; h < a.length; h += 1)
        d = Bi(d, a[h]);
    return { props: d };
  }
  return l && (i = bs(l, c(t))), { c: function() {
    e = U("div"), n = U("input"), r = le(), i && we(i.$$.fragment), $(n, "type", "text"), n.readOnly = !0, $(n, "tabindex", "-1"), $(n, "class", "jse-hidden-input svelte-1r8q3m8"), $(e, "class", "jse-absolute-popup-content svelte-1r8q3m8"), $(e, "style", o = r$(t[1], t[0].options));
  }, m: function(u, f) {
    X(u, e, f), E(e, n), t[7](n), E(e, r), i && be(i, e, null), s = !0;
  }, p: function(u, f) {
    if (1 & f && l !== (l = u[0].component)) {
      if (i) {
        Ae();
        var d = i;
        A(d.$$.fragment, 1, 0, function() {
          xe(d, 1);
        }), Ee();
      }
      l ? (we((i = bs(l, c(u, f))).$$.fragment), S(i.$$.fragment, 1), be(i, e, null)) : i = null;
    } else if (l) {
      var h = 1 & f ? ko(a, [_l(u[0].props)]) : {};
      i.$set(h);
    }
    (!s || 3 & f && o !== (o = r$(u[1], u[0].options))) && $(e, "style", o);
  }, i: function(u) {
    s || (i && S(i.$$.fragment, u), s = !0);
  }, o: function(u) {
    i && A(i.$$.fragment, u), s = !1;
  }, d: function(u) {
    u && Q(e), t[7](null), i && xe(i);
  } };
}
function Ine(t) {
  var e, n, r, i, o = t[1] && n$(t);
  return { c: function() {
    e = U("div"), o && o.c(), $(e, "role", "none"), $(e, "class", "jse-absolute-popup svelte-1r8q3m8");
  }, m: function(s, a) {
    X(s, e, a), o && o.m(e, null), t[8](e), n = !0, r || (i = [_e(Lg, "mousedown", t[3], !0), _e(Lg, "keydown", t[4], !0), _e(Lg, "wheel", t[5], !0), _e(e, "mousedown", Nne), _e(e, "keydown", t[4])], r = !0);
  }, p: function(s, a) {
    var l = Mt(a, 1)[0];
    s[1] ? o ? (o.p(s, l), 2 & l && S(o, 1)) : ((o = n$(s)).c(), S(o, 1), o.m(e, null)) : o && (Ae(), A(o, 1, 1, function() {
      o = null;
    }), Ee());
  }, i: function(s) {
    n || (S(o), n = !0);
  }, o: function(s) {
    A(o), n = !1;
  }, d: function(s) {
    s && Q(e), o && o.d(), t[8](null), r = !1, Dn(i);
  } };
}
function Nne(t) {
  t.stopPropagation();
}
function r$(t, e) {
  var n = t.getBoundingClientRect(), r = function() {
    if (e.anchor) {
      var l = e.anchor, c = e.width, u = c === void 0 ? 0 : c, f = e.height, d = f === void 0 ? 0 : f, h = e.offsetTop, p = h === void 0 ? 0 : h, m = e.offsetLeft, g = m === void 0 ? 0 : m, v = e.position, y = l.getBoundingClientRect(), x = y.left, b = y.top, w = y.bottom, j = y.right, k = v === "top" || b + d > window.innerHeight && b > d, N = v === "left" || x + u > window.innerWidth && x > u;
      return { left: N ? j - g : x + g, top: k ? b - p : w + p, positionAbove: k, positionLeft: N };
    }
    if (typeof e.left == "number" && typeof e.top == "number") {
      var z = e.left, _ = e.top, B = e.width, I = B === void 0 ? 0 : B, Y = e.height, R = Y === void 0 ? 0 : Y;
      return { left: z, top: _, positionAbove: _ + R > window.innerHeight && _ > R, positionLeft: z + I > window.innerWidth && z > I };
    }
    throw new Error('Invalid config: pass either "left" and "top", or pass "anchor"');
  }(), i = r.left, o = r.top, s = r.positionAbove, a = r.positionLeft;
  return (s ? "bottom: ".concat(n.top - o, "px;") : "top: ".concat(o - n.top, "px;")) + (a ? "right: ".concat(n.left - i, "px;") : "left: ".concat(i - n.left, "px;"));
}
function Dne(t, e, n) {
  var r, i, o = e.popup, s = e.closeAbsolutePopup;
  function a(l) {
    o.options && o.options.closeOnOuterClick && !id(l.target, function(c) {
      return c === r;
    }) && s(o.id);
  }
  return $o(function() {
    i && i.focus();
  }), t.$$set = function(l) {
    "popup" in l && n(0, o = l.popup), "closeAbsolutePopup" in l && n(6, s = l.closeAbsolutePopup);
  }, [o, r, i, function(l) {
    a(l);
  }, function(l) {
    Ga(l) === "Escape" && s(o.id);
  }, function(l) {
    a(l);
  }, s, function(l) {
    tn[l ? "unshift" : "push"](function() {
      n(2, i = l);
    });
  }, function(l) {
    tn[l ? "unshift" : "push"](function() {
      n(1, r = l);
    });
  }];
}
var Lne = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Dne, Ine, Nr, { popup: 0, closeAbsolutePopup: 6 }, Pne), r;
  }
  return at(e, ct), ot(e);
}();
function i$(t, e, n) {
  var r = t.slice();
  return r[6] = e[n], r;
}
function o$(t) {
  var e, n;
  return e = new Lne({ props: { popup: t[6], closeAbsolutePopup: t[1] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    1 & i && (o.popup = r[6]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Bne(t) {
  for (var e, n, r = Et(t[0]), i = [], o = 0; o < r.length; o += 1)
    i[o] = o$(i$(t, r, o));
  var s = function(c) {
    return A(i[c], 1, 1, function() {
      i[c] = null;
    });
  }, a = t[3].default, l = yr(a, t, t[2], null);
  return { c: function() {
    for (var c = 0; c < i.length; c += 1)
      i[c].c();
    e = le(), l && l.c();
  }, m: function(c, u) {
    for (var f = 0; f < i.length; f += 1)
      i[f] && i[f].m(c, u);
    X(c, e, u), l && l.m(c, u), n = !0;
  }, p: function(c, u) {
    var f = Mt(u, 1)[0];
    if (3 & f) {
      var d;
      for (r = Et(c[0]), d = 0; d < r.length; d += 1) {
        var h = i$(c, r, d);
        i[d] ? (i[d].p(h, f), S(i[d], 1)) : (i[d] = o$(h), i[d].c(), S(i[d], 1), i[d].m(e.parentNode, e));
      }
      for (Ae(), d = r.length; d < i.length; d += 1)
        s(d);
      Ee();
    }
    l && l.p && (!n || 4 & f) && xr(l, a, c, c[2], n ? br(a, c[2], f, null) : wr(c[2]), null);
  }, i: function(c) {
    if (!n) {
      for (var u = 0; u < r.length; u += 1)
        S(i[u]);
      S(l, c), n = !0;
    }
  }, o: function(c) {
    i = i.filter(Boolean);
    for (var u = 0; u < i.length; u += 1)
      A(i[u]);
    A(l, c), n = !1;
  }, d: function(c) {
    c && Q(e), Sr(i, c), l && l.d(c);
  } };
}
function qne(t, e, n) {
  var r = e.$$slots, i = r === void 0 ? {} : r, o = e.$$scope, s = Jr("jsoneditor:AbsolutePopup"), a = [];
  function l(c) {
    var u = a.findIndex(function(d) {
      return d.id === c;
    });
    if (u !== -1) {
      var f = a[u];
      f.options.onClose && f.options.onClose(), n(0, a = a.filter(function(d) {
        return d.id !== c;
      }));
    }
  }
  return LM("absolute-popup", { openAbsolutePopup: function(c, u, f) {
    s("open...", u, f);
    var d = { id: Xu(), component: c, props: u || {}, options: f || {} };
    return n(0, a = [].concat(Wt(a), [d])), d.id;
  }, closeAbsolutePopup: l }), t.$$set = function(c) {
    "$$scope" in c && n(2, o = c.$$scope);
  }, t.$$.update = function() {
    1 & t.$$.dirty && s("popups", a);
  }, [a, l, o, i];
}
var cT = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, qne, Bne, Lt, {}), r;
  }
  return at(e, ct), ot(e);
}();
function qi(t) {
  return t.map(function(e, n) {
    return Im.test(e) ? "[" + e + "]" : /[.[\]]/.test(e) || e === "" ? '["' + (e.replace(/"/g, '\\"') + '"]') : (n > 0 ? "." : "") + e;
  }).join("");
}
function zne(t) {
  for (var e = [], n = 0; n < t.length; )
    t[n] === "." && n++, t[n] === "[" ? (n++, t[n] === '"' ? (n++, e.push(r(function(o) {
      return o === '"';
    }, !0)), i('"')) : e.push(r(function(o) {
      return o === "]";
    })), i("]")) : e.push(r(function(o) {
      return o === "." || o === "[";
    }));
  function r(o) {
    for (var s = arguments.length > 1 && arguments[1] !== void 0 && arguments[1], a = ""; n < t.length && !o(t[n]); )
      s && t[n] === "\\" && t[n + 1] === '"' ? (a += '"', n += 2) : (a += t[n], n++);
    return a;
  }
  function i(o) {
    if (t[n] !== o)
      throw new SyntaxError("Invalid JSON path: ".concat(o, " expected at position ").concat(n));
    n++;
  }
  return e;
}
function Nu(t) {
  return { value: t, label: dn(t) ? "(item root)" : qi(t) };
}
function Fne(t) {
  if (Im.test(t))
    return "[" + t + "]";
  if (Ub.test(t))
    return "." + t;
  var e = JSON.stringify(t);
  return "['" + e.substring(1, e.length - 1).replace(/\\"/g, '"') + "']";
}
function ts(t) {
  return t.map(function(e) {
    return Im.test(e) ? "?.[".concat(e, "]") : Ub.test(e) ? "?.".concat(e) : "?.[".concat(JSON.stringify(e), "]");
  }).join("");
}
var Ub = /^[a-zA-Z$_][a-zA-Z$_\d]*$/, Im = /^\d+$/;
function od(t, e) {
  for (var n = new Set(e), r = t.replace(/ \(copy( \d+)?\)$/, ""), i = t, o = 1; n.has(i); ) {
    var s = "copy" + (o > 1 ? " " + o : "");
    i = "".concat(r, " (").concat(s, ")"), o++;
  }
  return i;
}
function Qs(t, e) {
  var n = e - 3;
  return t.length > e ? t.substring(0, n) + "..." : t;
}
function Jb(t) {
  if (t === "")
    return "";
  var e = t.toLowerCase();
  if (e === "null")
    return null;
  if (e === "true")
    return !0;
  if (e === "false")
    return !1;
  if (e !== "undefined") {
    var n = Number(t), r = parseFloat(t);
    return isNaN(n) || isNaN(r) ? t : n;
  }
}
var Vne = { id: "javascript", name: "JavaScript", description: `
<p>
  Enter a JavaScript function to filter, sort, or transform the data.
</p>
`, createQuery: function(t, e) {
  var n = e.filter, r = e.sort, i = e.projection, o = [`  return data
`];
  if (n && n.path && n.relation && n.value) {
    var s = "item => item".concat(ts(n.path)), a = Jb(n.value), l = typeof a == "string" ? "'".concat(n.value, "'") : JM(n.value) && !Number.isSafeInteger(a) ? "".concat(n.value, "n") : n.value;
    o.push("    .filter(".concat(s, " ").concat(n.relation, " ").concat(l, `)
`));
  }
  if (r && r.path && r.direction && (r.direction === "desc" ? o.push(`    .slice()
    .sort((a, b) => {
      // sort descending
` + "      const valueA = a".concat(ts(r.path), `
`) + "      const valueB = b".concat(ts(r.path), `
`) + `      return valueA > valueB ? -1 : valueA < valueB ? 1 : 0
    })
`) : o.push(`    .slice()
    .sort((a, b) => {
      // sort ascending
` + "      const valueA = a".concat(ts(r.path), `
`) + "      const valueB = b".concat(ts(r.path), `
`) + `      return valueA > valueB ? 1 : valueA < valueB ? -1 : 0
    })
`)), i && i.paths)
    if (i.paths.length > 1) {
      var c = i.paths.map(function(f) {
        var d = f[f.length - 1] || "item", h = "item".concat(ts(f));
        return "      ".concat(JSON.stringify(d), ": ").concat(h);
      });
      o.push(`    .map(item => ({
`.concat(c.join(`,
`), `})
    )
`));
    } else {
      var u = "item".concat(ts(i.paths[0]));
      o.push("    .map(item => ".concat(u, `)
`));
    }
  return `function query (data) {
`.concat(o.join(""), "}");
}, executeQuery: function(t, e) {
  var n = new Function(`"use strict";

` + e + `

if (typeof query !== "function") {
  throw new Error("Cannot execute query: expecting a function named 'query' but is undefined")
}

return query;
`)()(t);
  return n !== void 0 ? n : null;
} };
function Wne(t) {
  var e;
  return { c: function() {
    e = vs("g");
  }, m: function(n, r) {
    X(n, e, r), e.innerHTML = t[0];
  }, p: function(n, r) {
    1 & Mt(r, 1)[0] && (e.innerHTML = n[0]);
  }, i: Te, o: Te, d: function(n) {
    n && Q(e);
  } };
}
function Hne(t, e, n) {
  var r = 870711, i = "", o = e.data;
  function s(a) {
    if (!a || !a.raw)
      return "";
    var l = a.raw, c = {};
    return l = l.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g, function(u, f) {
      var d = "fa-".concat((r += 1).toString(16));
      return c[f] = d, ' id="'.concat(d, '"');
    }), l = l.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g, function(u, f, d, h) {
      var p = f || h;
      return p && c[p] ? "#".concat(c[p]) : u;
    }), l;
  }
  return t.$$set = function(a) {
    "data" in a && n(1, o = a.data);
  }, t.$$.update = function() {
    2 & t.$$.dirty && n(0, i = s(o));
  }, [i, o];
}
var Une = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Hne, Wne, Nr, { data: 1 }), r;
  }
  return at(e, ct), ot(e);
}();
function Jne(t) {
  Tt(t, "svelte-1mc5hvj", ".fa-icon.svelte-1mc5hvj{display:inline-block;fill:currentColor}.fa-flip-horizontal.svelte-1mc5hvj{transform:scale(-1, 1)}.fa-flip-vertical.svelte-1mc5hvj{transform:scale(1, -1)}.fa-spin.svelte-1mc5hvj{animation:svelte-1mc5hvj-fa-spin 1s 0s infinite linear}.fa-inverse.svelte-1mc5hvj{color:#fff}.fa-pulse.svelte-1mc5hvj{animation:svelte-1mc5hvj-fa-spin 1s infinite steps(8)}@keyframes svelte-1mc5hvj-fa-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}");
}
function Gne(t) {
  for (var e, n, r, i, o = t[12].default, s = yr(o, t, t[11], null), a = [{ version: "1.1" }, { class: n = "fa-icon " + t[0] }, { width: t[1] }, { height: t[2] }, { "aria-label": t[9] }, { role: r = t[9] ? "img" : "presentation" }, { viewBox: t[3] }, { style: t[8] }, t[10]], l = {}, c = 0; c < a.length; c += 1)
    l = Bi(l, a[c]);
  return { c: function() {
    e = vs("svg"), s && s.c(), Dc(e, l), Se(e, "fa-spin", t[4]), Se(e, "fa-pulse", t[6]), Se(e, "fa-inverse", t[5]), Se(e, "fa-flip-horizontal", t[7] === "horizontal"), Se(e, "fa-flip-vertical", t[7] === "vertical"), Se(e, "svelte-1mc5hvj", !0);
  }, m: function(u, f) {
    X(u, e, f), s && s.m(e, null), i = !0;
  }, p: function(u, f) {
    var d = Mt(f, 1)[0];
    s && s.p && (!i || 2048 & d) && xr(s, o, u, u[11], i ? br(o, u[11], d, null) : wr(u[11]), null), Dc(e, l = ko(a, [{ version: "1.1" }, (!i || 1 & d && n !== (n = "fa-icon " + u[0])) && { class: n }, (!i || 2 & d) && { width: u[1] }, (!i || 4 & d) && { height: u[2] }, (!i || 512 & d) && { "aria-label": u[9] }, (!i || 512 & d && r !== (r = u[9] ? "img" : "presentation")) && { role: r }, (!i || 8 & d) && { viewBox: u[3] }, (!i || 256 & d) && { style: u[8] }, 1024 & d && u[10]])), Se(e, "fa-spin", u[4]), Se(e, "fa-pulse", u[6]), Se(e, "fa-inverse", u[5]), Se(e, "fa-flip-horizontal", u[7] === "horizontal"), Se(e, "fa-flip-vertical", u[7] === "vertical"), Se(e, "svelte-1mc5hvj", !0);
  }, i: function(u) {
    i || (S(s, u), i = !0);
  }, o: function(u) {
    A(s, u), i = !1;
  }, d: function(u) {
    u && Q(e), s && s.d(u);
  } };
}
function Kne(t, e, n) {
  var r = ["class", "width", "height", "box", "spin", "inverse", "pulse", "flip", "style", "label"], i = yp(e, r), o = e, s = o.$$slots, a = s === void 0 ? {} : s, l = o.$$scope, c = e.class, u = c === void 0 ? "" : c, f = e.width, d = e.height, h = e.box, p = h === void 0 ? "0 0 0 0" : h, m = e.spin, g = m !== void 0 && m, v = e.inverse, y = v !== void 0 && v, x = e.pulse, b = x !== void 0 && x, w = e.flip, j = w === void 0 ? "none" : w, k = e.style, N = k === void 0 ? "" : k, z = e.label, _ = z === void 0 ? "" : z;
  return t.$$set = function(B) {
    e = Bi(Bi({}, e), TM(B)), n(10, i = yp(e, r)), "class" in B && n(0, u = B.class), "width" in B && n(1, f = B.width), "height" in B && n(2, d = B.height), "box" in B && n(3, p = B.box), "spin" in B && n(4, g = B.spin), "inverse" in B && n(5, y = B.inverse), "pulse" in B && n(6, b = B.pulse), "flip" in B && n(7, j = B.flip), "style" in B && n(8, N = B.style), "label" in B && n(9, _ = B.label), "$$scope" in B && n(11, l = B.$$scope);
  }, [u, f, d, p, g, y, b, j, N, _, i, l, a];
}
var Yne = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Kne, Gne, Nr, { class: 0, width: 1, height: 2, box: 3, spin: 4, inverse: 5, pulse: 6, flip: 7, style: 8, label: 9 }, Jne), r;
  }
  return at(e, ct), ot(e);
}();
function s$(t, e, n) {
  var r = t.slice();
  return r[24] = e[n], r;
}
function a$(t, e, n) {
  var r = t.slice();
  return r[27] = e[n], r;
}
function l$(t) {
  for (var e, n = [t[27]], r = {}, i = 0; i < n.length; i += 1)
    r = Bi(r, n[i]);
  return { c: function() {
    Dc(e = vs("path"), r);
  }, m: function(o, s) {
    X(o, e, s);
  }, p: function(o, s) {
    Dc(e, r = ko(n, [64 & s && o[27]]));
  }, d: function(o) {
    o && Q(e);
  } };
}
function c$(t) {
  for (var e, n = [t[24]], r = {}, i = 0; i < n.length; i += 1)
    r = Bi(r, n[i]);
  return { c: function() {
    Dc(e = vs("polygon"), r);
  }, m: function(o, s) {
    X(o, e, s);
  }, p: function(o, s) {
    Dc(e, r = ko(n, [64 & s && o[24]]));
  }, d: function(o) {
    o && Q(e);
  } };
}
function u$(t) {
  var e, n, r;
  function i(s) {
    t[16](s);
  }
  var o = {};
  return t[6] !== void 0 && (o.data = t[6]), e = new Une({ props: o }), tn.push(function() {
    return Po(e, "data", i);
  }), { c: function() {
    we(e.$$.fragment);
  }, m: function(s, a) {
    be(e, s, a), r = !0;
  }, p: function(s, a) {
    var l = {};
    !n && 64 & a && (n = !0, l.data = s[6], Ro(function() {
      return n = !1;
    })), e.$set(l);
  }, i: function(s) {
    r || (S(e.$$.fragment, s), r = !0);
  }, o: function(s) {
    A(e.$$.fragment, s), r = !1;
  }, d: function(s) {
    xe(e, s);
  } };
}
function Qne(t) {
  var e, n = t[15].default, r = yr(n, t, t[17], null), i = r || function(o) {
    for (var s, a, l, c, u, f, d, h = Et(((s = o[6]) === null || s === void 0 ? void 0 : s.paths) || []), p = [], m = 0; m < h.length; m += 1)
      p[m] = l$(a$(o, h, m));
    for (var g = Et(((a = o[6]) === null || a === void 0 ? void 0 : a.polygons) || []), v = [], y = 0; y < g.length; y += 1)
      v[y] = c$(s$(o, g, y));
    var x = ((l = o[6]) === null || l === void 0 ? void 0 : l.raw) && u$(o);
    return { c: function() {
      for (var b = 0; b < p.length; b += 1)
        p[b].c();
      c = le();
      for (var w = 0; w < v.length; w += 1)
        v[w].c();
      u = le(), x && x.c(), f = wn();
    }, m: function(b, w) {
      for (var j = 0; j < p.length; j += 1)
        p[j] && p[j].m(b, w);
      X(b, c, w);
      for (var k = 0; k < v.length; k += 1)
        v[k] && v[k].m(b, w);
      X(b, u, w), x && x.m(b, w), X(b, f, w), d = !0;
    }, p: function(b, w) {
      var j;
      if (64 & w) {
        var k, N;
        for (h = Et(((k = b[6]) === null || k === void 0 ? void 0 : k.paths) || []), N = 0; N < h.length; N += 1) {
          var z = a$(b, h, N);
          p[N] ? p[N].p(z, w) : (p[N] = l$(z), p[N].c(), p[N].m(c.parentNode, c));
        }
        for (; N < p.length; N += 1)
          p[N].d(1);
        p.length = h.length;
      }
      if (64 & w) {
        var _, B;
        for (g = Et(((_ = b[6]) === null || _ === void 0 ? void 0 : _.polygons) || []), B = 0; B < g.length; B += 1) {
          var I = s$(b, g, B);
          v[B] ? v[B].p(I, w) : (v[B] = c$(I), v[B].c(), v[B].m(u.parentNode, u));
        }
        for (; B < v.length; B += 1)
          v[B].d(1);
        v.length = g.length;
      }
      (j = b[6]) !== null && j !== void 0 && j.raw ? x ? (x.p(b, w), 64 & w && S(x, 1)) : ((x = u$(b)).c(), S(x, 1), x.m(f.parentNode, f)) : x && (Ae(), A(x, 1, 1, function() {
        x = null;
      }), Ee());
    }, i: function(b) {
      d || (S(x), d = !0);
    }, o: function(b) {
      A(x), d = !1;
    }, d: function(b) {
      b && (Q(c), Q(u), Q(f)), Sr(p, b), Sr(v, b), x && x.d(b);
    } };
  }(t);
  return { c: function() {
    i && i.c();
  }, m: function(o, s) {
    i && i.m(o, s), e = !0;
  }, p: function(o, s) {
    r ? r.p && (!e || 131072 & s) && xr(r, n, o, o[17], e ? br(n, o[17], s, null) : wr(o[17]), null) : i && i.p && (!e || 64 & s) && i.p(o, e ? s : -1);
  }, i: function(o) {
    e || (S(i, o), e = !0);
  }, o: function(o) {
    A(i, o), e = !1;
  }, d: function(o) {
    i && i.d(o);
  } };
}
function Xne(t) {
  for (var e, n, r = [{ label: t[5] }, { width: t[7] }, { height: t[8] }, { box: t[10] }, { style: t[9] }, { spin: t[1] }, { flip: t[4] }, { inverse: t[2] }, { pulse: t[3] }, { class: t[0] }, t[11]], i = { $$slots: { default: [Qne] }, $$scope: { ctx: t } }, o = 0; o < r.length; o += 1)
    i = Bi(i, r[o]);
  return e = new Yne({ props: i }), { c: function() {
    we(e.$$.fragment);
  }, m: function(s, a) {
    be(e, s, a), n = !0;
  }, p: function(s, a) {
    var l = Mt(a, 1)[0], c = 4031 & l ? ko(r, [32 & l && { label: s[5] }, 128 & l && { width: s[7] }, 256 & l && { height: s[8] }, 1024 & l && { box: s[10] }, 512 & l && { style: s[9] }, 2 & l && { spin: s[1] }, 16 & l && { flip: s[4] }, 4 & l && { inverse: s[2] }, 8 & l && { pulse: s[3] }, 1 & l && { class: s[0] }, 2048 & l && _l(s[11])]) : {};
    131136 & l && (c.$$scope = { dirty: l, ctx: s }), e.$set(c);
  }, i: function(s) {
    n || (S(e.$$.fragment, s), n = !0);
  }, o: function(s) {
    A(e.$$.fragment, s), n = !1;
  }, d: function(s) {
    xe(e, s);
  } };
}
function Zne(t, e, n) {
  var r, i, o, s = ["class", "data", "scale", "spin", "inverse", "pulse", "flip", "label", "style"], a = yp(e, s), l = e, c = l.$$slots, u = c === void 0 ? {} : c, f = l.$$scope, d = e.class, h = d === void 0 ? "" : d, p = e.data, m = e.scale, g = m === void 0 ? 1 : m, v = e.spin, y = v !== void 0 && v, x = e.inverse, b = x !== void 0 && x, w = e.pulse, j = w !== void 0 && w, k = e.flip, N = k === void 0 ? void 0 : k, z = e.label, _ = z === void 0 ? "" : z, B = e.style, I = B === void 0 ? "" : B, Y = 10, R = 10;
  function Z() {
    var V = 1;
    return g !== void 0 && (V = Number(g)), isNaN(V) || V <= 0 ? (console.warn('Invalid prop: prop "scale" should be a number over 0.'), 1) : 1 * V;
  }
  function ne() {
    return r ? Math.max(r.width, r.height) / 16 : 1;
  }
  return t.$$set = function(V) {
    e = Bi(Bi({}, e), TM(V)), n(11, a = yp(e, s)), "class" in V && n(0, h = V.class), "data" in V && n(12, p = V.data), "scale" in V && n(13, g = V.scale), "spin" in V && n(1, y = V.spin), "inverse" in V && n(2, b = V.inverse), "pulse" in V && n(3, j = V.pulse), "flip" in V && n(4, N = V.flip), "label" in V && n(5, _ = V.label), "style" in V && n(14, I = V.style), "$$scope" in V && n(17, f = V.$$scope);
  }, t.$$.update = function() {
    28672 & t.$$.dirty && (n(6, r = function(V) {
      var M;
      if (V) {
        if (!("definition" in V)) {
          if ("iconName" in V && "icon" in V) {
            V.iconName;
            var F = Mt(V.icon, 5), P = F[0], T = F[1], O = F[4];
            M = { width: P, height: T, paths: (Array.isArray(O) ? O : [O]).map(function(L) {
              return { d: L };
            }) };
          } else
            M = V[Object.keys(V)[0]];
          return M;
        }
        console.error("`import faIconName from '@fortawesome/package-name/faIconName` not supported - Please use `import { faIconName } from '@fortawesome/package-name/faIconName'` instead");
      }
    }(p)), n(7, Y = r ? r.width / ne() * Z() : 0), n(8, R = r ? r.height / ne() * Z() : 0), n(9, i = function() {
      var V = "";
      I !== null && (V += I);
      var M = Z();
      return M === 1 ? V.length === 0 ? "" : V : (V === "" || V.endsWith(";") || (V += "; "), "".concat(V, "font-size: ").concat(M, "em"));
    }()), n(10, o = r ? "0 0 ".concat(r.width, " ").concat(r.height) : "0 0 ".concat(Y, " ").concat(R)));
  }, [h, y, b, j, N, _, r, Y, R, i, o, a, p, g, I, u, function(V) {
    n(6, r = V), n(12, p), n(14, I), n(13, g);
  }, f];
}
var cn = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Zne, Xne, Nr, { class: 0, data: 12, scale: 13, spin: 1, inverse: 2, pulse: 3, flip: 4, label: 5, style: 14 }), r;
  }
  return at(e, ct), ot(e);
}();
function ere(t) {
  Tt(t, "svelte-68vtq4", ".jse-boolean-toggle.svelte-68vtq4{padding:0;margin:1px 0 0;vertical-align:top;display:inline-flex;color:var(--jse-value-color-boolean, #ff8c00)}.jse-boolean-toggle.svelte-68vtq4:not(.jse-readonly){cursor:pointer}");
}
function tre(t) {
  var e, n, r, i, o, s, a;
  return n = new cn({ props: { data: t[0] === !0 ? af : lf } }), { c: function() {
    e = U("div"), we(n.$$.fragment), $(e, "role", "checkbox"), $(e, "tabindex", "-1"), $(e, "aria-checked", r = t[0] === !0), $(e, "class", "jse-boolean-toggle svelte-68vtq4"), $(e, "title", i = t[1] ? "Boolean value ".concat(t[0]) : "Click to toggle this boolean value"), Se(e, "jse-readonly", t[1]);
  }, m: function(l, c) {
    X(l, e, c), be(n, e, null), o = !0, s || (a = _e(e, "mousedown", t[2]), s = !0);
  }, p: function(l, c) {
    var u = Mt(c, 1)[0], f = {};
    1 & u && (f.data = l[0] === !0 ? af : lf), n.$set(f), (!o || 1 & u && r !== (r = l[0] === !0)) && $(e, "aria-checked", r), (!o || 3 & u && i !== (i = l[1] ? "Boolean value ".concat(l[0]) : "Click to toggle this boolean value")) && $(e, "title", i), (!o || 2 & u) && Se(e, "jse-readonly", l[1]);
  }, i: function(l) {
    o || (S(n.$$.fragment, l), o = !0);
  }, o: function(l) {
    A(n.$$.fragment, l), o = !1;
  }, d: function(l) {
    l && Q(e), xe(n), s = !1, a();
  } };
}
function nre(t, e, n) {
  var r = e.path, i = e.value, o = e.readOnly, s = e.onPatch, a = e.focus;
  return t.$$set = function(l) {
    "path" in l && n(3, r = l.path), "value" in l && n(0, i = l.value), "readOnly" in l && n(1, o = l.readOnly), "onPatch" in l && n(4, s = l.onPatch), "focus" in l && n(5, a = l.focus);
  }, [i, o, function(l) {
    l.stopPropagation(), o || (s([{ op: "replace", path: We(r), value: !i }]), a());
  }, r, s, a];
}
var rre = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, nre, tre, Lt, { path: 3, value: 0, readOnly: 1, onPatch: 4, focus: 5 }, ere), r;
  }
  return at(e, ct), ot(e);
}();
function ire(t) {
  Tt(t, "svelte-1f4ayrt", ".jse-color-picker-popup.svelte-1f4ayrt .picker_wrapper.popup,.jse-color-picker-popup.svelte-1f4ayrt .picker_wrapper.popup .picker_arrow::before,.jse-color-picker-popup.svelte-1f4ayrt .picker_wrapper.popup .picker_arrow::after{background:var(--jse-color-picker-background, var(--jse-panel-background, #ebebeb));line-height:normal}.jse-color-picker-popup.svelte-1f4ayrt .picker_slider,.jse-color-picker-popup.svelte-1f4ayrt .picker_sl,.jse-color-picker-popup.svelte-1f4ayrt .picker_editor input,.jse-color-picker-popup.svelte-1f4ayrt .picker_sample,.jse-color-picker-popup.svelte-1f4ayrt .picker_done button{box-shadow:var(--jse-color-picker-border-box-shadow, #cbcbcb 0 0 0 1px)}.jse-color-picker-popup.svelte-1f4ayrt .picker_editor input{background:var(--jse-background-color, #fff);color:var(--jse-text-color, #4d4d4d)}.jse-color-picker-popup.svelte-1f4ayrt .picker_done button{background:var(--jse-button-background, #e0e0e0);color:var(--jse-button-color, var(--jse-text-color, #4d4d4d))}.jse-color-picker-popup.svelte-1f4ayrt .picker_done button:hover{background:var(--jse-button-background-highlight, #e7e7e7)}");
}
function ore(t) {
  var e;
  return { c: function() {
    $(e = U("div"), "class", "jse-color-picker-popup svelte-1f4ayrt");
  }, m: function(n, r) {
    X(n, e, r), t[4](e);
  }, p: Te, i: Te, o: Te, d: function(n) {
    n && Q(e), t[4](null);
  } };
}
function sre(t, e, n) {
  var r, i = e.color, o = e.onChange, s = e.showOnTop, a = function() {
  };
  return $o(Dt(Ne().mark(function l() {
    var c, u, f;
    return Ne().wrap(function(d) {
      for (; ; )
        switch (d.prev = d.next) {
          case 0:
            return d.next = 2, import("./vanilla-picker-NKbIFE8h.js");
          case 2:
            if (d.t1 = c = d.sent, d.t0 = d.t1 === null, d.t0) {
              d.next = 6;
              break;
            }
            d.t0 = c === void 0;
          case 6:
            if (!d.t0) {
              d.next = 10;
              break;
            }
            d.t2 = void 0, d.next = 11;
            break;
          case 10:
            d.t2 = c.default;
          case 11:
            u = d.t2, f = new u({ parent: r, color: i, popup: s ? "top" : "bottom", onDone: function(h) {
              var p = h.rgba[3] === 1 ? h.hex.substring(0, 7) : h.hex;
              o(p);
            } }), f.show(), a = function() {
              f.destroy();
            };
          case 15:
          case "end":
            return d.stop();
        }
    }, l);
  }))), to(function() {
    a();
  }), t.$$set = function(l) {
    "color" in l && n(1, i = l.color), "onChange" in l && n(2, o = l.onChange), "showOnTop" in l && n(3, s = l.showOnTop);
  }, [r, i, o, s, function(l) {
    tn[l ? "unshift" : "push"](function() {
      n(0, r = l);
    });
  }];
}
var are = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, sre, ore, Nr, { color: 1, onChange: 2, showOnTop: 3 }, ire), r;
  }
  return at(e, ct), ot(e);
}();
function lre(t) {
  Tt(t, "svelte-1zzxwe", ".jse-color-picker-button.svelte-1zzxwe{font-size:var(--jse-font-size-mono, 14px);width:var(--jse-color-picker-button-size, 1em);height:var(--jse-color-picker-button-size, 1em);box-sizing:border-box;padding:0;margin:2px 0 0;display:inline-flex;vertical-align:top;border:1px solid var(--jse-text-color, #4d4d4d);border-radius:2px;background:inherit;outline:none}.jse-color-picker-button.svelte-1zzxwe:not(.jse-readonly){cursor:pointer}");
}
function cre(t) {
  var e, n, r, i;
  return { c: function() {
    $(e = U("button"), "type", "button"), $(e, "class", "jse-color-picker-button svelte-1zzxwe"), hi(e, "background", t[2]), $(e, "title", n = t[1] ? "Color ".concat(t[0]) : "Click to open a color picker"), Se(e, "jse-readonly", t[1]);
  }, m: function(o, s) {
    X(o, e, s), r || (i = _e(e, "click", t[3]), r = !0);
  }, p: function(o, s) {
    var a = Mt(s, 1)[0];
    4 & a && hi(e, "background", o[2]), 3 & a && n !== (n = o[1] ? "Color ".concat(o[0]) : "Click to open a color picker") && $(e, "title", n), 2 & a && Se(e, "jse-readonly", o[1]);
  }, i: Te, o: Te, d: function(o) {
    o && Q(e), r = !1, i();
  } };
}
function ure(t, e, n) {
  var r, i = Hr("absolute-popup").openAbsolutePopup, o = e.path, s = e.value, a = e.readOnly, l = e.onPatch, c = e.focus;
  function u(d) {
    l([{ op: "replace", path: We(o), value: d }]), f();
  }
  function f() {
    c();
  }
  return t.$$set = function(d) {
    "path" in d && n(4, o = d.path), "value" in d && n(0, s = d.value), "readOnly" in d && n(1, a = d.readOnly), "onPatch" in d && n(5, l = d.onPatch), "focus" in d && n(6, c = d.focus);
  }, t.$$.update = function() {
    1 & t.$$.dirty && n(2, r = UM(s));
  }, [s, a, r, function(d) {
    var h, p;
    if (!a) {
      var m = d.target, g = m.getBoundingClientRect().top, v = (h = (p = fu(m)) === null || p === void 0 ? void 0 : p.innerHeight) !== null && h !== void 0 ? h : 0;
      i(are, { color: s, onChange: u, showOnTop: v - g < 300 && g > 300 }, { anchor: m, closeOnOuterClick: !0, onClose: f, offsetTop: 18, offsetLeft: -8, height: 300 });
    }
  }, o, l, c];
}
var fre = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, ure, cre, Lt, { path: 4, value: 0, readOnly: 1, onPatch: 5, focus: 6 }, lre), r;
  }
  return at(e, ct), ot(e);
}();
function uT(t) {
  for (var e = sy(t, function(a) {
    return a.start;
  }), n = [e[0]], r = 0; r < e.length; r++) {
    var i = n.length - 1, o = n[i], s = e[r];
    s.start <= o.end ? n[i] = { start: Math.min(o.start, s.start), end: Math.max(o.end, s.end) } : n.push(s);
  }
  return n;
}
function dre(t, e) {
  return t.some(function(n) {
    return e >= n.start && e < n.end;
  });
}
function A0(t) {
  return jp(t) + _f;
}
function jp(t) {
  return Math.floor(t / _f) * _f;
}
function $p(t) {
  var e = { expandedMap: {}, enforceStringMap: {}, visibleSectionsMap: {}, selection: null, sortedColumn: null };
  return t != null && t.select && t.json !== void 0 && (e = he(he({}, e), {}, { selection: t.select(t.json, e) })), t != null && t.expand && (e = ao(t.json, e, [], t.expand)), e;
}
function Nm(t, e) {
  return t.visibleSectionsMap[e] || Ol;
}
function Gb(t, e, n) {
  e.forEach(function(r) {
    var i = r.start, o = r.end;
    GM(i, Math.min(t.length, o), n);
  });
}
function E0(t, e, n) {
  for (var r = he({}, e.expandedMap), i = he({}, e.visibleSectionsMap), o = 0; o < n.length; o++) {
    var s = n.slice(0, o), a = We(s), l = Xe(t, s);
    if (cr(l) && (r[a] = !0), Array.isArray(l) && o < n.length) {
      var c = i[a] || Ol, u = ri(n[o]);
      if (!dre(c, u)) {
        var f = jp(u), d = { start: f, end: A0(f) };
        i[a] = uT(c.concat(d));
      }
    }
  }
  return he(he({}, e), {}, { expandedMap: r, visibleSectionsMap: i });
}
function ao(t, e, n, r) {
  var i = he({}, e.expandedMap), o = n.slice(), s = t !== void 0 ? Xe(t, n) : t;
  return s !== void 0 && function a(l) {
    var c = o.length;
    if (Array.isArray(l)) {
      if (r(o)) {
        var u = We(o);
        if (i[u] = !0, l.length > 0) {
          var f = Nm(e, u);
          Gb(l, f, function(g) {
            o[c] = String(g), a(l[g]);
          }), o.pop();
        }
      }
    } else if (Yn(l) && r(o)) {
      i[We(o)] = !0;
      var d = Object.keys(l);
      if (d.length > 0) {
        var h, p = Sf(d);
        try {
          for (p.s(); !(h = p.n()).done; ) {
            var m = h.value;
            o[c] = m, a(l[m]);
          }
        } catch (g) {
          p.e(g);
        } finally {
          p.f();
        }
        o.pop();
      }
    }
  }(s), he(he({}, e), {}, { expandedMap: i });
}
function f$(t, e) {
  var n = Sc(t.expandedMap, e), r = Sc(t.enforceStringMap, e), i = Sc(t.visibleSectionsMap, e);
  return he(he({}, t), {}, { expandedMap: n, enforceStringMap: r, visibleSectionsMap: i });
}
function fT(t, e, n) {
  if (n) {
    var r = he({}, t.enforceStringMap);
    return r[e] = n, he(he({}, t), {}, { enforceStringMap: r });
  }
  if (typeof t.enforceStringMap[e] == "boolean") {
    var i = he({}, t.enforceStringMap);
    return delete i[e], he(he({}, t), {}, { enforceStringMap: i });
  }
  return t;
}
function dT(t, e, n) {
  var r = Do(t, n), i = n.reduce(function(o, s) {
    return AS(s) ? d$(r, o, s) : ES(s) ? h$(r, o, s) : H0(s) ? function(a, l, c) {
      var u = c.path, f = Fg(a, l.expandedMap), d = Fg(a, l.enforceStringMap), h = Fg(a, l.visibleSectionsMap);
      return dr(c.value) || zn(c.value) || delete f[u], zn(c.value) || delete h[u], (dr(c.value) || zn(c.value)) && delete d[u], he(he({}, l), {}, { expandedMap: f, enforceStringMap: d, visibleSectionsMap: h });
    }(r, o, s) : Yg(s) || fc(s) ? function(a, l, c) {
      if (fc(c) && c.from === c.path)
        return l;
      var u = function(y) {
        return c.path + y.substring(c.from.length);
      }, f = zg(Bg(l.expandedMap, c.from), u), d = zg(Bg(l.enforceStringMap, c.from), u), h = zg(Bg(l.visibleSectionsMap, c.from), u), p = l;
      fc(c) && (p = h$(a, p, { op: "remove", path: c.from })), p = d$(a, p, { op: "add", path: c.path, value: null });
      var m = qg(p.expandedMap, f), g = qg(p.enforceStringMap, d), v = qg(p.visibleSectionsMap, h);
      return he(he({}, l), {}, { expandedMap: m, enforceStringMap: g, visibleSectionsMap: v });
    }(r, o, s) : o;
  }, e);
  return { json: r, documentState: i };
}
function d$(t, e, n) {
  var r = us(t, n.path), i = Zt(r), o = We(i), s = Xe(t, i);
  if (zn(s)) {
    var a = ri(_t(r)), l = Cc(e.expandedMap, i, a, 1), c = Cc(e.enforceStringMap, i, a, 1), u = Cc(e.visibleSectionsMap, i, a, 1);
    return u = hT(u, o, function(f) {
      return pT(f, a, 1);
    }), he(he({}, e), {}, { expandedMap: l, enforceStringMap: c, visibleSectionsMap: u });
  }
  return e;
}
function h$(t, e, n) {
  var r = us(t, n.path), i = Zt(r), o = We(i), s = Xe(t, i), a = e.expandedMap, l = e.enforceStringMap, c = e.visibleSectionsMap;
  if (a = Sc(a, r), l = Sc(l, r), c = Sc(c, r), zn(s)) {
    var u = ri(_t(r));
    a = Cc(a, i, u, -1), l = Cc(l, i, u, -1), c = hT(c = Cc(c, i, u, -1), o, function(f) {
      return pT(f, u, -1);
    });
  }
  return he(he({}, e), {}, { expandedMap: a, enforceStringMap: l, visibleSectionsMap: c });
}
function Sc(t, e) {
  var n = {}, r = We(e);
  return Object.keys(t).forEach(function(i) {
    Pp(i, r) || (n[i] = t[i]);
  }), n;
}
function Bg(t, e) {
  var n = {};
  return Object.keys(t).forEach(function(r) {
    Pp(r, e) && (n[r] = t[r]);
  }), n;
}
function qg(t, e) {
  return he(he({}, t), e);
}
function zg(t, e) {
  var n = {};
  return Object.keys(t).forEach(function(r) {
    var i = e(r);
    n[i] = t[r];
  }), n;
}
function Cc(t, e, n, r) {
  for (var i = e.length, o = We(e), s = [], a = 0, l = Object.keys(t); a < l.length; a++) {
    var c = l[a];
    if (Pp(c, o)) {
      var u = zo(c), f = ri(u[i]);
      f >= n && (u[i] = String(f + r), s.push({ oldPointer: c, newPointer: We(u), value: t[c] }));
    }
  }
  if (s.length === 0)
    return t;
  var d = he({}, t);
  return s.forEach(function(h) {
    delete d[h.oldPointer];
  }), s.forEach(function(h) {
    d[h.newPointer] = h.value;
  }), d;
}
function Fg(t, e) {
  var n = {};
  return Object.keys(e).filter(function(r) {
    return ho(t, us(t, r));
  }).forEach(function(r) {
    n[r] = e[r];
  }), n;
}
function hT(t, e, n) {
  var r = t[e];
  if (e in t) {
    var i = n(r);
    if (!en(r, i)) {
      var o = he({}, t);
      return i === void 0 ? delete o[e] : o[e] = i, o;
    }
  }
  return t;
}
function pT(t, e, n) {
  return function(r) {
    for (var i = r.slice(0), o = 1; o < i.length; )
      i[o - 1].end === i[o].start && (i[o - 1] = { start: i[o - 1].start, end: i[o].end }, i.splice(o)), o++;
    return i;
  }(t.map(function(r) {
    return { start: r.start > e ? r.start + n : r.start, end: r.end > e ? r.end + n : r.end };
  }));
}
function Xs(t, e, n, r) {
  var i = e ? e[n] : void 0;
  return typeof i == "boolean" ? i : function(o, s) {
    return typeof o == "string" && typeof uu(o, s) != "string";
  }(t, r);
}
function sd(t, e) {
  var n = arguments.length > 2 && arguments[2] !== void 0 && arguments[2], r = t.indexOf(e);
  return r !== -1 ? n ? t.slice(r) : t.slice(r + 1) : [];
}
function Kb(t, e) {
  var n = [];
  return function r(i, o) {
    n.push(o);
    var s = We(o);
    if (i && e.expandedMap[s] === !0) {
      if (zn(i)) {
        var a = Nm(e, s);
        Gb(i, a, function(l) {
          r(i[l], o.concat(String(l)));
        });
      }
      dr(i) && Object.keys(i).forEach(function(l) {
        r(i[l], o.concat(l));
      });
    }
  }(t, []), n;
}
function mT(t, e) {
  var n = !(arguments.length > 2 && arguments[2] !== void 0) || arguments[2], r = [];
  return function i(o, s) {
    r.push({ path: s, type: Io.value });
    var a = We(s);
    if (o && e.expandedMap[a] === !0) {
      if (n && r.push({ path: s, type: Io.inside }), zn(o)) {
        var l = Nm(e, a);
        Gb(o, l, function(c) {
          var u = s.concat(String(c));
          i(o[c], u), n && r.push({ path: u, type: Io.after });
        });
      }
      dr(o) && Object.keys(o).forEach(function(c) {
        var u = s.concat(c);
        r.push({ path: u, type: Io.key }), i(o[c], u), n && r.push({ path: u, type: Io.after });
      });
    }
  }(t, []), r;
}
function Vg(t, e, n) {
  var r = Kb(t, e), i = r.map(We).indexOf(We(n));
  return i !== -1 && i < r.length - 1 ? r[i + 1] : null;
}
function da(t, e, n) {
  var r = Xe(t, n);
  return r === void 0 ? e : ao(t, e, n, XM({ json: r }, HM) ? ss : Zu);
}
function ss(t) {
  return t.length === 0 || t.length === 1 && t[0] === "0";
}
function Zu() {
  return !0;
}
function Ii(t) {
  return t && t.type === qn.after || !1;
}
function Cr(t) {
  return t && t.type === qn.inside || !1;
}
function jr(t) {
  return t && t.type === qn.key || !1;
}
function sn(t) {
  return t && t.type === qn.value || !1;
}
function Tn(t) {
  return t && t.type === qn.multi || !1;
}
function Dm(t) {
  return Tn(t) && en(t.focusPath, t.anchorPath);
}
function Yb(t) {
  return Tn(t) || Ii(t) || Cr(t) || jr(t) || sn(t);
}
function p$(t) {
  return t && t.type === qn.text || !1;
}
function Sa(t, e) {
  var n = [];
  return function(r, i, o) {
    if (i) {
      var s = ml(i), a = ht(i);
      if (en(s, a))
        return o(s);
      if (r !== void 0) {
        var l = vT(s, a);
        if (s.length === l.length || a.length === l.length)
          return o(l);
        var c = ui(s, a), u = Ls(r, c), f = Ca(r, c), d = Fs(r, c, u), h = Fs(r, c, f);
        if (!(d === -1 || h === -1)) {
          var p = Xe(r, l);
          if (dr(p)) {
            for (var m = Object.keys(p), g = d; g <= h; g++) {
              var v = o(l.concat(m[g]));
              if (v !== void 0)
                return v;
            }
            return;
          }
          if (zn(p)) {
            for (var y = d; y <= h; y++) {
              var x = o(l.concat(String(y)));
              if (x !== void 0)
                return x;
            }
            return;
          }
          throw new Error("Failed to create selection");
        }
      }
    }
  }(t, e, function(r) {
    n.push(r);
  }), n;
}
function gT(t) {
  return Cr(t) ? t.path : Zt(ht(t));
}
function Ls(t, e) {
  if (!Tn(e))
    return e.path;
  var n = Fs(t, e, e.anchorPath);
  return Fs(t, e, e.focusPath) < n ? e.focusPath : e.anchorPath;
}
function Ca(t, e) {
  if (!Tn(e))
    return e.path;
  var n = Fs(t, e, e.anchorPath);
  return Fs(t, e, e.focusPath) > n ? e.focusPath : e.anchorPath;
}
function m$(t, e) {
  var n = arguments.length > 2 && arguments[2] !== void 0 && arguments[2], r = e.selection;
  if (!r)
    return null;
  var i = n ? ht(r) : Ls(t, r), o = function(l, c, u) {
    var f = Kb(l, c), d = f.map(We), h = We(u), p = d.indexOf(h);
    return p !== -1 && p > 0 ? f[p - 1] : null;
  }(t, e, i);
  if (n)
    return Cr(r) || Ii(r) ? o !== null ? ui(i, i) : null : o !== null ? ui(ml(r), o) : null;
  if (Ii(r) || Cr(r))
    return Gt(i, !1);
  if (jr(r)) {
    if (o == null || o.length === 0)
      return null;
    var s = Zt(o), a = Xe(t, s);
    return Array.isArray(a) || dn(o) ? Gt(o, !1) : yo(o, !1);
  }
  return sn(r), o !== null ? Gt(o, !1) : null;
}
function g$(t, e, n) {
  var r = e.selection;
  if (!r)
    return { caret: null, previous: null, next: null };
  var i = mT(t, e, n), o = i.findIndex(function(s) {
    return en(s.path, ht(r)) && String(s.type) === String(r.type);
  });
  return { caret: o !== -1 ? i[o] : null, previous: o !== -1 && o > 0 ? i[o - 1] : null, next: o !== -1 && o < i.length - 1 ? i[o + 1] : null };
}
function Gl(t, e) {
  for (var n = Kb(t, e), r = 0; r < n.length - 1 && n[r + 1].length > n[r].length; )
    r++;
  var i = n[r];
  return i === void 0 || i.length === 0 || Array.isArray(Xe(t, Zt(i))) ? Gt(i, !1) : yo(i, !1);
}
function zc(t, e) {
  if (e.length === 1) {
    var n = Xi(e);
    if (n.op === "replace")
      return Gt(us(t, n.path), !1);
  }
  if (!dn(e) && e.every(function(s) {
    return s.op === "move";
  })) {
    var r = Xi(e), i = e.slice(1);
    if ((Yg(r) || fc(r)) && r.from !== r.path && i.every(function(s) {
      return (Yg(s) || fc(s)) && s.from === s.path;
    }))
      return yo(us(t, r.path), !1);
  }
  var o = e.filter(function(s) {
    return s.op !== "test" && s.op !== "remove" && (s.op !== "move" || s.from !== s.path) && typeof s.path == "string";
  }).map(function(s) {
    return us(t, s.path);
  });
  return dn(o) ? null : { type: qn.multi, anchorPath: Xi(o), focusPath: _t(o) };
}
function vT(t, e) {
  for (var n = 0; n < t.length && n < e.length && t[n] === e[n]; )
    n++;
  return t.slice(0, n);
}
function kp(t) {
  return jr(t) || sn(t) || Dm(t);
}
function v$(t, e) {
  return kp(e) && cr(Xe(t, ht(e))) ? ht(e) : Zt(ht(e));
}
function La(t, e) {
  if (t.length < e.length)
    return !1;
  for (var n = 0; n < e.length; n++)
    if (t[n] !== e[n])
      return !1;
  return !0;
}
function li(t) {
  var e = t.selection;
  return (jr(e) || sn(e)) && e.edit ? he(he({}, t), {}, { selection: he(he({}, e), {}, { edit: !1 }) }) : t;
}
function yo(t, e) {
  return { type: qn.key, path: t, edit: e };
}
function Gt(t, e) {
  return { type: qn.value, path: t, edit: e };
}
function Zs(t) {
  return { type: qn.inside, path: t };
}
function zs(t) {
  return { type: qn.after, path: t };
}
function ui(t, e) {
  var n = vT(t, e), r = t.length > n.length && e.length > n.length;
  return { type: qn.multi, anchorPath: r ? n.concat(t[n.length]) : n, focusPath: r ? n.concat(e[n.length]) : n };
}
function yT(t, e, n, r) {
  if (jr(e))
    return String(_t(e.path));
  if (sn(e)) {
    var i, o = Xe(t, e.path);
    return typeof o == "string" ? o : (i = r.stringify(o, null, n)) !== null && i !== void 0 ? i : null;
  }
  if (Tn(e)) {
    var s;
    if (dn(e.focusPath))
      return (s = r.stringify(t, null, n)) !== null && s !== void 0 ? s : null;
    var a = gT(e), l = Xe(t, a);
    if (Array.isArray(l)) {
      if (Dm(e)) {
        var c, u = Xe(t, e.focusPath);
        return (c = r.stringify(u, null, n)) !== null && c !== void 0 ? c : null;
      }
      return Sa(t, e).map(function(f) {
        var d = Xe(t, f);
        return "".concat(r.stringify(d, null, n), ",");
      }).join(`
`);
    }
    return Sa(t, e).map(function(f) {
      var d = _t(f), h = Xe(t, f);
      return "".concat(r.stringify(d), ": ").concat(r.stringify(h, null, n), ",");
    }).join(`
`);
  }
  return null;
}
function vi(t) {
  return (jr(t) || sn(t)) && t.edit === !0;
}
function du(t) {
  return jr(t) || sn(t) || Tn(t);
}
function $h(t) {
  return jr(t) || sn(t) || Dm(t);
}
function M0(t) {
  switch (t.type) {
    case Io.key:
      return yo(t.path, !1);
    case Io.value:
      return Gt(t.path, !1);
    case Io.after:
      return zs(t.path);
    case Io.inside:
      return Zs(t.path);
  }
}
function y$(t, e, n) {
  switch (e) {
    case qn.key:
      return yo(n, !1);
    case qn.value:
      return Gt(n, !1);
    case qn.after:
      return zs(n);
    case qn.inside:
      return Zs(n);
    case qn.multi:
    case qn.text:
      return ui(n, n);
  }
}
function b$(t, e, n) {
  return e && (Ef(t, e, n) || La(Tn(e) ? Zt(e.focusPath) : e.path, n)) ? e : null;
}
function Ef(t, e, n) {
  if (t === void 0 || !e)
    return !1;
  if (jr(e) || Cr(e) || Ii(e))
    return en(e.path, n);
  if (sn(e))
    return La(n, e.path);
  if (Tn(e)) {
    var r = Ls(t, e), i = Ca(t, e), o = Zt(e.focusPath);
    if (!La(n, o) || n.length <= o.length)
      return !1;
    var s = Fs(t, e, r), a = Fs(t, e, i), l = Fs(t, e, n);
    return l !== -1 && l >= s && l <= a;
  }
  return !1;
}
function Fs(t, e, n) {
  var r = Zt(e.focusPath);
  if (!La(n, r) || n.length <= r.length)
    return -1;
  var i = n[r.length], o = Xe(t, r);
  if (dr(o))
    return Object.keys(o).indexOf(i);
  if (zn(o)) {
    var s = ri(i);
    if (s < o.length)
      return s;
  }
  return -1;
}
function ht(t) {
  return Tn(t) ? t.focusPath : t.path;
}
function ml(t) {
  return Tn(t) ? t.anchorPath : t.path;
}
function xs() {
  for (var t = [], e = arguments.length, n = new Array(e), r = 0; r < e; r++)
    n[r] = arguments[r];
  for (var i = 0, o = n; i < o.length; i++) {
    var s = o[i];
    if (typeof s == "string" && t.push(s), s && Or(s) === "object")
      for (var a in s)
        Object.hasOwnProperty.call(s, a) && s[a] && t.push(a);
  }
  return t.join(" ");
}
function Mf(t, e) {
  return xs("jse-value", "jse-" + zb(t, e), { "jse-url": Rm(t), "jse-empty": typeof t == "string" && t.length === 0 });
}
function hre(t) {
  Tt(t, "svelte-zwlnit", ".jse-value.jse-string.svelte-zwlnit{color:var(--jse-value-color-string, #008000)}.jse-value.jse-object.svelte-zwlnit,.jse-value.jse-array.svelte-zwlnit{min-width:16px;color:var(--jse-delimiter-color, rgba(0, 0, 0, 0.38))}.jse-value.jse-number.svelte-zwlnit{color:var(--jse-value-color-number, #ee422e)}.jse-value.jse-boolean.svelte-zwlnit{color:var(--jse-value-color-boolean, #ff8c00)}.jse-value.jse-null.svelte-zwlnit{color:var(--jse-value-color-null, #004ed0)}.jse-value.jse-invalid.svelte-zwlnit{color:var(--jse-text-color, #4d4d4d)}.jse-value.jse-url.svelte-zwlnit{color:var(--jse-value-color-url, #008000);text-decoration:underline}div.jse-editable-div.svelte-zwlnit{min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;cursor:text !important;word-break:normal;white-space:pre-wrap;overflow-wrap:anywhere}div.jse-editable-div.jse-short-text.svelte-zwlnit{overflow-wrap:normal}div.jse-editable-div[contenteditable=true].svelte-zwlnit{outline:var(--jse-edit-outline, 2px solid #656565);background:inherit !important;position:relative;border-radius:0;z-index:3}div.jse-editable-div.jse-empty.svelte-zwlnit:not(:focus){outline:1px dotted var(--jse-tag-background, rgba(0, 0, 0, 0.2));-moz-outline-radius:2px}div.jse-editable-div.jse-empty.svelte-zwlnit::after{pointer-events:none;color:var(--jse-tag-background, rgba(0, 0, 0, 0.2))}");
}
function pre(t) {
  var e, n, r, i;
  return { c: function() {
    $(e = U("div"), "role", "textbox"), $(e, "tabindex", "0"), $(e, "class", n = ir(xs("jse-editable-div", t[2], { "jse-short-text": t[0] })) + " svelte-zwlnit"), $(e, "contenteditable", "true"), $(e, "spellcheck", "false");
  }, m: function(o, s) {
    X(o, e, s), t[13](e), r || (i = [_e(e, "input", t[3]), _e(e, "keydown", t[4]), _e(e, "paste", t[5]), _e(e, "blur", t[6])], r = !0);
  }, p: function(o, s) {
    5 & Mt(s, 1)[0] && n !== (n = ir(xs("jse-editable-div", o[2], { "jse-short-text": o[0] })) + " svelte-zwlnit") && $(e, "class", n);
  }, i: Te, o: Te, d: function(o) {
    o && Q(e), t[13](null), r = !1, Dn(i);
  } };
}
function mre(t, e, n) {
  var r, i, o = Jr("jsoneditor:EditableDiv"), s = e.value, a = e.shortText, l = a !== void 0 && a, c = e.onChange, u = e.onCancel, f = e.onFind, d = e.onPaste, h = d === void 0 ? Kn : d, p = e.onValueClass, m = p === void 0 ? function() {
    return "";
  } : p, g = !1;
  function v() {
    return r ? function(w) {
      return w.replace(/\n$/, "");
    }(r.innerText) : "";
  }
  function y(w) {
    r && n(1, r.innerText = El(w), r);
  }
  function x() {
    var w = v();
    w === "" && y(""), n(2, i = m(w));
  }
  function b() {
    g = !0, u();
  }
  return $o(function() {
    o("onMount", { value: s }), y(s), r && (oT(r), n(1, r.refresh = x, r), n(1, r.cancel = b, r));
  }), to(function() {
    var w = v();
    o("onDestroy", { closed: g, value: s, newValue: w }), g || w === s || c(w, ka.no);
  }), t.$$set = function(w) {
    "value" in w && n(7, s = w.value), "shortText" in w && n(0, l = w.shortText), "onChange" in w && n(8, c = w.onChange), "onCancel" in w && n(9, u = w.onCancel), "onFind" in w && n(10, f = w.onFind), "onPaste" in w && n(11, h = w.onPaste), "onValueClass" in w && n(12, m = w.onValueClass);
  }, t.$$.update = function() {
    4224 & t.$$.dirty && n(2, i = m(s));
  }, [l, r, i, x, function(w) {
    w.stopPropagation();
    var j = Ga(w);
    if (j === "Escape" && b(), j === "Enter" || j === "Tab") {
      g = !0;
      var k = v();
      c(k, ka.nextInside);
    }
    j === "Ctrl+F" && (w.preventDefault(), f(!1)), j === "Ctrl+H" && (w.preventDefault(), f(!0));
  }, function(w) {
    if (w.stopPropagation(), h && w.clipboardData) {
      var j = w.clipboardData.getData("text/plain");
      h(j);
    }
  }, function() {
    var w = document.hasFocus(), j = v();
    o("handleBlur", { hasFocus: w, closed: g, value: s, newValue: j }), document.hasFocus() && !g && (g = !0, j !== s && c(j, ka.self));
  }, s, c, u, f, h, m, function(w) {
    tn[w ? "unshift" : "push"](function() {
      n(1, r = w);
    });
  }];
}
var bT = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, mre, pre, Lt, { value: 7, shortText: 0, onChange: 8, onCancel: 9, onFind: 10, onPaste: 11, onValueClass: 12 }, hre), r;
  }
  return at(e, ct), ot(e);
}();
function gre(t) {
  var e, n;
  return e = new bT({ props: { value: t[1].escapeValue(t[0]), onChange: t[3], onCancel: t[4], onPaste: t[5], onFind: t[2], onValueClass: t[6] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = Mt(i, 1)[0], s = {};
    3 & o && (s.value = r[1].escapeValue(r[0])), 4 & o && (s.onFind = r[2]), e.$set(s);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function vre(t, e, n) {
  var r = e.path, i = e.value, o = e.parser, s = e.normalization, a = e.enforceString, l = e.onPatch, c = e.onPasteJson, u = e.onSelect, f = e.onFind, d = e.focus, h = e.findNextInside;
  function p(m) {
    return a ? m : uu(m, o);
  }
  return t.$$set = function(m) {
    "path" in m && n(7, r = m.path), "value" in m && n(0, i = m.value), "parser" in m && n(8, o = m.parser), "normalization" in m && n(1, s = m.normalization), "enforceString" in m && n(9, a = m.enforceString), "onPatch" in m && n(10, l = m.onPatch), "onPasteJson" in m && n(11, c = m.onPasteJson), "onSelect" in m && n(12, u = m.onSelect), "onFind" in m && n(2, f = m.onFind), "focus" in m && n(13, d = m.focus), "findNextInside" in m && n(14, h = m.findNextInside);
  }, [i, s, f, function(m, g) {
    l([{ op: "replace", path: We(r), value: p(s.unescapeValue(m)) }], function(v, y) {
      if (!y.selection || en(r, ht(y.selection))) {
        var x = g === ka.nextInside ? h(r) : Gt(r, !1);
        return { state: he(he({}, y), {}, { selection: x }) };
      }
    }), d();
  }, function() {
    u(Gt(r, !1)), d();
  }, function(m) {
    try {
      var g = o.parse(m);
      cr(g) && c({ path: r, contents: g });
    } catch {
    }
  }, function(m) {
    return Mf(p(s.unescapeValue(m)), o);
  }, r, o, a, l, c, u, d, h];
}
var yre = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, vre, gre, Lt, { path: 7, value: 0, parser: 8, normalization: 1, enforceString: 9, onPatch: 10, onPasteJson: 11, onSelect: 12, onFind: 2, focus: 13, findNextInside: 14 }), r;
  }
  return at(e, ct), ot(e);
}();
function cc(t, e, n) {
  var r = Zt(e), i = Xe(t, r);
  if (zn(i)) {
    var o = ri(_t(e));
    return n.map(function(c, u) {
      return { op: "add", path: We(r.concat(String(o + u))), value: c.value };
    });
  }
  if (dr(i)) {
    var s = _t(e), a = Object.keys(i), l = s !== void 0 ? sd(a, s, !0) : [];
    return [].concat(Wt(n.map(function(c) {
      var u = od(c.key, a);
      return { op: "add", path: We(r.concat(u)), value: c.value };
    })), Wt(l.map(function(c) {
      return Ml(r, c);
    })));
  }
  throw new Error("Cannot create insert operations: parent must be an Object or Array");
}
function T0(t, e, n) {
  var r = Xe(t, e);
  if (Array.isArray(r)) {
    var i = r.length;
    return n.map(function(o, s) {
      return { op: "add", path: We(e.concat(String(i + s))), value: o.value };
    });
  }
  return n.map(function(o) {
    var s = od(o.key, Object.keys(r));
    return { op: "add", path: We(e.concat(s)), value: o.value };
  });
}
function ad(t, e, n, r) {
  var i = od(r, e.filter(function(s) {
    return s !== n;
  })), o = sd(e, n, !1);
  return [{ op: "move", from: We(t.concat(n)), path: We(t.concat(i)) }].concat(Wt(o.map(function(s) {
    return Ml(t, s);
  })));
}
function xT(t, e) {
  var n = _t(e);
  if (dn(n))
    throw new Error("Cannot duplicate root object");
  var r = Zt(n), i = _t(n), o = Xe(t, r);
  if (zn(o)) {
    var s = _t(e), a = s ? ri(_t(s)) + 1 : 0;
    return Wt(e.map(function(u, f) {
      return { op: "copy", from: We(u), path: We(r.concat(String(f + a))) };
    }));
  }
  if (dr(o)) {
    var l = Object.keys(o), c = i !== void 0 ? sd(l, i, !1) : [];
    return [].concat(Wt(e.map(function(u) {
      var f = od(_t(u), l);
      return { op: "copy", from: We(u), path: We(r.concat(f)) };
    })), Wt(c.map(function(u) {
      return Ml(r, u);
    })));
  }
  throw new Error("Cannot create duplicate operations: parent must be an Object or Array");
}
function wT(t, e, n, r) {
  if (jr(e)) {
    var i = KM(n, r), o = Zt(e.path), s = Xe(t, o);
    return ad(o, Object.keys(s), _t(e.path), typeof i == "string" ? i : n);
  }
  if (sn(e) || Tn(e) && dn(e.focusPath))
    try {
      return [{ op: "replace", path: We(ht(e)), value: Pm(n, function(j) {
        return rd(j, r);
      }) }];
    } catch {
      return [{ op: "replace", path: We(ht(e)), value: n }];
    }
  if (Tn(e)) {
    var a = Wg(n, r);
    return function(j, k, N) {
      var z = Xi(k), _ = Zt(z), B = Xe(j, _);
      if (zn(B)) {
        var I = Xi(k), Y = I ? ri(_t(I)) : 0;
        return [].concat(Wt(Sp(k)), Wt(N.map(function(T, O) {
          return { op: "add", path: We(_.concat(String(O + Y))), value: T.value };
        })));
      }
      if (dr(B)) {
        var R = _t(k), Z = Zt(R), ne = _t(R), V = Object.keys(B), M = ne !== void 0 ? sd(V, ne, !1) : [], F = new Set(k.map(function(T) {
          return _t(T);
        })), P = V.filter(function(T) {
          return !F.has(T);
        });
        return [].concat(Wt(Sp(k)), Wt(N.map(function(T) {
          var O = od(T.key, P);
          return { op: "add", path: We(Z.concat(O)), value: T.value };
        })), Wt(M.map(function(T) {
          return Ml(Z, T);
        })));
      }
      throw new Error("Cannot create replace operations: parent must be an Object or Array");
    }(t, Sa(t, e), a);
  }
  if (Ii(e)) {
    var l = Wg(n, r), c = e.path, u = Zt(c), f = Xe(t, u);
    if (zn(f)) {
      var d = ri(_t(c));
      return cc(t, u.concat(String(d + 1)), l);
    }
    if (dr(f)) {
      var h = String(_t(c)), p = Object.keys(f);
      if (dn(p) || _t(p) === h)
        return T0(t, u, l);
      var m = p.indexOf(h), g = p[m + 1];
      return cc(t, u.concat(g), l);
    }
    throw new Error("Cannot create insert operations: parent must be an Object or Array");
  }
  if (Cr(e)) {
    var v = Wg(n, r), y = e.path, x = Xe(t, y);
    if (zn(x))
      return cc(t, y.concat("0"), v);
    if (dr(x)) {
      var b = Object.keys(x);
      if (dn(b))
        return T0(t, y, v);
      var w = Xi(b);
      return cc(t, y.concat(w), v);
    }
    throw new Error("Cannot create insert operations: parent must be an Object or Array");
  }
  throw new Error("Cannot insert: unsupported type of selection " + JSON.stringify(e));
}
function Sp(t) {
  return t.map(function(e) {
    return { op: "remove", path: We(e) };
  }).reverse();
}
function Ml(t, e) {
  return { op: "move", from: We(t.concat(e)), path: We(t.concat(e)) };
}
function Wg(t, e) {
  var n = /^\s*{/.test(t), r = /^\s*\[/.test(t), i = KM(t, e), o = i !== void 0 ? i : Pm(t, function(s) {
    return rd(s, e);
  });
  return n && Yn(o) || r && Array.isArray(o) ? [{ key: "New item", value: o }] : Array.isArray(o) ? o.map(function(s, a) {
    return { key: "New item " + a, value: s };
  }) : Yn(o) ? Object.keys(o).map(function(s) {
    return { key: s, value: o[s] };
  }) : [{ key: "New item", value: o }];
}
function jT(t, e) {
  if (jr(e)) {
    var n = Zt(e.path), r = Xe(t, n), i = ad(n, Object.keys(r), _t(e.path), "");
    return { operations: i, newSelection: zc(t, i) };
  }
  if (sn(e))
    return { operations: [{ op: "replace", path: We(e.path), value: "" }], newSelection: e };
  if (Tn(e)) {
    var o = Sa(t, e), s = Sp(o), a = _t(o);
    if (dn(a))
      return { operations: [{ op: "replace", path: "", value: "" }], newSelection: Gt([], !1) };
    var l = Zt(a), c = Xe(t, l);
    if (zn(c)) {
      var u = Xi(o), f = ri(_t(u));
      return { operations: s, newSelection: f === 0 ? Zs(l) : zs(l.concat(String(f - 1))) };
    }
    if (dr(c)) {
      var d = Object.keys(c), h = Xi(o), p = _t(h), m = d.indexOf(p), g = d[m - 1];
      return { operations: s, newSelection: m === 0 ? Zs(l) : zs(l.concat(g)) };
    }
    throw new Error("Cannot create remove operations: parent must be an Object or Array");
  }
  throw new Error("Cannot remove: unsupported type of selection " + JSON.stringify(e));
}
function $T(t, e) {
  return IS(t, e, { before: function(n, r, i) {
    if (ES(r)) {
      var o = zo(r.path);
      return { revertOperations: [].concat(Wt(i), Wt(x$(n, o))) };
    }
    if (fc(r)) {
      var s = zo(r.from);
      return { revertOperations: [].concat(Wt(i), Wt(x$(n, s))) };
    }
    return { document: n };
  } });
}
function x$(t, e) {
  var n = Zt(e), r = _t(e), i = Xe(t, n);
  return dr(i) ? sd(Object.keys(i), r, !1).map(function(o) {
    return Ml(n, o);
  }) : [];
}
function bre(t) {
  var e = t.activeIndex < t.items.length - 1 ? t.activeIndex + 1 : t.items.length > 0 ? 0 : -1, n = t.items[e], r = t.items.map(function(i, o) {
    return he(he({}, i), {}, { active: o === e });
  });
  return he(he({}, t), {}, { items: r, itemsMap: eu(r, function(i) {
    return We(i.path);
  }), activeItem: n, activeIndex: e });
}
function xre(t) {
  var e = t.activeIndex > 0 ? t.activeIndex - 1 : t.items.length - 1, n = t.items[e], r = t.items.map(function(i, o) {
    return he(he({}, i), {}, { active: o === e });
  });
  return he(he({}, t), {}, { items: r, itemsMap: eu(r, function(i) {
    return We(i.path);
  }), activeItem: n, activeIndex: e });
}
function kT(t, e) {
  var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 1 / 0, r = [], i = [];
  function o(s) {
    r.length < n && r.push(s);
  }
  return typeof t == "string" && t !== "" && function s(a, l) {
    if (zn(l)) {
      var c = i.length;
      i.push("0");
      for (var u = 0; u < l.length; u++)
        if (i[c] = String(u), s(a, l[u]), r.length >= n)
          return;
      i.pop();
    } else if (dr(l)) {
      var f = Object.keys(l), d = i.length;
      i.push("");
      for (var h = 0, p = f; h < p.length; h++) {
        var m = p[h];
        if (i[d] = m, w$(m, a, i, qo.key, o), s(a, l[m]), r.length >= n)
          return;
      }
      i.pop();
    } else
      w$(String(l), a, i, qo.value, o);
  }(t.toLowerCase(), e), r;
}
function w$(t, e, n, r, i) {
  var o = t.toLowerCase(), s = 0, a = -1, l = -1;
  do
    (l = o.indexOf(e, a)) !== -1 && (a = l + e.length, i({ path: n.slice(0), field: r, fieldIndex: s, start: l, end: a }), s++);
  while (l !== -1);
}
function R0(t, e, n, r) {
  return t.substring(0, n) + e + t.substring(r);
}
function j$(t, e, n) {
  var r = t;
  return sf(n, function(i) {
    r = R0(r, e, i.start, i.end);
  }), r;
}
function wre(t, e, n, r, i) {
  var o = r.field, s = r.path, a = r.start, l = r.end;
  if (o === qo.key) {
    var c = Zt(s), u = Xe(t, c), f = _t(s), d = ad(c, Object.keys(u), f, R0(f, n, a, l));
    return { newSelection: zc(t, d), operations: d };
  }
  if (o === qo.value) {
    var h = Xe(t, s);
    if (h === void 0)
      throw new Error("Cannot replace: path not found ".concat(We(s)));
    var p = typeof h == "string" ? h : String(h), m = We(s), g = Xs(h, e.enforceStringMap, m, i), v = R0(p, n, a, l), y = [{ op: "replace", path: We(s), value: g ? v : uu(v, i) }];
    return { newSelection: zc(t, y), operations: y };
  }
  throw new Error("Cannot replace: unknown type of search result field ".concat(o));
}
function jre(t, e, n, r, i) {
  for (var o = kT(n, t, 1 / 0), s = [], a = 0; a < o.length; a++) {
    var l = o[a - 1], c = o[a];
    a !== 0 && c.field === l.field && en(c.path, l.path) ? _t(s).items.push(c) : s.push({ path: c.path, field: c.field, items: [c] });
  }
  s.sort(function(d, h) {
    return d.field !== h.field ? d.field === qo.key ? 1 : -1 : h.path.length - d.path.length;
  });
  var u = [], f = null;
  return s.forEach(function(d) {
    var h = d.field, p = d.path, m = d.items;
    if (h === qo.key) {
      var g = Zt(p), v = Xe(t, g), y = _t(p), x = ad(g, Object.keys(v), y, j$(y, r, m));
      u = u.concat(x), f = zc(t, x);
    } else {
      if (h !== qo.value)
        throw new Error("Cannot replace: unknown type of search result field ".concat(h));
      var b = Xe(t, p);
      if (b === void 0)
        throw new Error("Cannot replace: path not found ".concat(We(p)));
      var w = typeof b == "string" ? b : String(b), j = We(p), k = Xs(b, e.enforceStringMap, j, i), N = j$(w, r, m), z = [{ op: "replace", path: We(p), value: k ? N : uu(N, i) }];
      u = u.concat(z), f = zc(t, z);
    }
  }), { operations: u, newSelection: f };
}
function $$(t) {
  return t.path.concat(t.field, String(t.fieldIndex));
}
function $re(t, e) {
  var n, r = t == null || (n = t[e]) === null || n === void 0 ? void 0 : n.filter(function(i) {
    return i.field === qo.key;
  });
  if (r && r.length !== 0)
    return r;
}
function k$(t, e) {
  var n, r = t == null || (n = t[e]) === null || n === void 0 ? void 0 : n.filter(function(i) {
    return i.field === qo.value;
  });
  if (r && r.length !== 0)
    return r;
}
function kre(t) {
  Tt(t, "svelte-1n1l5ny", ".jse-highlight.svelte-1n1l5ny{background-color:var(--jse-search-match-color, #ffe665);outline:var(--jse-search-match-outline, 1px solid #ffd700)}.jse-highlight.jse-active.svelte-1n1l5ny{background-color:var(--jse-search-match-active-color, #ffd700);outline:var(--jse-search-match-active-outline, 1px solid #e1be00)}");
}
function S$(t, e, n) {
  var r = t.slice();
  return r[3] = e[n], r;
}
function Sre(t) {
  var e, n, r = El(t[3].text) + "";
  return { c: function() {
    e = U("span"), n = Le(r), $(e, "class", "jse-highlight svelte-1n1l5ny"), Se(e, "jse-active", t[3].active);
  }, m: function(i, o) {
    X(i, e, o), E(e, n);
  }, p: function(i, o) {
    1 & o && r !== (r = El(i[3].text) + "") && yt(n, r), 1 & o && Se(e, "jse-active", i[3].active);
  }, d: function(i) {
    i && Q(e);
  } };
}
function Cre(t) {
  var e, n = t[3].text + "";
  return { c: function() {
    e = Le(n);
  }, m: function(r, i) {
    X(r, e, i);
  }, p: function(r, i) {
    1 & i && n !== (n = r[3].text + "") && yt(e, n);
  }, d: function(r) {
    r && Q(e);
  } };
}
function C$(t) {
  var e;
  function n(o, s) {
    return o[3].type === "normal" ? Cre : Sre;
  }
  var r = n(t), i = r(t);
  return { c: function() {
    i.c(), e = wn();
  }, m: function(o, s) {
    i.m(o, s), X(o, e, s);
  }, p: function(o, s) {
    r === (r = n(o)) && i ? i.p(o, s) : (i.d(1), (i = r(o)) && (i.c(), i.m(e.parentNode, e)));
  }, d: function(o) {
    o && Q(e), i.d(o);
  } };
}
function _re(t) {
  for (var e, n = Et(t[0]), r = [], i = 0; i < n.length; i += 1)
    r[i] = C$(S$(t, n, i));
  return { c: function() {
    for (var o = 0; o < r.length; o += 1)
      r[o].c();
    e = wn();
  }, m: function(o, s) {
    for (var a = 0; a < r.length; a += 1)
      r[a] && r[a].m(o, s);
    X(o, e, s);
  }, p: function(o, s) {
    var a = Mt(s, 1)[0];
    if (1 & a) {
      var l;
      for (n = Et(o[0]), l = 0; l < n.length; l += 1) {
        var c = S$(o, n, l);
        r[l] ? r[l].p(c, a) : (r[l] = C$(c), r[l].c(), r[l].m(e.parentNode, e));
      }
      for (; l < r.length; l += 1)
        r[l].d(1);
      r.length = n.length;
    }
  }, i: Te, o: Te, d: function(o) {
    o && Q(e), Sr(r, o);
  } };
}
function Ore(t, e, n) {
  var r, i = e.text, o = e.searchResultItems;
  return t.$$set = function(s) {
    "text" in s && n(1, i = s.text), "searchResultItems" in s && n(2, o = s.searchResultItems);
  }, t.$$.update = function() {
    6 & t.$$.dirty && n(0, r = function(s, a) {
      var l, c = [], u = 0, f = Sf(a);
      try {
        for (f.s(); !(l = f.n()).done; ) {
          var d = l.value, h = s.slice(u, d.start);
          h !== "" && c.push({ type: "normal", text: h, active: !1 });
          var p = s.slice(d.start, d.end);
          c.push({ type: "highlight", text: p, active: d.active }), u = d.end;
        }
      } catch (g) {
        f.e(g);
      } finally {
        f.f();
      }
      var m = _t(a);
      return m && m.end < s.length && c.push({ type: "normal", text: s.slice(m.end), active: !1 }), c;
    }(String(i), o));
  }, [r, i, o];
}
var ST = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Ore, _re, Nr, { text: 1, searchResultItems: 2 }, kre), r;
  }
  return at(e, ct), ot(e);
}();
function Are(t) {
  Tt(t, "svelte-1v88515", '.jse-value.jse-string.svelte-1v88515{color:var(--jse-value-color-string, #008000)}.jse-value.jse-object.svelte-1v88515,.jse-value.jse-array.svelte-1v88515{min-width:16px;color:var(--jse-delimiter-color, rgba(0, 0, 0, 0.38))}.jse-value.jse-number.svelte-1v88515{color:var(--jse-value-color-number, #ee422e)}.jse-value.jse-boolean.svelte-1v88515{color:var(--jse-value-color-boolean, #ff8c00)}.jse-value.jse-null.svelte-1v88515{color:var(--jse-value-color-null, #004ed0)}.jse-value.jse-invalid.svelte-1v88515{color:var(--jse-text-color, #4d4d4d)}.jse-value.jse-url.svelte-1v88515{color:var(--jse-value-color-url, #008000);text-decoration:underline}.jse-value.svelte-1v88515{min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;cursor:var(--jse-contents-cursor, pointer);word-break:normal;overflow-wrap:anywhere;white-space:pre-wrap}.jse-value.svelte-1v88515:hover{background:var(--jse-hover-background-color, rgba(0, 0, 0, 0.06))}.jse-value.jse-empty.svelte-1v88515{min-width:4em;outline:1px dotted var(--jse-tag-background, rgba(0, 0, 0, 0.2));-moz-outline-radius:2px}.jse-value.jse-empty.svelte-1v88515::after{pointer-events:none;color:var(--jse-tag-background, rgba(0, 0, 0, 0.2));content:"value"}');
}
function Ere(t) {
  var e, n = El(t[1].escapeValue(t[0])) + "";
  return { c: function() {
    e = Le(n);
  }, m: function(r, i) {
    X(r, e, i);
  }, p: function(r, i) {
    3 & i && n !== (n = El(r[1].escapeValue(r[0])) + "") && yt(e, n);
  }, i: Te, o: Te, d: function(r) {
    r && Q(e);
  } };
}
function Mre(t) {
  var e, n;
  return e = new ST({ props: { text: t[1].escapeValue(t[0]), searchResultItems: t[3] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    3 & i && (o.text = r[1].escapeValue(r[0])), 8 & i && (o.searchResultItems = r[3]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Tre(t) {
  var e, n, r, i, o, s, a, l, c = [Mre, Ere], u = [];
  function f(d, h) {
    return d[3] ? 0 : 1;
  }
  return n = f(t), r = u[n] = c[n](t), { c: function() {
    e = U("div"), r.c(), $(e, "role", "button"), $(e, "tabindex", "-1"), $(e, "data-type", "selectable-value"), $(e, "class", i = ir(Mf(t[0], t[2])) + " svelte-1v88515"), $(e, "title", o = t[4] ? "Ctrl+Click or Ctrl+Enter to open url in new window" : null);
  }, m: function(d, h) {
    X(d, e, h), u[n].m(e, null), s = !0, a || (l = [_e(e, "click", t[5]), _e(e, "dblclick", t[6])], a = !0);
  }, p: function(d, h) {
    var p = Mt(h, 1)[0], m = n;
    (n = f(d)) === m ? u[n].p(d, p) : (Ae(), A(u[m], 1, 1, function() {
      u[m] = null;
    }), Ee(), (r = u[n]) ? r.p(d, p) : (r = u[n] = c[n](d)).c(), S(r, 1), r.m(e, null)), (!s || 5 & p && i !== (i = ir(Mf(d[0], d[2])) + " svelte-1v88515")) && $(e, "class", i), (!s || 16 & p && o !== (o = d[4] ? "Ctrl+Click or Ctrl+Enter to open url in new window" : null)) && $(e, "title", o);
  }, i: function(d) {
    s || (S(r), s = !0);
  }, o: function(d) {
    A(r), s = !1;
  }, d: function(d) {
    d && Q(e), u[n].d(), a = !1, Dn(l);
  } };
}
function Rre(t, e, n) {
  var r, i = e.path, o = e.value, s = e.readOnly, a = e.normalization, l = e.parser, c = e.onSelect, u = e.searchResultItems;
  return t.$$set = function(f) {
    "path" in f && n(7, i = f.path), "value" in f && n(0, o = f.value), "readOnly" in f && n(8, s = f.readOnly), "normalization" in f && n(1, a = f.normalization), "parser" in f && n(2, l = f.parser), "onSelect" in f && n(9, c = f.onSelect), "searchResultItems" in f && n(3, u = f.searchResultItems);
  }, t.$$.update = function() {
    1 & t.$$.dirty && n(4, r = Rm(o));
  }, [o, a, l, u, r, function(f) {
    typeof o == "string" && r && f.ctrlKey && (f.preventDefault(), f.stopPropagation(), window.open(o, "_blank"));
  }, function(f) {
    s || (f.preventDefault(), c(Gt(i, !0)));
  }, i, s, c];
}
var Pre = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Rre, Tre, Lt, { path: 7, value: 0, readOnly: 8, normalization: 1, parser: 2, onSelect: 9, searchResultItems: 3 }, Are), r;
  }
  return at(e, ct), ot(e);
}();
function Ire(t) {
  Tt(t, "svelte-1sftg37", '.jse-tooltip.svelte-1sftg37{font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);line-height:normal;padding:calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);border-radius:3px;background:var(--jse-context-menu-background, #656565);color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));white-space:nowrap;box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24))}');
}
function Nre(t) {
  var e, n;
  return { c: function() {
    e = U("div"), n = Le(t[0]), $(e, "class", "jse-tooltip svelte-1sftg37");
  }, m: function(r, i) {
    X(r, e, i), E(e, n);
  }, p: function(r, i) {
    1 & Mt(i, 1)[0] && yt(n, r[0]);
  }, i: Te, o: Te, d: function(r) {
    r && Q(e);
  } };
}
function Dre(t, e, n) {
  var r = e.text;
  return t.$$set = function(i) {
    "text" in i && n(0, r = i.text);
  }, [r];
}
var Lre = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Dre, Nre, Nr, { text: 0 }, Ire), r;
  }
  return at(e, ct), ot(e);
}();
function Qb(t, e) {
  var n, r = e.text, i = e.openAbsolutePopup, o = e.closeAbsolutePopup;
  function s() {
    n = i(Lre, { text: r }, { position: "top", width: 10 * r.length, offsetTop: 3, anchor: t, closeOnOuterClick: !0 });
  }
  function a() {
    o(n);
  }
  return t.addEventListener("mouseenter", s), t.addEventListener("mouseleave", a), { destroy: function() {
    t.removeEventListener("mouseenter", s), t.removeEventListener("mouseleave", a);
  } };
}
function Bre(t) {
  Tt(t, "svelte-1sqrs1u", ".jse-timestamp.svelte-1sqrs1u{padding:0;margin:0;vertical-align:middle;display:inline-flex;color:var(--jse-value-color-number, #ee422e)}");
}
function qre(t) {
  var e, n, r, i, o, s;
  return n = new cn({ props: { data: vW } }), { c: function() {
    e = U("div"), we(n.$$.fragment), $(e, "class", "jse-timestamp svelte-1sqrs1u");
  }, m: function(a, l) {
    X(a, e, l), be(n, e, null), i = !0, o || (s = Wr(r = Qb.call(null, e, he({ text: t[0] }, t[1]))), o = !0);
  }, p: function(a, l) {
    var c = Mt(l, 1)[0];
    r && di(r.update) && 1 & c && r.update.call(null, he({ text: a[0] }, a[1]));
  }, i: function(a) {
    i || (S(n.$$.fragment, a), i = !0);
  }, o: function(a) {
    A(n.$$.fragment, a), i = !1;
  }, d: function(a) {
    a && Q(e), xe(n), o = !1, s();
  } };
}
function zre(t, e, n) {
  var r, i = Hr("absolute-popup"), o = e.value;
  return t.$$set = function(s) {
    "value" in s && n(2, o = s.value);
  }, t.$$.update = function() {
    4 & t.$$.dirty && n(0, r = "Time: ".concat(new Date(o).toString()));
  }, [r, i, o];
}
var Fre = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, zre, qre, Lt, { value: 2 }, Bre), r;
  }
  return at(e, ct), ot(e);
}();
function Vre(t) {
  var e = t.path, n = t.value, r = t.readOnly, i = t.enforceString, o = t.searchResultItems, s = t.isEditing, a = t.parser, l = t.normalization, c = t.onPatch, u = t.onPasteJson, f = t.onSelect, d = t.onFind, h = t.findNextInside, p = t.focus, m = [];
  return !s && /* @__PURE__ */ function(g) {
    return g === !0 || g === !1;
  }(n) && m.push({ component: rre, props: { path: e, value: n, readOnly: r, onPatch: c, focus: p } }), !s && function(g) {
    return typeof g == "string" && g.length < 99 && !!UM(g);
  }(n) && m.push({ component: fre, props: { path: e, value: n, readOnly: r, onPatch: c, focus: p } }), s && m.push({ component: yre, props: { path: e, value: n, enforceString: i, parser: a, normalization: l, onPatch: c, onPasteJson: u, onSelect: f, onFind: d, findNextInside: h, focus: p } }), s || m.push({ component: Pre, props: { path: e, value: n, readOnly: r, parser: a, normalization: l, searchResultItems: o, onSelect: f } }), !s && C0(n) && m.push({ component: Fre, props: { value: n } }), m;
}
var _u = {}, Xd = { showWizard: !0, showOriginal: !0 }, Cp = Math.min, gl = Math.max, _p = Math.round, Zd = Math.floor, Ba = function(t) {
  return { x: t, y: t };
}, Wre = { left: "right", right: "left", bottom: "top", top: "bottom" }, Hre = { start: "end", end: "start" };
function _$(t, e, n) {
  return gl(t, Cp(e, n));
}
function Lm(t, e) {
  return typeof t == "function" ? t(e) : t;
}
function Tl(t) {
  return t.split("-")[0];
}
function Bm(t) {
  return t.split("-")[1];
}
function CT(t) {
  return t === "x" ? "y" : "x";
}
function _T(t) {
  return t === "y" ? "height" : "width";
}
function qm(t) {
  return ["top", "bottom"].includes(Tl(t)) ? "y" : "x";
}
function OT(t) {
  return CT(qm(t));
}
function Ure(t, e, n) {
  n === void 0 && (n = !1);
  var r = Bm(t), i = OT(t), o = _T(i), s = i === "x" ? r === (n ? "end" : "start") ? "right" : "left" : r === "start" ? "bottom" : "top";
  return e.reference[o] > e.floating[o] && (s = Op(s)), [s, Op(s)];
}
function Jre(t) {
  var e = Op(t);
  return [P0(t), e, P0(e)];
}
function P0(t) {
  return t.replace(/start|end/g, function(e) {
    return Hre[e];
  });
}
function Gre(t, e, n, r) {
  var i = Bm(t), o = function(s, a, l) {
    var c = ["left", "right"], u = ["right", "left"];
    switch (s) {
      case "top":
      case "bottom":
        return l ? a ? u : c : a ? c : u;
      case "left":
      case "right":
        return a ? ["top", "bottom"] : ["bottom", "top"];
      default:
        return [];
    }
  }(Tl(t), n === "start", r);
  return i && (o = o.map(function(s) {
    return s + "-" + i;
  }), e && (o = o.concat(o.map(P0)))), o;
}
function Op(t) {
  return t.replace(/left|right|bottom|top/g, function(e) {
    return Wre[e];
  });
}
function Kre(t) {
  return typeof t != "number" ? function(e) {
    return he({ top: 0, right: 0, bottom: 0, left: 0 }, e);
  }(t) : { top: t, right: t, bottom: t, left: t };
}
function Ap(t) {
  return he(he({}, t), {}, { top: t.y, left: t.x, right: t.x + t.width, bottom: t.y + t.height });
}
function O$(t, e, n) {
  var r, i = t.reference, o = t.floating, s = qm(e), a = OT(e), l = _T(a), c = Tl(e), u = s === "y", f = i.x + i.width / 2 - o.width / 2, d = i.y + i.height / 2 - o.height / 2, h = i[l] / 2 - o[l] / 2;
  switch (c) {
    case "top":
      r = { x: f, y: i.y - o.height };
      break;
    case "bottom":
      r = { x: f, y: i.y + i.height };
      break;
    case "right":
      r = { x: i.x + i.width, y: d };
      break;
    case "left":
      r = { x: i.x - o.width, y: d };
      break;
    default:
      r = { x: i.x, y: i.y };
  }
  switch (Bm(e)) {
    case "start":
      r[a] -= h * (n && u ? -1 : 1);
      break;
    case "end":
      r[a] += h * (n && u ? -1 : 1);
  }
  return r;
}
var Yre = function() {
  var t = Dt(Ne().mark(function e(n, r, i) {
    var o, s, a, l, c, u, f, d, h, p, m, g, v, y, x, b, w, j, k, N, z, _, B, I, Y, R;
    return Ne().wrap(function(Z) {
      for (; ; )
        switch (Z.prev = Z.next) {
          case 0:
            return o = i.placement, s = o === void 0 ? "bottom" : o, a = i.strategy, l = a === void 0 ? "absolute" : a, c = i.middleware, u = c === void 0 ? [] : c, f = i.platform, d = u.filter(Boolean), Z.next = 4, f.isRTL == null ? void 0 : f.isRTL(r);
          case 4:
            return h = Z.sent, Z.next = 7, f.getElementRects({ reference: n, floating: r, strategy: l });
          case 7:
            p = Z.sent, m = O$(p, s, h), g = m.x, v = m.y, y = s, x = {}, b = 0, w = 0;
          case 13:
            if (!(w < d.length)) {
              Z.next = 46;
              break;
            }
            return j = d[w], k = j.name, N = j.fn, Z.next = 17, N({ x: g, y: v, initialPlacement: s, placement: y, strategy: l, middlewareData: x, rects: p, platform: f, elements: { reference: n, floating: r } });
          case 17:
            if (z = Z.sent, _ = z.x, B = z.y, I = z.data, Y = z.reset, g = _ ?? g, v = B ?? v, x = he(he({}, x), {}, eo({}, k, he(he({}, x[k]), I))), !(Y && b <= 50)) {
              Z.next = 43;
              break;
            }
            if (b++, Or(Y) !== "object") {
              Z.next = 41;
              break;
            }
            if (Y.placement && (y = Y.placement), !Y.rects) {
              Z.next = 38;
              break;
            }
            if (Y.rects !== !0) {
              Z.next = 36;
              break;
            }
            return Z.next = 33, f.getElementRects({ reference: n, floating: r, strategy: l });
          case 33:
            Z.t0 = Z.sent, Z.next = 37;
            break;
          case 36:
            Z.t0 = Y.rects;
          case 37:
            p = Z.t0;
          case 38:
            R = O$(p, y, h), g = R.x, v = R.y;
          case 41:
            return w = -1, Z.abrupt("continue", 43);
          case 43:
            w++, Z.next = 13;
            break;
          case 46:
            return Z.abrupt("return", { x: g, y: v, placement: y, strategy: l, middlewareData: x });
          case 47:
          case "end":
            return Z.stop();
        }
    }, e);
  }));
  return function(e, n, r) {
    return t.apply(this, arguments);
  };
}();
function AT(t, e) {
  return I0.apply(this, arguments);
}
function I0() {
  return I0 = Dt(Ne().mark(function t(e, n) {
    var r, i, o, s, a, l, c, u, f, d, h, p, m, g, v, y, x, b, w, j, k, N, z, _, B;
    return Ne().wrap(function(I) {
      for (; ; )
        switch (I.prev = I.next) {
          case 0:
            return n === void 0 && (n = {}), i = e.x, o = e.y, s = e.platform, a = e.rects, l = e.elements, c = e.strategy, u = Lm(n, e), f = u.boundary, d = f === void 0 ? "clippingAncestors" : f, h = u.rootBoundary, p = h === void 0 ? "viewport" : h, m = u.elementContext, g = m === void 0 ? "floating" : m, v = u.altBoundary, y = v !== void 0 && v, x = u.padding, b = Kre(x === void 0 ? 0 : x), w = g === "floating" ? "reference" : "floating", j = l[y ? w : g], I.t0 = Ap, I.t1 = s, I.next = 10, s.isElement == null ? void 0 : s.isElement(j);
          case 10:
            if (I.t2 = r = I.sent, I.t2 == null) {
              I.next = 15;
              break;
            }
            I.t3 = r, I.next = 16;
            break;
          case 15:
            I.t3 = !0;
          case 16:
            if (!I.t3) {
              I.next = 20;
              break;
            }
            I.t4 = j, I.next = 26;
            break;
          case 20:
            if (I.t5 = j.contextElement, I.t5) {
              I.next = 25;
              break;
            }
            return I.next = 24, s.getDocumentElement == null ? void 0 : s.getDocumentElement(l.floating);
          case 24:
            I.t5 = I.sent;
          case 25:
            I.t4 = I.t5;
          case 26:
            return I.t6 = I.t4, I.t7 = d, I.t8 = p, I.t9 = c, I.t10 = { element: I.t6, boundary: I.t7, rootBoundary: I.t8, strategy: I.t9 }, I.next = 33, I.t1.getClippingRect.call(I.t1, I.t10);
          case 33:
            return I.t11 = I.sent, k = (0, I.t0)(I.t11), N = g === "floating" ? he(he({}, a.floating), {}, { x: i, y: o }) : a.reference, I.next = 38, s.getOffsetParent == null ? void 0 : s.getOffsetParent(l.floating);
          case 38:
            return z = I.sent, I.next = 41, s.isElement == null ? void 0 : s.isElement(z);
          case 41:
            if (!I.sent) {
              I.next = 50;
              break;
            }
            return I.next = 44, s.getScale == null ? void 0 : s.getScale(z);
          case 44:
            if (I.t13 = I.sent, I.t13) {
              I.next = 47;
              break;
            }
            I.t13 = { x: 1, y: 1 };
          case 47:
            I.t12 = I.t13, I.next = 51;
            break;
          case 50:
            I.t12 = { x: 1, y: 1 };
          case 51:
            if (_ = I.t12, I.t14 = Ap, !s.convertOffsetParentRelativeRectToViewportRelativeRect) {
              I.next = 59;
              break;
            }
            return I.next = 56, s.convertOffsetParentRelativeRectToViewportRelativeRect({ rect: N, offsetParent: z, strategy: c });
          case 56:
            I.t15 = I.sent, I.next = 60;
            break;
          case 59:
            I.t15 = N;
          case 60:
            return I.t16 = I.t15, B = (0, I.t14)(I.t16), I.abrupt("return", { top: (k.top - B.top + b.top) / _.y, bottom: (B.bottom - k.bottom + b.bottom) / _.y, left: (k.left - B.left + b.left) / _.x, right: (B.right - k.right + b.right) / _.x });
          case 63:
          case "end":
            return I.stop();
        }
    }, t);
  })), I0.apply(this, arguments);
}
function Qre(t, e) {
  return N0.apply(this, arguments);
}
function N0() {
  return N0 = Dt(Ne().mark(function t(e, n) {
    var r, i, o, s, a, l, c, u, f, d, h, p, m, g;
    return Ne().wrap(function(v) {
      for (; ; )
        switch (v.prev = v.next) {
          case 0:
            return r = e.placement, i = e.platform, o = e.elements, v.next = 3, i.isRTL == null ? void 0 : i.isRTL(o.floating);
          case 3:
            return s = v.sent, a = Tl(r), l = Bm(r), c = qm(r) === "y", u = ["left", "top"].includes(a) ? -1 : 1, f = s && c ? -1 : 1, d = Lm(n, e), h = typeof d == "number" ? { mainAxis: d, crossAxis: 0, alignmentAxis: null } : he({ mainAxis: 0, crossAxis: 0, alignmentAxis: null }, d), p = h.mainAxis, m = h.crossAxis, g = h.alignmentAxis, l && typeof g == "number" && (m = l === "end" ? -1 * g : g), v.abrupt("return", c ? { x: m * f, y: p * u } : { x: p * u, y: m * f });
          case 13:
          case "end":
            return v.stop();
        }
    }, t);
  })), N0.apply(this, arguments);
}
function qa(t) {
  return ET(t) ? (t.nodeName || "").toLowerCase() : "#document";
}
function Yi(t) {
  var e;
  return (t == null || (e = t.ownerDocument) == null ? void 0 : e.defaultView) || window;
}
function Vs(t) {
  var e;
  return (e = (ET(t) ? t.ownerDocument : t.document) || window.document) == null ? void 0 : e.documentElement;
}
function ET(t) {
  return t instanceof Node || t instanceof Yi(t).Node;
}
function Ws(t) {
  return t instanceof Element || t instanceof Yi(t).Element;
}
function ws(t) {
  return t instanceof HTMLElement || t instanceof Yi(t).HTMLElement;
}
function A$(t) {
  return typeof ShadowRoot < "u" && (t instanceof ShadowRoot || t instanceof Yi(t).ShadowRoot);
}
function Tf(t) {
  var e = bo(t), n = e.overflow, r = e.overflowX, i = e.overflowY, o = e.display;
  return /auto|scroll|overlay|hidden|clip/.test(n + i + r) && !["inline", "contents"].includes(o);
}
function Xre(t) {
  return ["table", "td", "th"].includes(qa(t));
}
function D0(t) {
  var e = Xb(), n = bo(t);
  return n.transform !== "none" || n.perspective !== "none" || !!n.containerType && n.containerType !== "normal" || !e && !!n.backdropFilter && n.backdropFilter !== "none" || !e && !!n.filter && n.filter !== "none" || ["transform", "perspective", "filter"].some(function(r) {
    return (n.willChange || "").includes(r);
  }) || ["paint", "layout", "strict", "content"].some(function(r) {
    return (n.contain || "").includes(r);
  });
}
function Xb() {
  return !(typeof CSS > "u" || !CSS.supports) && CSS.supports("-webkit-backdrop-filter", "none");
}
function zm(t) {
  return ["html", "body", "#document"].includes(qa(t));
}
function bo(t) {
  return Yi(t).getComputedStyle(t);
}
function Fm(t) {
  return Ws(t) ? { scrollLeft: t.scrollLeft, scrollTop: t.scrollTop } : { scrollLeft: t.pageXOffset, scrollTop: t.pageYOffset };
}
function Fc(t) {
  if (qa(t) === "html")
    return t;
  var e = t.assignedSlot || t.parentNode || A$(t) && t.host || Vs(t);
  return A$(e) ? e.host : e;
}
function MT(t) {
  var e = Fc(t);
  return zm(e) ? t.ownerDocument ? t.ownerDocument.body : t.body : ws(e) && Tf(e) ? e : MT(e);
}
function Rf(t, e, n) {
  var r;
  e === void 0 && (e = []), n === void 0 && (n = !0);
  var i = MT(t), o = i === ((r = t.ownerDocument) == null ? void 0 : r.body), s = Yi(i);
  return o ? e.concat(s, s.visualViewport || [], Tf(i) ? i : [], s.frameElement && n ? Rf(s.frameElement) : []) : e.concat(i, Rf(i, [], n));
}
function TT(t) {
  var e = bo(t), n = parseFloat(e.width) || 0, r = parseFloat(e.height) || 0, i = ws(t), o = i ? t.offsetWidth : n, s = i ? t.offsetHeight : r, a = _p(n) !== o || _p(r) !== s;
  return a && (n = o, r = s), { width: n, height: r, $: a };
}
function Zb(t) {
  return Ws(t) ? t : t.contextElement;
}
function _c(t) {
  var e = Zb(t);
  if (!ws(e))
    return Ba(1);
  var n = e.getBoundingClientRect(), r = TT(e), i = r.width, o = r.height, s = r.$, a = (s ? _p(n.width) : n.width) / i, l = (s ? _p(n.height) : n.height) / o;
  return a && Number.isFinite(a) || (a = 1), l && Number.isFinite(l) || (l = 1), { x: a, y: l };
}
var Zre = Ba(0);
function RT(t) {
  var e = Yi(t);
  return Xb() && e.visualViewport ? { x: e.visualViewport.offsetLeft, y: e.visualViewport.offsetTop } : Zre;
}
function Rl(t, e, n, r) {
  e === void 0 && (e = !1), n === void 0 && (n = !1);
  var i = t.getBoundingClientRect(), o = Zb(t), s = Ba(1);
  e && (r ? Ws(r) && (s = _c(r)) : s = _c(t));
  var a = function(b, w, j) {
    return w === void 0 && (w = !1), !(!j || w && j !== Yi(b)) && w;
  }(o, n, r) ? RT(o) : Ba(0), l = (i.left + a.x) / s.x, c = (i.top + a.y) / s.y, u = i.width / s.x, f = i.height / s.y;
  if (o)
    for (var d = Yi(o), h = r && Ws(r) ? Yi(r) : r, p = d.frameElement; p && r && h !== d; ) {
      var m = _c(p), g = p.getBoundingClientRect(), v = bo(p), y = g.left + (p.clientLeft + parseFloat(v.paddingLeft)) * m.x, x = g.top + (p.clientTop + parseFloat(v.paddingTop)) * m.y;
      l *= m.x, c *= m.y, u *= m.x, f *= m.y, l += y, c += x, p = Yi(p).frameElement;
    }
  return Ap({ width: u, height: f, x: l, y: c });
}
function PT(t) {
  return Rl(Vs(t)).left + Fm(t).scrollLeft;
}
function E$(t, e, n) {
  var r;
  if (e === "viewport")
    r = function(o, s) {
      var a = Yi(o), l = Vs(o), c = a.visualViewport, u = l.clientWidth, f = l.clientHeight, d = 0, h = 0;
      if (c) {
        u = c.width, f = c.height;
        var p = Xb();
        (!p || p && s === "fixed") && (d = c.offsetLeft, h = c.offsetTop);
      }
      return { width: u, height: f, x: d, y: h };
    }(t, n);
  else if (e === "document")
    r = function(o) {
      var s = Vs(o), a = Fm(o), l = o.ownerDocument.body, c = gl(s.scrollWidth, s.clientWidth, l.scrollWidth, l.clientWidth), u = gl(s.scrollHeight, s.clientHeight, l.scrollHeight, l.clientHeight), f = -a.scrollLeft + PT(o), d = -a.scrollTop;
      return bo(l).direction === "rtl" && (f += gl(s.clientWidth, l.clientWidth) - c), { width: c, height: u, x: f, y: d };
    }(Vs(t));
  else if (Ws(e))
    r = function(o, s) {
      var a = Rl(o, !0, s === "fixed"), l = a.top + o.clientTop, c = a.left + o.clientLeft, u = ws(o) ? _c(o) : Ba(1);
      return { width: o.clientWidth * u.x, height: o.clientHeight * u.y, x: c * u.x, y: l * u.y };
    }(e, n);
  else {
    var i = RT(t);
    r = he(he({}, e), {}, { x: e.x - i.x, y: e.y - i.y });
  }
  return Ap(r);
}
function IT(t, e) {
  var n = Fc(t);
  return !(n === e || !Ws(n) || zm(n)) && (bo(n).position === "fixed" || IT(n, e));
}
function eie(t, e, n) {
  var r = ws(e), i = Vs(e), o = n === "fixed", s = Rl(t, !0, o, e), a = { scrollLeft: 0, scrollTop: 0 }, l = Ba(0);
  if (r || !r && !o)
    if ((qa(e) !== "body" || Tf(i)) && (a = Fm(e)), r) {
      var c = Rl(e, !0, o, e);
      l.x = c.x + e.clientLeft, l.y = c.y + e.clientTop;
    } else
      i && (l.x = PT(i));
  return { x: s.left + a.scrollLeft - l.x, y: s.top + a.scrollTop - l.y, width: s.width, height: s.height };
}
function M$(t, e) {
  return ws(t) && bo(t).position !== "fixed" ? e ? e(t) : t.offsetParent : null;
}
function T$(t, e) {
  var n = Yi(t);
  if (!ws(t))
    return n;
  for (var r = M$(t, e); r && Xre(r) && bo(r).position === "static"; )
    r = M$(r, e);
  return r && (qa(r) === "html" || qa(r) === "body" && bo(r).position === "static" && !D0(r)) ? n : r || function(i) {
    for (var o = Fc(i); ws(o) && !zm(o); ) {
      if (D0(o))
        return o;
      o = Fc(o);
    }
    return null;
  }(t) || n;
}
var tie = { convertOffsetParentRelativeRectToViewportRelativeRect: function(t) {
  var e = t.rect, n = t.offsetParent, r = t.strategy, i = ws(n), o = Vs(n);
  if (n === o)
    return e;
  var s = { scrollLeft: 0, scrollTop: 0 }, a = Ba(1), l = Ba(0);
  if ((i || !i && r !== "fixed") && ((qa(n) !== "body" || Tf(o)) && (s = Fm(n)), ws(n))) {
    var c = Rl(n);
    a = _c(n), l.x = c.x + n.clientLeft, l.y = c.y + n.clientTop;
  }
  return { width: e.width * a.x, height: e.height * a.y, x: e.x * a.x - s.scrollLeft * a.x + l.x, y: e.y * a.y - s.scrollTop * a.y + l.y };
}, getDocumentElement: Vs, getClippingRect: function(t) {
  var e = t.element, n = t.boundary, r = t.rootBoundary, i = t.strategy, o = n === "clippingAncestors" ? function(c, u) {
    var f = u.get(c);
    if (f)
      return f;
    for (var d = Rf(c, [], !1).filter(function(y) {
      return Ws(y) && qa(y) !== "body";
    }), h = null, p = bo(c).position === "fixed", m = p ? Fc(c) : c; Ws(m) && !zm(m); ) {
      var g = bo(m), v = D0(m);
      v || g.position !== "fixed" || (h = null), (p ? !v && !h : !v && g.position === "static" && h && ["absolute", "fixed"].includes(h.position) || Tf(m) && !v && IT(c, m)) ? d = d.filter(function(y) {
        return y !== m;
      }) : h = g, m = Fc(m);
    }
    return u.set(c, d), d;
  }(e, this._c) : [].concat(n), s = [].concat(Wt(o), [r]), a = s[0], l = s.reduce(function(c, u) {
    var f = E$(e, u, i);
    return c.top = gl(f.top, c.top), c.right = Cp(f.right, c.right), c.bottom = Cp(f.bottom, c.bottom), c.left = gl(f.left, c.left), c;
  }, E$(e, a, i));
  return { width: l.right - l.left, height: l.bottom - l.top, x: l.left, y: l.top };
}, getOffsetParent: T$, getElementRects: function() {
  var t = Dt(Ne().mark(function e(n) {
    var r, i, o, s, a;
    return Ne().wrap(function(l) {
      for (; ; )
        switch (l.prev = l.next) {
          case 0:
            return r = n.reference, i = n.floating, o = n.strategy, s = this.getOffsetParent || T$, a = this.getDimensions, l.t0 = eie, l.t1 = r, l.next = 7, s(i);
          case 7:
            return l.t2 = l.sent, l.t3 = o, l.t4 = (0, l.t0)(l.t1, l.t2, l.t3), l.t5 = he, l.t6 = { x: 0, y: 0 }, l.next = 14, a(i);
          case 14:
            return l.t7 = l.sent, l.t8 = (0, l.t5)(l.t6, l.t7), l.abrupt("return", { reference: l.t4, floating: l.t8 });
          case 17:
          case "end":
            return l.stop();
        }
    }, e, this);
  }));
  return function(e) {
    return t.apply(this, arguments);
  };
}(), getClientRects: function(t) {
  return Array.from(t.getClientRects());
}, getDimensions: function(t) {
  var e = TT(t);
  return { width: e.width, height: e.height };
}, getScale: _c, isElement: Ws, isRTL: function(t) {
  return bo(t).direction === "rtl";
} };
function nie(t, e, n, r) {
  r === void 0 && (r = {});
  var i = r, o = i.ancestorScroll, s = o === void 0 || o, a = i.ancestorResize, l = a === void 0 || a, c = i.elementResize, u = c === void 0 ? typeof ResizeObserver == "function" : c, f = i.layoutShift, d = f === void 0 ? typeof IntersectionObserver == "function" : f, h = i.animationFrame, p = h !== void 0 && h, m = Zb(t), g = s || l ? [].concat(Wt(m ? Rf(m) : []), Wt(Rf(e))) : [];
  g.forEach(function(j) {
    s && j.addEventListener("scroll", n, { passive: !0 }), l && j.addEventListener("resize", n);
  });
  var v, y = m && d ? function(j, k) {
    var N, z = null, _ = Vs(j);
    function B() {
      clearTimeout(N), z && z.disconnect(), z = null;
    }
    return function I(Y, R) {
      Y === void 0 && (Y = !1), R === void 0 && (R = 1), B();
      var Z = j.getBoundingClientRect(), ne = Z.left, V = Z.top, M = Z.width, F = Z.height;
      if (Y || k(), M && F) {
        var P = { rootMargin: -Zd(V) + "px " + -Zd(_.clientWidth - (ne + M)) + "px " + -Zd(_.clientHeight - (V + F)) + "px " + -Zd(ne) + "px", threshold: gl(0, Cp(1, R)) || 1 }, T = !0;
        try {
          z = new IntersectionObserver(O, he(he({}, P), {}, { root: _.ownerDocument }));
        } catch {
          z = new IntersectionObserver(O, P);
        }
        z.observe(j);
      }
      function O(L) {
        var C = L[0].intersectionRatio;
        if (C !== R) {
          if (!T)
            return I();
          C ? I(!1, C) : N = setTimeout(function() {
            I(!1, 1e-7);
          }, 100);
        }
        T = !1;
      }
    }(!0), B;
  }(m, n) : null, x = -1, b = null;
  u && (b = new ResizeObserver(function(j) {
    var k = Mt(j, 1)[0];
    k && k.target === m && b && (b.unobserve(e), cancelAnimationFrame(x), x = requestAnimationFrame(function() {
      b && b.observe(e);
    })), n();
  }), m && !p && b.observe(m), b.observe(e));
  var w = p ? Rl(t) : null;
  return p && function j() {
    var k = Rl(t);
    !w || k.x === w.x && k.y === w.y && k.width === w.width && k.height === w.height || n(), w = k, v = requestAnimationFrame(j);
  }(), n(), function() {
    g.forEach(function(j) {
      s && j.removeEventListener("scroll", n), l && j.removeEventListener("resize", n);
    }), y && y(), b && b.disconnect(), b = null, p && cancelAnimationFrame(v);
  };
}
var rie = function(t) {
  return t === void 0 && (t = {}), { name: "shift", options: t, fn: function(e) {
    return Dt(Ne().mark(function n() {
      var r, i, o, s, a, l, c, u, f, d, h, p, m, g, v, y, x, b, w, j, k, N, z, _;
      return Ne().wrap(function(B) {
        for (; ; )
          switch (B.prev = B.next) {
            case 0:
              return r = e.x, i = e.y, o = e.placement, s = Lm(t, e), a = s.mainAxis, l = a === void 0 || a, c = s.crossAxis, u = c !== void 0 && c, f = s.limiter, d = f === void 0 ? { fn: function(I) {
                return { x: I.x, y: I.y };
              } } : f, h = $M(s, Hte), p = { x: r, y: i }, B.next = 5, AT(e, h);
            case 5:
              return m = B.sent, g = qm(Tl(o)), v = CT(g), y = p[v], x = p[g], l && (b = v === "y" ? "bottom" : "right", w = y + m[v === "y" ? "top" : "left"], j = y - m[b], y = _$(w, y, j)), u && (k = g === "y" ? "bottom" : "right", N = x + m[g === "y" ? "top" : "left"], z = x - m[k], x = _$(N, x, z)), _ = d.fn(he(he({}, e), {}, eo(eo({}, v, y), g, x))), B.abrupt("return", he(he({}, _), {}, { data: { x: _.x - r, y: _.y - i } }));
            case 14:
            case "end":
              return B.stop();
          }
      }, n);
    }))();
  } };
}, iie = function(t) {
  return t === void 0 && (t = {}), { name: "flip", options: t, fn: function(e) {
    return Dt(Ne().mark(function n() {
      var r, i, o, s, a, l, c, u, f, d, h, p, m, g, v, y, x, b, w, j, k, N, z, _, B, I, Y, R, Z, ne, V, M, F, P, T, O, L;
      return Ne().wrap(function(C) {
        for (; ; )
          switch (C.prev = C.next) {
            case 0:
              if (o = e.placement, s = e.middlewareData, a = e.rects, l = e.initialPlacement, c = e.platform, u = e.elements, f = Lm(t, e), d = f.mainAxis, h = d === void 0 || d, p = f.crossAxis, m = p === void 0 || p, g = f.fallbackPlacements, v = f.fallbackStrategy, y = v === void 0 ? "bestFit" : v, x = f.fallbackAxisSideDirection, b = x === void 0 ? "none" : x, w = f.flipAlignment, j = w === void 0 || w, k = $M(f, Wte), (r = s.arrow) == null || !r.alignmentOffset) {
                C.next = 4;
                break;
              }
              return C.abrupt("return", {});
            case 4:
              return N = Tl(o), z = Tl(l) === l, C.next = 8, c.isRTL == null ? void 0 : c.isRTL(u.floating);
            case 8:
              return _ = C.sent, B = g || (z || !j ? [Op(l)] : Jre(l)), g || b === "none" || B.push.apply(B, Wt(Gre(l, j, b, _))), I = [l].concat(Wt(B)), C.next = 14, AT(e, k);
            case 14:
              if (Y = C.sent, R = [], Z = ((i = s.flip) == null ? void 0 : i.overflows) || [], h && R.push(Y[N]), m && (ne = Ure(o, a, _), R.push(Y[ne[0]], Y[ne[1]])), Z = [].concat(Wt(Z), [{ placement: o, overflows: R }]), R.every(function(H) {
                return H <= 0;
              })) {
                C.next = 37;
                break;
              }
              if (F = (((V = s.flip) == null ? void 0 : V.index) || 0) + 1, !(P = I[F])) {
                C.next = 25;
                break;
              }
              return C.abrupt("return", { data: { index: F, overflows: Z }, reset: { placement: P } });
            case 25:
              if (T = (M = Z.filter(function(H) {
                return H.overflows[0] <= 0;
              }).sort(function(H, ie) {
                return H.overflows[1] - ie.overflows[1];
              })[0]) == null ? void 0 : M.placement) {
                C.next = 35;
                break;
              }
              C.t0 = y, C.next = C.t0 === "bestFit" ? 30 : C.t0 === "initialPlacement" ? 33 : 35;
              break;
            case 30:
              return L = (O = Z.map(function(H) {
                return [H.placement, H.overflows.filter(function(ie) {
                  return ie > 0;
                }).reduce(function(ie, te) {
                  return ie + te;
                }, 0)];
              }).sort(function(H, ie) {
                return H[1] - ie[1];
              })[0]) == null ? void 0 : O[0], L && (T = L), C.abrupt("break", 35);
            case 33:
              return T = l, C.abrupt("break", 35);
            case 35:
              if (o === T) {
                C.next = 37;
                break;
              }
              return C.abrupt("return", { reset: { placement: T } });
            case 37:
              return C.abrupt("return", {});
            case 38:
            case "end":
              return C.stop();
          }
      }, n);
    }))();
  } };
}, oie = function(t, e, n) {
  var r = /* @__PURE__ */ new Map(), i = he({ platform: tie }, n), o = he(he({}, i.platform), {}, { _c: r });
  return Yre(t, e, he(he({}, i), {}, { platform: o }));
};
function sie(t) {
  var e = t.loadOptions, n = t.filterText, r = t.items, i = t.multiple, o = t.value, s = t.itemId, a = t.groupBy, l = t.filterSelectedItems, c = t.itemFilter, u = t.convertStringItemsToObjects, f = t.filterGroupedItems, d = t.label;
  if (r && e)
    return r;
  if (!r)
    return [];
  r && r.length > 0 && Or(r[0]) !== "object" && (r = u(r));
  var h = r.filter(function(p) {
    var m = c(p[d], n, p);
    return m && i && o != null && o.length && (m = !o.some(function(g) {
      return !!l && g[s] === p[s];
    })), m;
  });
  return a && (h = f(h)), h;
}
function aie(t) {
  return L0.apply(this, arguments);
}
function L0() {
  return L0 = Dt(Ne().mark(function t(e) {
    var n, r, i, o, s;
    return Ne().wrap(function(a) {
      for (; ; )
        switch (a.prev = a.next) {
          case 0:
            return n = e.dispatch, r = e.loadOptions, i = e.convertStringItemsToObjects, o = e.filterText, a.next = 3, r(o).catch(function(l) {
              console.warn("svelte-select loadOptions error :>> ", l), n("error", { type: "loadOptions", details: l });
            });
          case 3:
            if (!(s = a.sent) || s.cancelled) {
              a.next = 7;
              break;
            }
            return s ? (s && s.length > 0 && Or(s[0]) !== "object" && (s = i(s)), n("loaded", { items: s })) : s = [], a.abrupt("return", { filteredItems: s, loading: !1, focused: !0, listOpen: !0 });
          case 7:
          case "end":
            return a.stop();
        }
    }, t);
  })), L0.apply(this, arguments);
}
function lie(t) {
  Tt(t, "svelte-qbd276", "svg.svelte-qbd276{width:var(--chevron-icon-width, 20px);height:var(--chevron-icon-width, 20px);color:var(--chevron-icon-colour, currentColor)}");
}
function cie(t) {
  var e, n;
  return { c: function() {
    e = vs("svg"), $(n = vs("path"), "fill", "currentColor"), $(n, "d", `M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`), $(e, "width", "100%"), $(e, "height", "100%"), $(e, "viewBox", "0 0 20 20"), $(e, "focusable", "false"), $(e, "aria-hidden", "true"), $(e, "class", "svelte-qbd276");
  }, m: function(r, i) {
    X(r, e, i), E(e, n);
  }, p: Te, i: Te, o: Te, d: function(r) {
    r && Q(e);
  } };
}
var uie = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, null, cie, Nr, {}, lie), r;
  }
  return at(e, ct), ot(e);
}();
function fie(t) {
  Tt(t, "svelte-whdbu1", "svg.svelte-whdbu1{width:var(--clear-icon-width, 20px);height:var(--clear-icon-width, 20px);color:var(--clear-icon-color, currentColor)}");
}
function die(t) {
  var e, n;
  return { c: function() {
    e = vs("svg"), $(n = vs("path"), "fill", "currentColor"), $(n, "d", `M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`), $(e, "width", "100%"), $(e, "height", "100%"), $(e, "viewBox", "-2 -2 50 50"), $(e, "focusable", "false"), $(e, "aria-hidden", "true"), $(e, "role", "presentation"), $(e, "class", "svelte-whdbu1");
  }, m: function(r, i) {
    X(r, e, i), E(e, n);
  }, p: Te, i: Te, o: Te, d: function(r) {
    r && Q(e);
  } };
}
var Ep = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, null, die, Nr, {}, fie), r;
  }
  return at(e, ct), ot(e);
}();
function hie(t) {
  Tt(t, "svelte-1p3nqvd", ".loading.svelte-1p3nqvd{width:var(--spinner-width, 20px);height:var(--spinner-height, 20px);color:var(--spinner-color, var(--icons-color));animation:svelte-1p3nqvd-rotate 0.75s linear infinite;transform-origin:center center;transform:none}.circle_path.svelte-1p3nqvd{stroke-dasharray:90;stroke-linecap:round}@keyframes svelte-1p3nqvd-rotate{100%{transform:rotate(360deg)}}");
}
function pie(t) {
  var e, n;
  return { c: function() {
    e = vs("svg"), $(n = vs("circle"), "class", "circle_path svelte-1p3nqvd"), $(n, "cx", "50"), $(n, "cy", "50"), $(n, "r", "20"), $(n, "fill", "none"), $(n, "stroke", "currentColor"), $(n, "stroke-width", "5"), $(n, "stroke-miterlimit", "10"), $(e, "class", "loading svelte-1p3nqvd"), $(e, "viewBox", "25 25 50 50");
  }, m: function(r, i) {
    X(r, e, i), E(e, n);
  }, p: Te, i: Te, o: Te, d: function(r) {
    r && Q(e);
  } };
}
var mie = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, null, pie, Nr, {}, hie), r;
  }
  return at(e, ct), ot(e);
}();
function gie(t) {
  Tt(t, "svelte-82qwg8", ".svelte-select.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{--borderRadius:var(--border-radius);--clearSelectColor:var(--clear-select-color);--clearSelectWidth:var(--clear-select-width);--disabledBackground:var(--disabled-background);--disabledBorderColor:var(--disabled-border-color);--disabledColor:var(--disabled-color);--disabledPlaceholderColor:var(--disabled-placeholder-color);--disabledPlaceholderOpacity:var(--disabled-placeholder-opacity);--errorBackground:var(--error-background);--errorBorder:var(--error-border);--groupItemPaddingLeft:var(--group-item-padding-left);--groupTitleColor:var(--group-title-color);--groupTitleFontSize:var(--group-title-font-size);--groupTitleFontWeight:var(--group-title-font-weight);--groupTitlePadding:var(--group-title-padding);--groupTitleTextTransform:var(--group-title-text-transform);--groupTitleBorderColor:var(--group-title-border-color);--groupTitleBorderWidth:var(--group-title-border-width);--groupTitleBorderStyle:var(--group-title-border-style);--indicatorColor:var(--chevron-color);--indicatorHeight:var(--chevron-height);--indicatorWidth:var(--chevron-width);--inputColor:var(--input-color);--inputLeft:var(--input-left);--inputLetterSpacing:var(--input-letter-spacing);--inputMargin:var(--input-margin);--inputPadding:var(--input-padding);--itemActiveBackground:var(--item-active-background);--itemColor:var(--item-color);--itemFirstBorderRadius:var(--item-first-border-radius);--itemHoverBG:var(--item-hover-bg);--itemHoverColor:var(--item-hover-color);--itemIsActiveBG:var(--item-is-active-bg);--itemIsActiveColor:var(--item-is-active-color);--itemIsNotSelectableColor:var(--item-is-not-selectable-color);--itemPadding:var(--item-padding);--listBackground:var(--list-background);--listBorder:var(--list-border);--listBorderRadius:var(--list-border-radius);--listEmptyColor:var(--list-empty-color);--listEmptyPadding:var(--list-empty-padding);--listEmptyTextAlign:var(--list-empty-text-align);--listMaxHeight:var(--list-max-height);--listPosition:var(--list-position);--listShadow:var(--list-shadow);--listZIndex:var(--list-z-index);--multiItemBG:var(--multi-item-bg);--multiItemBorderRadius:var(--multi-item-border-radius);--multiItemDisabledHoverBg:var(--multi-item-disabled-hover-bg);--multiItemDisabledHoverColor:var(--multi-item-disabled-hover-color);--multiItemHeight:var(--multi-item-height);--multiItemMargin:var(--multi-item-margin);--multiItemPadding:var(--multi-item-padding);--multiSelectInputMargin:var(--multi-select-input-margin);--multiSelectInputPadding:var(--multi-select-input-padding);--multiSelectPadding:var(--multi-select-padding);--placeholderColor:var(--placeholder-color);--placeholderOpacity:var(--placeholder-opacity);--selectedItemPadding:var(--selected-item-padding);--spinnerColor:var(--spinner-color);--spinnerHeight:var(--spinner-height);--spinnerWidth:var(--spinner-width);--internal-padding:0 0 0 16px;border:var(--border, 1px solid #d8dbdf);border-radius:var(--border-radius, 6px);min-height:var(--height, 42px);position:relative;display:flex;align-items:stretch;padding:var(--padding, var(--internal-padding));background:var(--background, #fff);margin:var(--margin, 0);width:var(--width, 100%);font-size:var(--font-size, 16px);max-height:var(--max-height)}.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{box-sizing:var(--box-sizing, border-box)}.svelte-select.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:hover{border:var(--border-hover, 1px solid #b2b8bf)}.value-container.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{display:flex;flex:1 1 0%;flex-wrap:wrap;align-items:center;gap:5px 10px;padding:var(--value-container-padding, 5px 0);position:relative;overflow:var(--value-container-overflow, hidden);align-self:stretch}.prepend.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8,.indicators.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{display:flex;flex-shrink:0;align-items:center}.indicators.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{position:var(--indicators-position);top:var(--indicators-top);right:var(--indicators-right);bottom:var(--indicators-bottom)}input.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{position:absolute;cursor:default;border:none;color:var(--input-color, var(--item-color));padding:var(--input-padding, 0);letter-spacing:var(--input-letter-spacing, inherit);margin:var(--input-margin, 0);min-width:10px;top:0;right:0;bottom:0;left:0;background:transparent;font-size:var(--font-size, 16px)}.svelte-82qwg8:not(.multi)>.value-container.svelte-82qwg8>input.svelte-82qwg8{width:100%;height:100%}input.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8::placeholder{color:var(--placeholder-color, #78848f);opacity:var(--placeholder-opacity, 1)}input.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:focus{outline:none}.svelte-select.focused.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{border:var(--border-focused, 1px solid #006fe8);border-radius:var(--border-radius-focused, var(--border-radius, 6px))}.disabled.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{background:var(--disabled-background, #ebedef);border-color:var(--disabled-border-color, #ebedef);color:var(--disabled-color, #c1c6cc)}.disabled.svelte-82qwg8 input.svelte-82qwg8.svelte-82qwg8::placeholder{color:var(--disabled-placeholder-color, #c1c6cc);opacity:var(--disabled-placeholder-opacity, 1)}.selected-item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{position:relative;overflow:var(--selected-item-overflow, hidden);padding:var(--selected-item-padding, 0 20px 0 0);text-overflow:ellipsis;white-space:nowrap;color:var(--selected-item-color, inherit);font-size:var(--font-size, 16px)}.multi.svelte-82qwg8 .selected-item.svelte-82qwg8.svelte-82qwg8{position:absolute;line-height:var(--height, 42px);height:var(--height, 42px)}.selected-item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:focus{outline:none}.hide-selected-item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{opacity:0}.icon.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{display:flex;align-items:center;justify-content:center}.clear-select.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{all:unset;display:flex;align-items:center;justify-content:center;width:var(--clear-select-width, 40px);height:var(--clear-select-height, 100%);color:var(--clear-select-color, var(--icons-color));margin:var(--clear-select-margin, 0);pointer-events:all;flex-shrink:0}.clear-select.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:focus{outline:var(--clear-select-focus-outline, 1px solid #006fe8)}.loading.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{width:var(--loading-width, 40px);height:var(--loading-height);color:var(--loading-color, var(--icons-color));margin:var(--loading--margin, 0);flex-shrink:0}.chevron.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{width:var(--chevron-width, 40px);height:var(--chevron-height, 40px);background:var(--chevron-background, transparent);pointer-events:var(--chevron-pointer-events, none);color:var(--chevron-color, var(--icons-color));border:var(--chevron-border, 0 0 0 1px solid #d8dbdf);flex-shrink:0}.multi.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{padding:var(--multi-select-padding, var(--internal-padding))}.multi.svelte-82qwg8 input.svelte-82qwg8.svelte-82qwg8{padding:var(--multi-select-input-padding, 0);position:relative;margin:var(--multi-select-input-margin, 5px 0);flex:1 1 40px}.svelte-select.error.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{border:var(--error-border, 1px solid #ff2d55);background:var(--error-background, #fff)}.a11y-text.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{z-index:9999;border:0px;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0px;white-space:nowrap}.multi-item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{background:var(--multi-item-bg, #ebedef);margin:var(--multi-item-margin, 0);outline:var(--multi-item-outline, 1px solid #ddd);border-radius:var(--multi-item-border-radius, 4px);height:var(--multi-item-height, 25px);line-height:var(--multi-item-height, 25px);display:flex;cursor:default;padding:var(--multi-item-padding, 0 5px);overflow:hidden;gap:var(--multi-item-gap, 4px);outline-offset:-1px;max-width:var(--multi-max-width, none);color:var(--multi-item-color, var(--item-color))}.multi-item.disabled.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:hover{background:var(--multi-item-disabled-hover-bg, #ebedef);color:var(--multi-item-disabled-hover-color, #c1c6cc)}.multi-item-text.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.multi-item-clear.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{display:flex;align-items:center;justify-content:center;--clear-icon-color:var(--multi-item-clear-icon-color, #000)}.multi-item.active.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{outline:var(--multi-item-active-outline, 1px solid #006fe8)}.svelte-select-list.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{box-shadow:var(--list-shadow, 0 2px 3px 0 rgba(44, 62, 80, 0.24));border-radius:var(--list-border-radius, 4px);max-height:var(--list-max-height, 252px);overflow-y:auto;background:var(--list-background, #fff);position:var(--list-position, absolute);z-index:var(--list-z-index, 2);border:var(--list-border)}.prefloat.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{opacity:0;pointer-events:none}.list-group-title.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{color:var(--group-title-color, #8f8f8f);cursor:default;font-size:var(--group-title-font-size, 16px);font-weight:var(--group-title-font-weight, 600);height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--group-title-padding, 0 20px);text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;text-transform:var(--group-title-text-transform, uppercase);border-width:var(--group-title-border-width, medium);border-style:var(--group-title-border-style, none);border-color:var(--group-title-border-color, color)}.empty.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{text-align:var(--list-empty-text-align, center);padding:var(--list-empty-padding, 20px 0);color:var(--list-empty-color, #78848f)}.item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{cursor:default;height:var(--item-height, var(--height, 42px));line-height:var(--item-line-height, var(--height, 42px));padding:var(--item-padding, 0 20px);color:var(--item-color, inherit);text-overflow:ellipsis;overflow:hidden;white-space:nowrap;transition:var(--item-transition, all 0.2s);align-items:center;width:100%}.item.group-item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{padding-left:var(--group-item-padding-left, 40px)}.item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:active{background:var(--item-active-background, #b9daff)}.item.active.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{background:var(--item-is-active-bg, #007aff);color:var(--item-is-active-color, #fff)}.item.first.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{border-radius:var(--item-first-border-radius, 4px 4px 0 0)}.item.hover.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:not(.active){background:var(--item-hover-bg, #e7f2ff);color:var(--item-hover-color, inherit)}.item.not-selectable.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8,.item.hover.item.not-selectable.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8,.item.active.item.not-selectable.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8,.item.not-selectable.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:active{color:var(--item-is-not-selectable-color, #999);background:transparent}.required.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{opacity:0;z-index:-1;position:absolute;top:0;left:0;bottom:0;right:0}");
}
var vie = function(t) {
  return { value: 8 & t[0] };
}, R$ = function(t) {
  return { value: t[3] };
}, yie = function(t) {
  return { value: 8 & t[0] };
}, P$ = function(t) {
  return { value: t[3] };
}, bie = function(t) {
  return { listOpen: 64 & t[0] };
}, I$ = function(t) {
  return { listOpen: t[6] };
}, xie = function(t) {
  return {};
}, N$ = function(t) {
  return {};
}, wie = function(t) {
  return {};
}, D$ = function(t) {
  return {};
}, jie = function(t) {
  return { selection: 8 & t[0] };
}, L$ = function(t) {
  return { selection: t[3] };
};
function B$(t, e, n) {
  var r = t.slice();
  return r[126] = e[n], r[128] = n, r;
}
var $ie = function(t) {
  return {};
}, q$ = function(t) {
  return {};
}, kie = function(t) {
  return { selection: 8 & t[0] };
}, z$ = function(t) {
  return { selection: t[126], index: t[128] };
}, Sie = function(t) {
  return {};
}, F$ = function(t) {
  return {};
}, Cie = function(t) {
  return {};
}, V$ = function(t) {
  return {};
}, _ie = function(t) {
  return {};
}, W$ = function(t) {
  return {};
};
function H$(t, e, n) {
  var r = t.slice();
  return r[126] = e[n], r[128] = n, r;
}
var Oie = function(t) {
  return { item: 16777216 & t[0] };
}, U$ = function(t) {
  return { item: t[126], index: t[128] };
}, Aie = function(t) {
  return { filteredItems: 16777216 & t[0] };
}, J$ = function(t) {
  return { filteredItems: t[24] };
}, Eie = function(t) {
  return {};
}, G$ = function(t) {
  return {};
};
function K$(t) {
  var e, n, r, i, o, s, a, l, c = t[50]["list-prepend"] && Y$(t), u = [Rie, Tie, Mie], f = [];
  function d(p, m) {
    return p[50].list ? 0 : p[24].length > 0 ? 1 : p[19] ? -1 : 2;
  }
  ~(r = d(t)) && (i = f[r] = u[r](t));
  var h = t[50]["list-append"] && X$(t);
  return { c: function() {
    e = U("div"), c && c.c(), n = le(), i && i.c(), o = le(), h && h.c(), $(e, "class", "svelte-select-list svelte-82qwg8"), $(e, "role", "none"), Se(e, "prefloat", t[28]);
  }, m: function(p, m) {
    X(p, e, m), c && c.m(e, null), E(e, n), ~r && f[r].m(e, null), E(e, o), h && h.m(e, null), t[91](e), s = !0, a || (l = [Wr(t[49].call(null, e)), _e(e, "scroll", t[41]), _e(e, "pointerup", Ho(Sl(t[85]))), _e(e, "mousedown", Ho(Sl(t[86])))], a = !0);
  }, p: function(p, m) {
    p[50]["list-prepend"] ? c ? (c.p(p, m), 524288 & m[1] && S(c, 1)) : ((c = Y$(p)).c(), S(c, 1), c.m(e, n)) : c && (Ae(), A(c, 1, 1, function() {
      c = null;
    }), Ee());
    var g = r;
    (r = d(p)) === g ? ~r && f[r].p(p, m) : (i && (Ae(), A(f[g], 1, 1, function() {
      f[g] = null;
    }), Ee()), ~r ? ((i = f[r]) ? i.p(p, m) : (i = f[r] = u[r](p)).c(), S(i, 1), i.m(e, o)) : i = null), p[50]["list-append"] ? h ? (h.p(p, m), 524288 & m[1] && S(h, 1)) : ((h = X$(p)).c(), S(h, 1), h.m(e, null)) : h && (Ae(), A(h, 1, 1, function() {
      h = null;
    }), Ee()), (!s || 268435456 & m[0]) && Se(e, "prefloat", p[28]);
  }, i: function(p) {
    s || (S(c), S(i), S(h), s = !0);
  }, o: function(p) {
    A(c), A(i), A(h), s = !1;
  }, d: function(p) {
    p && Q(e), c && c.d(), ~r && f[r].d(), h && h.d(), t[91](null), a = !1, Dn(l);
  } };
}
function Y$(t) {
  var e, n = t[83]["list-prepend"], r = yr(n, t, t[82], G$);
  return { c: function() {
    r && r.c();
  }, m: function(i, o) {
    r && r.m(i, o), e = !0;
  }, p: function(i, o) {
    r && r.p && (!e || 1048576 & o[2]) && xr(r, n, i, i[82], e ? br(n, i[82], o, Eie) : wr(i[82]), G$);
  }, i: function(i) {
    e || (S(r, i), e = !0);
  }, o: function(i) {
    A(r, i), e = !1;
  }, d: function(i) {
    r && r.d(i);
  } };
}
function Mie(t) {
  var e, n, r = t[83].empty, i = yr(r, t, t[82], W$), o = i || { c: function() {
    (n = U("div")).textContent = "No options", $(n, "class", "empty svelte-82qwg8");
  }, m: function(s, a) {
    X(s, n, a);
  }, p: Te, d: function(s) {
    s && Q(n);
  } };
  return { c: function() {
    o && o.c();
  }, m: function(s, a) {
    o && o.m(s, a), e = !0;
  }, p: function(s, a) {
    i && i.p && (!e || 1048576 & a[2]) && xr(i, r, s, s[82], e ? br(r, s[82], a, _ie) : wr(s[82]), W$);
  }, i: function(s) {
    e || (S(o, s), e = !0);
  }, o: function(s) {
    A(o, s), e = !1;
  }, d: function(s) {
    o && o.d(s);
  } };
}
function Tie(t) {
  for (var e, n, r = Et(t[24]), i = [], o = 0; o < r.length; o += 1)
    i[o] = Q$(H$(t, r, o));
  var s = function(a) {
    return A(i[a], 1, 1, function() {
      i[a] = null;
    });
  };
  return { c: function() {
    for (var a = 0; a < i.length; a += 1)
      i[a].c();
    e = wn();
  }, m: function(a, l) {
    for (var c = 0; c < i.length; c += 1)
      i[c] && i[c].m(a, l);
    X(a, e, l), n = !0;
  }, p: function(a, l) {
    if (1627402376 & l[0] | 28672 & l[1] | 1048576 & l[2]) {
      var c;
      for (r = Et(a[24]), c = 0; c < r.length; c += 1) {
        var u = H$(a, r, c);
        i[c] ? (i[c].p(u, l), S(i[c], 1)) : (i[c] = Q$(u), i[c].c(), S(i[c], 1), i[c].m(e.parentNode, e));
      }
      for (Ae(), c = r.length; c < i.length; c += 1)
        s(c);
      Ee();
    }
  }, i: function(a) {
    if (!n) {
      for (var l = 0; l < r.length; l += 1)
        S(i[l]);
      n = !0;
    }
  }, o: function(a) {
    i = i.filter(Boolean);
    for (var l = 0; l < i.length; l += 1)
      A(i[l]);
    n = !1;
  }, d: function(a) {
    a && Q(e), Sr(i, a);
  } };
}
function Rie(t) {
  var e, n = t[83].list, r = yr(n, t, t[82], J$);
  return { c: function() {
    r && r.c();
  }, m: function(i, o) {
    r && r.m(i, o), e = !0;
  }, p: function(i, o) {
    r && r.p && (!e || 16777216 & o[0] | 1048576 & o[2]) && xr(r, n, i, i[82], e ? br(n, i[82], o, Aie) : wr(i[82]), J$);
  }, i: function(i) {
    e || (S(r, i), e = !0);
  }, o: function(i) {
    A(r, i), e = !1;
  }, d: function(i) {
    r && r.d(i);
  } };
}
function Q$(t) {
  var e, n, r, i, o, s, a, l, c = t[83].item, u = yr(c, t, t[82], U$), f = u || function(m) {
    var g, v, y = ((g = m[126]) === null || g === void 0 ? void 0 : g[m[12]]) + "";
    return { c: function() {
      v = Le(y);
    }, m: function(x, b) {
      X(x, v, b);
    }, p: function(x, b) {
      var w;
      16781312 & b[0] && y !== (y = ((w = x[126]) === null || w === void 0 ? void 0 : w[x[12]]) + "") && yt(v, y);
    }, d: function(x) {
      x && Q(v);
    } };
  }(t);
  function d() {
    return t[88](t[128]);
  }
  function h() {
    return t[89](t[128]);
  }
  function p() {
    return t[90](t[126], t[128]);
  }
  return { c: function() {
    var m;
    e = U("div"), n = U("div"), f && f.c(), o = le(), $(n, "class", "item svelte-82qwg8"), Se(n, "list-group-title", t[126].groupHeader), Se(n, "active", t[45](t[126], t[3], t[13])), Se(n, "first", t[128] === 0), Se(n, "hover", t[7] === t[128]), Se(n, "group-item", t[126].groupItem), Se(n, "not-selectable", ((m = t[126]) === null || m === void 0 ? void 0 : m.selectable) === !1), $(e, "class", "list-item svelte-82qwg8"), $(e, "tabindex", "-1"), $(e, "role", "none");
  }, m: function(m, g) {
    X(m, e, g), E(e, n), f && f.m(n, null), E(e, o), s = !0, a || (l = [Wr(r = t[46].call(null, n, { scroll: t[45](t[126], t[3], t[13]), listDom: t[30] })), Wr(i = t[47].call(null, n, { scroll: t[29] === t[128], listDom: t[30] })), _e(e, "mouseover", d), _e(e, "focus", h), _e(e, "click", Ho(p)), _e(e, "keydown", Ho(Sl(t[87])))], a = !0);
  }, p: function(m, g) {
    var v;
    t = m, u ? u.p && (!s || 16777216 & g[0] | 1048576 & g[2]) && xr(u, c, t, t[82], s ? br(c, t[82], g, Oie) : wr(t[82]), U$) : f && f.p && (!s || 16781312 & g[0]) && f.p(t, s ? g : [-1, -1, -1, -1, -1]), r && di(r.update) && 1090527240 & g[0] && r.update.call(null, { scroll: t[45](t[126], t[3], t[13]), listDom: t[30] }), i && di(i.update) && 1610612736 & g[0] && i.update.call(null, { scroll: t[29] === t[128], listDom: t[30] }), (!s || 16777216 & g[0]) && Se(n, "list-group-title", t[126].groupHeader), (!s || 16785416 & g[0] | 16384 & g[1]) && Se(n, "active", t[45](t[126], t[3], t[13])), (!s || 128 & g[0]) && Se(n, "hover", t[7] === t[128]), (!s || 16777216 & g[0]) && Se(n, "group-item", t[126].groupItem), (!s || 16777216 & g[0]) && Se(n, "not-selectable", ((v = t[126]) === null || v === void 0 ? void 0 : v.selectable) === !1);
  }, i: function(m) {
    s || (S(f, m), s = !0);
  }, o: function(m) {
    A(f, m), s = !1;
  }, d: function(m) {
    m && Q(e), f && f.d(m), a = !1, Dn(l);
  } };
}
function X$(t) {
  var e, n = t[83]["list-append"], r = yr(n, t, t[82], V$);
  return { c: function() {
    r && r.c();
  }, m: function(i, o) {
    r && r.m(i, o), e = !0;
  }, p: function(i, o) {
    r && r.p && (!e || 1048576 & o[2]) && xr(r, n, i, i[82], e ? br(n, i[82], o, Cie) : wr(i[82]), V$);
  }, i: function(i) {
    e || (S(r, i), e = !0);
  }, o: function(i) {
    A(r, i), e = !1;
  }, d: function(i) {
    r && r.d(i);
  } };
}
function Z$(t) {
  var e, n, r, i, o;
  return { c: function() {
    e = U("span"), n = Le(t[32]), r = le(), i = U("span"), o = Le(t[31]), $(e, "id", "aria-selection"), $(e, "class", "svelte-82qwg8"), $(i, "id", "aria-context"), $(i, "class", "svelte-82qwg8");
  }, m: function(s, a) {
    X(s, e, a), E(e, n), X(s, r, a), X(s, i, a), E(i, o);
  }, p: function(s, a) {
    2 & a[1] && yt(n, s[32]), 1 & a[1] && yt(o, s[31]);
  }, d: function(s) {
    s && (Q(e), Q(r), Q(i));
  } };
}
function ek(t) {
  var e, n, r, i, o = [Iie, Pie], s = [];
  function a(l, c) {
    return l[9] ? 0 : 1;
  }
  return e = a(t), n = s[e] = o[e](t), { c: function() {
    n.c(), r = wn();
  }, m: function(l, c) {
    s[e].m(l, c), X(l, r, c), i = !0;
  }, p: function(l, c) {
    var u = e;
    (e = a(l)) === u ? s[e].p(l, c) : (Ae(), A(s[u], 1, 1, function() {
      s[u] = null;
    }), Ee(), (n = s[e]) ? n.p(l, c) : (n = s[e] = o[e](l)).c(), S(n, 1), n.m(r.parentNode, r));
  }, i: function(l) {
    i || (S(n), i = !0);
  }, o: function(l) {
    A(n), i = !1;
  }, d: function(l) {
    l && Q(r), s[e].d(l);
  } };
}
function Pie(t) {
  var e, n, r = t[83].selection, i = yr(r, t, t[82], L$), o = i || function(s) {
    var a, l = s[3][s[12]] + "";
    return { c: function() {
      a = Le(l);
    }, m: function(c, u) {
      X(c, a, u);
    }, p: function(c, u) {
      4104 & u[0] && l !== (l = c[3][c[12]] + "") && yt(a, l);
    }, d: function(c) {
      c && Q(a);
    } };
  }(t);
  return { c: function() {
    e = U("div"), o && o.c(), $(e, "class", "selected-item svelte-82qwg8"), Se(e, "hide-selected-item", t[35]);
  }, m: function(s, a) {
    X(s, e, a), o && o.m(e, null), n = !0;
  }, p: function(s, a) {
    i ? i.p && (!n || 8 & a[0] | 1048576 & a[2]) && xr(i, r, s, s[82], n ? br(r, s[82], a, jie) : wr(s[82]), L$) : o && o.p && (!n || 4104 & a[0]) && o.p(s, n ? a : [-1, -1, -1, -1, -1]), (!n || 16 & a[1]) && Se(e, "hide-selected-item", s[35]);
  }, i: function(s) {
    n || (S(o, s), n = !0);
  }, o: function(s) {
    A(o, s), n = !1;
  }, d: function(s) {
    s && Q(e), o && o.d(s);
  } };
}
function Iie(t) {
  for (var e, n, r = Et(t[3]), i = [], o = 0; o < r.length; o += 1)
    i[o] = nk(B$(t, r, o));
  var s = function(a) {
    return A(i[a], 1, 1, function() {
      i[a] = null;
    });
  };
  return { c: function() {
    for (var a = 0; a < i.length; a += 1)
      i[a].c();
    e = wn();
  }, m: function(a, l) {
    for (var c = 0; c < i.length; c += 1)
      i[c] && i[c].m(a, l);
    X(a, e, l), n = !0;
  }, p: function(a, l) {
    if (67116040 & l[0] | 32 & l[1] | 1048576 & l[2]) {
      var c;
      for (r = Et(a[3]), c = 0; c < r.length; c += 1) {
        var u = B$(a, r, c);
        i[c] ? (i[c].p(u, l), S(i[c], 1)) : (i[c] = nk(u), i[c].c(), S(i[c], 1), i[c].m(e.parentNode, e));
      }
      for (Ae(), c = r.length; c < i.length; c += 1)
        s(c);
      Ee();
    }
  }, i: function(a) {
    if (!n) {
      for (var l = 0; l < r.length; l += 1)
        S(i[l]);
      n = !0;
    }
  }, o: function(a) {
    i = i.filter(Boolean);
    for (var l = 0; l < i.length; l += 1)
      A(i[l]);
    n = !1;
  }, d: function(a) {
    a && Q(e), Sr(i, a);
  } };
}
function tk(t) {
  var e, n, r, i, o = t[83]["multi-clear-icon"], s = yr(o, t, t[82], q$), a = s || function(c) {
    var u, f;
    return u = new Ep({}), { c: function() {
      we(u.$$.fragment);
    }, m: function(d, h) {
      be(u, d, h), f = !0;
    }, i: function(d) {
      f || (S(u.$$.fragment, d), f = !0);
    }, o: function(d) {
      A(u.$$.fragment, d), f = !1;
    }, d: function(d) {
      xe(u, d);
    } };
  }();
  function l() {
    return t[92](t[128]);
  }
  return { c: function() {
    e = U("div"), a && a.c(), $(e, "class", "multi-item-clear svelte-82qwg8");
  }, m: function(c, u) {
    X(c, e, u), a && a.m(e, null), n = !0, r || (i = _e(e, "pointerup", Ho(Sl(l))), r = !0);
  }, p: function(c, u) {
    t = c, s && s.p && (!n || 1048576 & u[2]) && xr(s, o, t, t[82], n ? br(o, t[82], u, $ie) : wr(t[82]), q$);
  }, i: function(c) {
    n || (S(a, c), n = !0);
  }, o: function(c) {
    A(a, c), n = !1;
  }, d: function(c) {
    c && Q(e), a && a.d(c), r = !1, i();
  } };
}
function nk(t) {
  var e, n, r, i, o, s, a, l = t[83].selection, c = yr(l, t, t[82], z$), u = c || function(h) {
    var p, m = h[126][h[12]] + "";
    return { c: function() {
      p = Le(m);
    }, m: function(g, v) {
      X(g, p, v);
    }, p: function(g, v) {
      4104 & v[0] && m !== (m = g[126][g[12]] + "") && yt(p, m);
    }, d: function(g) {
      g && Q(p);
    } };
  }(t), f = !t[11] && !t[10] && Ep && tk(t);
  function d() {
    return t[93](t[128]);
  }
  return { c: function() {
    e = U("div"), n = U("span"), u && u.c(), r = le(), f && f.c(), i = le(), $(n, "class", "multi-item-text svelte-82qwg8"), $(e, "class", "multi-item svelte-82qwg8"), $(e, "role", "none"), Se(e, "active", t[26] === t[128]), Se(e, "disabled", t[11]);
  }, m: function(h, p) {
    X(h, e, p), E(e, n), u && u.m(n, null), E(e, r), f && f.m(e, null), E(e, i), o = !0, s || (a = [_e(e, "click", Sl(d)), _e(e, "keydown", Ho(Sl(t[84])))], s = !0);
  }, p: function(h, p) {
    t = h, c ? c.p && (!o || 8 & p[0] | 1048576 & p[2]) && xr(c, l, t, t[82], o ? br(l, t[82], p, kie) : wr(t[82]), z$) : u && u.p && (!o || 4104 & p[0]) && u.p(t, o ? p : [-1, -1, -1, -1, -1]), t[11] || t[10] || !Ep ? f && (Ae(), A(f, 1, 1, function() {
      f = null;
    }), Ee()) : f ? (f.p(t, p), 3072 & p[0] && S(f, 1)) : ((f = tk(t)).c(), S(f, 1), f.m(e, i)), (!o || 67108864 & p[0]) && Se(e, "active", t[26] === t[128]), (!o || 2048 & p[0]) && Se(e, "disabled", t[11]);
  }, i: function(h) {
    o || (S(u, h), S(f), o = !0);
  }, o: function(h) {
    A(u, h), A(f), o = !1;
  }, d: function(h) {
    h && Q(e), u && u.d(h), f && f.d(), s = !1, Dn(a);
  } };
}
function rk(t) {
  var e, n, r = t[83]["loading-icon"], i = yr(r, t, t[82], D$), o = i || function(s) {
    var a, l;
    return a = new mie({}), { c: function() {
      we(a.$$.fragment);
    }, m: function(c, u) {
      be(a, c, u), l = !0;
    }, i: function(c) {
      l || (S(a.$$.fragment, c), l = !0);
    }, o: function(c) {
      A(a.$$.fragment, c), l = !1;
    }, d: function(c) {
      xe(a, c);
    } };
  }();
  return { c: function() {
    e = U("div"), o && o.c(), $(e, "class", "icon loading svelte-82qwg8"), $(e, "aria-hidden", "true");
  }, m: function(s, a) {
    X(s, e, a), o && o.m(e, null), n = !0;
  }, p: function(s, a) {
    i && i.p && (!n || 1048576 & a[2]) && xr(i, r, s, s[82], n ? br(r, s[82], a, wie) : wr(s[82]), D$);
  }, i: function(s) {
    n || (S(o, s), n = !0);
  }, o: function(s) {
    A(o, s), n = !1;
  }, d: function(s) {
    s && Q(e), o && o.d(s);
  } };
}
function ik(t) {
  var e, n, r, i, o = t[83]["clear-icon"], s = yr(o, t, t[82], N$), a = s || function(l) {
    var c, u;
    return c = new Ep({}), { c: function() {
      we(c.$$.fragment);
    }, m: function(f, d) {
      be(c, f, d), u = !0;
    }, i: function(f) {
      u || (S(c.$$.fragment, f), u = !0);
    }, o: function(f) {
      A(c.$$.fragment, f), u = !1;
    }, d: function(f) {
      xe(c, f);
    } };
  }();
  return { c: function() {
    e = U("button"), a && a.c(), $(e, "type", "button"), $(e, "class", "icon clear-select svelte-82qwg8");
  }, m: function(l, c) {
    X(l, e, c), a && a.m(e, null), n = !0, r || (i = _e(e, "click", t[22]), r = !0);
  }, p: function(l, c) {
    s && s.p && (!n || 1048576 & c[2]) && xr(s, o, l, l[82], n ? br(o, l[82], c, xie) : wr(l[82]), N$);
  }, i: function(l) {
    n || (S(a, l), n = !0);
  }, o: function(l) {
    A(a, l), n = !1;
  }, d: function(l) {
    l && Q(e), a && a.d(l), r = !1, i();
  } };
}
function ok(t) {
  var e, n, r = t[83]["chevron-icon"], i = yr(r, t, t[82], I$), o = i || function(s) {
    var a, l;
    return a = new uie({}), { c: function() {
      we(a.$$.fragment);
    }, m: function(c, u) {
      be(a, c, u), l = !0;
    }, i: function(c) {
      l || (S(a.$$.fragment, c), l = !0);
    }, o: function(c) {
      A(a.$$.fragment, c), l = !1;
    }, d: function(c) {
      xe(a, c);
    } };
  }();
  return { c: function() {
    e = U("div"), o && o.c(), $(e, "class", "icon chevron svelte-82qwg8"), $(e, "aria-hidden", "true");
  }, m: function(s, a) {
    X(s, e, a), o && o.m(e, null), n = !0;
  }, p: function(s, a) {
    i && i.p && (!n || 64 & a[0] | 1048576 & a[2]) && xr(i, r, s, s[82], n ? br(r, s[82], a, bie) : wr(s[82]), I$);
  }, i: function(s) {
    n || (S(o, s), n = !0);
  }, o: function(s) {
    A(o, s), n = !1;
  }, d: function(s) {
    s && Q(e), o && o.d(s);
  } };
}
function sk(t) {
  var e, n, r = t[83].required, i = yr(r, t, t[82], R$), o = i || { c: function() {
    $(n = U("select"), "class", "required svelte-82qwg8"), n.required = !0, $(n, "tabindex", "-1"), $(n, "aria-hidden", "true");
  }, m: function(s, a) {
    X(s, n, a);
  }, p: Te, d: function(s) {
    s && Q(n);
  } };
  return { c: function() {
    o && o.c();
  }, m: function(s, a) {
    o && o.m(s, a), e = !0;
  }, p: function(s, a) {
    i && i.p && (!e || 8 & a[0] | 1048576 & a[2]) && xr(i, r, s, s[82], e ? br(r, s[82], a, vie) : wr(s[82]), R$);
  }, i: function(s) {
    e || (S(o, s), e = !0);
  }, o: function(s) {
    A(o, s), e = !1;
  }, d: function(s) {
    o && o.d(s);
  } };
}
function Nie(t) {
  for (var e, n, r, i, o, s, a, l, c, u, f, d, h, p, m, g, v, y, x, b, w = t[6] && K$(t), j = t[2] && Z$(t), k = t[83].prepend, N = yr(k, t, t[82], F$), z = t[25] && ek(t), _ = [{ readOnly: u = !t[17] }, t[27], { placeholder: t[33] }, { style: t[18] }, { disabled: t[11] }], B = {}, I = 0; I < _.length; I += 1)
    B = Bi(B, _[I]);
  var Y = t[5] && rk(t), R = t[34] && ik(t), Z = t[20] && ok(t), ne = t[83]["input-hidden"], V = yr(ne, t, t[82], P$), M = V || /* @__PURE__ */ function(P) {
    var T, O;
    return { c: function() {
      $(T = U("input"), "name", P[8]), $(T, "type", "hidden"), T.value = O = P[3] ? JSON.stringify(P[3]) : null, $(T, "class", "svelte-82qwg8");
    }, m: function(L, C) {
      X(L, T, C);
    }, p: function(L, C) {
      256 & C[0] && $(T, "name", L[8]), 8 & C[0] && O !== (O = L[3] ? JSON.stringify(L[3]) : null) && (T.value = O);
    }, d: function(L) {
      L && Q(T);
    } };
  }(t), F = t[16] && (!t[3] || t[3].length === 0) && sk(t);
  return { c: function() {
    e = U("div"), w && w.c(), n = le(), r = U("span"), j && j.c(), i = le(), o = U("div"), N && N.c(), s = le(), a = U("div"), z && z.c(), l = le(), c = U("input"), f = le(), d = U("div"), Y && Y.c(), h = le(), R && R.c(), p = le(), Z && Z.c(), m = le(), M && M.c(), g = le(), F && F.c(), $(r, "aria-live", "polite"), $(r, "aria-atomic", "false"), $(r, "aria-relevant", "additions text"), $(r, "class", "a11y-text svelte-82qwg8"), $(o, "class", "prepend svelte-82qwg8"), Fj(c, B), Se(c, "svelte-82qwg8", !0), $(a, "class", "value-container svelte-82qwg8"), $(d, "class", "indicators svelte-82qwg8"), $(e, "class", v = "svelte-select " + t[21] + " svelte-82qwg8"), $(e, "style", t[14]), $(e, "role", "none"), Se(e, "multi", t[9]), Se(e, "disabled", t[11]), Se(e, "focused", t[2]), Se(e, "list-open", t[6]), Se(e, "show-chevron", t[20]), Se(e, "error", t[15]);
  }, m: function(P, T) {
    X(P, e, T), w && w.m(e, null), E(e, n), E(e, r), j && j.m(r, null), E(e, i), E(e, o), N && N.m(o, null), E(e, s), E(e, a), z && z.m(a, null), E(a, l), E(a, c), c.autofocus && c.focus(), t[94](c), ys(c, t[4]), E(e, f), E(e, d), Y && Y.m(d, null), E(d, h), R && R.m(d, null), E(d, p), Z && Z.m(d, null), E(e, m), M && M.m(e, null), E(e, g), F && F.m(e, null), t[96](e), y = !0, x || (b = [_e(window, "click", t[42]), _e(window, "keydown", t[37]), _e(c, "keydown", t[37]), _e(c, "blur", t[39]), _e(c, "focus", t[38]), _e(c, "input", t[95]), _e(e, "pointerup", Sl(t[40])), Wr(t[48].call(null, e))], x = !0);
  }, p: function(P, T) {
    P[6] ? w ? (w.p(P, T), 64 & T[0] && S(w, 1)) : ((w = K$(P)).c(), S(w, 1), w.m(e, n)) : w && (Ae(), A(w, 1, 1, function() {
      w = null;
    }), Ee()), P[2] ? j ? j.p(P, T) : ((j = Z$(P)).c(), j.m(r, null)) : j && (j.d(1), j = null), N && N.p && (!y || 1048576 & T[2]) && xr(N, k, P, P[82], y ? br(k, P[82], T, Sie) : wr(P[82]), F$), P[25] ? z ? (z.p(P, T), 33554432 & T[0] && S(z, 1)) : ((z = ek(P)).c(), S(z, 1), z.m(a, l)) : z && (Ae(), A(z, 1, 1, function() {
      z = null;
    }), Ee()), Fj(c, B = ko(_, [(!y || 131072 & T[0] && u !== (u = !P[17])) && { readOnly: u }, 134217728 & T[0] && P[27], (!y || 4 & T[1]) && { placeholder: P[33] }, (!y || 262144 & T[0]) && { style: P[18] }, (!y || 2048 & T[0]) && { disabled: P[11] }])), 16 & T[0] && c.value !== P[4] && ys(c, P[4]), Se(c, "svelte-82qwg8", !0), P[5] ? Y ? (Y.p(P, T), 32 & T[0] && S(Y, 1)) : ((Y = rk(P)).c(), S(Y, 1), Y.m(d, h)) : Y && (Ae(), A(Y, 1, 1, function() {
      Y = null;
    }), Ee()), P[34] ? R ? (R.p(P, T), 8 & T[1] && S(R, 1)) : ((R = ik(P)).c(), S(R, 1), R.m(d, p)) : R && (Ae(), A(R, 1, 1, function() {
      R = null;
    }), Ee()), P[20] ? Z ? (Z.p(P, T), 1048576 & T[0] && S(Z, 1)) : ((Z = ok(P)).c(), S(Z, 1), Z.m(d, null)) : Z && (Ae(), A(Z, 1, 1, function() {
      Z = null;
    }), Ee()), V ? V.p && (!y || 8 & T[0] | 1048576 & T[2]) && xr(V, ne, P, P[82], y ? br(ne, P[82], T, yie) : wr(P[82]), P$) : M && M.p && (!y || 264 & T[0]) && M.p(P, y ? T : [-1, -1, -1, -1, -1]), !P[16] || P[3] && P[3].length !== 0 ? F && (Ae(), A(F, 1, 1, function() {
      F = null;
    }), Ee()) : F ? (F.p(P, T), 65544 & T[0] && S(F, 1)) : ((F = sk(P)).c(), S(F, 1), F.m(e, null)), (!y || 2097152 & T[0] && v !== (v = "svelte-select " + P[21] + " svelte-82qwg8")) && $(e, "class", v), (!y || 16384 & T[0]) && $(e, "style", P[14]), (!y || 2097664 & T[0]) && Se(e, "multi", P[9]), (!y || 2099200 & T[0]) && Se(e, "disabled", P[11]), (!y || 2097156 & T[0]) && Se(e, "focused", P[2]), (!y || 2097216 & T[0]) && Se(e, "list-open", P[6]), (!y || 3145728 & T[0]) && Se(e, "show-chevron", P[20]), (!y || 2129920 & T[0]) && Se(e, "error", P[15]);
  }, i: function(P) {
    y || (S(w), S(N, P), S(z), S(Y), S(R), S(Z), S(M, P), S(F), y = !0);
  }, o: function(P) {
    A(w), A(N, P), A(z), A(Y), A(R), A(Z), A(M, P), A(F), y = !1;
  }, d: function(P) {
    P && Q(e), w && w.d(), j && j.d(), N && N.d(P), z && z.d(), t[94](null), Y && Y.d(), R && R.d(), Z && Z.d(), M && M.d(P), F && F.d(), t[96](null), x = !1, Dn(b);
  } };
}
function ak(t) {
  return t.map(function(e, n) {
    return { index: n, value: e, label: "".concat(e) };
  });
}
function Die(t, e, n) {
  var r, i, o, s, a, l, c, u, f, d, h, p, m, g, v, y, x = e.$$slots, b = x === void 0 ? {} : x, w = e.$$scope, j = function(se) {
    var tt = {};
    for (var Nt in se)
      tt[Nt] = !0;
    return tt;
  }(b), k = DM(), N = e.justValue, z = N === void 0 ? null : N, _ = e.filter, B = _ === void 0 ? sie : _, I = e.getItems, Y = I === void 0 ? aie : I, R = e.id, Z = R === void 0 ? null : R, ne = e.name, V = ne === void 0 ? null : ne, M = e.container, F = M === void 0 ? void 0 : M, P = e.input, T = P === void 0 ? void 0 : P, O = e.multiple, L = O !== void 0 && O, C = e.multiFullItemClearable, H = C !== void 0 && C, ie = e.disabled, te = ie !== void 0 && ie, ke = e.focused, Me = ke !== void 0 && ke, fe = e.value, pe = fe === void 0 ? null : fe, Fe = e.filterText, Ue = Fe === void 0 ? "" : Fe, ut = e.placeholder, rn = ut === void 0 ? "Please select" : ut, ae = e.placeholderAlwaysShow, At = ae !== void 0 && ae, Ge = e.items, me = Ge === void 0 ? null : Ge, Ct = e.label, _n = Ct === void 0 ? "label" : Ct, Ut = e.itemFilter, un = Ut === void 0 ? function(se, tt, Nt) {
    return "".concat(se).toLowerCase().includes(tt.toLowerCase());
  } : Ut, Xn = e.groupBy, kn = Xn === void 0 ? void 0 : Xn, D = e.groupFilter, ee = D === void 0 ? function(se) {
    return se;
  } : D, oe = e.groupHeaderSelectable, ge = oe !== void 0 && oe, $e = e.itemId, Oe = $e === void 0 ? "value" : $e, Ze = e.loadOptions, wt = Ze === void 0 ? void 0 : Ze, kt = e.containerStyles, En = kt === void 0 ? "" : kt, It = e.hasError, Je = It !== void 0 && It, yn = e.filterSelectedItems, Zn = yn === void 0 || yn, jn = e.required, Vn = jn !== void 0 && jn, Wn = e.closeListOnChange, Hn = Wn === void 0 || Wn, fn = e.clearFilterTextOnBlur, ve = fn === void 0 || fn, He = e.createGroupHeaderItem, Rt = He === void 0 ? function(se, tt) {
    return eo({ value: se }, _n, se);
  } : He, qt = e.searchable, zt = qt === void 0 || qt, Ft = e.inputStyles, de = Ft === void 0 ? "" : Ft, Qe = e.clearable, ze = Qe === void 0 || Qe, q = e.loading, K = q !== void 0 && q, re = e.listOpen, ue = re !== void 0 && re, ye = e.debounce, ft = ye === void 0 ? function(se) {
    var tt = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;
    clearTimeout(d), d = setTimeout(se, tt);
  } : ye, jt = e.debounceWait, Qt = jt === void 0 ? 300 : jt, Sn = e.hideEmptyState, Mn = Sn !== void 0 && Sn, Jt = e.inputAttributes, bn = Jt === void 0 ? {} : Jt, Ln = e.listAutoWidth, J = Ln === void 0 || Ln, je = e.showChevron, Ie = je !== void 0 && je, Be = e.listOffset, Ye = Be === void 0 ? 5 : Be, Ot = e.hoverItemIndex, et = Ot === void 0 ? 0 : Ot, Xt = e.floatingConfig, gt = Xt === void 0 ? {} : Xt, bt = e.class, pn = bt === void 0 ? "" : bt;
  function On(se) {
    var tt = [], Nt = {};
    se.forEach(function(an) {
      var on = kn(an);
      tt.includes(on) || (tt.push(on), Nt[on] = [], on && Nt[on].push(Object.assign(Rt(on, an), { id: on, groupHeader: !0, selectable: ge }))), Nt[on].push(Object.assign({ groupItem: !!on }, an));
    });
    var Bn = [];
    return ee(tt).forEach(function(an) {
      Nt[an] && Bn.push.apply(Bn, Wt(Nt[an]));
    }), Bn;
  }
  function Un() {
    var se = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0, tt = arguments.length > 1 ? arguments[1] : void 0;
    n(7, et = se < 0 ? 0 : se), !tt && kn && c[et] && !c[et].selectable && Rn(1);
  }
  function Ai() {
    var se = !0;
    if (pe) {
      var tt = [], Nt = [];
      pe.forEach(function(Bn) {
        tt.includes(Bn[Oe]) ? se = !1 : (tt.push(Bn[Oe]), Nt.push(Bn));
      }), se || n(3, pe = Nt);
    }
    return se;
  }
  function Ya(se) {
    var tt = se ? se[Oe] : pe[Oe];
    return me.find(function(Nt) {
      return Nt[Oe] === tt;
    });
  }
  function Es(se) {
    return zi.apply(this, arguments);
  }
  function zi() {
    return (zi = Dt(Ne().mark(function se(tt) {
      var Nt;
      return Ne().wrap(function(Bn) {
        for (; ; )
          switch (Bn.prev = Bn.next) {
            case 0:
              Nt = pe[tt], pe.length === 1 ? n(3, pe = void 0) : n(3, pe = pe.filter(function(an) {
                return an !== Nt;
              })), k("clear", Nt);
            case 3:
            case "end":
              return Bn.stop();
          }
      }, se);
    }))).apply(this, arguments);
  }
  function Fi(se) {
    var tt, Nt;
    Me && T === ((tt = document) === null || tt === void 0 ? void 0 : tt.activeElement) || (se && k("focus", se), (Nt = T) === null || Nt === void 0 || Nt.focus(), n(2, Me = !0));
  }
  function Go(se) {
    return tr.apply(this, arguments);
  }
  function tr() {
    return (tr = Dt(Ne().mark(function se(tt) {
      var Nt;
      return Ne().wrap(function(Bn) {
        for (; ; )
          switch (Bn.prev = Bn.next) {
            case 0:
              if (!dt) {
                Bn.next = 2;
                break;
              }
              return Bn.abrupt("return");
            case 2:
              (ue || Me) && (k("blur", tt), Ei(), n(2, Me = !1), n(26, h = void 0), (Nt = T) === null || Nt === void 0 || Nt.blur());
            case 3:
            case "end":
              return Bn.stop();
          }
      }, se);
    }))).apply(this, arguments);
  }
  function Ei() {
    ve && n(4, Ue = ""), n(6, ue = !1);
  }
  y = Dt(Ne().mark(function se() {
    return Ne().wrap(function(tt) {
      for (; ; )
        switch (tt.prev = tt.next) {
          case 0:
            n(78, p = pe), n(79, m = Ue), n(80, g = L);
          case 3:
          case "end":
            return tt.stop();
        }
    }, se);
  })), cu().$$.before_update.push(y), $o(function() {
    ue && n(2, Me = !0), Me && T && T.focus();
  });
  var Ko = e.ariaValues, pu = Ko === void 0 ? function(se) {
    return "Option ".concat(se, ", selected.");
  } : Ko, G = e.ariaListOpen, ce = G === void 0 ? function(se, tt) {
    return "You are currently focused on option ".concat(se, ". There are ").concat(tt, " results available.");
  } : G, Ce = e.ariaFocused, Pe = Ce === void 0 ? function() {
    return "Select is focused, type to refine list, press down to open the menu.";
  } : Ce, De, qe = null;
  function vt() {
    clearTimeout(De), De = setTimeout(function() {
      dt = !1;
    }, 100);
  }
  to(function() {
    var se;
    (se = qe) === null || se === void 0 || se.remove();
  });
  var dt = !1;
  function $t(se) {
    se && se.selectable !== !1 && function(tt) {
      if (tt) {
        n(4, Ue = "");
        var Nt = Object.assign({}, tt);
        if (Nt.groupHeader && !Nt.selectable)
          return;
        n(3, pe = L ? pe ? pe.concat([Nt]) : [Nt] : n(3, pe = Nt)), setTimeout(function() {
          Hn && Ei(), n(26, h = void 0), k("change", pe), k("select", tt);
        });
      }
    }(se);
  }
  function Jn(se) {
    dt || n(7, et = se);
  }
  function or(se) {
    var tt = se.item, Nt = se.i;
    if ((tt == null ? void 0 : tt.selectable) !== !1)
      return pe && !L && pe[Oe] === tt[Oe] ? Ei() : void (function(Bn) {
        return Bn.groupHeader && Bn.selectable || Bn.selectable || !Bn.hasOwnProperty("selectable");
      }(tt) && (n(7, et = Nt), $t(tt)));
  }
  function Rn(se) {
    if (c.filter(function(Nt) {
      return !Object.hasOwn(Nt, "selectable") || Nt.selectable === !0;
    }).length === 0)
      return n(7, et = 0);
    se > 0 && et === c.length - 1 ? n(7, et = 0) : n(7, se < 0 && et === 0 ? et = c.length - 1 : et += se);
    var tt = c[et];
    tt && tt.selectable === !1 && (se !== 1 && se !== -1 || Rn(se));
  }
  var Vi = Gn, Tr = Gn;
  function Gn(se) {
    return { update: function(tt) {
      tt.scroll && (vt(), se.scrollIntoView({ behavior: "auto", block: "nearest" }));
    } };
  }
  var oi, pr = { strategy: "absolute", placement: "bottom-start", middleware: [(oi = Ye, oi === void 0 && (oi = 0), { name: "offset", options: oi, fn: function(se) {
    return Dt(Ne().mark(function tt() {
      var Nt, Bn, an, on, Fr, mu, si;
      return Ne().wrap(function(Rr) {
        for (; ; )
          switch (Rr.prev = Rr.next) {
            case 0:
              return an = se.x, on = se.y, Fr = se.placement, mu = se.middlewareData, Rr.next = 3, Qre(se, oi);
            case 3:
              if (si = Rr.sent, Fr !== ((Nt = mu.offset) == null ? void 0 : Nt.placement) || (Bn = mu.arrow) == null || !Bn.alignmentOffset) {
                Rr.next = 6;
                break;
              }
              return Rr.abrupt("return", {});
            case 6:
              return Rr.abrupt("return", { x: an + si.x, y: on + si.y, data: he(he({}, si), {}, { placement: Fr }) });
            case 7:
            case "end":
              return Rr.stop();
          }
      }, tt);
    }))();
  } }), iie(), rie()], autoUpdate: !1 }, Gr = /* @__PURE__ */ function(se) {
    var tt, Nt, Bn = { autoUpdate: !0 }, an = se, on = function(si) {
      return he(he(he({}, Bn), se || {}), si || {});
    }, Fr = function(si) {
      tt && Nt && (an = on(si), oie(tt, Nt, an).then(function(Rr) {
        var Ms;
        Object.assign(Nt.style, { position: Rr.strategy, left: "".concat(Rr.x, "px"), top: "".concat(Rr.y, "px") }), !((Ms = an) === null || Ms === void 0) && Ms.onComputed && an.onComputed(Rr);
      }));
    }, mu = function(si) {
      to(si.subscribe(function(Rr) {
        tt === void 0 ? (tt = Rr, Fr()) : (Object.assign(tt, Rr), Fr());
      }));
    };
    return [function(si) {
      if ("subscribe" in si)
        return mu(si), {};
      tt = si, Fr();
    }, function(si, Rr) {
      var Ms;
      Nt = si, an = on(Rr), setTimeout(function() {
        return Fr(Rr);
      }, 0), Fr(Rr);
      var f2 = function() {
        Ms && (Ms(), Ms = void 0);
      }, d2 = function() {
        var Vl = (arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : an || {}).autoUpdate;
        f2(), Vl !== !1 && mr().then(function() {
          return nie(tt, Nt, function() {
            return Fr(an);
          }, Vl === !0 ? {} : Vl);
        });
      };
      return Ms = d2(), { update: function(Vl) {
        Fr(Vl), Ms = d2(Vl);
      }, destroy: function() {
        f2();
      } };
    }, Fr];
  }(pr), Qa = Mt(Gr, 3), Fl = Qa[0], rR = Qa[1], iR = Qa[2], Um = !0;
  return t.$$set = function(se) {
    "justValue" in se && n(52, z = se.justValue), "filter" in se && n(53, B = se.filter), "getItems" in se && n(54, Y = se.getItems), "id" in se && n(55, Z = se.id), "name" in se && n(8, V = se.name), "container" in se && n(0, F = se.container), "input" in se && n(1, T = se.input), "multiple" in se && n(9, L = se.multiple), "multiFullItemClearable" in se && n(10, H = se.multiFullItemClearable), "disabled" in se && n(11, te = se.disabled), "focused" in se && n(2, Me = se.focused), "value" in se && n(3, pe = se.value), "filterText" in se && n(4, Ue = se.filterText), "placeholder" in se && n(56, rn = se.placeholder), "placeholderAlwaysShow" in se && n(57, At = se.placeholderAlwaysShow), "items" in se && n(51, me = se.items), "label" in se && n(12, _n = se.label), "itemFilter" in se && n(58, un = se.itemFilter), "groupBy" in se && n(59, kn = se.groupBy), "groupFilter" in se && n(60, ee = se.groupFilter), "groupHeaderSelectable" in se && n(61, ge = se.groupHeaderSelectable), "itemId" in se && n(13, Oe = se.itemId), "loadOptions" in se && n(62, wt = se.loadOptions), "containerStyles" in se && n(14, En = se.containerStyles), "hasError" in se && n(15, Je = se.hasError), "filterSelectedItems" in se && n(63, Zn = se.filterSelectedItems), "required" in se && n(16, Vn = se.required), "closeListOnChange" in se && n(64, Hn = se.closeListOnChange), "clearFilterTextOnBlur" in se && n(65, ve = se.clearFilterTextOnBlur), "createGroupHeaderItem" in se && n(66, Rt = se.createGroupHeaderItem), "searchable" in se && n(17, zt = se.searchable), "inputStyles" in se && n(18, de = se.inputStyles), "clearable" in se && n(68, ze = se.clearable), "loading" in se && n(5, K = se.loading), "listOpen" in se && n(6, ue = se.listOpen), "debounce" in se && n(69, ft = se.debounce), "debounceWait" in se && n(70, Qt = se.debounceWait), "hideEmptyState" in se && n(19, Mn = se.hideEmptyState), "inputAttributes" in se && n(71, bn = se.inputAttributes), "listAutoWidth" in se && n(72, J = se.listAutoWidth), "showChevron" in se && n(20, Ie = se.showChevron), "listOffset" in se && n(73, Ye = se.listOffset), "hoverItemIndex" in se && n(7, et = se.hoverItemIndex), "floatingConfig" in se && n(74, gt = se.floatingConfig), "class" in se && n(21, pn = se.class), "ariaValues" in se && n(75, pu = se.ariaValues), "ariaListOpen" in se && n(76, ce = se.ariaListOpen), "ariaFocused" in se && n(77, Pe = se.ariaFocused), "$$scope" in se && n(82, w = se.$$scope);
  }, t.$$.update = function() {
    var se, tt, Nt, Bn;
    8 & t.$$.dirty[0] | 1048576 & t.$$.dirty[1] && pe && function() {
      if (typeof pe == "string") {
        var an = (me || []).find(function(on) {
          return on[Oe] === pe;
        });
        n(3, pe = an || eo(eo({}, Oe, pe), "label", pe));
      } else
        L && Array.isArray(pe) && pe.length > 0 && n(3, pe = pe.map(function(on) {
          return typeof on == "string" ? { value: on, label: on } : on;
        }));
    }(), 131072 & t.$$.dirty[0] | 512 & t.$$.dirty[2] && (!bn && zt || (n(27, v = Object.assign({ autocapitalize: "none", autocomplete: "off", autocorrect: "off", spellcheck: !1, tabindex: 0, type: "text", "aria-autocomplete": "list" }, bn)), Z && n(27, v.id = Z, v), zt || n(27, v.readonly = !0, v))), 512 & t.$$.dirty[0] && L && pe && (Array.isArray(pe) ? n(3, pe = Wt(pe)) : n(3, pe = [pe])), 512 & t.$$.dirty[0] | 262144 & t.$$.dirty[2] && g && !L && pe && n(3, pe = null), 520 & t.$$.dirty[0] && L && pe && pe.length > 1 && Ai(), 8 & t.$$.dirty[0] && pe && (L ? JSON.stringify(pe) !== JSON.stringify(p) && Ai() && k("input", pe) : p && JSON.stringify(pe[Oe]) === JSON.stringify(p[Oe]) || k("input", pe)), 520 & t.$$.dirty[0] | 65536 & t.$$.dirty[2] && !pe && L && p && k("input", pe), 6 & t.$$.dirty[0] && !Me && T && Ei(), 16 & t.$$.dirty[0] | 131072 & t.$$.dirty[2] && Ue !== m && (wt || Ue.length !== 0) && (wt ? ft(Dt(Ne().mark(function an() {
      var on;
      return Ne().wrap(function(Fr) {
        for (; ; )
          switch (Fr.prev = Fr.next) {
            case 0:
              return n(5, K = !0), Fr.next = 3, Y({ dispatch: k, loadOptions: wt, convertStringItemsToObjects: ak, filterText: Ue });
            case 3:
              (on = Fr.sent) ? (n(5, K = on.loading), n(6, ue = ue ? on.listOpen : Ue.length > 0), n(2, Me = ue && on.focused), n(51, me = kn ? On(on.filteredItems) : on.filteredItems)) : (n(5, K = !1), n(2, Me = !0), n(6, ue = !0));
            case 5:
            case "end":
              return Fr.stop();
          }
      }, an);
    })), Qt) : (n(6, ue = !0), L && n(26, h = void 0))), 12824 & t.$$.dirty[0] | 407896064 & t.$$.dirty[1] | 3 & t.$$.dirty[2] && n(24, c = B({ loadOptions: wt, filterText: Ue, items: me, multiple: L, value: pe, itemId: Oe, groupBy: kn, label: _n, filterSelectedItems: Zn, itemFilter: un, convertStringItemsToObjects: ak, filterGroupedItems: On })), 16777800 & t.$$.dirty[0] && !L && ue && pe && c && Un(c.findIndex(function(an) {
      return an[Oe] === pe[Oe];
    }), !0), 576 & t.$$.dirty[0] && ue && L && n(7, et = 0), 16 & t.$$.dirty[0] && Ue && n(7, et = 0), 128 & t.$$.dirty[0] && k("hoverItem", et), 520 & t.$$.dirty[0] && n(25, r = L ? pe && pe.length > 0 : pe), 33554448 & t.$$.dirty[0] && n(35, i = r && Ue.length > 0), 33556512 & t.$$.dirty[0] | 64 & t.$$.dirty[2] && n(34, o = r && ze && !te && !K), 520 & t.$$.dirty[0] | 100663296 & t.$$.dirty[1] && n(33, s = At && L || L && ((se = pe) === null || se === void 0 ? void 0 : se.length) === 0 ? rn : pe ? "" : rn), 520 & t.$$.dirty[0] && n(32, a = pe ? (tt = void 0, tt = L && pe.length > 0 ? pe.map(function(an) {
      return an[_n];
    }).join(", ") : pe[_n], pu(tt)) : ""), 16777412 & t.$$.dirty[0] && n(31, l = function() {
      if (!c || c.length === 0)
        return "";
      var an = c[et];
      if (ue && an) {
        var on = c ? c.length : 0;
        return ce(an[_n], on);
      }
      return Pe();
    }()), 1048576 & t.$$.dirty[1] && function(an) {
      an && an.length !== 0 && !an.some(function(on) {
        return Or(on) !== "object";
      }) && pe && (L ? !pe.some(function(on) {
        return !on || !on[Oe];
      }) : pe[Oe]) && (Array.isArray(pe) ? n(3, pe = pe.map(function(on) {
        return Ya(on) || on;
      })) : n(3, pe = Ya() || pe));
    }(me), 8712 & t.$$.dirty[0] && n(52, z = L ? pe ? pe.map(function(an) {
      return an[Oe];
    }) : null : pe && pe[Oe]), 520 & t.$$.dirty[0] | 65536 & t.$$.dirty[2] && (L || !p || pe || k("input", pe)), 16777800 & t.$$.dirty[0] && ue && c && !L && !pe && Un(), 16777216 & t.$$.dirty[0] && function(an) {
      ue && k("filter", an);
    }(c), 1 & t.$$.dirty[0] | 4096 & t.$$.dirty[2] && F && ((Nt = gt) === null || Nt === void 0 ? void 0 : Nt.autoUpdate) === void 0 && n(81, pr.autoUpdate = !0, pr), 1 & t.$$.dirty[0] | 528384 & t.$$.dirty[2] && F && gt && iR(Object.assign(pr, gt)), 8388608 & t.$$.dirty[0] && n(30, u = !!qe), 8388672 & t.$$.dirty[0] && function(an, on) {
      if (!an || !on)
        return n(28, Um = !0);
      setTimeout(function() {
        n(28, Um = !1);
      }, 0);
    }(qe, ue), 8388673 & t.$$.dirty[0] && ue && F && qe && (Bn = F.getBoundingClientRect().width, n(23, qe.style.width = J ? Bn + "px" : "auto", qe)), 128 & t.$$.dirty[0] && n(29, f = et), 70 & t.$$.dirty[0] && T && ue && !Me && Fi();
  }, [F, T, Me, pe, Ue, K, ue, et, V, L, H, te, _n, Oe, En, Je, Vn, zt, de, Mn, Ie, pn, function() {
    k("clear", pe), n(3, pe = void 0), Ei(), Fi();
  }, qe, c, r, h, v, Um, f, u, l, a, s, o, i, Es, function(se) {
    if (Me)
      switch (se.stopPropagation(), se.key) {
        case "Escape":
          se.preventDefault(), Ei();
          break;
        case "Enter":
          if (se.preventDefault(), ue) {
            if (c.length === 0)
              break;
            var tt = c[et];
            if (pe && !L && pe[Oe] === tt[Oe]) {
              Ei();
              break;
            }
            $t(c[et]);
          }
          break;
        case "ArrowDown":
          se.preventDefault(), ue ? Rn(1) : (n(6, ue = !0), n(26, h = void 0));
          break;
        case "ArrowUp":
          se.preventDefault(), ue ? Rn(-1) : (n(6, ue = !0), n(26, h = void 0));
          break;
        case "Tab":
          if (ue && Me) {
            if (c.length === 0 || pe && pe[Oe] === c[et][Oe])
              return Ei();
            se.preventDefault(), $t(c[et]), Ei();
          }
          break;
        case "Backspace":
          if (!L || Ue.length > 0)
            return;
          if (L && pe && pe.length > 0) {
            if (Es(h !== void 0 ? h : pe.length - 1), h === 0 || h === void 0)
              break;
            n(26, h = pe.length > h ? h - 1 : void 0);
          }
          break;
        case "ArrowLeft":
          if (!pe || !L || Ue.length > 0)
            return;
          h === void 0 ? n(26, h = pe.length - 1) : pe.length > h && h !== 0 && n(26, h -= 1);
          break;
        case "ArrowRight":
          if (!pe || !L || Ue.length > 0 || h === void 0)
            return;
          h === pe.length - 1 ? n(26, h = void 0) : h < pe.length - 1 && n(26, h += 1);
      }
  }, Fi, Go, function() {
    if (!te)
      return Ue.length > 0 ? n(6, ue = !0) : void n(6, ue = !ue);
  }, vt, function(se) {
    var tt;
    ue || Me || !F || F.contains(se.target) || (tt = qe) !== null && tt !== void 0 && tt.contains(se.target) || Go();
  }, Jn, or, function(se, tt, Nt) {
    if (!L)
      return tt && tt[Nt] === se[Nt];
  }, Vi, Tr, Fl, rR, j, me, z, B, Y, Z, rn, At, un, kn, ee, ge, wt, Zn, Hn, ve, Rt, function() {
    return c;
  }, ze, ft, Qt, bn, J, Ye, gt, pu, ce, Pe, p, m, g, pr, w, b, function(se) {
    Gd.call(this, t, se);
  }, function(se) {
    Gd.call(this, t, se);
  }, function(se) {
    Gd.call(this, t, se);
  }, function(se) {
    Gd.call(this, t, se);
  }, function(se) {
    return Jn(se);
  }, function(se) {
    return Jn(se);
  }, function(se, tt) {
    return or({ item: se, i: tt });
  }, function(se) {
    tn[se ? "unshift" : "push"](function() {
      n(23, qe = se);
    });
  }, function(se) {
    return Es(se);
  }, function(se) {
    return H ? Es(se) : {};
  }, function(se) {
    tn[se ? "unshift" : "push"](function() {
      n(1, T = se);
    });
  }, function() {
    Ue = this.value, n(4, Ue);
  }, function(se) {
    tn[se ? "unshift" : "push"](function() {
      n(0, F = se);
    });
  }];
}
var al = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Die, Nie, Nr, { justValue: 52, filter: 53, getItems: 54, id: 55, name: 8, container: 0, input: 1, multiple: 9, multiFullItemClearable: 10, disabled: 11, focused: 2, value: 3, filterText: 4, placeholder: 56, placeholderAlwaysShow: 57, items: 51, label: 12, itemFilter: 58, groupBy: 59, groupFilter: 60, groupHeaderSelectable: 61, itemId: 13, loadOptions: 62, containerStyles: 14, hasError: 15, filterSelectedItems: 63, required: 16, closeListOnChange: 64, clearFilterTextOnBlur: 65, createGroupHeaderItem: 66, getFilteredItems: 67, searchable: 17, inputStyles: 18, clearable: 68, loading: 5, listOpen: 6, debounce: 69, debounceWait: 70, hideEmptyState: 19, inputAttributes: 71, listAutoWidth: 72, showChevron: 20, listOffset: 73, hoverItemIndex: 7, floatingConfig: 74, class: 21, handleClear: 22, ariaValues: 75, ariaListOpen: 76, ariaFocused: 77 }, gie, [-1, -1, -1, -1, -1]), r;
  }
  return at(e, ct), ot(e, [{ key: "getFilteredItems", get: function() {
    return this.$$.ctx[67];
  } }, { key: "handleClear", get: function() {
    return this.$$.ctx[22];
  } }]), e;
}();
function Lie(t) {
  Tt(t, "svelte-ijtq0l", "table.jse-transform-wizard.svelte-ijtq0l.svelte-ijtq0l{border-collapse:collapse;border-spacing:0;width:100%}table.jse-transform-wizard.svelte-ijtq0l input.svelte-ijtq0l{font-family:inherit;font-size:inherit}table.jse-transform-wizard.svelte-ijtq0l tr th.svelte-ijtq0l{font-weight:normal;text-align:left;width:60px}table.jse-transform-wizard.svelte-ijtq0l tr td .jse-horizontal.svelte-ijtq0l{width:100%;display:flex;flex-direction:row;margin-bottom:calc(0.5 * var(--jse-padding, 10px))}table.jse-transform-wizard.svelte-ijtq0l tr td .jse-horizontal.svelte-ijtq0l .svelte-select .multi-item{align-items:center}table.jse-transform-wizard.svelte-ijtq0l tr td .jse-horizontal.svelte-ijtq0l .svelte-select .value-container{gap:0 !important}table.jse-transform-wizard.svelte-ijtq0l tr td .jse-horizontal.svelte-ijtq0l .svelte-select.jse-filter-path{flex:4;margin-right:calc(0.5 * var(--jse-padding, 10px))}table.jse-transform-wizard.svelte-ijtq0l tr td .jse-horizontal.svelte-ijtq0l .svelte-select.jse-filter-relation{flex:1.5;margin-right:calc(0.5 * var(--jse-padding, 10px))}table.jse-transform-wizard.svelte-ijtq0l tr td .jse-horizontal.svelte-ijtq0l .svelte-select.jse-sort-path{flex:3;margin-right:calc(0.5 * var(--jse-padding, 10px))}table.jse-transform-wizard.svelte-ijtq0l tr td .jse-horizontal.svelte-ijtq0l .svelte-select.jse-sort-direction{flex:1}table.jse-transform-wizard.svelte-ijtq0l tr td .jse-horizontal.svelte-ijtq0l .svelte-select.jse-projection-paths{flex:1}table.jse-transform-wizard.svelte-ijtq0l tr td .jse-horizontal.svelte-ijtq0l .svelte-select input{box-sizing:border-box}table.jse-transform-wizard.svelte-ijtq0l tr td .jse-horizontal .jse-filter-value.svelte-ijtq0l{flex:4;padding:4px 8px;border:var(--jse-input-border, 1px solid #d8dbdf);border-radius:var(--jse-input-radius, 3px);outline:none;background:var(--jse-input-background, var(--jse-background-color, #fff));color:inherit}table.jse-transform-wizard.svelte-ijtq0l tr td .jse-horizontal .jse-filter-value.svelte-ijtq0l:focus{border:var(--jse-input-border-focus, 1px solid var(--jse-input-border-focus, var(--jse-theme-color, #3883fa)))}");
}
function Bie(t) {
  var e, n, r, i, o, s, a, l, c, u, f, d, h, p, m, g, v, y, x, b, w, j, k, N, z, _, B, I, Y, R, Z, ne, V, M, F;
  function P(fe) {
    t[16](fe);
  }
  var T = { class: "jse-filter-path", showChevron: !0, items: t[7] };
  function O(fe) {
    t[17](fe);
  }
  t[0] !== void 0 && (T.value = t[0]), a = new al({ props: T }), tn.push(function() {
    return Po(a, "value", P);
  });
  var L = { class: "jse-filter-relation", showChevron: !0, items: t[8] };
  function C(fe) {
    t[19](fe);
  }
  t[1] !== void 0 && (L.value = t[1]), u = new al({ props: L }), tn.push(function() {
    return Po(u, "value", O);
  });
  var H = { class: "jse-sort-path", showChevron: !0, items: t[7] };
  function ie(fe) {
    t[20](fe);
  }
  t[3] !== void 0 && (H.value = t[3]), b = new al({ props: H }), tn.push(function() {
    return Po(b, "value", C);
  });
  var te = { class: "jse-sort-direction", showChevron: !0, items: t[9] };
  function ke(fe) {
    t[21](fe);
  }
  t[4] !== void 0 && (te.value = t[4]), k = new al({ props: te }), tn.push(function() {
    return Po(k, "value", ie);
  });
  var Me = { class: "jse-projection-paths", multiple: !0, showChevron: !0, items: t[6] };
  return t[5] !== void 0 && (Me.value = t[5]), Z = new al({ props: Me }), tn.push(function() {
    return Po(Z, "value", ke);
  }), { c: function() {
    e = U("table"), n = U("tr"), (r = U("th")).textContent = "Filter", i = le(), o = U("td"), s = U("div"), we(a.$$.fragment), c = le(), we(u.$$.fragment), d = le(), h = U("input"), p = le(), m = U("tr"), (g = U("th")).textContent = "Sort", v = le(), y = U("td"), x = U("div"), we(b.$$.fragment), j = le(), we(k.$$.fragment), z = le(), _ = U("tr"), (B = U("th")).textContent = "Pick", I = le(), Y = U("td"), R = U("div"), we(Z.$$.fragment), $(r, "class", "svelte-ijtq0l"), $(h, "class", "jse-filter-value svelte-ijtq0l"), $(s, "class", "jse-horizontal svelte-ijtq0l"), $(g, "class", "svelte-ijtq0l"), $(x, "class", "jse-horizontal svelte-ijtq0l"), $(B, "class", "svelte-ijtq0l"), $(R, "class", "jse-horizontal svelte-ijtq0l"), $(e, "class", "jse-transform-wizard svelte-ijtq0l");
  }, m: function(fe, pe) {
    X(fe, e, pe), E(e, n), E(n, r), E(n, i), E(n, o), E(o, s), be(a, s, null), E(s, c), be(u, s, null), E(s, d), E(s, h), ys(h, t[2]), E(e, p), E(e, m), E(m, g), E(m, v), E(m, y), E(y, x), be(b, x, null), E(x, j), be(k, x, null), E(e, z), E(e, _), E(_, B), E(_, I), E(_, Y), E(Y, R), be(Z, R, null), V = !0, M || (F = _e(h, "input", t[18]), M = !0);
  }, p: function(fe, pe) {
    var Fe = Mt(pe, 1)[0], Ue = {};
    128 & Fe && (Ue.items = fe[7]), !l && 1 & Fe && (l = !0, Ue.value = fe[0], Ro(function() {
      return l = !1;
    })), a.$set(Ue);
    var ut = {};
    !f && 2 & Fe && (f = !0, ut.value = fe[1], Ro(function() {
      return f = !1;
    })), u.$set(ut), 4 & Fe && h.value !== fe[2] && ys(h, fe[2]);
    var rn = {};
    128 & Fe && (rn.items = fe[7]), !w && 8 & Fe && (w = !0, rn.value = fe[3], Ro(function() {
      return w = !1;
    })), b.$set(rn);
    var ae = {};
    !N && 16 & Fe && (N = !0, ae.value = fe[4], Ro(function() {
      return N = !1;
    })), k.$set(ae);
    var At = {};
    64 & Fe && (At.items = fe[6]), !ne && 32 & Fe && (ne = !0, At.value = fe[5], Ro(function() {
      return ne = !1;
    })), Z.$set(At);
  }, i: function(fe) {
    V || (S(a.$$.fragment, fe), S(u.$$.fragment, fe), S(b.$$.fragment, fe), S(k.$$.fragment, fe), S(Z.$$.fragment, fe), V = !0);
  }, o: function(fe) {
    A(a.$$.fragment, fe), A(u.$$.fragment, fe), A(b.$$.fragment, fe), A(k.$$.fragment, fe), A(Z.$$.fragment, fe), V = !1;
  }, d: function(fe) {
    fe && Q(e), xe(a), xe(u), xe(b), xe(k), xe(Z), M = !1, F();
  } };
}
function qie(t, e, n) {
  var r, i, o, s, a, l, c, u, f, d, h, p = Jr("jsoneditor:TransformWizard"), m = e.json, g = e.queryOptions, v = g === void 0 ? {} : g, y = e.onChange, x = ["==", "!=", "<", "<=", ">", ">="].map(function(_) {
    return { value: _, label: _ };
  }), b = [{ value: "asc", label: "ascending" }, { value: "desc", label: "descending" }], w = (r = v) !== null && r !== void 0 && (r = r.filter) !== null && r !== void 0 && r.path ? Nu(v.filter.path) : null, j = (i = v) !== null && i !== void 0 && (i = i.filter) !== null && i !== void 0 && i.relation ? x.find(function(_) {
    var B;
    return _.value === ((B = v.filter) === null || B === void 0 ? void 0 : B.relation);
  }) : null, k = ((o = v) === null || o === void 0 || (o = o.filter) === null || o === void 0 ? void 0 : o.value) || "", N = (s = v) !== null && s !== void 0 && (s = s.sort) !== null && s !== void 0 && s.path ? Nu(v.sort.path) : null, z = (a = v) !== null && a !== void 0 && (a = a.sort) !== null && a !== void 0 && a.direction ? b.find(function(_) {
    var B;
    return _.value === ((B = v.sort) === null || B === void 0 ? void 0 : B.direction);
  }) : null;
  return t.$$set = function(_) {
    "json" in _ && n(11, m = _.json), "queryOptions" in _ && n(10, v = _.queryOptions), "onChange" in _ && n(12, y = _.onChange);
  }, t.$$.update = function() {
    var _, B, I, Y, R, Z, ne, V, M, F, P, T, O;
    2048 & t.$$.dirty && n(15, l = Array.isArray(m)), 34816 & t.$$.dirty && n(14, c = l ? _0(m) : []), 34816 & t.$$.dirty && n(13, u = l ? _0(m, !0) : []), 16384 & t.$$.dirty && n(7, f = c.map(Nu)), 8192 & t.$$.dirty && n(6, d = u ? u.map(Nu) : []), 1088 & t.$$.dirty && n(5, h = (_ = v) !== null && _ !== void 0 && (_ = _.projection) !== null && _ !== void 0 && _.paths && d ? v.projection.paths.map(function(L) {
      return d.find(function(C) {
        return en(C.value, L);
      });
    }).filter(function(L) {
      return !!L;
    }) : null), 1 & t.$$.dirty && (I = (B = w) === null || B === void 0 ? void 0 : B.value, en((Y = v) === null || Y === void 0 || (Y = Y.filter) === null || Y === void 0 ? void 0 : Y.path, I) || (p("changeFilterPath", I), n(10, v = Mo(v, ["filter", "path"], I, !0)), y(v))), 2 & t.$$.dirty && (Z = (R = j) === null || R === void 0 ? void 0 : R.value, en((ne = v) === null || ne === void 0 || (ne = ne.filter) === null || ne === void 0 ? void 0 : ne.relation, Z) || (p("changeFilterRelation", Z), n(10, v = Mo(v, ["filter", "relation"], Z, !0)), y(v))), 4 & t.$$.dirty && (V = k, en((M = v) === null || M === void 0 || (M = M.filter) === null || M === void 0 ? void 0 : M.value, V) || (p("changeFilterValue", V), n(10, v = Mo(v, ["filter", "value"], V, !0)), y(v))), 8 & t.$$.dirty && function(L) {
      var C;
      en((C = v) === null || C === void 0 || (C = C.sort) === null || C === void 0 ? void 0 : C.path, L) || (p("changeSortPath", L), n(10, v = Mo(v, ["sort", "path"], L, !0)), y(v));
    }((F = N) === null || F === void 0 ? void 0 : F.value), 16 & t.$$.dirty && (T = (P = z) === null || P === void 0 ? void 0 : P.value, en((O = v) === null || O === void 0 || (O = O.sort) === null || O === void 0 ? void 0 : O.direction, T) || (p("changeSortDirection", T), n(10, v = Mo(v, ["sort", "direction"], T, !0)), y(v))), 32 & t.$$.dirty && function(L) {
      var C;
      en((C = v) === null || C === void 0 || (C = C.projection) === null || C === void 0 ? void 0 : C.paths, L) || (p("changeProjectionPaths", L), n(10, v = Mo(v, ["projection", "paths"], L, !0)), y(v));
    }(h ? h.map(function(L) {
      return L.value;
    }) : void 0);
  }, [w, j, k, N, z, h, d, f, x, b, v, m, y, u, c, l, function(_) {
    n(0, w = _);
  }, function(_) {
    n(1, j = _);
  }, function() {
    k = this.value, n(2, k);
  }, function(_) {
    n(3, N = _);
  }, function(_) {
    n(4, z = _);
  }, function(_) {
    n(5, h = _), n(10, v), n(6, d), n(13, u), n(15, l), n(11, m);
  }];
}
var zie = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, qie, Bie, Lt, { json: 11, queryOptions: 10, onChange: 12 }, Lie), r;
  }
  return at(e, ct), ot(e);
}();
function Fie(t) {
  Tt(t, "svelte-1wg043c", '.jse-select-query-language.svelte-1wg043c.svelte-1wg043c{position:relative;width:32px}.jse-select-query-language.svelte-1wg043c .jse-select-query-language-container.svelte-1wg043c{position:absolute;top:0;right:0;display:flex;flex-direction:column;box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24))}.jse-select-query-language.svelte-1wg043c .jse-select-query-language-container .jse-query-language.svelte-1wg043c{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;text-align:left;padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));white-space:nowrap;color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));background:var(--jse-context-menu-background, #656565)}.jse-select-query-language.svelte-1wg043c .jse-select-query-language-container .jse-query-language.svelte-1wg043c:hover{background:var(--jse-context-menu-background-highlight, #7a7a7a)}');
}
function lk(t, e, n) {
  var r = t.slice();
  return r[5] = e[n], r;
}
function Vie(t) {
  var e, n;
  return e = new cn({ props: { data: lf } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Wie(t) {
  var e, n;
  return e = new cn({ props: { data: af } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function ck(t) {
  var e, n, r, i, o, s, a, l, c, u, f = t[5].name + "", d = [Wie, Vie], h = [];
  function p(g, v) {
    return g[5].id === g[0] ? 0 : 1;
  }
  function m() {
    return t[4](t[5]);
  }
  return n = p(t), r = h[n] = d[n](t), { c: function() {
    e = U("button"), r.c(), i = le(), o = Le(f), s = le(), $(e, "type", "button"), $(e, "class", "jse-query-language svelte-1wg043c"), $(e, "title", a = "Select ".concat(t[5].name, " as query language")), Se(e, "selected", t[5].id === t[0]);
  }, m: function(g, v) {
    X(g, e, v), h[n].m(e, null), E(e, i), E(e, o), E(e, s), l = !0, c || (u = _e(e, "click", m), c = !0);
  }, p: function(g, v) {
    var y = n;
    (n = p(t = g)) !== y && (Ae(), A(h[y], 1, 1, function() {
      h[y] = null;
    }), Ee(), (r = h[n]) || (r = h[n] = d[n](t)).c(), S(r, 1), r.m(e, i)), (!l || 2 & v) && f !== (f = t[5].name + "") && yt(o, f), (!l || 2 & v && a !== (a = "Select ".concat(t[5].name, " as query language"))) && $(e, "title", a), (!l || 3 & v) && Se(e, "selected", t[5].id === t[0]);
  }, i: function(g) {
    l || (S(r), l = !0);
  }, o: function(g) {
    A(r), l = !1;
  }, d: function(g) {
    g && Q(e), h[n].d(), c = !1, u();
  } };
}
function Hie(t) {
  for (var e, n, r, i = Et(t[1]), o = [], s = 0; s < i.length; s += 1)
    o[s] = ck(lk(t, i, s));
  var a = function(l) {
    return A(o[l], 1, 1, function() {
      o[l] = null;
    });
  };
  return { c: function() {
    e = U("div"), n = U("div");
    for (var l = 0; l < o.length; l += 1)
      o[l].c();
    $(n, "class", "jse-select-query-language-container svelte-1wg043c"), $(e, "class", "jse-select-query-language svelte-1wg043c");
  }, m: function(l, c) {
    X(l, e, c), E(e, n);
    for (var u = 0; u < o.length; u += 1)
      o[u] && o[u].m(n, null);
    r = !0;
  }, p: function(l, c) {
    var u = Mt(c, 1)[0];
    if (7 & u) {
      var f;
      for (i = Et(l[1]), f = 0; f < i.length; f += 1) {
        var d = lk(l, i, f);
        o[f] ? (o[f].p(d, u), S(o[f], 1)) : (o[f] = ck(d), o[f].c(), S(o[f], 1), o[f].m(n, null));
      }
      for (Ae(), f = i.length; f < o.length; f += 1)
        a(f);
      Ee();
    }
  }, i: function(l) {
    if (!r) {
      for (var c = 0; c < i.length; c += 1)
        S(o[c]);
      r = !0;
    }
  }, o: function(l) {
    o = o.filter(Boolean);
    for (var c = 0; c < o.length; c += 1)
      A(o[c]);
    r = !1;
  }, d: function(l) {
    l && Q(e), Sr(o, l);
  } };
}
function Uie(t, e, n) {
  var r = e.queryLanguages, i = e.queryLanguageId, o = e.onChangeQueryLanguage;
  function s(a) {
    n(0, i = a), o(a);
  }
  return t.$$set = function(a) {
    "queryLanguages" in a && n(1, r = a.queryLanguages), "queryLanguageId" in a && n(0, i = a.queryLanguageId), "onChangeQueryLanguage" in a && n(3, o = a.onChangeQueryLanguage);
  }, [i, r, s, o, function(a) {
    return s(a.id);
  }];
}
var Jie = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Uie, Hie, Nr, { queryLanguages: 1, queryLanguageId: 0, onChangeQueryLanguage: 3 }, Fie), r;
  }
  return at(e, ct), ot(e);
}();
function Gie(t) {
  Tt(t, "svelte-1n68mbh", ".jse-header.svelte-1n68mbh.svelte-1n68mbh{display:flex;background:var(--jse-theme-color, #3883fa);color:var(--jse-menu-color, var(--jse-text-color-inverse, #fff))}.jse-header.svelte-1n68mbh .jse-title.svelte-1n68mbh{flex:1;padding:5px;vertical-align:middle}.jse-header.svelte-1n68mbh button.svelte-1n68mbh{border:none;background:transparent;min-width:32px;color:inherit;cursor:pointer}.jse-header.svelte-1n68mbh button.svelte-1n68mbh:hover{background:rgba(255, 255, 255, 0.1)}");
}
function uk(t) {
  var e, n, r, i, o;
  return n = new cn({ props: { data: RW } }), { c: function() {
    e = U("button"), we(n.$$.fragment), $(e, "type", "button"), $(e, "class", "jse-config svelte-1n68mbh"), $(e, "title", "Select a query language");
  }, m: function(s, a) {
    X(s, e, a), be(n, e, null), t[6](e), r = !0, i || (o = _e(e, "click", t[3]), i = !0);
  }, p: Te, i: function(s) {
    r || (S(n.$$.fragment, s), r = !0);
  }, o: function(s) {
    A(n.$$.fragment, s), r = !1;
  }, d: function(s) {
    s && Q(e), xe(n), t[6](null), i = !1, o();
  } };
}
function Kie(t) {
  var e, n, r, i, o, s, a, l, c, u = t[0].length > 1 && uk(t);
  return s = new cn({ props: { data: Ac } }), { c: function() {
    e = U("div"), (n = U("div")).textContent = "Transform", r = le(), u && u.c(), i = le(), o = U("button"), we(s.$$.fragment), $(n, "class", "jse-title svelte-1n68mbh"), $(o, "type", "button"), $(o, "class", "jse-close svelte-1n68mbh"), $(e, "class", "jse-header svelte-1n68mbh");
  }, m: function(f, d) {
    X(f, e, d), E(e, n), E(e, r), u && u.m(e, null), E(e, i), E(e, o), be(s, o, null), a = !0, l || (c = _e(o, "click", t[7]), l = !0);
  }, p: function(f, d) {
    var h = Mt(d, 1)[0];
    f[0].length > 1 ? u ? (u.p(f, h), 1 & h && S(u, 1)) : ((u = uk(f)).c(), S(u, 1), u.m(e, i)) : u && (Ae(), A(u, 1, 1, function() {
      u = null;
    }), Ee());
  }, i: function(f) {
    a || (S(u), S(s.$$.fragment, f), a = !0);
  }, o: function(f) {
    A(u), A(s.$$.fragment, f), a = !1;
  }, d: function(f) {
    f && Q(e), u && u.d(), xe(s), l = !1, c();
  } };
}
function Yie(t, e, n) {
  var r, i, o = e.queryLanguages, s = e.queryLanguageId, a = e.onChangeQueryLanguage, l = Hr("simple-modal").close, c = Hr("absolute-popup"), u = c.openAbsolutePopup, f = c.closeAbsolutePopup;
  return t.$$set = function(d) {
    "queryLanguages" in d && n(0, o = d.queryLanguages), "queryLanguageId" in d && n(4, s = d.queryLanguageId), "onChangeQueryLanguage" in d && n(5, a = d.onChangeQueryLanguage);
  }, [o, r, l, function() {
    var d = { queryLanguages: o, queryLanguageId: s, onChangeQueryLanguage: function(h) {
      f(i), a(h);
    } };
    i = u(Jie, d, { offsetTop: -2, offsetLeft: 0, anchor: r, closeOnOuterClick: !0 });
  }, s, a, function(d) {
    tn[d ? "unshift" : "push"](function() {
      n(1, r = d);
    });
  }, function() {
    return l();
  }];
}
var Qie = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Yie, Kie, Lt, { queryLanguages: 0, queryLanguageId: 4, onChangeQueryLanguage: 5 }, Gie), r;
  }
  return at(e, ct), ot(e);
}(), Hg = Jr("jsoneditor:AutoScrollHandler"), Xie = function(t, e, n, r) {
  return (t /= r / 2) < 1 ? n / 2 * t * t + e : -n / 2 * (--t * (t - 2) - 1) + e;
}, NT = function() {
  var t, e, n, r, i, o, s, a, l, c, u, f, d;
  function h(g) {
    return g.getBoundingClientRect().top - (t.getBoundingClientRect ? t.getBoundingClientRect().top : 0) + n;
  }
  function p(g) {
    t.scrollTo ? t.scrollTo(t.scrollLeft, g) : t.scrollTop = g;
  }
  function m(g) {
    c || (c = g), p(o(u = g - c, n, a, l)), d = !0, u < l ? requestAnimationFrame(m) : function() {
      p(n + a), e && s && (e.setAttribute("tabindex", "-1"), e.focus()), typeof f == "function" && f(), c = 0, d = !1;
    }();
  }
  return function(g) {
    var v = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    switch (l = 1e3, i = v.offset || 0, f = v.callback, o = v.easing || Xie, s = v.a11y || !1, Or(v.container)) {
      case "object":
        t = v.container;
        break;
      case "string":
        t = document.querySelector(v.container);
        break;
      default:
        t = window.document.documentElement;
    }
    switch (n = t.scrollTop, Or(g)) {
      case "number":
        e = void 0, s = !1, r = n + g;
        break;
      case "object":
        r = h(e = g);
        break;
      case "string":
        e = document.querySelector(g), r = h(e);
    }
    switch (a = r - n + i, Or(v.duration)) {
      case "number":
        l = v.duration;
        break;
      case "function":
        l = v.duration(a);
    }
    d ? c = 0 : requestAnimationFrame(m);
  };
}, Zie = 1e3, eh = Jr("jsoneditor:History");
function DT() {
  var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, e = t.maxItems || Zie, n = [], r = 0;
  function i() {
    return r < n.length;
  }
  function o() {
    return r > 0;
  }
  function s() {
    return { canUndo: i(), canRedo: o(), length: n.length };
  }
  function a() {
    t.onChange && t.onChange(s());
  }
  return { add: function(l) {
    eh("add", l), n = [l].concat(n.slice(r)).slice(0, e), r = 0, a();
  }, clear: function() {
    eh("clear"), n = [], r = 0, a();
  }, getState: s, undo: function() {
    if (i()) {
      var l = n[r];
      return r += 1, eh("undo", l), a(), l;
    }
  }, redo: function() {
    if (o())
      return eh("redo", n[r -= 1]), a(), n[r];
  } };
}
function uc(t, e) {
  var n = Date.now(), r = t();
  return e(Date.now() - n), r;
}
var tc = Jr("validation");
function LT(t, e, n, r) {
  if (tc("validateJSON"), !e)
    return [];
  if (n !== r) {
    var i = n.stringify(t);
    return e(i !== void 0 ? r.parse(i) : void 0);
  }
  return e(t);
}
function eoe(t, e, n, r) {
  if (tc("validateText"), t.length > une)
    return { validationErrors: [{ path: [], message: "Validation turned off: the document is too large", severity: Ks.info }] };
  if (t.length === 0)
    return null;
  try {
    var i = uc(function() {
      return n.parse(t);
    }, function(l) {
      return tc("validate: parsed json in ".concat(l, " ms"));
    });
    if (!e)
      return null;
    var o = n === r ? i : uc(function() {
      return r.parse(t);
    }, function(l) {
      return tc("validate: parsed json with the validationParser in ".concat(l, " ms"));
    }), s = uc(function() {
      return e(o);
    }, function(l) {
      return tc("validate: validated json in ".concat(l, " ms"));
    });
    return dn(s) ? null : { validationErrors: s };
  } catch (l) {
    var a = uc(function() {
      return function(c, u) {
        if (c.length > fne)
          return !1;
        try {
          return u.parse(fs(c)), !0;
        } catch {
          return !1;
        }
      }(t, n);
    }, function(c) {
      return tc("validate: checked whether repairable in ".concat(c, " ms"));
    });
    return { parseError: Lc(t, l.message || l.toString()), isRepairable: a };
  }
}
var th = Jr("jsoneditor:FocusTracker");
function e2(t) {
  var e, n = t.onMount, r = t.onDestroy, i = t.getWindow, o = t.hasFocus, s = t.onFocus, a = t.onBlur, l = !1;
  function c() {
    var f = o();
    f && (clearTimeout(e), l || (th("focus"), s(), l = f));
  }
  function u() {
    l && (clearTimeout(e), e = setTimeout(function() {
      o() || (th("blur"), l = !1, a());
    }));
  }
  n(function() {
    th("mount FocusTracker");
    var f = i();
    f && (f.addEventListener("focusin", c, !0), f.addEventListener("focusout", u, !0));
  }), r(function() {
    th("destroy FocusTracker");
    var f = i();
    f && (f.removeEventListener("focusin", c, !0), f.removeEventListener("focusout", u, !0));
  });
}
function toe(t) {
  Tt(t, "svelte-p1zf9f", '.jse-message.svelte-p1zf9f.svelte-p1zf9f{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);padding:var(--jse-padding, 10px);display:flex;gap:var(--jse-padding, 10px);flex-wrap:wrap;align-items:stretch}.jse-message.jse-success.svelte-p1zf9f.svelte-p1zf9f{background:var(--message-success-background, #9ac45d);color:var(--jse-message-success-color, #fff)}.jse-message.svelte-p1zf9f .jse-text.svelte-p1zf9f{display:flex;flex:1;min-width:60%;align-items:center}.jse-message.svelte-p1zf9f .jse-text.jse-clickable.svelte-p1zf9f{cursor:pointer}.jse-message.svelte-p1zf9f .jse-text.jse-clickable.svelte-p1zf9f:hover{background-color:rgba(255, 255, 255, 0.1)}.jse-message.jse-error.svelte-p1zf9f.svelte-p1zf9f{background:var(--jse-message-error-background, var(--jse-error-color, #ee5341));color:var(--jse-message-error-color, #fff)}.jse-message.jse-warning.svelte-p1zf9f.svelte-p1zf9f{background:var(--jse-message-warning-background, #ffde5c);color:var(--jse-message-warning-color, #4d4d4d)}.jse-message.jse-info.svelte-p1zf9f.svelte-p1zf9f{background:var(--jse-message-info-background, #4f91ff);color:var(--jse-message-info-color, #fff)}.jse-message.svelte-p1zf9f .jse-actions.svelte-p1zf9f{display:flex;gap:var(--jse-padding, 10px)}.jse-message.svelte-p1zf9f .jse-actions button.jse-action.svelte-p1zf9f{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-message-action-background, rgba(255, 255, 255, 0.2));color:inherit;padding:calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px)}.jse-message.svelte-p1zf9f .jse-actions button.jse-action.svelte-p1zf9f:hover{background:var(--jse-message-action-background-highlight, rgba(255, 255, 255, 0.3))}');
}
function fk(t, e, n) {
  var r = t.slice();
  return r[9] = e[n], r;
}
function dk(t) {
  var e, n;
  return e = new cn({ props: { data: t[1] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    2 & i && (o.data = r[1]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function hk(t) {
  var e, n;
  return e = new cn({ props: { data: t[9].icon } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    8 & i && (o.data = r[9].icon), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function pk(t) {
  var e, n, r, i, o, s, a, l, c, u = t[9].text + "", f = t[9].icon && hk(t);
  function d() {
    return t[7](t[9]);
  }
  function h() {
    return t[8](t[9]);
  }
  return { c: function() {
    e = U("button"), f && f.c(), n = le(), r = Le(u), i = le(), $(e, "type", "button"), $(e, "class", "jse-button jse-action jse-primary svelte-p1zf9f"), $(e, "title", o = t[9].title), e.disabled = s = t[9].disabled;
  }, m: function(p, m) {
    X(p, e, m), f && f.m(e, null), E(e, n), E(e, r), E(e, i), a = !0, l || (c = [_e(e, "click", d), _e(e, "mousedown", h)], l = !0);
  }, p: function(p, m) {
    (t = p)[9].icon ? f ? (f.p(t, m), 8 & m && S(f, 1)) : ((f = hk(t)).c(), S(f, 1), f.m(e, n)) : f && (Ae(), A(f, 1, 1, function() {
      f = null;
    }), Ee()), (!a || 8 & m) && u !== (u = t[9].text + "") && yt(r, u), (!a || 8 & m && o !== (o = t[9].title)) && $(e, "title", o), (!a || 8 & m && s !== (s = t[9].disabled)) && (e.disabled = s);
  }, i: function(p) {
    a || (S(f), a = !0);
  }, o: function(p) {
    A(f), a = !1;
  }, d: function(p) {
    p && Q(e), f && f.d(), l = !1, Dn(c);
  } };
}
function noe(t) {
  for (var e, n, r, i, o, s, a, l, c, u, f, d = t[1] && dk(t), h = Et(t[3]), p = [], m = 0; m < h.length; m += 1)
    p[m] = pk(fk(t, h, m));
  var g = function(v) {
    return A(p[v], 1, 1, function() {
      p[v] = null;
    });
  };
  return { c: function() {
    e = U("div"), n = U("div"), r = U("div"), d && d.c(), i = le(), o = Le(t[2]), s = le(), a = U("div");
    for (var v = 0; v < p.length; v += 1)
      p[v].c();
    $(r, "class", "jse-text-centered"), $(n, "role", "button"), $(n, "tabindex", "-1"), $(n, "class", "jse-text svelte-p1zf9f"), Se(n, "jse-clickable", !!t[4]), $(a, "class", "jse-actions svelte-p1zf9f"), $(e, "class", l = "jse-message jse-" + t[0] + " svelte-p1zf9f");
  }, m: function(v, y) {
    X(v, e, y), E(e, n), E(n, r), d && d.m(r, null), E(r, i), E(r, o), E(e, s), E(e, a);
    for (var x = 0; x < p.length; x += 1)
      p[x] && p[x].m(a, null);
    c = !0, u || (f = _e(n, "click", t[5]), u = !0);
  }, p: function(v, y) {
    var x = Mt(y, 1)[0];
    if (v[1] ? d ? (d.p(v, x), 2 & x && S(d, 1)) : ((d = dk(v)).c(), S(d, 1), d.m(r, i)) : d && (Ae(), A(d, 1, 1, function() {
      d = null;
    }), Ee()), (!c || 4 & x) && yt(o, v[2]), (!c || 16 & x) && Se(n, "jse-clickable", !!v[4]), 8 & x) {
      var b;
      for (h = Et(v[3]), b = 0; b < h.length; b += 1) {
        var w = fk(v, h, b);
        p[b] ? (p[b].p(w, x), S(p[b], 1)) : (p[b] = pk(w), p[b].c(), S(p[b], 1), p[b].m(a, null));
      }
      for (Ae(), b = h.length; b < p.length; b += 1)
        g(b);
      Ee();
    }
    (!c || 1 & x && l !== (l = "jse-message jse-" + v[0] + " svelte-p1zf9f")) && $(e, "class", l);
  }, i: function(v) {
    if (!c) {
      S(d);
      for (var y = 0; y < h.length; y += 1)
        S(p[y]);
      c = !0;
    }
  }, o: function(v) {
    A(d), p = p.filter(Boolean);
    for (var y = 0; y < p.length; y += 1)
      A(p[y]);
    c = !1;
  }, d: function(v) {
    v && Q(e), d && d.d(), Sr(p, v), u = !1, f();
  } };
}
function roe(t, e, n) {
  var r = e.type, i = r === void 0 ? "success" : r, o = e.icon, s = o === void 0 ? void 0 : o, a = e.message, l = a === void 0 ? void 0 : a, c = e.actions, u = c === void 0 ? [] : c, f = e.onClick, d = f === void 0 ? void 0 : f, h = e.onClose, p = h === void 0 ? void 0 : h;
  return p && to(p), t.$$set = function(m) {
    "type" in m && n(0, i = m.type), "icon" in m && n(1, s = m.icon), "message" in m && n(2, l = m.message), "actions" in m && n(3, u = m.actions), "onClick" in m && n(4, d = m.onClick), "onClose" in m && n(6, p = m.onClose);
  }, [i, s, l, u, d, function() {
    d && d();
  }, p, function(m) {
    m.onClick && m.onClick();
  }, function(m) {
    m.onMouseDown && m.onMouseDown();
  }];
}
var Jo = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, roe, noe, Lt, { type: 0, icon: 1, message: 2, actions: 3, onClick: 4, onClose: 6 }, toe), r;
  }
  return at(e, ct), ot(e);
}();
function ioe(t) {
  Tt(t, "svelte-1ifg4t0", '.jse-validation-errors-overview.svelte-1ifg4t0.svelte-1ifg4t0{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);background:var(--jse-message-warning-background, #ffde5c);color:var(--jse-message-warning-color, #4d4d4d);overflow:auto;max-height:25%}.jse-validation-errors-overview.svelte-1ifg4t0 table.svelte-1ifg4t0{border-collapse:collapse;width:100%}.jse-validation-errors-overview.svelte-1ifg4t0 table tr.svelte-1ifg4t0{cursor:pointer}.jse-validation-errors-overview.svelte-1ifg4t0 table tr.svelte-1ifg4t0:hover{background-color:rgba(255, 255, 255, 0.1)}.jse-validation-errors-overview.svelte-1ifg4t0 table tr td.svelte-1ifg4t0{padding:4px var(--jse-padding, 10px);vertical-align:middle}.jse-validation-errors-overview.svelte-1ifg4t0 table tr td.jse-validation-error-icon.svelte-1ifg4t0{width:36px;box-sizing:border-box}.jse-validation-errors-overview.svelte-1ifg4t0 table tr td.jse-validation-error-action.svelte-1ifg4t0{width:36px;box-sizing:border-box;padding:0}.jse-validation-errors-overview.svelte-1ifg4t0 table tr td.jse-validation-error-action button.jse-validation-errors-collapse.svelte-1ifg4t0{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;width:36px;height:26px;cursor:pointer}.jse-validation-errors-overview.svelte-1ifg4t0 table tr td.jse-validation-error-action button.jse-validation-errors-collapse.svelte-1ifg4t0:hover{background-color:rgba(255, 255, 255, 0.2)}.jse-validation-errors-overview.svelte-1ifg4t0 table tr td div.jse-validation-errors-expand.svelte-1ifg4t0{display:inline-block;position:relative;top:3px}');
}
function mk(t, e, n) {
  var r = t.slice();
  return r[7] = e[n], r[9] = n, r;
}
function gk(t) {
  var e, n, r, i, o = [soe, ooe], s = [];
  function a(l, c) {
    return l[2] || l[3] === 1 ? 0 : 1;
  }
  return n = a(t), r = s[n] = o[n](t), { c: function() {
    e = U("div"), r.c(), $(e, "class", "jse-validation-errors-overview svelte-1ifg4t0");
  }, m: function(l, c) {
    X(l, e, c), s[n].m(e, null), i = !0;
  }, p: function(l, c) {
    var u = n;
    (n = a(l)) === u ? s[n].p(l, c) : (Ae(), A(s[u], 1, 1, function() {
      s[u] = null;
    }), Ee(), (r = s[n]) ? r.p(l, c) : (r = s[n] = o[n](l)).c(), S(r, 1), r.m(e, null));
  }, i: function(l) {
    i || (S(r), i = !0);
  }, o: function(l) {
    A(r), i = !1;
  }, d: function(l) {
    l && Q(e), s[n].d();
  } };
}
function ooe(t) {
  var e, n, r, i, o, s, a, l, c, u, f, d, h, p;
  return o = new cn({ props: { data: ql } }), f = new cn({ props: { data: D_ } }), { c: function() {
    e = U("table"), n = U("tbody"), r = U("tr"), i = U("td"), we(o.$$.fragment), s = le(), a = U("td"), l = Le(t[3]), c = Le(` validation errors
              `), u = U("div"), we(f.$$.fragment), $(i, "class", "jse-validation-error-icon svelte-1ifg4t0"), $(u, "class", "jse-validation-errors-expand svelte-1ifg4t0"), $(a, "class", "jse-validation-error-count svelte-1ifg4t0"), $(r, "class", "jse-validation-error svelte-1ifg4t0"), $(e, "class", "jse-validation-errors-overview-collapsed svelte-1ifg4t0");
  }, m: function(m, g) {
    X(m, e, g), E(e, n), E(n, r), E(r, i), be(o, i, null), E(r, s), E(r, a), E(a, l), E(a, c), E(a, u), be(f, u, null), d = !0, h || (p = _e(r, "click", t[5]), h = !0);
  }, p: function(m, g) {
    (!d || 8 & g) && yt(l, m[3]);
  }, i: function(m) {
    d || (S(o.$$.fragment, m), S(f.$$.fragment, m), d = !0);
  }, o: function(m) {
    A(o.$$.fragment, m), A(f.$$.fragment, m), d = !1;
  }, d: function(m) {
    m && Q(e), xe(o), xe(f), h = !1, p();
  } };
}
function soe(t) {
  for (var e, n, r, i, o = Et(xp(t[0], lc)), s = [], a = 0; a < o.length; a += 1)
    s[a] = yk(mk(t, o, a));
  var l = function(u) {
    return A(s[u], 1, 1, function() {
      s[u] = null;
    });
  }, c = t[3] > lc && bk(t);
  return { c: function() {
    e = U("table"), n = U("tbody");
    for (var u = 0; u < s.length; u += 1)
      s[u].c();
    r = le(), c && c.c(), $(e, "class", "jse-validation-errors-overview-expanded svelte-1ifg4t0");
  }, m: function(u, f) {
    X(u, e, f), E(e, n);
    for (var d = 0; d < s.length; d += 1)
      s[d] && s[d].m(n, null);
    E(n, r), c && c.m(n, null), i = !0;
  }, p: function(u, f) {
    if (19 & f) {
      var d;
      for (o = Et(xp(u[0], lc)), d = 0; d < o.length; d += 1) {
        var h = mk(u, o, d);
        s[d] ? (s[d].p(h, f), S(s[d], 1)) : (s[d] = yk(h), s[d].c(), S(s[d], 1), s[d].m(n, r));
      }
      for (Ae(), d = o.length; d < s.length; d += 1)
        l(d);
      Ee();
    }
    u[3] > lc ? c ? c.p(u, f) : ((c = bk(u)).c(), c.m(n, null)) : c && (c.d(1), c = null);
  }, i: function(u) {
    if (!i) {
      for (var f = 0; f < o.length; f += 1)
        S(s[f]);
      i = !0;
    }
  }, o: function(u) {
    s = s.filter(Boolean);
    for (var f = 0; f < s.length; f += 1)
      A(s[f]);
    i = !1;
  }, d: function(u) {
    u && Q(e), Sr(s, u), c && c.d();
  } };
}
function vk(t) {
  var e, n, r, i, o;
  return n = new cn({ props: { data: NW } }), { c: function() {
    e = U("button"), we(n.$$.fragment), $(e, "type", "button"), $(e, "class", "jse-validation-errors-collapse svelte-1ifg4t0"), $(e, "title", "Collapse validation errors");
  }, m: function(s, a) {
    X(s, e, a), be(n, e, null), r = !0, i || (o = _e(e, "click", Ho(t[4])), i = !0);
  }, p: Te, i: function(s) {
    r || (S(n.$$.fragment, s), r = !0);
  }, o: function(s) {
    A(n.$$.fragment, s), r = !1;
  }, d: function(s) {
    s && Q(e), xe(n), i = !1, o();
  } };
}
function yk(t) {
  var e, n, r, i, o, s, a, l, c, u, f, d, h, p, m = qi(t[7].path) + "", g = t[7].message + "";
  r = new cn({ props: { data: ql } });
  var v = t[9] === 0 && t[0].length > 1 && vk(t);
  function y() {
    return t[6](t[7]);
  }
  return { c: function() {
    e = U("tr"), n = U("td"), we(r.$$.fragment), i = le(), o = U("td"), s = Le(m), a = le(), l = U("td"), c = Le(g), u = le(), f = U("td"), v && v.c(), $(n, "class", "jse-validation-error-icon svelte-1ifg4t0"), $(o, "class", "jse-validation-error-path svelte-1ifg4t0"), $(l, "class", "jse-validation-error-message svelte-1ifg4t0"), $(f, "class", "jse-validation-error-action svelte-1ifg4t0"), $(e, "class", "jse-validation-error svelte-1ifg4t0");
  }, m: function(x, b) {
    X(x, e, b), E(e, n), be(r, n, null), E(e, i), E(e, o), E(o, s), E(e, a), E(e, l), E(l, c), E(e, u), E(e, f), v && v.m(f, null), d = !0, h || (p = _e(e, "click", y), h = !0);
  }, p: function(x, b) {
    t = x, (!d || 1 & b) && m !== (m = qi(t[7].path) + "") && yt(s, m), (!d || 1 & b) && g !== (g = t[7].message + "") && yt(c, g), t[9] === 0 && t[0].length > 1 ? v ? (v.p(t, b), 1 & b && S(v, 1)) : ((v = vk(t)).c(), S(v, 1), v.m(f, null)) : v && (Ae(), A(v, 1, 1, function() {
      v = null;
    }), Ee());
  }, i: function(x) {
    d || (S(r.$$.fragment, x), S(v), d = !0);
  }, o: function(x) {
    A(r.$$.fragment, x), A(v), d = !1;
  }, d: function(x) {
    x && Q(e), xe(r), v && v.d(), h = !1, p();
  } };
}
function bk(t) {
  var e, n, r, i, o, s, a, l, c, u, f, d = t[3] - lc + "";
  return { c: function() {
    e = U("tr"), n = U("td"), r = le(), i = U("td"), o = le(), s = U("td"), a = Le("(and "), l = Le(d), c = Le(" more errors)"), u = le(), f = U("td"), $(n, "class", "svelte-1ifg4t0"), $(i, "class", "svelte-1ifg4t0"), $(s, "class", "svelte-1ifg4t0"), $(f, "class", "svelte-1ifg4t0"), $(e, "class", "jse-validation-error svelte-1ifg4t0");
  }, m: function(h, p) {
    X(h, e, p), E(e, n), E(e, r), E(e, i), E(e, o), E(e, s), E(s, a), E(s, l), E(s, c), E(e, u), E(e, f);
  }, p: function(h, p) {
    8 & p && d !== (d = h[3] - lc + "") && yt(l, d);
  }, d: function(h) {
    h && Q(e);
  } };
}
function aoe(t) {
  var e, n, r = !dn(t[0]), i = r && gk(t);
  return { c: function() {
    i && i.c(), e = wn();
  }, m: function(o, s) {
    i && i.m(o, s), X(o, e, s), n = !0;
  }, p: function(o, s) {
    var a = Mt(s, 1)[0];
    1 & a && (r = !dn(o[0])), r ? i ? (i.p(o, a), 1 & a && S(i, 1)) : ((i = gk(o)).c(), S(i, 1), i.m(e.parentNode, e)) : i && (Ae(), A(i, 1, 1, function() {
      i = null;
    }), Ee());
  }, i: function(o) {
    n || (S(i), n = !0);
  }, o: function(o) {
    A(i), n = !1;
  }, d: function(o) {
    o && Q(e), i && i.d(o);
  } };
}
function loe(t, e, n) {
  var r, i = e.validationErrors, o = e.selectError, s = !0;
  return t.$$set = function(a) {
    "validationErrors" in a && n(0, i = a.validationErrors), "selectError" in a && n(1, o = a.selectError);
  }, t.$$.update = function() {
    1 & t.$$.dirty && n(3, r = i.length);
  }, [i, o, s, r, function() {
    n(2, s = !1);
  }, function() {
    n(2, s = !0);
  }, function(a) {
    setTimeout(function() {
      return o(a);
    });
  }];
}
var t2 = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, loe, aoe, Lt, { validationErrors: 0, selectError: 1 }, ioe), r;
  }
  return at(e, ct), ot(e);
}(), coe = typeof navigator < "u" && navigator.platform.toUpperCase().indexOf("MAC") >= 0;
function uoe(t) {
  Tt(t, "svelte-1n68mbh", ".jse-header.svelte-1n68mbh.svelte-1n68mbh{display:flex;background:var(--jse-theme-color, #3883fa);color:var(--jse-menu-color, var(--jse-text-color-inverse, #fff))}.jse-header.svelte-1n68mbh .jse-title.svelte-1n68mbh{flex:1;padding:5px;vertical-align:middle}.jse-header.svelte-1n68mbh button.svelte-1n68mbh{border:none;background:transparent;min-width:32px;color:inherit;cursor:pointer}.jse-header.svelte-1n68mbh button.svelte-1n68mbh:hover{background:rgba(255, 255, 255, 0.1)}");
}
function foe(t) {
  var e, n, r, i, o, s, a, l, c;
  return s = new cn({ props: { data: Ac } }), { c: function() {
    e = U("div"), n = U("div"), r = Le(t[0]), i = le(), o = U("button"), we(s.$$.fragment), $(n, "class", "jse-title svelte-1n68mbh"), $(o, "type", "button"), $(o, "class", "jse-close svelte-1n68mbh"), $(e, "class", "jse-header svelte-1n68mbh");
  }, m: function(u, f) {
    X(u, e, f), E(e, n), E(n, r), E(e, i), E(e, o), be(s, o, null), a = !0, l || (c = _e(o, "click", t[3]), l = !0);
  }, p: function(u, f) {
    var d = Mt(f, 1)[0];
    (!a || 1 & d) && yt(r, u[0]);
  }, i: function(u) {
    a || (S(s.$$.fragment, u), a = !0);
  }, o: function(u) {
    A(s.$$.fragment, u), a = !1;
  }, d: function(u) {
    u && Q(e), xe(s), l = !1, c();
  } };
}
function doe(t, e, n) {
  var r = e.title, i = r === void 0 ? "Modal" : r, o = e.onClose, s = o === void 0 ? void 0 : o, a = Hr("simple-modal").close;
  return t.$$set = function(l) {
    "title" in l && n(0, i = l.title), "onClose" in l && n(1, s = l.onClose);
  }, [i, s, a, function() {
    s ? s() : a();
  }];
}
var n2 = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, doe, foe, Lt, { title: 0, onClose: 1 }, uoe), r;
  }
  return at(e, ct), ot(e);
}();
function hoe(t) {
  Tt(t, "svelte-18bor9q", '.jse-modal.svelte-18bor9q.svelte-18bor9q{flex:1;display:flex;flex-direction:column;min-width:0;min-height:0;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);line-height:normal;background:var(--jse-modal-background, #f5f5f5);color:var(--jse-text-color, #4d4d4d)}.jse-modal.svelte-18bor9q .svelte-select{--border:var(--jse-svelte-select-border, 1px solid #d8dbdf);--item-is-active-bg:var(--jse-item-is-active-bg, #3883fa);--border-radius:var(--jse-svelte-select-border-radius, 3px);--background:var(--jse-svelte-select-background, #fff);--padding:var(--jse-svelte-select-padding, 0 10px);--multi-select-padding:var(--jse-svelte-select-multi-select-padding, 0 10px);--font-size:var(--jse-svelte-select-font-size, var(--jse-font-size, 16px));--height:36px;--multi-item-height:28px;--multi-item-margin:2px;--multi-item-padding:2px 8px;--multi-item-border-radius:6px;--indicator-top:8px}.jse-modal.svelte-18bor9q .jse-modal-contents.svelte-18bor9q{flex:1;display:flex;flex-direction:column;padding:20px;overflow:auto;min-width:0;min-height:0}.jse-modal.svelte-18bor9q .jse-modal-contents .jse-actions.svelte-18bor9q{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding, 10px)}.jse-modal.svelte-18bor9q .jse-modal-contents .jse-actions button.jse-primary.svelte-18bor9q{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-modal.svelte-18bor9q .jse-modal-contents .jse-actions button.jse-primary.svelte-18bor9q:hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-modal.svelte-18bor9q .jse-modal-contents .jse-actions button.jse-primary.svelte-18bor9q:disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.bg.jse-modal-bg{width:100%;height:100%;top:0;left:0;background:var(--jse-overlay-background, rgba(0, 0, 0, 0.3))}.bg.jse-modal-bg .jse-modal-window-wrap{margin:0}.bg.jse-modal-bg .jse-modal-window{max-width:90%;margin:4rem auto 2rem auto;border-radius:2px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-sort{width:400px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-transform{width:1200px;height:1200px;max-height:80%;display:flex}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-jsoneditor{width:800px;height:auto;min-height:500px;max-height:calc(100vh - 6rem);display:flex}.bg.jse-modal-bg .jse-modal-container{flex:1;display:flex;flex-direction:column;padding:0}.jse-modal.jse-copy-paste.svelte-18bor9q .jse-shortcuts.svelte-18bor9q{display:flex;flex-wrap:wrap;justify-content:space-around;margin:calc(2 * var(--jse-padding, 10px)) 0}.jse-modal.jse-copy-paste.svelte-18bor9q .jse-shortcuts .jse-shortcut .jse-key.svelte-18bor9q{font-size:200%;color:var(--jse-theme-color, #3883fa)}');
}
function poe(t) {
  var e, n, r, i, o, s, a, l, c, u, f, d, h, p, m, g, v, y, x, b, w, j, k, N;
  return n = new n2({ props: { title: "Copying and pasting" } }), { c: function() {
    e = U("div"), we(n.$$.fragment), r = le(), i = U("div"), (o = U("div")).textContent = "These actions are unavailable via the menu. Please use:", s = le(), a = U("div"), l = U("div"), (c = U("div")).textContent = "".concat(t[1], "+C"), u = Le(`
        for copy`), f = le(), d = U("div"), (h = U("div")).textContent = "".concat(t[1], "+X"), p = Le(`
        for cut`), m = le(), g = U("div"), (v = U("div")).textContent = "".concat(t[1], "+V"), y = Le(`
        for paste`), x = le(), b = U("div"), (w = U("button")).textContent = "Close", $(c, "class", "jse-key svelte-18bor9q"), $(l, "class", "jse-shortcut"), $(h, "class", "jse-key svelte-18bor9q"), $(d, "class", "jse-shortcut"), $(v, "class", "jse-key svelte-18bor9q"), $(g, "class", "jse-shortcut"), $(a, "class", "jse-shortcuts svelte-18bor9q"), $(w, "type", "button"), $(w, "class", "jse-primary svelte-18bor9q"), $(b, "class", "jse-actions svelte-18bor9q"), $(i, "class", "jse-modal-contents svelte-18bor9q"), $(e, "class", "jse-modal jse-copy-paste svelte-18bor9q");
  }, m: function(z, _) {
    X(z, e, _), be(n, e, null), E(e, r), E(e, i), E(i, o), E(i, s), E(i, a), E(a, l), E(l, c), E(l, u), E(a, f), E(a, d), E(d, h), E(d, p), E(a, m), E(a, g), E(g, v), E(g, y), E(i, x), E(i, b), E(b, w), j = !0, k || (N = _e(w, "click", t[2]), k = !0);
  }, p: Te, i: function(z) {
    j || (S(n.$$.fragment, z), j = !0);
  }, o: function(z) {
    A(n.$$.fragment, z), j = !1;
  }, d: function(z) {
    z && Q(e), xe(n), k = !1, N();
  } };
}
function moe(t) {
  var e = Hr("simple-modal").close;
  return [e, coe ? "" : "Ctrl", function() {
    return e();
  }];
}
var BT = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, moe, poe, Lt, {}, hoe), r;
  }
  return at(e, ct), ot(e);
}();
function qT(t) {
  return !!t && (t.type === "space" || t.space === !0);
}
function Vm(t) {
  return !!t && (t.type === "separator" || t.separator === !0);
}
function goe(t) {
  return !!t && t.type === "label" && typeof t.text == "string";
}
function ld(t) {
  return !!t && typeof t.onClick == "function";
}
function r2(t) {
  return !!t && t.type === "dropdown-button" && ld(t.main) && Array.isArray(t.items);
}
function voe(t) {
  return !!t && t.type === "row" && Array.isArray(t.items);
}
function yoe(t) {
  return !!t && t.type === "column" && Array.isArray(t.items);
}
function xk(t) {
  return Yn(t) && Yn(t.parseError);
}
function boe(t) {
  return Yn(t) && Array.isArray(t.validationErrors);
}
function xoe(t) {
  return Yn(t) && Array.isArray(t.path) && typeof t.message == "string" && "severity" in t;
}
function woe(t) {
  return Yn(t) && xoe(t) && typeof t.isChildError == "boolean";
}
function joe(t) {
  Tt(t, "svelte-7deygj", '.jse-menu.svelte-7deygj.svelte-7deygj{background:var(--jse-theme-color, #3883fa);font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size-main-menu, 14px);color:var(--jse-menu-color, var(--jse-text-color-inverse, #fff));display:flex;flex-wrap:wrap;align-items:stretch;position:relative}.jse-menu.svelte-7deygj .jse-button.svelte-7deygj{font-family:inherit;font-size:inherit;line-height:1.5em;border:none;background:transparent;color:inherit;cursor:pointer;width:var(--jse-menu-button-size, 32px);height:var(--jse-menu-button-size, 32px);padding:calc(0.5 * var(--jse-padding, 10px));margin:0;border-radius:0;display:inline-flex;align-items:center;text-align:center;justify-content:center}.jse-menu.svelte-7deygj .jse-button.svelte-7deygj:hover,.jse-menu.svelte-7deygj .jse-button.svelte-7deygj:focus{background:var(--jse-theme-color-highlight, #5f9dff)}.jse-menu.svelte-7deygj .jse-button.svelte-7deygj:disabled{color:var(--jse-menu-color, var(--jse-text-color-inverse, #fff));opacity:0.5;background:transparent}.jse-menu.svelte-7deygj .jse-button.jse-group-button.svelte-7deygj{width:auto;height:calc(var(--jse-menu-button-size, 32px) - var(--jse-padding, 10px));margin:calc(0.5 * var(--jse-padding, 10px)) 0;padding:0 calc(0.5 * var(--jse-padding, 10px)) 1px;border:1px solid var(--jse-menu-color, var(--jse-text-color-inverse, #fff))}.jse-menu.svelte-7deygj .jse-button.jse-group-button.svelte-7deygj:not(.jse-last){border-right:none}.jse-menu.svelte-7deygj .jse-button.jse-group-button.jse-first.svelte-7deygj{margin-left:calc(0.5 * var(--jse-padding, 10px))}.jse-menu.svelte-7deygj .jse-button.jse-group-button.jse-last.svelte-7deygj{margin-right:calc(0.5 * var(--jse-padding, 10px))}.jse-menu.svelte-7deygj .jse-button.jse-group-button.svelte-7deygj:hover,.jse-menu.svelte-7deygj .jse-button.jse-group-button.svelte-7deygj:focus{background:var(--jse-theme-color-highlight, #5f9dff)}.jse-menu.svelte-7deygj .jse-button.jse-group-button.jse-selected.svelte-7deygj{background:var(--jse-menu-color, var(--jse-text-color-inverse, #fff));color:var(--jse-theme-color, #3883fa)}.jse-menu.svelte-7deygj .jse-space.svelte-7deygj{flex:1}.jse-menu.svelte-7deygj .jse-separator.svelte-7deygj{background:var(--jse-menu-color, var(--jse-text-color-inverse, #fff));opacity:0.3;width:1px;margin:3px}');
}
var $oe = function(t) {
  return {};
}, wk = function(t) {
  return {};
};
function jk(t, e, n) {
  var r = t.slice();
  return r[3] = e[n], r;
}
var koe = function(t) {
  return {};
}, $k = function(t) {
  return {};
};
function Soe(t) {
  var e, n = _k(t[3]) + "";
  return { c: function() {
    e = Le(n);
  }, m: function(r, i) {
    X(r, e, i);
  }, p: function(r, i) {
    1 & i && n !== (n = _k(r[3]) + "") && yt(e, n);
  }, i: Te, o: Te, d: function(r) {
    r && Q(e);
  } };
}
function Coe(t) {
  var e, n, r, i, o, s, a, l, c = t[3].icon && kk(t), u = t[3].text && Sk(t);
  return { c: function() {
    e = U("button"), c && c.c(), n = le(), u && u.c(), $(e, "type", "button"), $(e, "class", r = "jse-button " + t[3].className + " svelte-7deygj"), $(e, "title", i = t[3].title), e.disabled = o = t[3].disabled || !1;
  }, m: function(f, d) {
    X(f, e, d), c && c.m(e, null), E(e, n), u && u.m(e, null), s = !0, a || (l = _e(e, "click", function() {
      di(t[3].onClick) && t[3].onClick.apply(this, arguments);
    }), a = !0);
  }, p: function(f, d) {
    (t = f)[3].icon ? c ? (c.p(t, d), 1 & d && S(c, 1)) : ((c = kk(t)).c(), S(c, 1), c.m(e, n)) : c && (Ae(), A(c, 1, 1, function() {
      c = null;
    }), Ee()), t[3].text ? u ? u.p(t, d) : ((u = Sk(t)).c(), u.m(e, null)) : u && (u.d(1), u = null), (!s || 1 & d && r !== (r = "jse-button " + t[3].className + " svelte-7deygj")) && $(e, "class", r), (!s || 1 & d && i !== (i = t[3].title)) && $(e, "title", i), (!s || 1 & d && o !== (o = t[3].disabled || !1)) && (e.disabled = o);
  }, i: function(f) {
    s || (S(c), s = !0);
  }, o: function(f) {
    A(c), s = !1;
  }, d: function(f) {
    f && Q(e), c && c.d(), u && u.d(), a = !1, l();
  } };
}
function _oe(t) {
  var e;
  return { c: function() {
    $(e = U("div"), "class", "jse-space svelte-7deygj");
  }, m: function(n, r) {
    X(n, e, r);
  }, p: Te, i: Te, o: Te, d: function(n) {
    n && Q(e);
  } };
}
function Ooe(t) {
  var e;
  return { c: function() {
    $(e = U("div"), "class", "jse-separator svelte-7deygj");
  }, m: function(n, r) {
    X(n, e, r);
  }, p: Te, i: Te, o: Te, d: function(n) {
    n && Q(e);
  } };
}
function kk(t) {
  var e, n;
  return e = new cn({ props: { data: t[3].icon } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    1 & i && (o.data = r[3].icon), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Sk(t) {
  var e, n = t[3].text + "";
  return { c: function() {
    e = Le(n);
  }, m: function(r, i) {
    X(r, e, i);
  }, p: function(r, i) {
    1 & i && n !== (n = r[3].text + "") && yt(e, n);
  }, d: function(r) {
    r && Q(e);
  } };
}
function Ck(t) {
  var e, n, r, i, o, s, a, l = [Ooe, _oe, Coe, Soe], c = [];
  function u(f, d) {
    return 1 & d && (e = null), 1 & d && (n = null), 1 & d && (r = null), e == null && (e = !!Vm(f[3])), e ? 0 : (n == null && (n = !!qT(f[3])), n ? 1 : (r == null && (r = !!ld(f[3])), r ? 2 : 3));
  }
  return i = u(t, -1), o = c[i] = l[i](t), { c: function() {
    o.c(), s = wn();
  }, m: function(f, d) {
    c[i].m(f, d), X(f, s, d), a = !0;
  }, p: function(f, d) {
    var h = i;
    (i = u(f, d)) === h ? c[i].p(f, d) : (Ae(), A(c[h], 1, 1, function() {
      c[h] = null;
    }), Ee(), (o = c[i]) ? o.p(f, d) : (o = c[i] = l[i](f)).c(), S(o, 1), o.m(s.parentNode, s));
  }, i: function(f) {
    a || (S(o), a = !0);
  }, o: function(f) {
    A(o), a = !1;
  }, d: function(f) {
    f && Q(s), c[i].d(f);
  } };
}
function Aoe(t) {
  for (var e, n, r, i, o = t[2].left, s = yr(o, t, t[1], $k), a = Et(t[0]), l = [], c = 0; c < a.length; c += 1)
    l[c] = Ck(jk(t, a, c));
  var u = function(h) {
    return A(l[h], 1, 1, function() {
      l[h] = null;
    });
  }, f = t[2].right, d = yr(f, t, t[1], wk);
  return { c: function() {
    e = U("div"), s && s.c(), n = le();
    for (var h = 0; h < l.length; h += 1)
      l[h].c();
    r = le(), d && d.c(), $(e, "class", "jse-menu svelte-7deygj");
  }, m: function(h, p) {
    X(h, e, p), s && s.m(e, null), E(e, n);
    for (var m = 0; m < l.length; m += 1)
      l[m] && l[m].m(e, null);
    E(e, r), d && d.m(e, null), i = !0;
  }, p: function(h, p) {
    var m = Mt(p, 1)[0];
    if (s && s.p && (!i || 2 & m) && xr(s, o, h, h[1], i ? br(o, h[1], m, koe) : wr(h[1]), $k), 1 & m) {
      var g;
      for (a = Et(h[0]), g = 0; g < a.length; g += 1) {
        var v = jk(h, a, g);
        l[g] ? (l[g].p(v, m), S(l[g], 1)) : (l[g] = Ck(v), l[g].c(), S(l[g], 1), l[g].m(e, r));
      }
      for (Ae(), g = a.length; g < l.length; g += 1)
        u(g);
      Ee();
    }
    d && d.p && (!i || 2 & m) && xr(d, f, h, h[1], i ? br(f, h[1], m, $oe) : wr(h[1]), wk);
  }, i: function(h) {
    if (!i) {
      S(s, h);
      for (var p = 0; p < a.length; p += 1)
        S(l[p]);
      S(d, h), i = !0;
    }
  }, o: function(h) {
    A(s, h), l = l.filter(Boolean);
    for (var p = 0; p < l.length; p += 1)
      A(l[p]);
    A(d, h), i = !1;
  }, d: function(h) {
    h && Q(e), s && s.d(h), Sr(l, h), d && d.d(h);
  } };
}
function _k(t) {
  return console.error("Unknown type of menu item", t), "???";
}
function Eoe(t, e, n) {
  var r = e.$$slots, i = r === void 0 ? {} : r, o = e.$$scope, s = e.items, a = s === void 0 ? [] : s;
  return t.$$set = function(l) {
    "items" in l && n(0, a = l.items), "$$scope" in l && n(1, o = l.$$scope);
  }, [a, o, i];
}
var Wm = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Eoe, Aoe, Lt, { items: 0 }, joe), r;
  }
  return at(e, ct), ot(e);
}();
function Moe(t) {
  Tt(t, "svelte-1d84pok", '.jse-json-repair-component.svelte-1d84pok.svelte-1d84pok{flex:1;display:flex;flex-direction:column;background:var(--jse-background-color, #fff);color:var(--jse-text-color, #4d4d4d)}.jse-json-repair-component.svelte-1d84pok .jse-menu .jse-info.svelte-1d84pok{padding:calc(0.5 * var(--jse-padding, 10px));font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);vertical-align:center}.jse-json-repair-component.svelte-1d84pok .jse-json-text.svelte-1d84pok{flex:1;border:none;padding:2px;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);background:var(--jse-input-background, var(--jse-background-color, #fff));color:var(--jse-text-color, #4d4d4d);resize:none;outline:none}');
}
function Toe(t) {
  var e;
  return { c: function() {
    (e = U("div")).textContent = "Repair invalid JSON, then click apply", $(e, "slot", "left"), $(e, "class", "jse-info svelte-1d84pok");
  }, m: function(n, r) {
    X(n, e, r);
  }, p: Te, d: function(n) {
    n && Q(e);
  } };
}
function Roe(t) {
  var e, n;
  return e = new Jo({ props: { type: "success", message: "JSON is valid now and can be parsed.", actions: t[5] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    32 & i && (o.actions = r[5]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Poe(t) {
  var e, n;
  return e = new Jo({ props: { type: "error", icon: ql, message: "Cannot parse JSON: ".concat(t[2].message), actions: t[6] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    4 & i && (o.message = "Cannot parse JSON: ".concat(r[2].message)), 64 & i && (o.actions = r[6]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Ioe(t) {
  var e, n, r, i, o, s, a, l, c, u;
  n = new Wm({ props: { items: t[4], $$slots: { left: [Toe] }, $$scope: { ctx: t } } });
  var f = [Poe, Roe], d = [];
  function h(p, m) {
    return p[2] ? 0 : 1;
  }
  return i = h(t), o = d[i] = f[i](t), { c: function() {
    e = U("div"), we(n.$$.fragment), r = le(), o.c(), s = le(), (a = U("textarea")).readOnly = t[1], $(a, "class", "jse-json-text svelte-1d84pok"), $(a, "autocomplete", "off"), $(a, "autocapitalize", "off"), $(a, "spellcheck", "false"), a.value = t[0], $(e, "class", "jse-json-repair-component svelte-1d84pok");
  }, m: function(p, m) {
    X(p, e, m), be(n, e, null), E(e, r), d[i].m(e, null), E(e, s), E(e, a), t[16](a), l = !0, c || (u = _e(a, "input", t[7]), c = !0);
  }, p: function(p, m) {
    var g = Mt(m, 1)[0], v = {};
    16 & g && (v.items = p[4]), 8388608 & g && (v.$$scope = { dirty: g, ctx: p }), n.$set(v);
    var y = i;
    (i = h(p)) === y ? d[i].p(p, g) : (Ae(), A(d[y], 1, 1, function() {
      d[y] = null;
    }), Ee(), (o = d[i]) ? o.p(p, g) : (o = d[i] = f[i](p)).c(), S(o, 1), o.m(e, s)), (!l || 2 & g) && (a.readOnly = p[1]), (!l || 1 & g) && (a.value = p[0]);
  }, i: function(p) {
    l || (S(n.$$.fragment, p), S(o), l = !0);
  }, o: function(p) {
    A(n.$$.fragment, p), A(o), l = !1;
  }, d: function(p) {
    p && Q(e), xe(n), d[i].d(), t[16](null), c = !1, u();
  } };
}
function Noe(t, e, n) {
  var r, i, o, s, a, l, c, u, f = e.text, d = f === void 0 ? "" : f, h = e.readOnly, p = h !== void 0 && h, m = e.onParse, g = e.onRepair, v = e.onChange, y = v === void 0 ? null : v, x = e.onApply, b = e.onCancel, w = Jr("jsoneditor:JSONRepair");
  function j() {
    x(d);
  }
  return t.$$set = function(k) {
    "text" in k && n(0, d = k.text), "readOnly" in k && n(1, p = k.readOnly), "onParse" in k && n(8, m = k.onParse), "onRepair" in k && n(9, g = k.onRepair), "onChange" in k && n(10, y = k.onChange), "onApply" in k && n(11, x = k.onApply), "onCancel" in k && n(12, b = k.onCancel);
  }, t.$$.update = function() {
    1 & t.$$.dirty && n(2, r = function(k) {
      try {
        return m(k), null;
      } catch (N) {
        return Lc(k, N.message);
      }
    }(d)), 1 & t.$$.dirty && n(15, i = function(k) {
      try {
        return g(k), !0;
      } catch {
        return !1;
      }
    }(d)), 4 & t.$$.dirty && w("error", r), 4096 & t.$$.dirty && n(4, u = [{ type: "space" }, { type: "button", icon: Ac, title: "Cancel repair", className: "jse-cancel", onClick: b }]), 57344 & t.$$.dirty && n(6, a = i ? [o, s] : [o]), 2 & t.$$.dirty && n(5, l = [{ icon: cf, text: "Apply", title: "Apply fixed JSON", disabled: p, onClick: j }]);
  }, n(13, o = { icon: DW, text: "Show me", title: "Scroll to the error location", onClick: function() {
    if (c && r) {
      var k = r.position != null ? r.position : 0;
      c.setSelectionRange(k, k), c.focus();
    }
  } }), n(14, s = { icon: um, text: "Auto repair", title: "Automatically repair JSON", onClick: function() {
    try {
      n(0, d = g(d)), y && y(d);
    } catch {
    }
  } }), [d, p, r, c, u, l, a, function(k) {
    w("handleChange");
    var N = k.target.value;
    d !== N && (n(0, d = N), y && y(d));
  }, m, g, y, x, b, o, s, i, function(k) {
    tn[k ? "unshift" : "push"](function() {
      n(3, c = k);
    });
  }];
}
var Doe = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Noe, Ioe, Lt, { text: 0, readOnly: 1, onParse: 8, onRepair: 9, onChange: 10, onApply: 11, onCancel: 12 }, Moe), r;
  }
  return at(e, ct), ot(e);
}(), nc = [];
function Ok(t) {
  if (t.key === "Escape") {
    var e = _t(nc);
    e && e();
  }
}
function Hm(t, e) {
  return dn(nc) && window.addEventListener("keydown", Ok), nc.push(e), { destroy: function() {
    nc = nc.filter(function(n) {
      return n !== e;
    }), dn(nc) && window.removeEventListener("keydown", Ok);
  } };
}
function Loe(t) {
  Tt(t, "svelte-rn18r0", '.jse-modal.jse-repair.svelte-rn18r0{flex:1;display:flex;flex-direction:column;min-width:0;min-height:0;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);line-height:normal;background:var(--jse-modal-background, #f5f5f5);color:var(--jse-text-color, #4d4d4d)}');
}
function Boe(t) {
  var e, n, r, i, o, s;
  function a(c) {
    t[7](c);
  }
  var l = { onParse: t[1], onRepair: t[2], onApply: t[4], onCancel: t[5] };
  return t[0] !== void 0 && (l.text = t[0]), n = new Doe({ props: l }), tn.push(function() {
    return Po(n, "text", a);
  }), { c: function() {
    e = U("div"), we(n.$$.fragment), $(e, "class", "jse-modal jse-repair svelte-rn18r0");
  }, m: function(c, u) {
    X(c, e, u), be(n, e, null), i = !0, o || (s = Wr(Hm.call(null, e, t[3])), o = !0);
  }, p: function(c, u) {
    var f = Mt(u, 1)[0], d = {};
    2 & f && (d.onParse = c[1]), 4 & f && (d.onRepair = c[2]), !r && 1 & f && (r = !0, d.text = c[0], Ro(function() {
      return r = !1;
    })), n.$set(d);
  }, i: function(c) {
    i || (S(n.$$.fragment, c), i = !0);
  }, o: function(c) {
    A(n.$$.fragment, c), i = !1;
  }, d: function(c) {
    c && Q(e), xe(n), o = !1, s();
  } };
}
function qoe(t, e, n) {
  var r = e.text, i = e.onParse, o = e.onRepair, s = e.onApply, a = Hr("simple-modal").close;
  return t.$$set = function(l) {
    "text" in l && n(0, r = l.text), "onParse" in l && n(1, i = l.onParse), "onRepair" in l && n(2, o = l.onRepair), "onApply" in l && n(6, s = l.onApply);
  }, [r, i, o, a, function(l) {
    a(), s(l);
  }, function() {
    a();
  }, s, function(l) {
    n(0, r = l);
  }];
}
var zT = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, qoe, Boe, Lt, { text: 0, onParse: 1, onRepair: 2, onApply: 6 }, Loe), r;
  }
  return at(e, ct), ot(e);
}();
function zoe(t) {
  Tt(t, "svelte-szeu2l", 'button.jse-context-menu-button.svelte-szeu2l{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;flex:1;white-space:nowrap;padding:var(--jse-padding, 10px);color:inherit}button.jse-context-menu-button.svelte-szeu2l:hover{background:var(--jse-context-menu-background-highlight, #7a7a7a)}button.jse-context-menu-button.svelte-szeu2l:focus{background:var(--jse-context-menu-background-highlight, #7a7a7a);z-index:1}button.jse-context-menu-button.svelte-szeu2l:disabled{color:var(--jse-context-menu-color-disabled, #9d9d9d);background:unset}button.jse-context-menu-button.left.svelte-szeu2l{text-align:left}button.jse-context-menu-button.svelte-szeu2l svg{width:16px}');
}
function Ak(t) {
  var e, n;
  return e = new cn({ props: { data: t[0].icon } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    1 & i && (o.data = r[0].icon), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Ek(t) {
  var e, n = t[0].text + "";
  return { c: function() {
    e = Le(n);
  }, m: function(r, i) {
    X(r, e, i);
  }, p: function(r, i) {
    1 & i && n !== (n = r[0].text + "") && yt(e, n);
  }, d: function(r) {
    r && Q(e);
  } };
}
function Foe(t) {
  var e, n, r, i, o, s, a, l, c = t[0].icon && Ak(t), u = t[0].text && Ek(t);
  return { c: function() {
    e = U("button"), c && c.c(), n = le(), u && u.c(), $(e, "type", "button"), $(e, "class", r = ir(xs("jse-context-menu-button", t[1], t[0].className)) + " svelte-szeu2l"), $(e, "title", i = t[0].title), e.disabled = o = t[0].disabled || !1;
  }, m: function(f, d) {
    X(f, e, d), c && c.m(e, null), E(e, n), u && u.m(e, null), s = !0, a || (l = _e(e, "click", t[3]), a = !0);
  }, p: function(f, d) {
    var h = Mt(d, 1)[0];
    f[0].icon ? c ? (c.p(f, h), 1 & h && S(c, 1)) : ((c = Ak(f)).c(), S(c, 1), c.m(e, n)) : c && (Ae(), A(c, 1, 1, function() {
      c = null;
    }), Ee()), f[0].text ? u ? u.p(f, h) : ((u = Ek(f)).c(), u.m(e, null)) : u && (u.d(1), u = null), (!s || 3 & h && r !== (r = ir(xs("jse-context-menu-button", f[1], f[0].className)) + " svelte-szeu2l")) && $(e, "class", r), (!s || 1 & h && i !== (i = f[0].title)) && $(e, "title", i), (!s || 1 & h && o !== (o = f[0].disabled || !1)) && (e.disabled = o);
  }, i: function(f) {
    s || (S(c), s = !0);
  }, o: function(f) {
    A(c), s = !1;
  }, d: function(f) {
    f && Q(e), c && c.d(), u && u.d(), a = !1, l();
  } };
}
function Voe(t, e, n) {
  var r = e.item, i = e.className, o = i === void 0 ? void 0 : i, s = e.onCloseContextMenu;
  return t.$$set = function(a) {
    "item" in a && n(0, r = a.item), "className" in a && n(1, o = a.className), "onCloseContextMenu" in a && n(2, s = a.onCloseContextMenu);
  }, [r, o, s, function(a) {
    s(), r.onClick(a);
  }];
}
var i2 = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Voe, Foe, Nr, { item: 0, className: 1, onCloseContextMenu: 2 }, zoe), r;
  }
  return at(e, ct), ot(e);
}();
function Woe(t) {
  Tt(t, "svelte-9i012w", '.jse-dropdown-button.svelte-9i012w.svelte-9i012w{flex:1;line-height:normal;border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;position:relative;padding:0;display:flex}.jse-dropdown-button.svelte-9i012w ul.svelte-9i012w{margin:0;padding:0}.jse-dropdown-button.svelte-9i012w ul li.svelte-9i012w{margin:0;padding:0;list-style-type:none}.jse-dropdown-button.svelte-9i012w button.jse-open-dropdown.svelte-9i012w{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;width:2em;background:var(--jse-context-menu-background, #656565);color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));border-radius:0}.jse-dropdown-button.svelte-9i012w button.jse-open-dropdown.jse-visible.svelte-9i012w{background:var(--jse-context-menu-background, #656565)}.jse-dropdown-button.svelte-9i012w button.jse-open-dropdown.svelte-9i012w:hover{background:var(--jse-context-menu-background-highlight, #7a7a7a)}.jse-dropdown-button.svelte-9i012w button.jse-open-dropdown.svelte-9i012w:focus{z-index:1}.jse-dropdown-button.svelte-9i012w button.jse-open-dropdown.svelte-9i012w:disabled{color:var(--jse-context-menu-color-disabled, #9d9d9d);background:unset}.jse-dropdown-button.svelte-9i012w .jse-dropdown-items.svelte-9i012w{display:none;position:absolute;top:100%;left:0;z-index:1;background:var(--jse-context-menu-background, #656565);color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24))}.jse-dropdown-button.svelte-9i012w .jse-dropdown-items.jse-visible.svelte-9i012w{display:block}.jse-dropdown-button.svelte-9i012w .jse-dropdown-items button.svelte-9i012w{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;width:100%;text-align:left;padding:var(--jse-padding, 10px);margin:0}.jse-dropdown-button.svelte-9i012w .jse-dropdown-items button.svelte-9i012w:hover{background:var(--jse-context-menu-background-highlight, #7a7a7a)}.jse-dropdown-button.svelte-9i012w .jse-dropdown-items button.svelte-9i012w:disabled{color:var(--jse-context-menu-color-disabled, #9d9d9d);background:unset}');
}
function Mk(t, e, n) {
  var r = t.slice();
  return r[11] = e[n], r;
}
var Hoe = function(t) {
  return {};
}, Tk = function(t) {
  return {};
};
function Rk(t) {
  var e, n;
  return e = new cn({ props: { data: t[11].icon } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    1 & i && (o.data = r[11].icon), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Pk(t) {
  var e, n, r, i, o, s, a, l, c, u, f, d = t[11].text + "", h = t[11].icon && Rk(t);
  function p() {
    for (var m, g = arguments.length, v = new Array(g), y = 0; y < g; y++)
      v[y] = arguments[y];
    return (m = t)[9].apply(m, [t[11]].concat(v));
  }
  return { c: function() {
    e = U("li"), n = U("button"), h && h.c(), r = le(), i = Le(d), l = le(), $(n, "type", "button"), $(n, "title", o = t[11].title), n.disabled = s = t[11].disabled, $(n, "class", a = ir(t[11].className) + " svelte-9i012w"), $(e, "class", "svelte-9i012w");
  }, m: function(m, g) {
    X(m, e, g), E(e, n), h && h.m(n, null), E(n, r), E(n, i), E(e, l), c = !0, u || (f = _e(n, "click", p), u = !0);
  }, p: function(m, g) {
    (t = m)[11].icon ? h ? (h.p(t, g), 1 & g && S(h, 1)) : ((h = Rk(t)).c(), S(h, 1), h.m(n, r)) : h && (Ae(), A(h, 1, 1, function() {
      h = null;
    }), Ee()), (!c || 1 & g) && d !== (d = t[11].text + "") && yt(i, d), (!c || 1 & g && o !== (o = t[11].title)) && $(n, "title", o), (!c || 1 & g && s !== (s = t[11].disabled)) && (n.disabled = s), (!c || 1 & g && a !== (a = ir(t[11].className) + " svelte-9i012w")) && $(n, "class", a);
  }, i: function(m) {
    c || (S(h), c = !0);
  }, o: function(m) {
    A(h), c = !1;
  }, d: function(m) {
    m && Q(e), h && h.d(), u = !1, f();
  } };
}
function Uoe(t) {
  var e, n, r, i, o, s, a, l, c, u, f = t[8].defaultItem, d = yr(f, t, t[7], Tk);
  i = new cn({ props: { data: uo } });
  for (var h = Et(t[0]), p = [], m = 0; m < h.length; m += 1)
    p[m] = Pk(Mk(t, h, m));
  var g = function(v) {
    return A(p[v], 1, 1, function() {
      p[v] = null;
    });
  };
  return { c: function() {
    e = U("div"), d && d.c(), n = le(), r = U("button"), we(i.$$.fragment), o = le(), s = U("div"), a = U("ul");
    for (var v = 0; v < p.length; v += 1)
      p[v].c();
    $(r, "type", "button"), $(r, "class", "jse-open-dropdown svelte-9i012w"), $(r, "data-type", "jse-open-dropdown"), r.disabled = t[4], Se(r, "jse-visible", t[3]), $(a, "class", "svelte-9i012w"), $(s, "class", "jse-dropdown-items svelte-9i012w"), hi(s, "width", t[2]), Se(s, "jse-visible", t[3]), $(e, "role", "button"), $(e, "tabindex", "0"), $(e, "class", "jse-dropdown-button svelte-9i012w"), $(e, "title", t[1]);
  }, m: function(v, y) {
    X(v, e, y), d && d.m(e, null), E(e, n), E(e, r), be(i, r, null), E(e, o), E(e, s), E(s, a);
    for (var x = 0; x < p.length; x += 1)
      p[x] && p[x].m(a, null);
    l = !0, c || (u = [_e(r, "click", t[5]), _e(e, "click", t[6])], c = !0);
  }, p: function(v, y) {
    var x = Mt(y, 1)[0];
    if (d && d.p && (!l || 128 & x) && xr(d, f, v, v[7], l ? br(f, v[7], x, Hoe) : wr(v[7]), Tk), (!l || 16 & x) && (r.disabled = v[4]), (!l || 8 & x) && Se(r, "jse-visible", v[3]), 1 & x) {
      var b;
      for (h = Et(v[0]), b = 0; b < h.length; b += 1) {
        var w = Mk(v, h, b);
        p[b] ? (p[b].p(w, x), S(p[b], 1)) : (p[b] = Pk(w), p[b].c(), S(p[b], 1), p[b].m(a, null));
      }
      for (Ae(), b = h.length; b < p.length; b += 1)
        g(b);
      Ee();
    }
    (!l || 4 & x) && hi(s, "width", v[2]), (!l || 8 & x) && Se(s, "jse-visible", v[3]), (!l || 2 & x) && $(e, "title", v[1]);
  }, i: function(v) {
    if (!l) {
      S(d, v), S(i.$$.fragment, v);
      for (var y = 0; y < h.length; y += 1)
        S(p[y]);
      l = !0;
    }
  }, o: function(v) {
    A(d, v), A(i.$$.fragment, v), p = p.filter(Boolean);
    for (var y = 0; y < p.length; y += 1)
      A(p[y]);
    l = !1;
  }, d: function(v) {
    v && Q(e), d && d.d(v), xe(i), Sr(p, v), c = !1, Dn(u);
  } };
}
function Joe(t, e, n) {
  var r, i = e.$$slots, o = i === void 0 ? {} : i, s = e.$$scope, a = e.items, l = a === void 0 ? [] : a, c = e.title, u = c === void 0 ? void 0 : c, f = e.width, d = f === void 0 ? "120px" : f, h = !1;
  function p() {
    n(3, h = !1);
  }
  function m(g) {
    Ga(g) === "Escape" && (g.preventDefault(), n(3, h = !1));
  }
  return $o(function() {
    document.addEventListener("click", p), document.addEventListener("keydown", m);
  }), to(function() {
    document.removeEventListener("click", p), document.removeEventListener("keydown", m);
  }), t.$$set = function(g) {
    "items" in g && n(0, l = g.items), "title" in g && n(1, u = g.title), "width" in g && n(2, d = g.width), "$$scope" in g && n(7, s = g.$$scope);
  }, t.$$.update = function() {
    1 & t.$$.dirty && n(4, r = l.every(function(g) {
      return g.disabled === !0;
    }));
  }, [l, u, d, h, r, function() {
    var g = h;
    setTimeout(function() {
      return n(3, h = !g);
    });
  }, p, s, o, function(g, v) {
    return g.onClick(v);
  }];
}
var Goe = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Joe, Uoe, Lt, { items: 0, title: 1, width: 2 }, Woe), r;
  }
  return at(e, ct), ot(e);
}();
function Koe(t) {
  Tt(t, "svelte-szeu2l", 'button.jse-context-menu-button.svelte-szeu2l{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;flex:1;white-space:nowrap;padding:var(--jse-padding, 10px);color:inherit}button.jse-context-menu-button.svelte-szeu2l:hover{background:var(--jse-context-menu-background-highlight, #7a7a7a)}button.jse-context-menu-button.svelte-szeu2l:focus{background:var(--jse-context-menu-background-highlight, #7a7a7a);z-index:1}button.jse-context-menu-button.svelte-szeu2l:disabled{color:var(--jse-context-menu-color-disabled, #9d9d9d);background:unset}button.jse-context-menu-button.left.svelte-szeu2l{text-align:left}button.jse-context-menu-button.svelte-szeu2l svg{width:16px}');
}
function Ik(t) {
  var e, n;
  return e = new cn({ props: { data: t[0].main.icon } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    1 & i && (o.data = r[0].main.icon), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Yoe(t) {
  var e, n, r, i, o, s, a, l, c, u = t[0].main.text + "", f = t[0].main.icon && Ik(t);
  return { c: function() {
    e = U("button"), f && f.c(), n = le(), r = Le(u), $(e, "class", i = ir(xs("jse-context-menu-button", t[1], t[0].main.className)) + " svelte-szeu2l"), $(e, "type", "button"), $(e, "slot", "defaultItem"), $(e, "title", o = t[0].main.title), e.disabled = s = t[0].main.disabled || !1;
  }, m: function(d, h) {
    X(d, e, h), f && f.m(e, null), E(e, n), E(e, r), a = !0, l || (c = _e(e, "click", t[3]), l = !0);
  }, p: function(d, h) {
    d[0].main.icon ? f ? (f.p(d, h), 1 & h && S(f, 1)) : ((f = Ik(d)).c(), S(f, 1), f.m(e, n)) : f && (Ae(), A(f, 1, 1, function() {
      f = null;
    }), Ee()), (!a || 1 & h) && u !== (u = d[0].main.text + "") && yt(r, u), (!a || 3 & h && i !== (i = ir(xs("jse-context-menu-button", d[1], d[0].main.className)) + " svelte-szeu2l")) && $(e, "class", i), (!a || 1 & h && o !== (o = d[0].main.title)) && $(e, "title", o), (!a || 1 & h && s !== (s = d[0].main.disabled || !1)) && (e.disabled = s);
  }, i: function(d) {
    a || (S(f), a = !0);
  }, o: function(d) {
    A(f), a = !1;
  }, d: function(d) {
    d && Q(e), f && f.d(), l = !1, c();
  } };
}
function Qoe(t) {
  var e, n;
  return e = new Goe({ props: { width: t[0].width, items: t[0].items, $$slots: { defaultItem: [Yoe] }, $$scope: { ctx: t } } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = Mt(i, 1)[0], s = {};
    1 & o && (s.width = r[0].width), 1 & o && (s.items = r[0].items), 23 & o && (s.$$scope = { dirty: o, ctx: r }), e.$set(s);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Xoe(t, e, n) {
  var r = e.item, i = e.className, o = i === void 0 ? void 0 : i, s = e.onCloseContextMenu;
  return t.$$set = function(a) {
    "item" in a && n(0, r = a.item), "className" in a && n(1, o = a.className), "onCloseContextMenu" in a && n(2, s = a.onCloseContextMenu);
  }, [r, o, s, function(a) {
    s(), r.main.onClick(a);
  }];
}
var o2 = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Xoe, Qoe, Nr, { item: 0, className: 1, onCloseContextMenu: 2 }, Koe), r;
  }
  return at(e, ct), ot(e);
}();
function Zoe(t) {
  Tt(t, "svelte-vtd7md", '.jse-contextmenu.svelte-vtd7md.svelte-vtd7md{box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24));font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);background:var(--jse-context-menu-background, #656565);color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff))}.jse-contextmenu.svelte-vtd7md .jse-row.svelte-vtd7md{display:flex;flex-direction:row;align-items:flex-start;justify-content:stretch}.jse-contextmenu.svelte-vtd7md .jse-row div.jse-label.svelte-vtd7md{flex:1;white-space:nowrap;padding:var(--jse-padding, 10px);color:var(--jse-context-menu-color-disabled, #9d9d9d);line-height:normal}.jse-contextmenu.svelte-vtd7md .jse-row div.jse-tip.svelte-vtd7md{flex:1;background:var(--jse-context-menu-tip-background, rgba(255, 255, 255, 0.2));color:var(--context-menu-tip-color, inherit);margin:calc(0.5 * var(--jse-padding, 10px));padding:calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);font-size:80%;line-height:1.3em;display:flex;flex-direction:row;align-items:start;gap:var(--jse-padding, 10px);border-radius:3px}.jse-contextmenu.svelte-vtd7md .jse-row div.jse-tip div.jse-tip-icon.svelte-vtd7md{padding-top:calc(0.5 * var(--jse-padding, 10px))}.jse-contextmenu.svelte-vtd7md .jse-column.svelte-vtd7md{flex:1;display:flex;flex-direction:column;align-items:stretch}.jse-contextmenu.svelte-vtd7md .jse-column.svelte-vtd7md:not(:last-child){border-right:1px solid var(--jse-context-menu-separator-color, #7a7a7a)}.jse-contextmenu.svelte-vtd7md .jse-separator.svelte-vtd7md{width:100%;height:1px;background:var(--jse-context-menu-separator-color, #7a7a7a)}');
}
function Nk(t, e, n) {
  var r = t.slice();
  return r[7] = e[n], r;
}
function Dk(t, e, n) {
  var r = t.slice();
  return r[10] = e[n], r;
}
function Lk(t, e, n) {
  var r = t.slice();
  return r[13] = e[n], r;
}
function ese(t) {
  var e, n = Vc(t[7]) + "";
  return { c: function() {
    e = Le(n);
  }, m: function(r, i) {
    X(r, e, i);
  }, p: function(r, i) {
    1 & i && n !== (n = Vc(r[7]) + "") && yt(e, n);
  }, i: Te, o: Te, d: function(r) {
    r && Q(e);
  } };
}
function tse(t) {
  var e;
  return { c: function() {
    $(e = U("div"), "class", "jse-separator svelte-vtd7md");
  }, m: function(n, r) {
    X(n, e, r);
  }, p: Te, i: Te, o: Te, d: function(n) {
    n && Q(e);
  } };
}
function nse(t) {
  for (var e, n, r = Et(t[7].items), i = [], o = 0; o < r.length; o += 1)
    i[o] = qk(Dk(t, r, o));
  var s = function(a) {
    return A(i[a], 1, 1, function() {
      i[a] = null;
    });
  };
  return { c: function() {
    e = U("div");
    for (var a = 0; a < i.length; a += 1)
      i[a].c();
    $(e, "class", "jse-row svelte-vtd7md");
  }, m: function(a, l) {
    X(a, e, l);
    for (var c = 0; c < i.length; c += 1)
      i[c] && i[c].m(e, null);
    n = !0;
  }, p: function(a, l) {
    if (3 & l) {
      var c;
      for (r = Et(a[7].items), c = 0; c < r.length; c += 1) {
        var u = Dk(a, r, c);
        i[c] ? (i[c].p(u, l), S(i[c], 1)) : (i[c] = qk(u), i[c].c(), S(i[c], 1), i[c].m(e, null));
      }
      for (Ae(), c = r.length; c < i.length; c += 1)
        s(c);
      Ee();
    }
  }, i: function(a) {
    if (!n) {
      for (var l = 0; l < r.length; l += 1)
        S(i[l]);
      n = !0;
    }
  }, o: function(a) {
    i = i.filter(Boolean);
    for (var l = 0; l < i.length; l += 1)
      A(i[l]);
    n = !1;
  }, d: function(a) {
    a && Q(e), Sr(i, a);
  } };
}
function rse(t) {
  var e, n;
  return e = new o2({ props: { item: t[7], onCloseContextMenu: t[1] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    1 & i && (o.item = r[7]), 2 & i && (o.onCloseContextMenu = r[1]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function ise(t) {
  var e, n;
  return e = new i2({ props: { item: t[7], onCloseContextMenu: t[1] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    1 & i && (o.item = r[7]), 2 & i && (o.onCloseContextMenu = r[1]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function ose(t) {
  var e, n = Vc(t[10]) + "";
  return { c: function() {
    e = Le(n);
  }, m: function(r, i) {
    X(r, e, i);
  }, p: function(r, i) {
    1 & i && n !== (n = Vc(r[10]) + "") && yt(e, n);
  }, i: Te, o: Te, d: function(r) {
    r && Q(e);
  } };
}
function sse(t) {
  var e;
  return { c: function() {
    $(e = U("div"), "class", "jse-separator svelte-vtd7md");
  }, m: function(n, r) {
    X(n, e, r);
  }, p: Te, i: Te, o: Te, d: function(n) {
    n && Q(e);
  } };
}
function ase(t) {
  for (var e, n, r = Et(t[10].items), i = [], o = 0; o < r.length; o += 1)
    i[o] = Bk(Lk(t, r, o));
  var s = function(a) {
    return A(i[a], 1, 1, function() {
      i[a] = null;
    });
  };
  return { c: function() {
    e = U("div");
    for (var a = 0; a < i.length; a += 1)
      i[a].c();
    $(e, "class", "jse-column svelte-vtd7md");
  }, m: function(a, l) {
    X(a, e, l);
    for (var c = 0; c < i.length; c += 1)
      i[c] && i[c].m(e, null);
    n = !0;
  }, p: function(a, l) {
    if (3 & l) {
      var c;
      for (r = Et(a[10].items), c = 0; c < r.length; c += 1) {
        var u = Lk(a, r, c);
        i[c] ? (i[c].p(u, l), S(i[c], 1)) : (i[c] = Bk(u), i[c].c(), S(i[c], 1), i[c].m(e, null));
      }
      for (Ae(), c = r.length; c < i.length; c += 1)
        s(c);
      Ee();
    }
  }, i: function(a) {
    if (!n) {
      for (var l = 0; l < r.length; l += 1)
        S(i[l]);
      n = !0;
    }
  }, o: function(a) {
    i = i.filter(Boolean);
    for (var l = 0; l < i.length; l += 1)
      A(i[l]);
    n = !1;
  }, d: function(a) {
    a && Q(e), Sr(i, a);
  } };
}
function lse(t) {
  var e, n;
  return e = new o2({ props: { item: t[10], onCloseContextMenu: t[1] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    1 & i && (o.item = r[10]), 2 & i && (o.onCloseContextMenu = r[1]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function cse(t) {
  var e, n;
  return e = new i2({ props: { item: t[10], onCloseContextMenu: t[1] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    1 & i && (o.item = r[10]), 2 & i && (o.onCloseContextMenu = r[1]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function use(t) {
  var e, n = Vc(t[13]) + "";
  return { c: function() {
    e = Le(n);
  }, m: function(r, i) {
    X(r, e, i);
  }, p: function(r, i) {
    1 & i && n !== (n = Vc(r[13]) + "") && yt(e, n);
  }, i: Te, o: Te, d: function(r) {
    r && Q(e);
  } };
}
function fse(t) {
  var e, n, r = t[13].text + "";
  return { c: function() {
    e = U("div"), n = Le(r), $(e, "class", "jse-label svelte-vtd7md");
  }, m: function(i, o) {
    X(i, e, o), E(e, n);
  }, p: function(i, o) {
    1 & o && r !== (r = i[13].text + "") && yt(n, r);
  }, i: Te, o: Te, d: function(i) {
    i && Q(e);
  } };
}
function dse(t) {
  var e;
  return { c: function() {
    $(e = U("div"), "class", "jse-separator svelte-vtd7md");
  }, m: function(n, r) {
    X(n, e, r);
  }, p: Te, i: Te, o: Te, d: function(n) {
    n && Q(e);
  } };
}
function hse(t) {
  var e, n;
  return e = new o2({ props: { className: "left", item: t[13], onCloseContextMenu: t[1] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    1 & i && (o.item = r[13]), 2 & i && (o.onCloseContextMenu = r[1]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function pse(t) {
  var e, n;
  return e = new i2({ props: { className: "left", item: t[13], onCloseContextMenu: t[1] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    1 & i && (o.item = r[13]), 2 & i && (o.onCloseContextMenu = r[1]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Bk(t) {
  var e, n, r, i, o, s, a, l, c = [pse, hse, dse, fse, use], u = [];
  function f(d, h) {
    return 1 & h && (e = null), 1 & h && (n = null), 1 & h && (r = null), 1 & h && (i = null), e == null && (e = !!ld(d[13])), e ? 0 : (n == null && (n = !!r2(d[13])), n ? 1 : (r == null && (r = !!Vm(d[13])), r ? 2 : (i == null && (i = !!goe(d[13])), i ? 3 : 4)));
  }
  return o = f(t, -1), s = u[o] = c[o](t), { c: function() {
    s.c(), a = wn();
  }, m: function(d, h) {
    u[o].m(d, h), X(d, a, h), l = !0;
  }, p: function(d, h) {
    var p = o;
    (o = f(d, h)) === p ? u[o].p(d, h) : (Ae(), A(u[p], 1, 1, function() {
      u[p] = null;
    }), Ee(), (s = u[o]) ? s.p(d, h) : (s = u[o] = c[o](d)).c(), S(s, 1), s.m(a.parentNode, a));
  }, i: function(d) {
    l || (S(s), l = !0);
  }, o: function(d) {
    A(s), l = !1;
  }, d: function(d) {
    d && Q(a), u[o].d(d);
  } };
}
function qk(t) {
  var e, n, r, i, o, s, a, l, c = [cse, lse, ase, sse, ose], u = [];
  function f(d, h) {
    return 1 & h && (e = null), 1 & h && (n = null), 1 & h && (r = null), 1 & h && (i = null), e == null && (e = !!ld(d[10])), e ? 0 : (n == null && (n = !!r2(d[10])), n ? 1 : (r == null && (r = !!yoe(d[10])), r ? 2 : (i == null && (i = !!Vm(d[10])), i ? 3 : 4)));
  }
  return o = f(t, -1), s = u[o] = c[o](t), { c: function() {
    s.c(), a = wn();
  }, m: function(d, h) {
    u[o].m(d, h), X(d, a, h), l = !0;
  }, p: function(d, h) {
    var p = o;
    (o = f(d, h)) === p ? u[o].p(d, h) : (Ae(), A(u[p], 1, 1, function() {
      u[p] = null;
    }), Ee(), (s = u[o]) ? s.p(d, h) : (s = u[o] = c[o](d)).c(), S(s, 1), s.m(a.parentNode, a));
  }, i: function(d) {
    l || (S(s), l = !0);
  }, o: function(d) {
    A(s), l = !1;
  }, d: function(d) {
    d && Q(a), u[o].d(d);
  } };
}
function zk(t) {
  var e, n, r, i, o, s, a, l, c = [ise, rse, nse, tse, ese], u = [];
  function f(d, h) {
    return 1 & h && (e = null), 1 & h && (n = null), 1 & h && (r = null), 1 & h && (i = null), e == null && (e = !!ld(d[7])), e ? 0 : (n == null && (n = !!r2(d[7])), n ? 1 : (r == null && (r = !!voe(d[7])), r ? 2 : (i == null && (i = !!Vm(d[7])), i ? 3 : 4)));
  }
  return o = f(t, -1), s = u[o] = c[o](t), { c: function() {
    s.c(), a = wn();
  }, m: function(d, h) {
    u[o].m(d, h), X(d, a, h), l = !0;
  }, p: function(d, h) {
    var p = o;
    (o = f(d, h)) === p ? u[o].p(d, h) : (Ae(), A(u[p], 1, 1, function() {
      u[p] = null;
    }), Ee(), (s = u[o]) ? s.p(d, h) : (s = u[o] = c[o](d)).c(), S(s, 1), s.m(a.parentNode, a));
  }, i: function(d) {
    l || (S(s), l = !0);
  }, o: function(d) {
    A(s), l = !1;
  }, d: function(d) {
    d && Q(a), u[o].d(d);
  } };
}
function Fk(t) {
  var e, n, r, i, o, s, a, l;
  return i = new cn({ props: { data: mW } }), { c: function() {
    e = U("div"), n = U("div"), r = U("div"), we(i.$$.fragment), o = le(), s = U("div"), a = Le(t[2]), $(r, "class", "jse-tip-icon svelte-vtd7md"), $(s, "class", "jse-tip-text"), $(n, "class", "jse-tip svelte-vtd7md"), $(e, "class", "jse-row svelte-vtd7md");
  }, m: function(c, u) {
    X(c, e, u), E(e, n), E(n, r), be(i, r, null), E(n, o), E(n, s), E(s, a), l = !0;
  }, p: function(c, u) {
    (!l || 4 & u) && yt(a, c[2]);
  }, i: function(c) {
    l || (S(i.$$.fragment, c), l = !0);
  }, o: function(c) {
    A(i.$$.fragment, c), l = !1;
  }, d: function(c) {
    c && Q(e), xe(i);
  } };
}
function mse(t) {
  for (var e, n, r, i, o, s = Et(t[0]), a = [], l = 0; l < s.length; l += 1)
    a[l] = zk(Nk(t, s, l));
  var c = function(f) {
    return A(a[f], 1, 1, function() {
      a[f] = null;
    });
  }, u = t[2] && Fk(t);
  return { c: function() {
    e = U("div");
    for (var f = 0; f < a.length; f += 1)
      a[f].c();
    n = le(), u && u.c(), $(e, "role", "menu"), $(e, "tabindex", "-1"), $(e, "class", "jse-contextmenu svelte-vtd7md");
  }, m: function(f, d) {
    X(f, e, d);
    for (var h = 0; h < a.length; h += 1)
      a[h] && a[h].m(e, null);
    E(e, n), u && u.m(e, null), t[5](e), r = !0, i || (o = _e(e, "keydown", t[4]), i = !0);
  }, p: function(f, d) {
    var h = Mt(d, 1)[0];
    if (3 & h) {
      var p;
      for (s = Et(f[0]), p = 0; p < s.length; p += 1) {
        var m = Nk(f, s, p);
        a[p] ? (a[p].p(m, h), S(a[p], 1)) : (a[p] = zk(m), a[p].c(), S(a[p], 1), a[p].m(e, n));
      }
      for (Ae(), p = s.length; p < a.length; p += 1)
        c(p);
      Ee();
    }
    f[2] ? u ? (u.p(f, h), 4 & h && S(u, 1)) : ((u = Fk(f)).c(), S(u, 1), u.m(e, null)) : u && (Ae(), A(u, 1, 1, function() {
      u = null;
    }), Ee());
  }, i: function(f) {
    if (!r) {
      for (var d = 0; d < s.length; d += 1)
        S(a[d]);
      S(u), r = !0;
    }
  }, o: function(f) {
    a = a.filter(Boolean);
    for (var d = 0; d < a.length; d += 1)
      A(a[d]);
    A(u), r = !1;
  }, d: function(f) {
    f && Q(e), Sr(a, f), u && u.d(), t[5](null), i = !1, o();
  } };
}
function Vc(t) {
  return console.error("Unknown type of context menu item", t), "???";
}
function gse(t, e, n) {
  var r, i = e.items, o = e.onCloseContextMenu, s = e.tip;
  $o(function() {
    var l = Array.from(r.querySelectorAll("button")).find(function(c) {
      return !c.disabled;
    });
    l && l.focus();
  });
  var a = { ArrowUp: "Up", ArrowDown: "Down", ArrowLeft: "Left", ArrowRight: "Right" };
  return t.$$set = function(l) {
    "items" in l && n(0, i = l.items), "onCloseContextMenu" in l && n(1, o = l.onCloseContextMenu), "tip" in l && n(2, s = l.tip);
  }, [i, o, s, r, function(l) {
    var c = Ga(l), u = a[c];
    if (u && l.target) {
      l.preventDefault();
      var f = Tne({ allElements: Array.from(r.querySelectorAll("button:not([disabled])")), currentElement: l.target, direction: u, hasPrio: function(d) {
        return d.getAttribute("data-type") !== "jse-open-dropdown";
      } });
      f && f.focus();
    }
  }, function(l) {
    tn[l ? "unshift" : "push"](function() {
      n(3, r = l);
    });
  }];
}
var FT = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, gse, mse, Lt, { items: 0, onCloseContextMenu: 1, tip: 2 }, Zoe), r;
  }
  return at(e, ct), ot(e);
}();
function vse(t) {
  var e, n;
  return e = new FT({ props: { items: t[2], onCloseContextMenu: t[1], tip: t[0] ? "Tip: you can open this context menu via right-click or with Ctrl+Q" : void 0 } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    4 & i[0] && (o.items = r[2]), 2 & i[0] && (o.onCloseContextMenu = r[1]), 1 & i[0] && (o.tip = r[0] ? "Tip: you can open this context menu via right-click or with Ctrl+Q" : void 0), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function yse(t, e, n) {
  var r, i, o, s, a, l, c, u, f, d, h, p, m, g, v, y, x, b, w, j, k, N = e.json, z = e.documentState, _ = e.parser, B = e.showTip, I = e.onCloseContextMenu, Y = e.onRenderContextMenu, R = e.onEditKey, Z = e.onEditValue, ne = e.onToggleEnforceString, V = e.onCut, M = e.onCopy, F = e.onPaste, P = e.onRemove, T = e.onDuplicate, O = e.onExtract, L = e.onInsertBefore, C = e.onInsert, H = e.onConvert, ie = e.onInsertAfter, te = e.onSort, ke = e.onTransform;
  function Me(fe) {
    c ? H(fe) : C(fe);
  }
  return t.$$set = function(fe) {
    "json" in fe && n(3, N = fe.json), "documentState" in fe && n(4, z = fe.documentState), "parser" in fe && n(5, _ = fe.parser), "showTip" in fe && n(0, B = fe.showTip), "onCloseContextMenu" in fe && n(1, I = fe.onCloseContextMenu), "onRenderContextMenu" in fe && n(6, Y = fe.onRenderContextMenu), "onEditKey" in fe && n(7, R = fe.onEditKey), "onEditValue" in fe && n(8, Z = fe.onEditValue), "onToggleEnforceString" in fe && n(9, ne = fe.onToggleEnforceString), "onCut" in fe && n(10, V = fe.onCut), "onCopy" in fe && n(11, M = fe.onCopy), "onPaste" in fe && n(12, F = fe.onPaste), "onRemove" in fe && n(13, P = fe.onRemove), "onDuplicate" in fe && n(14, T = fe.onDuplicate), "onExtract" in fe && n(15, O = fe.onExtract), "onInsertBefore" in fe && n(16, L = fe.onInsertBefore), "onInsert" in fe && n(17, C = fe.onInsert), "onConvert" in fe && n(18, H = fe.onConvert), "onInsertAfter" in fe && n(19, ie = fe.onInsertAfter), "onSort" in fe && n(20, te = fe.onSort), "onTransform" in fe && n(21, ke = fe.onTransform);
  }, t.$$.update = function() {
    16 & t.$$.dirty[0] && n(39, r = z.selection), 8 & t.$$.dirty[0] && n(41, i = N !== void 0), 256 & t.$$.dirty[1] && n(33, o = !!r), 256 & t.$$.dirty[1] && n(23, s = !!r && dn(ht(r))), 8 & t.$$.dirty[0] | 256 & t.$$.dirty[1] && n(40, a = r ? Xe(N, ht(r)) : void 0), 512 & t.$$.dirty[1] && n(37, l = Array.isArray(a) ? "Edit array" : Yn(a) ? "Edit object" : "Edit value"), 1280 & t.$$.dirty[1] && n(24, c = i && (Tn(r) || jr(r) || sn(r))), 25165824 & t.$$.dirty[0] | 1024 & t.$$.dirty[1] && n(32, u = i && c && !s), 8388608 & t.$$.dirty[0] | 1280 & t.$$.dirty[1] && n(31, f = i && r != null && (Tn(r) || sn(r)) && !s), 8388616 & t.$$.dirty[0] | 1280 & t.$$.dirty[1] && n(38, d = i && r != null && kp(r) && !s && !Array.isArray(Xe(N, Zt(ht(r))))), 1280 & t.$$.dirty[1] && n(36, h = i && r != null && kp(r)), 544 & t.$$.dirty[1] && n(34, p = h && !cr(a)), 16777216 & t.$$.dirty[0] && n(27, m = c), 134217728 & t.$$.dirty[0] && n(26, g = m ? "Convert to:" : "Insert:"), 134217728 & t.$$.dirty[0] | 4 & t.$$.dirty[1] && n(30, v = !m && o), 134217728 & t.$$.dirty[0] | 772 & t.$$.dirty[1] && n(29, y = m ? $h(r) && !Yn(a) : o), 134217728 & t.$$.dirty[0] | 772 & t.$$.dirty[1] && n(28, x = m ? $h(r) && !Array.isArray(a) : o), 134217728 & t.$$.dirty[0] | 772 & t.$$.dirty[1] && n(25, b = m ? $h(r) && cr(a) : o), 48 & t.$$.dirty[0] | 768 & t.$$.dirty[1] && n(35, w = !(r == null || !a) && Xs(a, z.enforceStringMap, We(ht(r)), _)), 2142896e3 & t.$$.dirty[0] | 255 & t.$$.dirty[1] && n(22, k = [{ type: "row", items: [{ type: "button", onClick: function() {
      return R();
    }, icon: mc, text: "Edit key", title: "Edit the key (Double-click on the key)", disabled: !d }, { type: "dropdown-button", main: { type: "button", onClick: function() {
      return Z();
    }, icon: mc, text: l, title: "Edit the value (Double-click on the value)", disabled: !h }, width: "11em", items: [{ type: "button", icon: mc, text: l, title: "Edit the value (Double-click on the value)", onClick: function() {
      return Z();
    }, disabled: !h }, { type: "button", icon: w ? af : lf, text: "Enforce string", title: "Enforce keeping the value as string when it contains a numeric value", onClick: function() {
      return ne();
    }, disabled: !p }] }] }, { type: "separator" }, { type: "row", items: [{ type: "dropdown-button", main: { type: "button", onClick: function() {
      return V(!0);
    }, icon: pc, text: "Cut", title: "Cut selected contents, formatted with indentation (Ctrl+X)", disabled: !c }, width: "10em", items: [{ type: "button", icon: pc, text: "Cut formatted", title: "Cut selected contents, formatted with indentation (Ctrl+X)", onClick: function() {
      return V(!0);
    }, disabled: !c }, { type: "button", icon: pc, text: "Cut compacted", title: "Cut selected contents, without indentation (Ctrl+Shift+X)", onClick: function() {
      return V(!1);
    }, disabled: !c }] }, { type: "dropdown-button", main: { type: "button", onClick: function() {
      return M(!0);
    }, icon: ba, text: "Copy", title: "Copy selected contents, formatted with indentation (Ctrl+C)", disabled: !c }, width: "12em", items: [{ type: "button", icon: ba, text: "Copy formatted", title: "Copy selected contents, formatted with indentation (Ctrl+C)", onClick: function() {
      return M(!0);
    }, disabled: !c }, { type: "button", icon: ba, text: "Copy compacted", title: "Copy selected contents, without indentation (Ctrl+Shift+C)", onClick: function() {
      return M(!1);
    }, disabled: !c }] }, { type: "button", onClick: function() {
      return F();
    }, icon: N_, text: "Paste", title: "Paste clipboard contents (Ctrl+V)", disabled: !o }] }, { type: "separator" }, { type: "row", items: [{ type: "column", items: [{ type: "button", onClick: function() {
      return T();
    }, icon: q_, text: "Duplicate", title: "Duplicate selected contents (Ctrl+D)", disabled: !u }, { type: "button", onClick: function() {
      return O();
    }, icon: MW, text: "Extract", title: "Extract selected contents", disabled: !f }, { type: "button", onClick: function() {
      return te();
    }, icon: fm, text: "Sort", title: "Sort array or object contents", disabled: !c }, { type: "button", onClick: function() {
      return ke();
    }, icon: cm, text: "Transform", title: "Transform array or object contents (filter, sort, project)", disabled: !c }, { type: "button", onClick: function() {
      return P();
    }, icon: mv, text: "Remove", title: "Remove selected contents (Delete)", disabled: !c }] }, { type: "column", items: [{ type: "label", text: g }, { type: "button", onClick: function() {
      return Me("structure");
    }, icon: m ? yd : ic, text: "Structure", title: g + " structure", disabled: !v }, { type: "button", onClick: function() {
      return Me("object");
    }, icon: m ? yd : ic, text: "Object", title: g + " structure", disabled: !y }, { type: "button", onClick: function() {
      return Me("array");
    }, icon: m ? yd : ic, text: "Array", title: g + " array", disabled: !x }, { type: "button", onClick: function() {
      return Me("value");
    }, icon: m ? yd : ic, text: "Value", title: g + " value", disabled: !b }] }] }, { type: "separator" }, { type: "row", items: [{ type: "button", onClick: function() {
      return L();
    }, icon: CW, text: "Insert before", title: "Select area before current entry to insert or paste contents", disabled: !c || s }, { type: "button", onClick: function() {
      return ie();
    }, icon: wW, text: "Insert after", title: "Select area after current entry to insert or paste contents", disabled: !c || s }] }]), 4194368 & t.$$.dirty[0] && n(2, j = Y(k));
  }, [B, I, j, N, z, _, Y, R, Z, ne, V, M, F, P, T, O, L, C, H, ie, te, ke, k, s, c, b, g, m, x, y, v, f, u, o, p, w, h, l, d, r, a, i];
}
var bse = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, yse, vse, Lt, { json: 3, documentState: 4, parser: 5, showTip: 0, onCloseContextMenu: 1, onRenderContextMenu: 6, onEditKey: 7, onEditValue: 8, onToggleEnforceString: 9, onCut: 10, onCopy: 11, onPaste: 12, onRemove: 13, onDuplicate: 14, onExtract: 15, onInsertBefore: 16, onInsert: 17, onConvert: 18, onInsertAfter: 19, onSort: 20, onTransform: 21 }, null, [-1, -1]), r;
  }
  return at(e, ct), ot(e);
}();
function xse(t) {
  Tt(t, "svelte-lajpxi", 'div.jse-collapsed-items.svelte-lajpxi.svelte-lajpxi{margin-left:calc(var(--level) * var(--jse-indent-size, calc(1em + 4px)));font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);color:var(--jse-collapsed-items-link-color, rgba(0, 0, 0, 0.38));padding:calc(0.5 * var(--jse-padding, 10px));border:8px solid transparent;border-width:8px 0;background-color:var(--jse-contents-background-color, transparent);background-image:linear-gradient(var(--jse-collapsed-items-background-color, #f5f5f5), var(--jse-collapsed-items-background-color, #f5f5f5)), linear-gradient(to bottom right, transparent 50.5%, var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%), linear-gradient(to bottom left, transparent 50.5%, var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%), linear-gradient(to top right, transparent 50.5%, var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%), linear-gradient(to top left, transparent 50.5%, var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%);background-repeat:repeat, repeat-x, repeat-x, repeat-x, repeat-x;background-position:0 0, 8px 0, 8px 0, 8px 100%, 8px 100%;background-size:auto auto, 16px 16px, 16px 16px, 16px 16px, 16px 16px;background-clip:padding-box, border-box, border-box, border-box, border-box;background-origin:padding-box, border-box, border-box, border-box, border-box;display:flex}div.jse-collapsed-items.svelte-lajpxi div.jse-text.svelte-lajpxi,div.jse-collapsed-items.svelte-lajpxi button.jse-expand-items.svelte-lajpxi{margin:0 calc(0.5 * var(--jse-padding, 10px))}div.jse-collapsed-items.svelte-lajpxi div.jse-text.svelte-lajpxi{display:inline}div.jse-collapsed-items.svelte-lajpxi button.jse-expand-items.svelte-lajpxi{font-family:inherit;font-size:inherit;color:var(--jse-collapsed-items-link-color, rgba(0, 0, 0, 0.38));background:none;border:none;padding:0;text-decoration:underline;cursor:pointer}div.jse-collapsed-items.svelte-lajpxi button.jse-expand-items.svelte-lajpxi:hover,div.jse-collapsed-items.svelte-lajpxi button.jse-expand-items.svelte-lajpxi:focus{color:var(--jse-collapsed-items-link-color-highlight, #ee5341)}');
}
function Vk(t, e, n) {
  var r = t.slice();
  return r[13] = e[n], r;
}
function Wk(t) {
  var e, n, r, i, o, s, a, l, c = t[13].start + "", u = t[13].end + "";
  function f() {
    return t[12](t[13]);
  }
  return { c: function() {
    e = U("button"), n = Le("show "), r = Le(c), i = Le("-"), o = Le(u), s = le(), $(e, "type", "button"), $(e, "class", "jse-expand-items svelte-lajpxi");
  }, m: function(d, h) {
    X(d, e, h), E(e, n), E(e, r), E(e, i), E(e, o), E(e, s), a || (l = _e(e, "click", f), a = !0);
  }, p: function(d, h) {
    t = d, 16 & h && c !== (c = t[13].start + "") && yt(r, c), 16 & h && u !== (u = t[13].end + "") && yt(o, u);
  }, d: function(d) {
    d && Q(e), a = !1, l();
  } };
}
function wse(t) {
  for (var e, n, r, i, o, s, a, l, c, u, f = Et(t[4]), d = [], h = 0; h < f.length; h += 1)
    d[h] = Wk(Vk(t, f, h));
  return { c: function() {
    e = U("div"), n = U("div"), r = U("div"), i = Le("Items "), o = Le(t[3]), s = Le("-"), a = Le(t[2]), l = le();
    for (var p = 0; p < d.length; p += 1)
      d[p].c();
    $(r, "class", "jse-text svelte-lajpxi"), $(e, "role", "none"), $(e, "class", "jse-collapsed-items svelte-lajpxi"), Se(e, "jse-selected", t[5]), hi(e, "--level", t[0].length + 2);
  }, m: function(p, m) {
    X(p, e, m), E(e, n), E(n, r), E(r, i), E(r, o), E(r, s), E(r, a), E(n, l);
    for (var g = 0; g < d.length; g += 1)
      d[g] && d[g].m(n, null);
    c || (u = _e(e, "mousemove", jse), c = !0);
  }, p: function(p, m) {
    var g = Mt(m, 1)[0];
    if (8 & g && yt(o, p[3]), 4 & g && yt(a, p[2]), 19 & g) {
      var v;
      for (f = Et(p[4]), v = 0; v < f.length; v += 1) {
        var y = Vk(p, f, v);
        d[v] ? d[v].p(y, g) : (d[v] = Wk(y), d[v].c(), d[v].m(n, null));
      }
      for (; v < d.length; v += 1)
        d[v].d(1);
      d.length = f.length;
    }
    32 & g && Se(e, "jse-selected", p[5]), 1 & g && hi(e, "--level", p[0].length + 2);
  }, i: Te, o: Te, d: function(p) {
    p && Q(e), Sr(d, p), c = !1, u();
  } };
}
function jse(t) {
  t.stopPropagation();
}
function $se(t, e, n) {
  var r, i, o, s, a, l = e.visibleSections, c = e.sectionIndex, u = e.total, f = e.path, d = e.selection, h = e.onExpandSection, p = e.context;
  return t.$$set = function(m) {
    "visibleSections" in m && n(6, l = m.visibleSections), "sectionIndex" in m && n(7, c = m.sectionIndex), "total" in m && n(8, u = m.total), "path" in m && n(0, f = m.path), "selection" in m && n(9, d = m.selection), "onExpandSection" in m && n(1, h = m.onExpandSection), "context" in m && n(10, p = m.context);
  }, t.$$.update = function() {
    192 & t.$$.dirty && n(11, r = l[c]), 2048 & t.$$.dirty && n(3, i = r.end), 448 & t.$$.dirty && n(2, o = l[c + 1] ? l[c + 1].start : u), 1545 & t.$$.dirty && n(5, s = Ef(p.getJson(), d, f.concat(String(i)))), 12 & t.$$.dirty && n(4, a = function(m, g) {
      var v = { start: m, end: Math.min(A0(m), g) }, y = Math.max(jp((m + g) / 2), m), x = { start: y, end: Math.min(A0(y), g) }, b = jp(g), w = b === g ? b - _f : b, j = { start: Math.max(w, m), end: g }, k = [v], N = x.start >= v.end && x.end <= j.start;
      return N && k.push(x), j.start >= (N ? x.end : v.end) && k.push(j), k;
    }(i, o));
  }, [f, h, o, i, a, s, l, c, u, d, p, r, function(m) {
    return h(f, m);
  }];
}
var kse = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, $se, wse, Lt, { visibleSections: 6, sectionIndex: 7, total: 8, path: 0, selection: 9, onExpandSection: 1, context: 10 }, xse), r;
  }
  return at(e, ct), ot(e);
}();
function Sse(t) {
  Tt(t, "svelte-6k6355", ".jse-context-menu-pointer.svelte-6k6355{position:absolute;top:calc(-0.5 * var(--jse-context-menu-pointer-size, calc(1em + 4px)));right:calc(-0.5 * var(--jse-context-menu-pointer-size, calc(1em + 4px)));width:var(--jse-context-menu-pointer-size, calc(1em + 4px));height:var(--jse-context-menu-pointer-size, calc(1em + 4px));padding:0;margin:0;cursor:pointer;background:transparent;border-radius:2px;background:var(--jse-context-menu-pointer-background, var(--jse-context-menu-background, #656565));color:var(--jse-context-menu-pointer-color, var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff)));border:none;box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24))}.jse-context-menu-pointer.svelte-6k6355:hover{background:var(--jse-context-menu-pointer-background-highlight, var(--jse-context-menu-background-highlight, #7a7a7a))}");
}
function Cse(t) {
  var e, n, r, i, o;
  return n = new cn({ props: { data: uo } }), { c: function() {
    e = U("button"), we(n.$$.fragment), $(e, "type", "button"), $(e, "class", "jse-context-menu-pointer svelte-6k6355"), $(e, "title", Bb), Se(e, "jse-selected", t[0]);
  }, m: function(s, a) {
    X(s, e, a), be(n, e, null), r = !0, i || (o = _e(e, "click", t[1]), i = !0);
  }, p: function(s, a) {
    var l = Mt(a, 1)[0];
    (!r || 1 & l) && Se(e, "jse-selected", s[0]);
  }, i: function(s) {
    r || (S(n.$$.fragment, s), r = !0);
  }, o: function(s) {
    A(n.$$.fragment, s), r = !1;
  }, d: function(s) {
    s && Q(e), xe(n), i = !1, o();
  } };
}
function _se(t, e, n) {
  var r = e.selected, i = e.onContextMenu;
  return t.$$set = function(o) {
    "selected" in o && n(0, r = o.selected), "onContextMenu" in o && n(2, i = o.onContextMenu);
  }, [r, function(o) {
    for (var s = o.target; s && s.nodeName !== "BUTTON"; )
      s = s.parentNode;
    s && i({ anchor: s, left: 0, top: 0, width: Ds, height: Ns, offsetTop: 2, offsetLeft: 0, showTip: !0 });
  }, i];
}
var Ka = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, _se, Cse, Lt, { selected: 0, onContextMenu: 2 }, Sse), r;
  }
  return at(e, ct), ot(e);
}();
function Ose(t) {
  Tt(t, "svelte-10xe8tv", '.jse-key.svelte-10xe8tv{display:inline-block;min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;color:var(--jse-key-color, #1a1a1a);cursor:var(--jse-contents-cursor, pointer);word-break:normal;overflow-wrap:normal;white-space:pre-wrap}.jse-key.svelte-10xe8tv:hover{background:var(--jse-hover-background-color, rgba(0, 0, 0, 0.06))}.jse-key.svelte-10xe8tv:hover{background:var(--jse-hover-background-color, rgba(0, 0, 0, 0.06))}.jse-key.jse-empty.svelte-10xe8tv{min-width:3em;outline:1px dotted var(--jse-tag-background, rgba(0, 0, 0, 0.2));-moz-outline-radius:2px}.jse-key.jse-empty.svelte-10xe8tv::after{pointer-events:none;color:var(--jse-tag-background, rgba(0, 0, 0, 0.2));content:"key"}');
}
function Ase(t) {
  var e, n, r, i, o, s, a, l = [Tse, Mse], c = [];
  function u(f, d) {
    return f[1] ? 0 : 1;
  }
  return n = u(t), r = c[n] = l[n](t), { c: function() {
    e = U("div"), r.c(), $(e, "role", "none"), $(e, "data-type", "selectable-key"), $(e, "class", i = ir(t[6](t[0])) + " svelte-10xe8tv");
  }, m: function(f, d) {
    X(f, e, d), c[n].m(e, null), o = !0, s || (a = _e(e, "dblclick", t[5]), s = !0);
  }, p: function(f, d) {
    var h = n;
    (n = u(f)) === h ? c[n].p(f, d) : (Ae(), A(c[h], 1, 1, function() {
      c[h] = null;
    }), Ee(), (r = c[n]) ? r.p(f, d) : (r = c[n] = l[n](f)).c(), S(r, 1), r.m(e, null)), (!o || 1 & d && i !== (i = ir(f[6](f[0])) + " svelte-10xe8tv")) && $(e, "class", i);
  }, i: function(f) {
    o || (S(r), o = !0);
  }, o: function(f) {
    A(r), o = !1;
  }, d: function(f) {
    f && Q(e), c[n].d(), s = !1, a();
  } };
}
function Ese(t) {
  var e, n;
  return e = new bT({ props: { value: t[2].normalization.escapeValue(t[0]), shortText: !0, onChange: t[7], onCancel: t[8], onFind: t[2].onFind } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    5 & i && (o.value = r[2].normalization.escapeValue(r[0])), 4 & i && (o.onFind = r[2].onFind), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Mse(t) {
  var e, n = El(t[2].normalization.escapeValue(t[0])) + "";
  return { c: function() {
    e = Le(n);
  }, m: function(r, i) {
    X(r, e, i);
  }, p: function(r, i) {
    5 & i && n !== (n = El(r[2].normalization.escapeValue(r[0])) + "") && yt(e, n);
  }, i: Te, o: Te, d: function(r) {
    r && Q(e);
  } };
}
function Tse(t) {
  var e, n;
  return e = new ST({ props: { text: t[2].normalization.escapeValue(t[0]), searchResultItems: t[1] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    5 & i && (o.text = r[2].normalization.escapeValue(r[0])), 2 & i && (o.searchResultItems = r[1]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Hk(t) {
  var e, n;
  return e = new Ka({ props: { selected: !0, onContextMenu: t[2].onContextMenu } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    4 & i && (o.onContextMenu = r[2].onContextMenu), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Rse(t) {
  var e, n, r, i, o, s = [Ese, Ase], a = [];
  function l(u, f) {
    return !u[2].readOnly && u[4] ? 0 : 1;
  }
  e = l(t), n = a[e] = s[e](t);
  var c = !t[2].readOnly && t[3] && !t[4] && Hk(t);
  return { c: function() {
    n.c(), r = le(), c && c.c(), i = wn();
  }, m: function(u, f) {
    a[e].m(u, f), X(u, r, f), c && c.m(u, f), X(u, i, f), o = !0;
  }, p: function(u, f) {
    var d = Mt(f, 1)[0], h = e;
    (e = l(u)) === h ? a[e].p(u, d) : (Ae(), A(a[h], 1, 1, function() {
      a[h] = null;
    }), Ee(), (n = a[e]) ? n.p(u, d) : (n = a[e] = s[e](u)).c(), S(n, 1), n.m(r.parentNode, r)), u[2].readOnly || !u[3] || u[4] ? c && (Ae(), A(c, 1, 1, function() {
      c = null;
    }), Ee()) : c ? (c.p(u, d), 28 & d && S(c, 1)) : ((c = Hk(u)).c(), S(c, 1), c.m(i.parentNode, i));
  }, i: function(u) {
    o || (S(n), S(c), o = !0);
  }, o: function(u) {
    A(n), A(c), o = !1;
  }, d: function(u) {
    u && (Q(r), Q(i)), a[e].d(u), c && c.d(u);
  } };
}
function Pse(t, e, n) {
  var r, i, o = e.path, s = e.key, a = e.selection, l = e.searchResultItems, c = e.onUpdateKey, u = e.context;
  return t.$$set = function(f) {
    "path" in f && n(9, o = f.path), "key" in f && n(0, s = f.key), "selection" in f && n(10, a = f.selection), "searchResultItems" in f && n(1, l = f.searchResultItems), "onUpdateKey" in f && n(11, c = f.onUpdateKey), "context" in f && n(2, u = f.context);
  }, t.$$.update = function() {
    1536 & t.$$.dirty && n(3, r = !!a && jr(a) && en(a.path, o)), 1032 & t.$$.dirty && n(4, i = r && vi(a));
  }, [s, l, u, r, i, function(f) {
    i || u.readOnly || (f.preventDefault(), u.onSelect(yo(o, !0)));
  }, function(f) {
    return xs("jse-key", { "jse-empty": f === "" });
  }, function(f, d) {
    var h = c(s, u.normalization.unescapeValue(f)), p = Zt(o).concat(h);
    u.onSelect(d === ka.nextInside ? Gt(p, !1) : yo(p, !1)), d !== ka.self && u.focus();
  }, function() {
    u.onSelect(yo(o, !1)), u.focus();
  }, o, a, c];
}
var Ise = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Pse, Rse, Lt, { path: 9, key: 0, selection: 10, searchResultItems: 1, onUpdateKey: 11, context: 2 }, Ose), r;
  }
  return at(e, ct), ot(e);
}();
function Uk(t, e, n) {
  var r = t.slice();
  return r[8] = e[n], r;
}
function Jk(t) {
  var e, n, r, i = [t[8].props], o = t[8].component;
  function s(a, l) {
    var c = {};
    if (l !== void 0 && 1 & l)
      c = ko(i, [_l(a[8].props)]);
    else
      for (var u = 0; u < i.length; u += 1)
        c = Bi(c, i[u]);
    return { props: c };
  }
  return o && (e = bs(o, s(t))), { c: function() {
    e && we(e.$$.fragment), n = wn();
  }, m: function(a, l) {
    e && be(e, a, l), X(a, n, l), r = !0;
  }, p: function(a, l) {
    if (1 & l && o !== (o = a[8].component)) {
      if (e) {
        Ae();
        var c = e;
        A(c.$$.fragment, 1, 0, function() {
          xe(c, 1);
        }), Ee();
      }
      o ? (we((e = bs(o, s(a, l))).$$.fragment), S(e.$$.fragment, 1), be(e, n.parentNode, n)) : e = null;
    } else if (o) {
      var u = 1 & l ? ko(i, [_l(a[8].props)]) : {};
      e.$set(u);
    }
  }, i: function(a) {
    r || (e && S(e.$$.fragment, a), r = !0);
  }, o: function(a) {
    e && A(e.$$.fragment, a), r = !1;
  }, d: function(a) {
    a && Q(n), e && xe(e, a);
  } };
}
function Gk(t) {
  var e, n, r = t[8].component, i = Jk(t);
  return { c: function() {
    i.c(), e = wn();
  }, m: function(o, s) {
    i.m(o, s), X(o, e, s), n = !0;
  }, p: function(o, s) {
    1 & s && Lt(r, r = o[8].component) ? (Ae(), A(i, 1, 1, Te), Ee(), (i = Jk(o)).c(), S(i, 1), i.m(e.parentNode, e)) : i.p(o, s);
  }, i: function(o) {
    n || (S(i), n = !0);
  }, o: function(o) {
    A(i), n = !1;
  }, d: function(o) {
    o && Q(e), i.d(o);
  } };
}
function Nse(t) {
  for (var e, n, r = Et(t[0]), i = [], o = 0; o < r.length; o += 1)
    i[o] = Gk(Uk(t, r, o));
  var s = function(a) {
    return A(i[a], 1, 1, function() {
      i[a] = null;
    });
  };
  return { c: function() {
    for (var a = 0; a < i.length; a += 1)
      i[a].c();
    e = wn();
  }, m: function(a, l) {
    for (var c = 0; c < i.length; c += 1)
      i[c] && i[c].m(a, l);
    X(a, e, l), n = !0;
  }, p: function(a, l) {
    var c = Mt(l, 1)[0];
    if (1 & c) {
      var u;
      for (r = Et(a[0]), u = 0; u < r.length; u += 1) {
        var f = Uk(a, r, u);
        i[u] ? (i[u].p(f, c), S(i[u], 1)) : (i[u] = Gk(f), i[u].c(), S(i[u], 1), i[u].m(e.parentNode, e));
      }
      for (Ae(), u = r.length; u < i.length; u += 1)
        s(u);
      Ee();
    }
  }, i: function(a) {
    if (!n) {
      for (var l = 0; l < r.length; l += 1)
        S(i[l]);
      n = !0;
    }
  }, o: function(a) {
    i = i.filter(Boolean);
    for (var l = 0; l < i.length; l += 1)
      A(i[l]);
    n = !1;
  }, d: function(a) {
    a && Q(e), Sr(i, a);
  } };
}
function Dse(t, e, n) {
  var r, i, o = e.path, s = e.value, a = e.context, l = e.enforceString, c = e.selection, u = e.searchResultItems;
  return t.$$set = function(f) {
    "path" in f && n(1, o = f.path), "value" in f && n(2, s = f.value), "context" in f && n(3, a = f.context), "enforceString" in f && n(4, l = f.enforceString), "selection" in f && n(5, c = f.selection), "searchResultItems" in f && n(6, u = f.searchResultItems);
  }, t.$$.update = function() {
    32 & t.$$.dirty && n(7, r = sn(c) && vi(c)), 254 & t.$$.dirty && n(0, i = a.onRenderValue({ path: o, value: s, readOnly: a.readOnly, enforceString: l, isEditing: r, parser: a.parser, normalization: a.normalization, selection: c, searchResultItems: u, onPatch: a.onPatch, onPasteJson: a.onPasteJson, onSelect: a.onSelect, onFind: a.onFind, findNextInside: a.findNextInside, focus: a.focus }));
  }, [i, o, s, a, l, c, u, r];
}
var Lse = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Dse, Nse, Lt, { path: 1, value: 2, context: 3, enforceString: 4, selection: 5, searchResultItems: 6 }), r;
  }
  return at(e, ct), ot(e);
}(), Bse = Lse, Dr = { selecting: !1, selectionAnchor: null, selectionAnchorType: null, selectionFocus: null, dragging: !1 };
function Ug(t) {
  var e = t.json, n = t.documentState, r = t.deltaY, i = t.items;
  if (!n.selection)
    return { operations: void 0, updatedSelection: null, offset: 0 };
  var o = n.selection, s = r < 0 ? function(f) {
    for (var d = f.json, h = f.items, p = f.selection, m = f.deltaY, g = Ls(d, p), v = h.findIndex(function(k) {
      return en(k.path, g);
    }), y = function() {
      var k;
      return (k = h[x - 1]) === null || k === void 0 ? void 0 : k.height;
    }, x = v, b = 0; y() !== void 0 && Math.abs(m) > b + y() / 2; )
      b += y(), x -= 1;
    var w = h[x].path, j = x - v;
    return x !== v && h[x] !== void 0 ? { beforePath: w, offset: j } : void 0;
  }({ json: e, selection: o, deltaY: r, items: i }) : function(f) {
    for (var d, h = f.json, p = f.items, m = f.selection, g = f.deltaY, v = Ca(h, m), y = p.findIndex(function(B) {
      return en(B.path, v);
    }), x = 0, b = y, w = function() {
      var B;
      return (B = p[b + 1]) === null || B === void 0 ? void 0 : B.height;
    }; w() !== void 0 && Math.abs(g) > x + w() / 2; )
      x += w(), b += 1;
    var j = Zt(v), k = Xe(h, j), N = Array.isArray(k), z = (d = p[N ? b : b + 1]) === null || d === void 0 ? void 0 : d.path, _ = b - y;
    return z ? { beforePath: z, offset: _ } : { append: !0, offset: _ };
  }({ json: e, selection: o, deltaY: r, items: i });
  if (!s || s.offset === 0)
    return { operations: void 0, updatedSelection: null, offset: 0 };
  var a = function(f, d, h) {
    if (!d)
      return [];
    var p = "beforePath" in h ? h.beforePath : void 0, m = "append" in h ? h.append : void 0, g = Zt(ht(d)), v = Xe(f, g);
    if (!(m || p && La(p, g) && p.length > g.length))
      return [];
    var y = Ls(f, d), x = Ca(f, d), b = _t(y), w = _t(x), j = p ? p[g.length] : void 0;
    if (!dr(v)) {
      if (zn(v)) {
        var k = ri(b), N = ri(w), z = j !== void 0 ? ri(j) : v.length;
        return cy(N - k + 1, z < k ? function(R) {
          return { op: "move", from: We(g.concat(String(k + R))), path: We(g.concat(String(z + R))) };
        } : function() {
          return { op: "move", from: We(g.concat(String(k))), path: We(g.concat(String(z))) };
        });
      }
      throw new Error("Cannot create move operations: parent must be an Object or Array");
    }
    var _ = Object.keys(v), B = _.indexOf(b), I = _.indexOf(w), Y = m ? _.length : j !== void 0 ? _.indexOf(j) : -1;
    return B !== -1 && I !== -1 && Y !== -1 ? Y > B ? [].concat(Wt(_.slice(B, I + 1)), Wt(_.slice(Y, _.length))).map(function(R) {
      return Ml(g, R);
    }) : [].concat(Wt(_.slice(Y, B)), Wt(_.slice(I + 1, _.length))).map(function(R) {
      return Ml(g, R);
    }) : [];
  }(e, o, s), l = Zt(Ls(e, o)), c = Xe(e, l);
  if (Array.isArray(c)) {
    var u = function(f) {
      var d, h, p = f.items, m = f.json, g = f.selection, v = f.offset, y = Ls(m, g), x = Ca(m, g), b = p.findIndex(function(N) {
        return en(N.path, y);
      }), w = p.findIndex(function(N) {
        return en(N.path, x);
      }), j = (d = p[b + v]) === null || d === void 0 ? void 0 : d.path, k = (h = p[w + v]) === null || h === void 0 ? void 0 : h.path;
      return ui(j, k);
    }({ items: i, json: e, selection: o, offset: s.offset });
    return { operations: a, updatedSelection: u, offset: s.offset };
  }
  return { operations: a, updatedSelection: null, offset: s.offset };
}
function Zo(t, e) {
  return function(n, r) {
    if (n) {
      for (var i = {}, o = 0, s = Object.keys(n); o < s.length; o++) {
        var a = s[o];
        r(a, n[a]) && (i[a] = n[a]);
      }
      return Object.keys(i).length > 0 ? i : void 0;
    }
  }(t, function(n) {
    return Pp(n, e);
  });
}
function qse(t) {
  Tt(t, "svelte-g0bfge", 'button.jse-validation-error.svelte-g0bfge{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;padding:0;margin:0;vertical-align:top;display:inline-flex;color:var(--jse-warning-color, #fdc539)}');
}
function zse(t) {
  var e, n, r, i, o, s;
  return n = new cn({ props: { data: ql } }), { c: function() {
    e = U("button"), we(n.$$.fragment), $(e, "type", "button"), $(e, "class", "jse-validation-error svelte-g0bfge");
  }, m: function(a, l) {
    X(a, e, l), be(n, e, null), i = !0, o || (s = [_e(e, "click", function() {
      di(t[0]) && t[0].apply(this, arguments);
    }), Wr(r = Qb.call(null, e, he({ text: t[1] }, t[2])))], o = !0);
  }, p: function(a, l) {
    var c = Mt(l, 1)[0];
    t = a, r && di(r.update) && 2 & c && r.update.call(null, he({ text: t[1] }, t[2]));
  }, i: function(a) {
    i || (S(n.$$.fragment, a), i = !0);
  }, o: function(a) {
    A(n.$$.fragment, a), i = !1;
  }, d: function(a) {
    a && Q(e), xe(n), o = !1, Dn(s);
  } };
}
function Fse(t, e, n) {
  var r, i = Hr("absolute-popup"), o = e.validationError, s = e.onExpand;
  return t.$$set = function(a) {
    "validationError" in a && n(3, o = a.validationError), "onExpand" in a && n(0, s = a.onExpand);
  }, t.$$.update = function() {
    8 & t.$$.dirty && n(1, r = woe(o) && o.isChildError ? "Contains invalid data" : o.message);
  }, [s, r, i, o];
}
var hu = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Fse, zse, Nr, { validationError: 3, onExpand: 0 }, qse), r;
  }
  return at(e, ct), ot(e);
}();
function Vse(t) {
  Tt(t, "svelte-1koa14y", '.jse-json-node.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{position:relative;color:var(--jse-text-color, #4d4d4d)}.jse-json-node.jse-root.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{min-height:100%;padding-bottom:2px;box-sizing:border-box}.jse-json-node.jse-root.svelte-1koa14y>.jse-header-outer.svelte-1koa14y .jse-context-menu-pointer,.jse-json-node.jse-root.svelte-1koa14y>.jse-contents-outer.svelte-1koa14y>.jse-contents.svelte-1koa14y .jse-context-menu-pointer{top:0;right:calc(-2px - var(--jse-context-menu-pointer-size, calc(1em + 4px)))}.jse-json-node.jse-root.svelte-1koa14y>.jse-contents-outer.svelte-1koa14y>.jse-contents.svelte-1koa14y.svelte-1koa14y{padding-left:0}.jse-json-node.svelte-1koa14y .jse-props.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.svelte-1koa14y .jse-items.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{position:relative}.jse-json-node.svelte-1koa14y .jse-header-outer.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.svelte-1koa14y .jse-footer-outer.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{display:flex;margin-left:calc(var(--level) * var(--jse-indent-size, calc(1em + 4px)))}.jse-json-node.svelte-1koa14y .jse-header.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{position:relative}.jse-json-node.svelte-1koa14y .jse-header .jse-meta.svelte-1koa14y>.jse-meta-inner.svelte-1koa14y.svelte-1koa14y{display:flex;justify-content:center}.jse-json-node.svelte-1koa14y .jse-contents-outer.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{display:flex;margin-left:calc(var(--level) * var(--jse-indent-size, calc(1em + 4px)))}.jse-json-node.svelte-1koa14y .jse-header.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.svelte-1koa14y .jse-contents.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{display:flex;flex-direction:row;align-items:start}.jse-json-node.svelte-1koa14y .jse-contents.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{padding-left:var(--jse-indent-size, calc(1em + 4px))}.jse-json-node.svelte-1koa14y .jse-footer.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{display:inline-flex;padding-left:calc(var(--jse-indent-size, calc(1em + 4px)) + 5px)}.jse-json-node.svelte-1koa14y .jse-header.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.svelte-1koa14y .jse-contents.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.svelte-1koa14y .jse-footer.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{background:var(--jse-contents-background-color, transparent)}.jse-json-node.svelte-1koa14y .jse-insert-selection-area.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{visibility:hidden;padding:0 calc(0.5 * var(--jse-padding, 10px));flex:1}.jse-json-node.svelte-1koa14y .jse-insert-selection-area.jse-inside.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{display:inline-flex;align-items:center}.jse-json-node.svelte-1koa14y .jse-insert-selection-area.jse-after.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{display:flex;align-items:flex-end}.jse-json-node.svelte-1koa14y .jse-context-menu-pointer-anchor.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{position:relative}.jse-json-node.svelte-1koa14y .jse-insert-area.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{display:flex;position:relative;z-index:1;margin-left:calc(var(--level) * var(--jse-indent-size, calc(1em + 4px)));max-width:250px;min-width:100px;height:0;margin-right:calc(0.5 * var(--jse-padding, 10px));outline:1px solid}.jse-json-node.svelte-1koa14y .jse-insert-area.svelte-1koa14y .jse-context-menu-pointer{right:-1px;background:var(--jse-context-menu-pointer-hover-background, #b2b2b2)}.jse-json-node.svelte-1koa14y .jse-insert-area.jse-hovered.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{outline-color:var(--jse-context-menu-pointer-hover-background, #b2b2b2)}.jse-json-node.svelte-1koa14y:hover>.jse-contents-outer .jse-insert-selection-area.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y:not(.jse-selected),.jse-json-node.svelte-1koa14y .jse-header-outer.svelte-1koa14y:hover>.jse-insert-selection-area.svelte-1koa14y.svelte-1koa14y:not(.jse-selected),.jse-json-node.svelte-1koa14y .jse-footer-outer:hover .jse-insert-selection-area.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y:not(.jse-selected){visibility:visible}.jse-json-node.jse-hovered.svelte-1koa14y>.jse-header-outer.svelte-1koa14y>.jse-header.svelte-1koa14y>.jse-meta.svelte-1koa14y,.jse-json-node.jse-hovered.svelte-1koa14y .jse-props .jse-header.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-hovered.svelte-1koa14y .jse-items .jse-header.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-hovered.svelte-1koa14y .jse-props .jse-contents.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-hovered.svelte-1koa14y .jse-items .jse-contents.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-hovered.svelte-1koa14y .jse-footer.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{background:var(--jse-hover-background-color, rgba(0, 0, 0, 0.06))}.jse-json-node.jse-selected.svelte-1koa14y>.jse-header-outer.svelte-1koa14y>.jse-header.svelte-1koa14y>.jse-meta.svelte-1koa14y,.jse-json-node.jse-selected.svelte-1koa14y .jse-props .jse-header.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected.svelte-1koa14y .jse-items .jse-header.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected.svelte-1koa14y .jse-props .jse-contents.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected.svelte-1koa14y .jse-items .jse-contents.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected.svelte-1koa14y .jse-header.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected.svelte-1koa14y .jse-contents.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected.svelte-1koa14y .jse-footer.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected.svelte-1koa14y .jse-key,.jse-json-node.jse-selected.svelte-1koa14y .jse-value{background:var(--jse-selection-background-color, #d3d3d3);cursor:var(--jse-contents-selected-cursor, grab)}.jse-json-node.jse-selected.svelte-1koa14y .jse-expand.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{background:var(--jse-selection-background-color, #d3d3d3)}.jse-json-node.jse-selected-key.svelte-1koa14y>.jse-contents-outer.svelte-1koa14y>.jse-contents.svelte-1koa14y>.jse-identifier>.jse-key,.jse-json-node.jse-selected-key.svelte-1koa14y>.jse-header-outer.svelte-1koa14y>.jse-header.svelte-1koa14y>.jse-identifier>.jse-key{background:var(--jse-selection-background-color, #d3d3d3);cursor:var(--jse-contents-selected-cursor, grab)}.jse-json-node.jse-selected-value.svelte-1koa14y>.jse-contents-outer.svelte-1koa14y>.jse-contents.svelte-1koa14y>.jse-value{background:var(--jse-selection-background-color, #d3d3d3);cursor:var(--jse-contents-selected-cursor, grab)}.jse-json-node.svelte-1koa14y .jse-collapsed-items.jse-selected,.jse-json-node.jse-selected.svelte-1koa14y .jse-collapsed-items,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-collapsed-items{background-color:var(--jse-selection-background-color, #d3d3d3);--jse-collapsed-items-background-color:var(--jse-collapsed-items-selected-background-color, #c2c2c2)}.jse-json-node.jse-selected-value.svelte-1koa14y .jse-meta.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected-value.svelte-1koa14y>.jse-header-outer.svelte-1koa14y>.jse-header.svelte-1koa14y>.jse-meta.svelte-1koa14y,.jse-json-node.jse-selected-value.svelte-1koa14y>.jse-footer-outer.svelte-1koa14y>.jse-footer.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-props .jse-contents.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-props .jse-header.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-props .jse-footer.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-props .jse-expand.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-items .jse-contents.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-items .jse-header.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-items .jse-footer.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-items .jse-expand.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{background:var(--jse-selection-background-color, #d3d3d3)}.jse-json-node.jse-selected-value.svelte-1koa14y .jse-meta.svelte-1koa14y .jse-key,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-meta.svelte-1koa14y .jse-value,.jse-json-node.jse-selected-value.svelte-1koa14y>.jse-header-outer.svelte-1koa14y>.jse-header.svelte-1koa14y>.jse-meta.svelte-1koa14y .jse-key,.jse-json-node.jse-selected-value.svelte-1koa14y>.jse-header-outer.svelte-1koa14y>.jse-header.svelte-1koa14y>.jse-meta.svelte-1koa14y .jse-value,.jse-json-node.jse-selected-value.svelte-1koa14y>.jse-footer-outer.svelte-1koa14y>.jse-footer.svelte-1koa14y .jse-key,.jse-json-node.jse-selected-value.svelte-1koa14y>.jse-footer-outer.svelte-1koa14y>.jse-footer.svelte-1koa14y .jse-value,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-props .jse-contents.svelte-1koa14y .jse-key,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-props .jse-contents.svelte-1koa14y .jse-value,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-props .jse-header.svelte-1koa14y .jse-key,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-props .jse-header.svelte-1koa14y .jse-value,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-props .jse-footer.svelte-1koa14y .jse-key,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-props .jse-footer.svelte-1koa14y .jse-value,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-props .jse-expand.svelte-1koa14y .jse-key,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-props .jse-expand.svelte-1koa14y .jse-value,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-items .jse-contents.svelte-1koa14y .jse-key,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-items .jse-contents.svelte-1koa14y .jse-value,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-items .jse-header.svelte-1koa14y .jse-key,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-items .jse-header.svelte-1koa14y .jse-value,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-items .jse-footer.svelte-1koa14y .jse-key,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-items .jse-footer.svelte-1koa14y .jse-value,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-items .jse-expand.svelte-1koa14y .jse-key,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-items .jse-expand.svelte-1koa14y .jse-value{background:var(--jse-selection-background-color, #d3d3d3);cursor:var(--jse-contents-selected-cursor, grab)}.jse-json-node.jse-readonly.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{--jse-contents-selected-cursor:pointer}.jse-json-node.svelte-1koa14y .jse-insert-area.jse-selected.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{outline-color:var(--jse-context-menu-pointer-background, var(--jse-context-menu-background, #656565))}.jse-json-node.svelte-1koa14y .jse-insert-area.jse-selected.svelte-1koa14y .jse-context-menu-pointer{background:var(--jse-context-menu-pointer-background, var(--jse-context-menu-background, #656565))}.jse-json-node.svelte-1koa14y .jse-insert-area.jse-selected.svelte-1koa14y .jse-context-menu-pointer:hover{background:var(--jse-context-menu-pointer-background-highlight, var(--jse-context-menu-background-highlight, #7a7a7a))}.jse-main:not(.jse-focus) .jse-json-node.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{--jse-selection-background-color:var(--jse-selection-background-inactive-color, #e8e8e8);--jse-context-menu-pointer-background:var(--jse-context-menu-pointer-hover-background, #b2b2b2)}.jse-expand.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{width:var(--jse-indent-size, calc(1em + 4px));padding:0;margin:0;border:none;cursor:pointer;background:transparent;color:var(--jse-delimiter-color, rgba(0, 0, 0, 0.38));font-size:var(--jse-font-size-mono, 14px);height:var(--jse-line-height, calc(1em + 4px))}.jse-expand.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y:hover{opacity:0.8}.jse-meta.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-separator.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-index.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-bracket.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{vertical-align:top;color:var(--jse-delimiter-color, rgba(0, 0, 0, 0.38))}.jse-index.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{padding:0 calc(0.5 * var(--jse-padding, 10px))}.jse-bracket.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{padding:0 2px}.jse-bracket.jse-expanded.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{padding-right:var(--jse-padding, 10px)}.jse-tag.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{border:none;font-size:80%;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);color:var(--jse-tag-color, var(--jse-text-color-inverse, #fff));background:var(--jse-tag-background, rgba(0, 0, 0, 0.2));border-radius:2px;cursor:pointer;display:inline-block;padding:0 4px;line-height:normal;margin:1px 0}.jse-tag.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y:hover{opacity:0.8}.jse-tag.jse-expanded.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{opacity:0.7;cursor:inherit}.jse-identifier.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{vertical-align:top;position:relative}');
}
var Wse = function(t) {
  return {};
}, Kk = function(t) {
  return {};
};
function Yk(t, e, n) {
  var r = t.slice();
  return r[52] = e[n], r;
}
var Hse = function(t) {
  return {};
}, Qk = function(t) {
  return {};
};
function Xk(t, e, n) {
  var r = t.slice();
  return r[46] = e[n], r[48] = n, r;
}
function Zk(t, e, n) {
  var r = t.slice();
  return r[49] = e[n], r;
}
var Use = function(t) {
  return {};
}, e4 = function(t) {
  return {};
};
function Jse(t) {
  var e, n, r, i, o, s, a, l, c, u = !t[8].readOnly && t[16] && t[7] && (sn(t[7]) || Tn(t[7])) && !vi(t[7]) && en(ht(t[7]), t[1]), f = t[33].identifier, d = yr(f, t, t[34], Kk), h = !t[17] && t4();
  o = new Bse({ props: { path: t[1], value: t[0], enforceString: t[13] || !1, selection: t[16] ? t[7] : null, searchResultItems: k$(t[6], t[9]), context: t[8] } });
  var p = u && n4(t), m = t[15] && r4(t), g = !t[17] && i4(t);
  return { c: function() {
    e = U("div"), n = U("div"), d && d.c(), r = le(), h && h.c(), i = le(), we(o.$$.fragment), s = le(), p && p.c(), a = le(), m && m.c(), l = le(), g && g.c(), $(n, "class", "jse-contents svelte-1koa14y"), $(e, "class", "jse-contents-outer svelte-1koa14y");
  }, m: function(v, y) {
    X(v, e, y), E(e, n), d && d.m(n, null), E(n, r), h && h.m(n, null), E(n, i), be(o, n, null), E(n, s), p && p.m(n, null), E(e, a), m && m.m(e, null), E(e, l), g && g.m(e, null), c = !0;
  }, p: function(v, y) {
    d && d.p && (!c || 8 & y[1]) && xr(d, f, v, v[34], c ? br(f, v[34], y, Wse) : wr(v[34]), Kk), v[17] ? h && (h.d(1), h = null) : h || ((h = t4()).c(), h.m(n, i));
    var x = {};
    2 & y[0] && (x.path = v[1]), 1 & y[0] && (x.value = v[0]), 8192 & y[0] && (x.enforceString = v[13] || !1), 65664 & y[0] && (x.selection = v[16] ? v[7] : null), 576 & y[0] && (x.searchResultItems = k$(v[6], v[9])), 256 & y[0] && (x.context = v[8]), o.$set(x), 65922 & y[0] && (u = !v[8].readOnly && v[16] && v[7] && (sn(v[7]) || Tn(v[7])) && !vi(v[7]) && en(ht(v[7]), v[1])), u ? p ? (p.p(v, y), 65922 & y[0] && S(p, 1)) : ((p = n4(v)).c(), S(p, 1), p.m(n, null)) : p && (Ae(), A(p, 1, 1, function() {
      p = null;
    }), Ee()), v[15] ? m ? (m.p(v, y), 32768 & y[0] && S(m, 1)) : ((m = r4(v)).c(), S(m, 1), m.m(e, l)) : m && (Ae(), A(m, 1, 1, function() {
      m = null;
    }), Ee()), v[17] ? g && (g.d(1), g = null) : g ? g.p(v, y) : ((g = i4(v)).c(), g.m(e, null));
  }, i: function(v) {
    c || (S(d, v), S(o.$$.fragment, v), S(p), S(m), c = !0);
  }, o: function(v) {
    A(d, v), A(o.$$.fragment, v), A(p), A(m), c = !1;
  }, d: function(v) {
    v && Q(e), d && d.d(v), h && h.d(), xe(o), p && p.d(), m && m.d(), g && g.d();
  } };
}
function Gse(t) {
  var e, n, r, i, o, s, a, l, c, u, f, d, h, p, m, g, v, y, x = !t[8].readOnly && t[16] && t[7] && (sn(t[7]) || Tn(t[7])) && !vi(t[7]) && en(ht(t[7]), t[1]), b = [Qse, Yse], w = [];
  function j(F, P) {
    return F[12] ? 0 : 1;
  }
  i = j(t), o = w[i] = b[i](t);
  var k = t[33].identifier, N = yr(k, t, t[34], Qk), z = !t[17] && o4();
  function _(F, P) {
    return F[12] ? Zse : Xse;
  }
  var B = _(t), I = B(t), Y = x && s4(t), R = t[15] && (!t[12] || !t[15].isChildError) && a4(t);
  function Z(F, P) {
    return F[12] ? tae : F[17] ? void 0 : eae;
  }
  var ne = Z(t), V = ne && ne(t), M = t[12] && l4(t);
  return { c: function() {
    e = U("div"), n = U("div"), r = U("button"), o.c(), s = le(), N && N.c(), a = le(), z && z.c(), l = le(), c = U("div"), u = U("div"), I.c(), f = le(), Y && Y.c(), d = le(), R && R.c(), h = le(), V && V.c(), p = le(), M && M.c(), m = wn(), $(r, "type", "button"), $(r, "class", "jse-expand svelte-1koa14y"), $(r, "title", "Expand or collapse this object (Ctrl+Click to expand/collapse recursively)"), $(u, "class", "jse-meta-inner svelte-1koa14y"), $(c, "class", "jse-meta svelte-1koa14y"), $(c, "data-type", "selectable-value"), $(n, "class", "jse-header svelte-1koa14y"), $(e, "class", "jse-header-outer svelte-1koa14y");
  }, m: function(F, P) {
    X(F, e, P), E(e, n), E(n, r), w[i].m(r, null), E(n, s), N && N.m(n, null), E(n, a), z && z.m(n, null), E(n, l), E(n, c), E(c, u), I.m(u, null), E(n, f), Y && Y.m(n, null), E(e, d), R && R.m(e, null), E(e, h), V && V.m(e, null), X(F, p, P), M && M.m(F, P), X(F, m, P), g = !0, v || (y = _e(r, "click", t[20]), v = !0);
  }, p: function(F, P) {
    var T = i;
    (i = j(F)) !== T && (Ae(), A(w[T], 1, 1, function() {
      w[T] = null;
    }), Ee(), (o = w[i]) || (o = w[i] = b[i](F)).c(), S(o, 1), o.m(r, null)), N && N.p && (!g || 8 & P[1]) && xr(N, k, F, F[34], g ? br(k, F[34], P, Hse) : wr(F[34]), Qk), F[17] ? z && (z.d(1), z = null) : z || ((z = o4()).c(), z.m(n, l)), B === (B = _(F)) && I ? I.p(F, P) : (I.d(1), (I = B(F)) && (I.c(), I.m(u, null))), 65922 & P[0] && (x = !F[8].readOnly && F[16] && F[7] && (sn(F[7]) || Tn(F[7])) && !vi(F[7]) && en(ht(F[7]), F[1])), x ? Y ? (Y.p(F, P), 65922 & P[0] && S(Y, 1)) : ((Y = s4(F)).c(), S(Y, 1), Y.m(n, null)) : Y && (Ae(), A(Y, 1, 1, function() {
      Y = null;
    }), Ee()), !F[15] || F[12] && F[15].isChildError ? R && (Ae(), A(R, 1, 1, function() {
      R = null;
    }), Ee()) : R ? (R.p(F, P), 36864 & P[0] && S(R, 1)) : ((R = a4(F)).c(), S(R, 1), R.m(e, h)), ne === (ne = Z(F)) && V ? V.p(F, P) : (V && V.d(1), (V = ne && ne(F)) && (V.c(), V.m(e, null))), F[12] ? M ? (M.p(F, P), 4096 & P[0] && S(M, 1)) : ((M = l4(F)).c(), S(M, 1), M.m(m.parentNode, m)) : M && (Ae(), A(M, 1, 1, function() {
      M = null;
    }), Ee());
  }, i: function(F) {
    g || (S(o), S(N, F), S(Y), S(R), S(M), g = !0);
  }, o: function(F) {
    A(o), A(N, F), A(Y), A(R), A(M), g = !1;
  }, d: function(F) {
    F && (Q(e), Q(p), Q(m)), w[i].d(), N && N.d(F), z && z.d(), I.d(), Y && Y.d(), R && R.d(), V && V.d(), M && M.d(F), v = !1, y();
  } };
}
function Kse(t) {
  var e, n, r, i, o, s, a, l, c, u, f, d, h, p, m, g, v, y, x = !t[8].readOnly && t[16] && t[7] && (sn(t[7]) || Tn(t[7])) && !vi(t[7]) && en(ht(t[7]), t[1]), b = [iae, rae], w = [];
  function j(F, P) {
    return F[12] ? 0 : 1;
  }
  i = j(t), o = w[i] = b[i](t);
  var k = t[33].identifier, N = yr(k, t, t[34], e4), z = !t[17] && d4();
  function _(F, P) {
    return F[12] ? sae : oae;
  }
  var B = _(t), I = B(t), Y = x && h4(t), R = t[15] && (!t[12] || !t[15].isChildError) && p4(t);
  function Z(F, P) {
    return F[12] ? lae : aae;
  }
  var ne = Z(t), V = ne(t), M = t[12] && m4(t);
  return { c: function() {
    e = U("div"), n = U("div"), r = U("button"), o.c(), s = le(), N && N.c(), a = le(), z && z.c(), l = le(), c = U("div"), u = U("div"), I.c(), f = le(), Y && Y.c(), d = le(), R && R.c(), h = le(), V.c(), p = le(), M && M.c(), m = wn(), $(r, "type", "button"), $(r, "class", "jse-expand svelte-1koa14y"), $(r, "title", "Expand or collapse this array (Ctrl+Click to expand/collapse recursively)"), $(u, "class", "jse-meta-inner svelte-1koa14y"), $(u, "data-type", "selectable-value"), $(c, "class", "jse-meta svelte-1koa14y"), $(n, "class", "jse-header svelte-1koa14y"), $(e, "class", "jse-header-outer svelte-1koa14y");
  }, m: function(F, P) {
    X(F, e, P), E(e, n), E(n, r), w[i].m(r, null), E(n, s), N && N.m(n, null), E(n, a), z && z.m(n, null), E(n, l), E(n, c), E(c, u), I.m(u, null), E(n, f), Y && Y.m(n, null), E(e, d), R && R.m(e, null), E(e, h), V.m(e, null), X(F, p, P), M && M.m(F, P), X(F, m, P), g = !0, v || (y = _e(r, "click", t[20]), v = !0);
  }, p: function(F, P) {
    var T = i;
    (i = j(F)) !== T && (Ae(), A(w[T], 1, 1, function() {
      w[T] = null;
    }), Ee(), (o = w[i]) || (o = w[i] = b[i](F)).c(), S(o, 1), o.m(r, null)), N && N.p && (!g || 8 & P[1]) && xr(N, k, F, F[34], g ? br(k, F[34], P, Use) : wr(F[34]), e4), F[17] ? z && (z.d(1), z = null) : z || ((z = d4()).c(), z.m(n, l)), B === (B = _(F)) && I ? I.p(F, P) : (I.d(1), (I = B(F)) && (I.c(), I.m(u, null))), 65922 & P[0] && (x = !F[8].readOnly && F[16] && F[7] && (sn(F[7]) || Tn(F[7])) && !vi(F[7]) && en(ht(F[7]), F[1])), x ? Y ? (Y.p(F, P), 65922 & P[0] && S(Y, 1)) : ((Y = h4(F)).c(), S(Y, 1), Y.m(n, null)) : Y && (Ae(), A(Y, 1, 1, function() {
      Y = null;
    }), Ee()), !F[15] || F[12] && F[15].isChildError ? R && (Ae(), A(R, 1, 1, function() {
      R = null;
    }), Ee()) : R ? (R.p(F, P), 36864 & P[0] && S(R, 1)) : ((R = p4(F)).c(), S(R, 1), R.m(e, h)), ne === (ne = Z(F)) && V ? V.p(F, P) : (V.d(1), (V = ne(F)) && (V.c(), V.m(e, null))), F[12] ? M ? (M.p(F, P), 4096 & P[0] && S(M, 1)) : ((M = m4(F)).c(), S(M, 1), M.m(m.parentNode, m)) : M && (Ae(), A(M, 1, 1, function() {
      M = null;
    }), Ee());
  }, i: function(F) {
    g || (S(o), S(N, F), S(Y), S(R), S(M), g = !0);
  }, o: function(F) {
    A(o), A(N, F), A(Y), A(R), A(M), g = !1;
  }, d: function(F) {
    F && (Q(e), Q(p), Q(m)), w[i].d(), N && N.d(F), z && z.d(), I.d(), Y && Y.d(), R && R.d(), V.d(), M && M.d(F), v = !1, y();
  } };
}
function t4(t) {
  var e;
  return { c: function() {
    (e = U("div")).textContent = ":", $(e, "class", "jse-separator svelte-1koa14y");
  }, m: function(n, r) {
    X(n, e, r);
  }, d: function(n) {
    n && Q(e);
  } };
}
function n4(t) {
  var e, n, r;
  return n = new Ka({ props: { selected: !0, onContextMenu: t[8].onContextMenu } }), { c: function() {
    e = U("div"), we(n.$$.fragment), $(e, "class", "jse-context-menu-pointer-anchor svelte-1koa14y");
  }, m: function(i, o) {
    X(i, e, o), be(n, e, null), r = !0;
  }, p: function(i, o) {
    var s = {};
    256 & o[0] && (s.onContextMenu = i[8].onContextMenu), n.$set(s);
  }, i: function(i) {
    r || (S(n.$$.fragment, i), r = !0);
  }, o: function(i) {
    A(n.$$.fragment, i), r = !1;
  }, d: function(i) {
    i && Q(e), xe(n);
  } };
}
function r4(t) {
  var e, n;
  return e = new hu({ props: { validationError: t[15], onExpand: t[21] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    32768 & i[0] && (o.validationError = r[15]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function i4(t) {
  var e, n, r;
  return { c: function() {
    $(e = U("div"), "role", "none"), $(e, "class", "jse-insert-selection-area jse-after svelte-1koa14y"), $(e, "data-type", "insert-selection-area-after");
  }, m: function(i, o) {
    X(i, e, o), n || (r = _e(e, "click", t[29]), n = !0);
  }, p: Te, d: function(i) {
    i && Q(e), n = !1, r();
  } };
}
function Yse(t) {
  var e, n;
  return e = new cn({ props: { data: ha } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Qse(t) {
  var e, n;
  return e = new cn({ props: { data: uo } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function o4(t) {
  var e;
  return { c: function() {
    (e = U("div")).textContent = ":", $(e, "class", "jse-separator svelte-1koa14y");
  }, m: function(n, r) {
    X(n, e, r);
  }, d: function(n) {
    n && Q(e);
  } };
}
function Xse(t) {
  var e, n, r, i, o, s, a, l, c, u, f = Object.keys(t[0]).length + "", d = Object.keys(t[0]).length === 1 ? "prop" : "props";
  return { c: function() {
    (e = U("div")).textContent = "{", n = le(), r = U("button"), i = Le(f), o = le(), s = Le(d), a = le(), (l = U("div")).textContent = "}", $(e, "class", "jse-bracket svelte-1koa14y"), $(r, "type", "button"), $(r, "class", "jse-tag svelte-1koa14y"), $(l, "class", "jse-bracket svelte-1koa14y");
  }, m: function(h, p) {
    X(h, e, p), X(h, n, p), X(h, r, p), E(r, i), E(r, o), E(r, s), X(h, a, p), X(h, l, p), c || (u = _e(r, "click", t[21]), c = !0);
  }, p: function(h, p) {
    1 & p[0] && f !== (f = Object.keys(h[0]).length + "") && yt(i, f), 1 & p[0] && d !== (d = Object.keys(h[0]).length === 1 ? "prop" : "props") && yt(s, d);
  }, d: function(h) {
    h && (Q(e), Q(n), Q(r), Q(a), Q(l)), c = !1, u();
  } };
}
function Zse(t) {
  var e;
  return { c: function() {
    (e = U("div")).textContent = "{", $(e, "class", "jse-bracket jse-expanded svelte-1koa14y");
  }, m: function(n, r) {
    X(n, e, r);
  }, p: Te, d: function(n) {
    n && Q(e);
  } };
}
function s4(t) {
  var e, n, r;
  return n = new Ka({ props: { selected: !0, onContextMenu: t[8].onContextMenu } }), { c: function() {
    e = U("div"), we(n.$$.fragment), $(e, "class", "jse-context-menu-pointer-anchor svelte-1koa14y");
  }, m: function(i, o) {
    X(i, e, o), be(n, e, null), r = !0;
  }, p: function(i, o) {
    var s = {};
    256 & o[0] && (s.onContextMenu = i[8].onContextMenu), n.$set(s);
  }, i: function(i) {
    r || (S(n.$$.fragment, i), r = !0);
  }, o: function(i) {
    A(n.$$.fragment, i), r = !1;
  }, d: function(i) {
    i && Q(e), xe(n);
  } };
}
function a4(t) {
  var e, n;
  return e = new hu({ props: { validationError: t[15], onExpand: t[21] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    32768 & i[0] && (o.validationError = r[15]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function eae(t) {
  var e, n, r;
  return { c: function() {
    $(e = U("div"), "role", "none"), $(e, "class", "jse-insert-selection-area jse-after svelte-1koa14y"), $(e, "data-type", "insert-selection-area-after");
  }, m: function(i, o) {
    X(i, e, o), n || (r = _e(e, "click", t[29]), n = !0);
  }, p: Te, d: function(i) {
    i && Q(e), n = !1, r();
  } };
}
function tae(t) {
  var e, n, r;
  return { c: function() {
    $(e = U("div"), "role", "none"), $(e, "class", "jse-insert-selection-area jse-inside svelte-1koa14y"), $(e, "data-type", "insert-selection-area-inside");
  }, m: function(i, o) {
    X(i, e, o), n || (r = _e(e, "click", t[28]), n = !0);
  }, p: Te, d: function(i) {
    i && Q(e), n = !1, r();
  } };
}
function l4(t) {
  for (var e, n, r, i, o, s, a, l = !t[8].readOnly && (t[10] === Ys || t[16] && Cr(t[7])), c = l && c4(t), u = Et(t[18](t[1], t[0], t[2], t[3], t[4], t[5], t[6], t[7], t[11])), f = [], d = 0; d < u.length; d += 1)
    f[d] = u4(Yk(t, u, d));
  var h = function(m) {
    return A(f[m], 1, 1, function() {
      f[m] = null;
    });
  }, p = !t[17] && f4(t);
  return { c: function() {
    e = U("div"), c && c.c(), n = le();
    for (var m = 0; m < f.length; m += 1)
      f[m].c();
    r = le(), i = U("div"), (o = U("div")).innerHTML = '<div class="jse-bracket svelte-1koa14y">}</div>', s = le(), p && p.c(), $(e, "class", "jse-props svelte-1koa14y"), $(o, "data-type", "selectable-value"), $(o, "class", "jse-footer svelte-1koa14y"), $(i, "class", "jse-footer-outer svelte-1koa14y");
  }, m: function(m, g) {
    X(m, e, g), c && c.m(e, null), E(e, n);
    for (var v = 0; v < f.length; v += 1)
      f[v] && f[v].m(e, null);
    X(m, r, g), X(m, i, g), E(i, o), E(i, s), p && p.m(i, null), a = !0;
  }, p: function(m, g) {
    if (66944 & g[0] && (l = !m[8].readOnly && (m[10] === Ys || m[16] && Cr(m[7]))), l ? c ? (c.p(m, g), 66944 & g[0] && S(c, 1)) : ((c = c4(m)).c(), S(c, 1), c.m(e, n)) : c && (Ae(), A(c, 1, 1, function() {
      c = null;
    }), Ee()), 38013439 & g[0]) {
      var v;
      for (u = Et(m[18](m[1], m[0], m[2], m[3], m[4], m[5], m[6], m[7], m[11])), v = 0; v < u.length; v += 1) {
        var y = Yk(m, u, v);
        f[v] ? (f[v].p(y, g), S(f[v], 1)) : (f[v] = u4(y), f[v].c(), S(f[v], 1), f[v].m(e, null));
      }
      for (Ae(), v = u.length; v < f.length; v += 1)
        h(v);
      Ee();
    }
    m[17] ? p && (p.d(1), p = null) : p ? p.p(m, g) : ((p = f4(m)).c(), p.m(i, null));
  }, i: function(m) {
    if (!a) {
      S(c);
      for (var g = 0; g < u.length; g += 1)
        S(f[g]);
      a = !0;
    }
  }, o: function(m) {
    A(c), f = f.filter(Boolean);
    for (var g = 0; g < f.length; g += 1)
      A(f[g]);
    a = !1;
  }, d: function(m) {
    m && (Q(e), Q(r), Q(i)), c && c.d(), Sr(f, m), p && p.d();
  } };
}
function c4(t) {
  var e, n, r;
  return n = new Ka({ props: { selected: t[16] && Cr(t[7]), onContextMenu: t[30] } }), { c: function() {
    e = U("div"), we(n.$$.fragment), $(e, "class", "jse-insert-area jse-inside svelte-1koa14y"), $(e, "data-type", "insert-selection-area-inside"), $(e, "title", Lb), Se(e, "jse-hovered", t[10] === Ys), Se(e, "jse-selected", t[16] && Cr(t[7])), hi(e, "--level", t[1].length + 1);
  }, m: function(i, o) {
    X(i, e, o), be(n, e, null), r = !0;
  }, p: function(i, o) {
    var s = {};
    65664 & o[0] && (s.selected = i[16] && Cr(i[7])), n.$set(s), (!r || 1024 & o[0]) && Se(e, "jse-hovered", i[10] === Ys), (!r || 65664 & o[0]) && Se(e, "jse-selected", i[16] && Cr(i[7])), 2 & o[0] && hi(e, "--level", i[1].length + 1);
  }, i: function(i) {
    r || (S(n.$$.fragment, i), r = !0);
  }, o: function(i) {
    A(n.$$.fragment, i), r = !1;
  }, d: function(i) {
    i && Q(e), xe(n);
  } };
}
function nae(t) {
  var e, n, r, i;
  return n = new Ise({ props: { path: t[52].path, key: t[52].key, selection: t[52].selection, searchResultItems: t[52].keySearchResultItemsMap, context: t[8], onUpdateKey: t[22] } }), { c: function() {
    e = U("div"), we(n.$$.fragment), r = le(), $(e, "slot", "identifier"), $(e, "class", "jse-identifier svelte-1koa14y");
  }, m: function(o, s) {
    X(o, e, s), be(n, e, null), E(e, r), i = !0;
  }, p: function(o, s) {
    var a = {};
    2303 & s[0] && (a.path = o[52].path), 2303 & s[0] && (a.key = o[52].key), 2303 & s[0] && (a.selection = o[52].selection), 2303 & s[0] && (a.searchResultItems = o[52].keySearchResultItemsMap), 256 & s[0] && (a.context = o[8]), n.$set(a);
  }, i: function(o) {
    i || (S(n.$$.fragment, o), i = !0);
  }, o: function(o) {
    A(n.$$.fragment, o), i = !1;
  }, d: function(o) {
    o && Q(e), xe(n);
  } };
}
function u4(t) {
  var e, n;
  return e = new s2({ props: { value: t[52].value, path: t[52].path, expandedMap: t[52].expandedMap, enforceStringMap: t[52].enforceStringMap, visibleSectionsMap: t[52].visibleSectionsMap, validationErrorsMap: t[52].validationErrorsMap, searchResultItemsMap: t[52].valueSearchResultItemsMap, selection: t[52].selection, context: t[8], onDragSelectionStart: t[25], $$slots: { identifier: [nae] }, $$scope: { ctx: t } } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    2303 & i[0] && (o.value = r[52].value), 2303 & i[0] && (o.path = r[52].path), 2303 & i[0] && (o.expandedMap = r[52].expandedMap), 2303 & i[0] && (o.enforceStringMap = r[52].enforceStringMap), 2303 & i[0] && (o.visibleSectionsMap = r[52].visibleSectionsMap), 2303 & i[0] && (o.validationErrorsMap = r[52].validationErrorsMap), 2303 & i[0] && (o.searchResultItemsMap = r[52].valueSearchResultItemsMap), 2303 & i[0] && (o.selection = r[52].selection), 256 & i[0] && (o.context = r[8]), 2559 & i[0] | 8 & i[1] && (o.$$scope = { dirty: i, ctx: r }), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function f4(t) {
  var e, n, r;
  return { c: function() {
    $(e = U("div"), "role", "none"), $(e, "class", "jse-insert-selection-area jse-after svelte-1koa14y"), $(e, "data-type", "insert-selection-area-after");
  }, m: function(i, o) {
    X(i, e, o), n || (r = _e(e, "click", t[29]), n = !0);
  }, p: Te, d: function(i) {
    i && Q(e), n = !1, r();
  } };
}
function rae(t) {
  var e, n;
  return e = new cn({ props: { data: ha } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function iae(t) {
  var e, n;
  return e = new cn({ props: { data: uo } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function d4(t) {
  var e;
  return { c: function() {
    (e = U("div")).textContent = ":", $(e, "class", "jse-separator svelte-1koa14y");
  }, m: function(n, r) {
    X(n, e, r);
  }, d: function(n) {
    n && Q(e);
  } };
}
function oae(t) {
  var e, n, r, i, o, s, a, l, c, u, f = t[0].length + "", d = t[0].length === 1 ? "item" : "items";
  return { c: function() {
    (e = U("div")).textContent = "[", n = le(), r = U("button"), i = Le(f), o = le(), s = Le(d), a = le(), (l = U("div")).textContent = "]", $(e, "class", "jse-bracket svelte-1koa14y"), $(r, "type", "button"), $(r, "class", "jse-tag svelte-1koa14y"), $(l, "class", "jse-bracket svelte-1koa14y");
  }, m: function(h, p) {
    X(h, e, p), X(h, n, p), X(h, r, p), E(r, i), E(r, o), E(r, s), X(h, a, p), X(h, l, p), c || (u = _e(r, "click", t[21]), c = !0);
  }, p: function(h, p) {
    1 & p[0] && f !== (f = h[0].length + "") && yt(i, f), 1 & p[0] && d !== (d = h[0].length === 1 ? "item" : "items") && yt(s, d);
  }, d: function(h) {
    h && (Q(e), Q(n), Q(r), Q(a), Q(l)), c = !1, u();
  } };
}
function sae(t) {
  var e, n, r, i, o, s, a, l = t[0].length + "", c = t[0].length === 1 ? "item" : "items";
  return { c: function() {
    (e = U("div")).textContent = "[", n = le(), r = U("span"), i = Le(l), o = le(), s = Le(c), a = Le(`
              `), $(e, "class", "jse-bracket svelte-1koa14y"), $(r, "class", "jse-tag jse-expanded svelte-1koa14y");
  }, m: function(u, f) {
    X(u, e, f), X(u, n, f), X(u, r, f), E(r, i), E(r, o), E(r, s), X(u, a, f);
  }, p: function(u, f) {
    1 & f[0] && l !== (l = u[0].length + "") && yt(i, l), 1 & f[0] && c !== (c = u[0].length === 1 ? "item" : "items") && yt(s, c);
  }, d: function(u) {
    u && (Q(e), Q(n), Q(r), Q(a));
  } };
}
function h4(t) {
  var e, n, r;
  return n = new Ka({ props: { selected: !0, onContextMenu: t[8].onContextMenu } }), { c: function() {
    e = U("div"), we(n.$$.fragment), $(e, "class", "jse-context-menu-pointer-anchor svelte-1koa14y");
  }, m: function(i, o) {
    X(i, e, o), be(n, e, null), r = !0;
  }, p: function(i, o) {
    var s = {};
    256 & o[0] && (s.onContextMenu = i[8].onContextMenu), n.$set(s);
  }, i: function(i) {
    r || (S(n.$$.fragment, i), r = !0);
  }, o: function(i) {
    A(n.$$.fragment, i), r = !1;
  }, d: function(i) {
    i && Q(e), xe(n);
  } };
}
function p4(t) {
  var e, n;
  return e = new hu({ props: { validationError: t[15], onExpand: t[21] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    32768 & i[0] && (o.validationError = r[15]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function aae(t) {
  var e, n, r;
  return { c: function() {
    $(e = U("div"), "role", "none"), $(e, "class", "jse-insert-selection-area jse-after svelte-1koa14y"), $(e, "data-type", "insert-selection-area-after");
  }, m: function(i, o) {
    X(i, e, o), n || (r = _e(e, "click", t[29]), n = !0);
  }, p: Te, d: function(i) {
    i && Q(e), n = !1, r();
  } };
}
function lae(t) {
  var e, n, r;
  return { c: function() {
    $(e = U("div"), "role", "none"), $(e, "class", "jse-insert-selection-area jse-inside svelte-1koa14y"), $(e, "data-type", "insert-selection-area-inside");
  }, m: function(i, o) {
    X(i, e, o), n || (r = _e(e, "click", t[28]), n = !0);
  }, p: Te, d: function(i) {
    i && Q(e), n = !1, r();
  } };
}
function m4(t) {
  for (var e, n, r, i, o, s, a, l = !t[8].readOnly && (t[10] === Ys || t[16] && Cr(t[7])), c = [], u = /* @__PURE__ */ new Map(), f = l && g4(t), d = Et(t[14] || Ol), h = function(y) {
    return y[48];
  }, p = 0; p < d.length; p += 1) {
    var m = Xk(t, d, p), g = h(m);
    u.set(g, c[p] = b4(g, m));
  }
  var v = !t[17] && x4(t);
  return { c: function() {
    e = U("div"), f && f.c(), n = le();
    for (var y = 0; y < c.length; y += 1)
      c[y].c();
    r = le(), i = U("div"), (o = U("div")).innerHTML = '<span class="jse-bracket svelte-1koa14y">]</span>', s = le(), v && v.c(), $(e, "class", "jse-items svelte-1koa14y"), $(o, "data-type", "selectable-value"), $(o, "class", "jse-footer svelte-1koa14y"), $(i, "class", "jse-footer-outer svelte-1koa14y");
  }, m: function(y, x) {
    X(y, e, x), f && f.m(e, null), E(e, n);
    for (var b = 0; b < c.length; b += 1)
      c[b] && c[b].m(e, null);
    X(y, r, x), X(y, i, x), E(i, o), E(i, s), v && v.m(i, null), a = !0;
  }, p: function(y, x) {
    66944 & x[0] && (l = !y[8].readOnly && (y[10] === Ys || y[16] && Cr(y[7]))), l ? f ? (f.p(y, x), 66944 & x[0] && S(f, 1)) : ((f = g4(y)).c(), S(f, 1), f.m(e, n)) : f && (Ae(), A(f, 1, 1, function() {
      f = null;
    }), Ee()), 34097663 & x[0] && (d = Et(y[14] || Ol), Ae(), c = Tm(c, x, h, 1, y, d, u, e, Db, b4, null, Xk), Ee()), y[17] ? v && (v.d(1), v = null) : v ? v.p(y, x) : ((v = x4(y)).c(), v.m(i, null));
  }, i: function(y) {
    if (!a) {
      S(f);
      for (var x = 0; x < d.length; x += 1)
        S(c[x]);
      a = !0;
    }
  }, o: function(y) {
    A(f);
    for (var x = 0; x < c.length; x += 1)
      A(c[x]);
    a = !1;
  }, d: function(y) {
    y && (Q(e), Q(r), Q(i)), f && f.d();
    for (var x = 0; x < c.length; x += 1)
      c[x].d();
    v && v.d();
  } };
}
function g4(t) {
  var e, n, r;
  return n = new Ka({ props: { selected: t[16] && Cr(t[7]), onContextMenu: t[30] } }), { c: function() {
    e = U("div"), we(n.$$.fragment), $(e, "class", "jse-insert-area jse-inside svelte-1koa14y"), $(e, "data-type", "insert-selection-area-inside"), $(e, "title", Lb), Se(e, "jse-hovered", t[10] === Ys), Se(e, "jse-selected", t[16] && Cr(t[7])), hi(e, "--level", t[1].length + 1);
  }, m: function(i, o) {
    X(i, e, o), be(n, e, null), r = !0;
  }, p: function(i, o) {
    var s = {};
    65664 & o[0] && (s.selected = i[16] && Cr(i[7])), n.$set(s), (!r || 1024 & o[0]) && Se(e, "jse-hovered", i[10] === Ys), (!r || 65664 & o[0]) && Se(e, "jse-selected", i[16] && Cr(i[7])), 2 & o[0] && hi(e, "--level", i[1].length + 1);
  }, i: function(i) {
    r || (S(n.$$.fragment, i), r = !0);
  }, o: function(i) {
    A(n.$$.fragment, i), r = !1;
  }, d: function(i) {
    i && Q(e), xe(n);
  } };
}
function cae(t) {
  var e, n, r, i = t[49].index + "";
  return { c: function() {
    e = U("div"), n = U("div"), r = Le(i), $(n, "class", "jse-index svelte-1koa14y"), $(e, "slot", "identifier"), $(e, "class", "jse-identifier svelte-1koa14y");
  }, m: function(o, s) {
    X(o, e, s), E(e, n), E(n, r);
  }, p: function(o, s) {
    18687 & s[0] && i !== (i = o[49].index + "") && yt(r, i);
  }, d: function(o) {
    o && Q(e);
  } };
}
function v4(t, e) {
  var n, r, i;
  return r = new s2({ props: { value: e[49].value, path: e[49].path, expandedMap: e[49].expandedMap, enforceStringMap: e[49].enforceStringMap, visibleSectionsMap: e[49].visibleSectionsMap, validationErrorsMap: e[49].validationErrorsMap, searchResultItemsMap: e[49].searchResultItemsMap, selection: e[49].selection, context: e[8], onDragSelectionStart: e[25], $$slots: { identifier: [cae] }, $$scope: { ctx: e } } }), { key: t, first: null, c: function() {
    n = wn(), we(r.$$.fragment), this.first = n;
  }, m: function(o, s) {
    X(o, n, s), be(r, o, s), i = !0;
  }, p: function(o, s) {
    e = o;
    var a = {};
    18687 & s[0] && (a.value = e[49].value), 18687 & s[0] && (a.path = e[49].path), 18687 & s[0] && (a.expandedMap = e[49].expandedMap), 18687 & s[0] && (a.enforceStringMap = e[49].enforceStringMap), 18687 & s[0] && (a.visibleSectionsMap = e[49].visibleSectionsMap), 18687 & s[0] && (a.validationErrorsMap = e[49].validationErrorsMap), 18687 & s[0] && (a.searchResultItemsMap = e[49].searchResultItemsMap), 18687 & s[0] && (a.selection = e[49].selection), 256 & s[0] && (a.context = e[8]), 18687 & s[0] | 8 & s[1] && (a.$$scope = { dirty: s, ctx: e }), r.$set(a);
  }, i: function(o) {
    i || (S(r.$$.fragment, o), i = !0);
  }, o: function(o) {
    A(r.$$.fragment, o), i = !1;
  }, d: function(o) {
    o && Q(n), xe(r, o);
  } };
}
function y4(t) {
  var e, n;
  return e = new kse({ props: { visibleSections: t[14] || Ol, sectionIndex: t[48], total: t[0].length, path: t[1], onExpandSection: t[8].onExpandSection, selection: t[7], context: t[8] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    16384 & i[0] && (o.visibleSections = r[14] || Ol), 16384 & i[0] && (o.sectionIndex = r[48]), 1 & i[0] && (o.total = r[0].length), 2 & i[0] && (o.path = r[1]), 256 & i[0] && (o.onExpandSection = r[8].onExpandSection), 128 & i[0] && (o.selection = r[7]), 256 & i[0] && (o.context = r[8]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function b4(t, e) {
  for (var n, r, i, o, s = [], a = /* @__PURE__ */ new Map(), l = Et(e[19](e[1], e[0], e[46], e[2], e[3], e[4], e[5], e[6], e[7], e[11])), c = function(p) {
    return p[49].index;
  }, u = 0; u < l.length; u += 1) {
    var f = Zk(e, l, u), d = c(f);
    a.set(d, s[u] = v4(d, f));
  }
  var h = e[46].end < e[0].length && y4(e);
  return { key: t, first: null, c: function() {
    n = wn();
    for (var p = 0; p < s.length; p += 1)
      s[p].c();
    r = le(), h && h.c(), i = wn(), this.first = n;
  }, m: function(p, m) {
    X(p, n, m);
    for (var g = 0; g < s.length; g += 1)
      s[g] && s[g].m(p, m);
    X(p, r, m), h && h.m(p, m), X(p, i, m), o = !0;
  }, p: function(p, m) {
    e = p, 34097663 & m[0] && (l = Et(e[19](e[1], e[0], e[46], e[2], e[3], e[4], e[5], e[6], e[7], e[11])), Ae(), s = Tm(s, m, c, 1, e, l, a, r.parentNode, Db, v4, r, Zk), Ee()), e[46].end < e[0].length ? h ? (h.p(e, m), 16385 & m[0] && S(h, 1)) : ((h = y4(e)).c(), S(h, 1), h.m(i.parentNode, i)) : h && (Ae(), A(h, 1, 1, function() {
      h = null;
    }), Ee());
  }, i: function(p) {
    if (!o) {
      for (var m = 0; m < l.length; m += 1)
        S(s[m]);
      S(h), o = !0;
    }
  }, o: function(p) {
    for (var m = 0; m < s.length; m += 1)
      A(s[m]);
    A(h), o = !1;
  }, d: function(p) {
    p && (Q(n), Q(r), Q(i));
    for (var m = 0; m < s.length; m += 1)
      s[m].d(p);
    h && h.d(p);
  } };
}
function x4(t) {
  var e, n, r;
  return { c: function() {
    $(e = U("div"), "role", "none"), $(e, "class", "jse-insert-selection-area jse-after svelte-1koa14y"), $(e, "data-type", "insert-selection-area-after");
  }, m: function(i, o) {
    X(i, e, o), n || (r = _e(e, "click", t[29]), n = !0);
  }, p: Te, d: function(i) {
    i && Q(e), n = !1, r();
  } };
}
function w4(t) {
  var e, n, r;
  return n = new Ka({ props: { selected: t[16] && Ii(t[7]), onContextMenu: t[31] } }), { c: function() {
    e = U("div"), we(n.$$.fragment), $(e, "class", "jse-insert-area jse-after svelte-1koa14y"), $(e, "data-type", "insert-selection-area-after"), $(e, "title", Lb), Se(e, "jse-hovered", t[10] === Of), Se(e, "jse-selected", t[16] && Ii(t[7]));
  }, m: function(i, o) {
    X(i, e, o), be(n, e, null), r = !0;
  }, p: function(i, o) {
    var s = {};
    65664 & o[0] && (s.selected = i[16] && Ii(i[7])), n.$set(s), (!r || 1024 & o[0]) && Se(e, "jse-hovered", i[10] === Of), (!r || 65664 & o[0]) && Se(e, "jse-selected", i[16] && Ii(i[7]));
  }, i: function(i) {
    r || (S(n.$$.fragment, i), r = !0);
  }, o: function(i) {
    A(n.$$.fragment, i), r = !1;
  }, d: function(i) {
    i && Q(e), xe(n);
  } };
}
function uae(t) {
  var e, n, r, i, o, s, a, l, c, u, f, d = !t[8].readOnly && (t[10] === Of || t[16] && Ii(t[7])), h = [Kse, Gse, Jse], p = [];
  function m(v, y) {
    return 1 & y[0] && (n = null), 1 & y[0] && (r = null), n == null && (n = !!Array.isArray(v[0])), n ? 0 : (r == null && (r = !!Yn(v[0])), r ? 1 : 2);
  }
  i = m(t, [-1, -1]), o = p[i] = h[i](t);
  var g = d && w4(t);
  return { c: function() {
    e = U("div"), o.c(), s = le(), g && g.c(), $(e, "role", "treeitem"), $(e, "tabindex", "-1"), $(e, "class", a = ir(xs("jse-json-node", { "jse-expanded": t[12] }, t[8].onClassName(t[1], t[0]))) + " svelte-1koa14y"), $(e, "data-path", l = qc(t[1])), $(e, "aria-selected", t[16]), Se(e, "jse-root", t[17]), Se(e, "jse-selected", t[16] && Tn(t[7])), Se(e, "jse-selected-key", t[16] && jr(t[7])), Se(e, "jse-selected-value", t[16] && sn(t[7])), Se(e, "jse-readonly", t[8].readOnly), Se(e, "jse-hovered", t[10] === S0), hi(e, "--level", t[1].length);
  }, m: function(v, y) {
    X(v, e, y), p[i].m(e, null), E(e, s), g && g.m(e, null), c = !0, u || (f = [_e(e, "mousedown", t[23]), _e(e, "mousemove", t[24]), _e(e, "mouseover", t[26]), _e(e, "mouseout", t[27]), _e(e, "focus", void 0), _e(e, "blur", void 0)], u = !0);
  }, p: function(v, y) {
    var x = i;
    (i = m(v, y)) === x ? p[i].p(v, y) : (Ae(), A(p[x], 1, 1, function() {
      p[x] = null;
    }), Ee(), (o = p[i]) ? o.p(v, y) : (o = p[i] = h[i](v)).c(), S(o, 1), o.m(e, s)), 66944 & y[0] && (d = !v[8].readOnly && (v[10] === Of || v[16] && Ii(v[7]))), d ? g ? (g.p(v, y), 66944 & y[0] && S(g, 1)) : ((g = w4(v)).c(), S(g, 1), g.m(e, null)) : g && (Ae(), A(g, 1, 1, function() {
      g = null;
    }), Ee()), (!c || 4355 & y[0] && a !== (a = ir(xs("jse-json-node", { "jse-expanded": v[12] }, v[8].onClassName(v[1], v[0]))) + " svelte-1koa14y")) && $(e, "class", a), (!c || 2 & y[0] && l !== (l = qc(v[1]))) && $(e, "data-path", l), (!c || 65536 & y[0]) && $(e, "aria-selected", v[16]), (!c || 135427 & y[0]) && Se(e, "jse-root", v[17]), (!c || 70019 & y[0]) && Se(e, "jse-selected", v[16] && Tn(v[7])), (!c || 70019 & y[0]) && Se(e, "jse-selected-key", v[16] && jr(v[7])), (!c || 70019 & y[0]) && Se(e, "jse-selected-value", v[16] && sn(v[7])), (!c || 4355 & y[0]) && Se(e, "jse-readonly", v[8].readOnly), (!c || 5379 & y[0]) && Se(e, "jse-hovered", v[10] === S0), 2 & y[0] && hi(e, "--level", v[1].length);
  }, i: function(v) {
    c || (S(o), S(g), c = !0);
  }, o: function(v) {
    A(o), A(g), c = !1;
  }, d: function(v) {
    v && Q(e), p[i].d(), g && g.d(), u = !1, Dn(f);
  } };
}
function fae(t, e, n) {
  var r, i, o, s, a, l, c, u = e.$$slots, f = u === void 0 ? {} : u, d = e.$$scope, h = e.value, p = e.path, m = e.expandedMap, g = e.enforceStringMap, v = e.visibleSectionsMap, y = e.validationErrorsMap, x = e.searchResultItemsMap, b = e.selection, w = e.context, j = e.onDragSelectionStart, k = Jr("jsoneditor:JSONNode"), N = void 0, z = void 0, _ = void 0, B = Gc(function(M) {
    return M;
  }, qi);
  function I(M) {
    w.onDrag(M);
  }
  function Y(M) {
    Dr.selecting && (Dr.selecting = !1, M.stopPropagation()), w.onDragEnd(), document.removeEventListener("mousemove", I, !0), document.removeEventListener("mouseup", Y);
  }
  function R() {
    var M;
    return ((M = w.findElement([])) === null || M === void 0 || (M = M.getBoundingClientRect()) === null || M === void 0 ? void 0 : M.top) || 0;
  }
  function Z(M, F) {
    var P = R() - M.initialContentTop;
    return F.clientY - M.initialClientY - P;
  }
  function ne(M) {
    if (_) {
      var F = w.getJson();
      if (F === void 0)
        return;
      var P = w.getDocumentState(), T = Z(_, M), O = Ug({ json: F, documentState: P, deltaY: T, items: _.items }).offset;
      O !== _.offset && (k("drag selection", O, T), n(11, _ = he(he({}, _), {}, { offset: O, didMoveItems: !0 })));
    }
  }
  function V(M) {
    if (_) {
      var F = w.getJson();
      if (F === void 0)
        return;
      var P = Ug({ json: F, documentState: w.getDocumentState(), deltaY: Z(_, M), items: _.items }), T = P.operations, O = P.updatedSelection;
      if (T)
        w.onPatch(T, function(H, ie) {
          return { state: he(he({}, ie), {}, { selection: O || b }) };
        });
      else if (M.target === _.initialTarget && !_.didMoveItems) {
        var L = Dg(M.target), C = aT(M.target);
        C && w.onSelect(y$(0, L, C));
      }
      n(11, _ = void 0), Dr.dragging = !1, document.removeEventListener("mousemove", ne, !0), document.removeEventListener("mouseup", V);
    }
  }
  return t.$$set = function(M) {
    "value" in M && n(0, h = M.value), "path" in M && n(1, p = M.path), "expandedMap" in M && n(2, m = M.expandedMap), "enforceStringMap" in M && n(3, g = M.enforceStringMap), "visibleSectionsMap" in M && n(4, v = M.visibleSectionsMap), "validationErrorsMap" in M && n(5, y = M.validationErrorsMap), "searchResultItemsMap" in M && n(6, x = M.searchResultItemsMap), "selection" in M && n(7, b = M.selection), "context" in M && n(8, w = M.context), "onDragSelectionStart" in M && n(32, j = M.onDragSelectionStart), "$$scope" in M && n(34, d = M.$$scope);
  }, t.$$.update = function() {
    2 & t.$$.dirty[0] && n(9, i = We(p)), 516 & t.$$.dirty[0] && n(12, o = !!m && m[i] === !0), 777 & t.$$.dirty[0] && n(13, s = Xs(h, g, i, w.parser)), 528 & t.$$.dirty[0] && n(14, a = v ? v[i] : void 0), 544 & t.$$.dirty[0] && n(15, l = y ? y[i] : void 0), 386 & t.$$.dirty[0] && n(16, c = Ef(w.getJson(), b, p)), 2 & t.$$.dirty[0] && n(17, r = p.length === 0);
  }, [h, p, m, g, v, y, x, b, w, i, N, _, o, s, a, l, c, r, function(M, F, P, T, O, L, C, H, ie) {
    var te = Object.keys(F).map(function(ke) {
      var Me = B(M.concat(ke)), fe = h2(i, ke);
      return { key: ke, value: F[ke], path: Me, expandedMap: Zo(P, fe), enforceStringMap: Zo(T, fe), visibleSectionsMap: Zo(O, fe), validationErrorsMap: Zo(L, fe), keySearchResultItemsMap: $re(C, fe), valueSearchResultItemsMap: Zo(C, fe), selection: b$(w.getJson(), H, Me) };
    });
    return ie && ie.offset !== 0 && (te = Xj(te, ie.selectionStartIndex, ie.selectionItemsCount, ie.offset)), te;
  }, function(M, F, P, T, O, L, C, H, ie, te) {
    for (var ke = P.start, Me = Math.min(P.end, F.length), fe = [], pe = ke; pe < Me; pe++) {
      var Fe = B(M.concat(String(pe))), Ue = h2(i, pe);
      fe.push({ index: pe, value: F[pe], path: Fe, expandedMap: Zo(T, Ue), enforceStringMap: Zo(O, Ue), visibleSectionsMap: Zo(L, Ue), validationErrorsMap: Zo(C, Ue), searchResultItemsMap: Zo(H, Ue), selection: b$(w.getJson(), ie, Fe) });
    }
    if (te && te.offset !== 0) {
      var ut = fe.map(function(ae) {
        return ae.index;
      });
      fe = Xj(fe, te.selectionStartIndex, te.selectionItemsCount, te.offset);
      for (var rn = 0; rn < fe.length; rn++)
        fe[rn].index = ut[rn];
    }
    return fe;
  }, function(M) {
    M.stopPropagation();
    var F = M.ctrlKey;
    w.onExpand(p, !o, F);
  }, function(M) {
    M.stopPropagation(), w.onExpand(p, !0);
  }, function(M, F) {
    var P = ad(p, Object.keys(h), M, F);
    return w.onPatch(P), _t(zo(P[0].path));
  }, function(M) {
    if (!(function(C) {
      return C.nodeName === "DIV" && C.contentEditable === "true";
    }(M.target) || M.which === 1 && Vb(M.target, "BUTTON"))) {
      M.stopPropagation(), M.preventDefault(), w.focus(), document.addEventListener("mousemove", I, !0), document.addEventListener("mouseup", Y);
      var F = Dg(M.target), P = w.getJson(), T = w.getDocumentState();
      if (!b || F === qn.after || F === qn.inside || b.type !== F && b.type !== qn.multi || !Ef(P, b, p))
        if (Dr.selecting = !0, Dr.selectionAnchor = p, Dr.selectionAnchorType = F, Dr.selectionFocus = p, M.shiftKey) {
          var O = w.getDocumentState().selection;
          O && w.onSelect(ui(ml(O), p));
        } else if (F === qn.multi)
          if (r && M.target.hasAttribute("data-path")) {
            var L = _t(mT(h, T));
            w.onSelect(M0(L));
          } else
            w.onSelect(ui(p, p));
        else
          P !== void 0 && w.onSelect(y$(0, F, p));
      else
        M.button === 0 && j(M);
    }
  }, function(M) {
    if (Dr.selecting) {
      M.preventDefault(), M.stopPropagation(), Dr.selectionFocus == null && window.getSelection && window.getSelection().empty();
      var F = Dg(M.target);
      en(p, Dr.selectionFocus) && F === Dr.selectionAnchorType || (Dr.selectionFocus = p, Dr.selectionAnchorType = F, w.onSelect(ui(Dr.selectionAnchor || Dr.selectionFocus, Dr.selectionFocus)));
    }
  }, function(M) {
    if (!w.readOnly && b) {
      var F = Zt(ht(b));
      if (en(p, F)) {
        var P = function(H, ie) {
          var te = [];
          function ke(At) {
            var Ge = p.concat(At), me = w.findElement(Ge);
            me != null && te.push({ path: Ge, height: me.clientHeight });
          }
          if (Array.isArray(h)) {
            var Me = w.getJson();
            if (Me === void 0)
              return null;
            var fe = Ls(Me, H), pe = Ca(Me, H), Fe = parseInt(_t(fe), 10), Ue = parseInt(_t(pe), 10), ut = ie.find(function(At) {
              return Fe >= At.start && Ue <= At.end;
            });
            if (!ut)
              return null;
            var rn = ut.start, ae = ut.end;
            GM(rn, Math.min(h.length, ae), function(At) {
              return ke(String(At));
            });
          } else
            Object.keys(h).forEach(ke);
          return te;
        }(b, a || Ol);
        if (k("dragSelectionStart", { selection: b, items: P }), P) {
          var T = w.getJson();
          if (T !== void 0) {
            var O = Ls(T, b), L = P.findIndex(function(H) {
              return en(H.path, O);
            }), C = Ug({ json: T, documentState: w.getDocumentState(), deltaY: 0, items: P }).offset;
            n(11, _ = { initialTarget: M.target, initialClientY: M.clientY, initialContentTop: R(), selectionStartIndex: L, selectionItemsCount: Sa(T, b).length, items: P, offset: C, didMoveItems: !1 }), Dr.dragging = !0, document.addEventListener("mousemove", ne, !0), document.addEventListener("mouseup", V);
          }
        } else
          k("Cannot drag the current selection (probably spread over multiple sections)");
      } else
        j(M);
    }
  }, function(M) {
    Dr.selecting || Dr.dragging || (M.stopPropagation(), dl(M.target, "data-type", "selectable-value") ? n(10, N = S0) : dl(M.target, "data-type", "insert-selection-area-inside") ? n(10, N = Ys) : dl(M.target, "data-type", "insert-selection-area-after") && n(10, N = Of), clearTimeout(z));
  }, function(M) {
    M.stopPropagation(), z = window.setTimeout(function() {
      return n(10, N = void 0);
    });
  }, function(M) {
    M.shiftKey || (M.stopPropagation(), M.preventDefault(), w.onSelect(Zs(p)));
  }, function(M) {
    M.shiftKey || (M.stopPropagation(), M.preventDefault(), w.onSelect(zs(p)));
  }, function(M) {
    w.onSelect(Zs(p)), w.onContextMenu(M);
  }, function(M) {
    w.onSelect(zs(p)), w.onContextMenu(M);
  }, j, f, d];
}
var s2 = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, fae, uae, Lt, { value: 0, path: 1, expandedMap: 2, enforceStringMap: 3, visibleSectionsMap: 4, validationErrorsMap: 5, searchResultItemsMap: 6, selection: 7, context: 8, onDragSelectionStart: 32 }, Vse, [-1, -1]), r;
  }
  return at(e, ct), ot(e);
}(), dae = s2, hae = { prefix: "fas", iconName: "jsoneditor-expand", icon: [512, 512, [], "", "M 0,448 V 512 h 512 v -64 z M 0,0 V 64 H 512 V 0 Z M 256,96 128,224 h 256 z M 256,416 384,288 H 128 Z"] }, pae = { prefix: "fas", iconName: "jsoneditor-collapse", icon: [512, 512, [], "", "m 0,224 v 64 h 512 v -64 z M 256,192 384,64 H 128 Z M 256,320 128,448 h 256 z"] }, B0 = { prefix: "fas", iconName: "jsoneditor-format", icon: [512, 512, [], "", "M 0,32 v 64 h 416 v -64 z M 160,160 v 64 h 352 v -64 z M 160,288 v 64 h 288 v -64 z M 0,416 v 64 h 320 v -64 z"] }, mae = { prefix: "fas", iconName: "jsoneditor-compact", icon: [512, 512, [], "", "M 0,32 v 64 h 512 v -64 z M 0,160 v 64 h 512 v -64 z M 0,288 v 64 h 352 v -64 z"] };
function gae(t) {
  var e, n;
  return e = new Wm({ props: { items: t[0] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    1 & Mt(i, 1)[0] && (o.items = r[0]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function vae(t, e, n) {
  var r, i, o, s, a, l, c, u = e.json, f = e.selection, d = e.readOnly, h = e.showSearch, p = h !== void 0 && h, m = e.historyState, g = e.onExpandAll, v = e.onCollapseAll, y = e.onUndo, x = e.onRedo, b = e.onSort, w = e.onTransform, j = e.onContextMenu, k = e.onCopy, N = e.onRenderMenu;
  function z() {
    n(1, p = !p);
  }
  return t.$$set = function(_) {
    "json" in _ && n(2, u = _.json), "selection" in _ && n(3, f = _.selection), "readOnly" in _ && n(4, d = _.readOnly), "showSearch" in _ && n(1, p = _.showSearch), "historyState" in _ && n(5, m = _.historyState), "onExpandAll" in _ && n(6, g = _.onExpandAll), "onCollapseAll" in _ && n(7, v = _.onCollapseAll), "onUndo" in _ && n(8, y = _.onUndo), "onRedo" in _ && n(9, x = _.onRedo), "onSort" in _ && n(10, b = _.onSort), "onTransform" in _ && n(11, w = _.onTransform), "onContextMenu" in _ && n(12, j = _.onContextMenu), "onCopy" in _ && n(13, k = _.onCopy), "onRenderMenu" in _ && n(14, N = _.onRenderMenu);
  }, t.$$.update = function() {
    4 & t.$$.dirty && n(20, r = u !== void 0), 1048584 & t.$$.dirty && n(19, i = r && (Tn(f) || jr(f) || sn(f))), 68 & t.$$.dirty && n(15, s = { type: "button", icon: hae, title: "Expand all", className: "jse-expand-all", onClick: g, disabled: !cr(u) }), 132 & t.$$.dirty && n(16, a = { type: "button", icon: pae, title: "Collapse all", className: "jse-collapse-all", onClick: v, disabled: !cr(u) }), 4 & t.$$.dirty && n(17, l = { type: "button", icon: gy, title: "Search (Ctrl+F)", className: "jse-search", onClick: z, disabled: u === void 0 }), 769844 & t.$$.dirty && n(18, c = d ? [s, a, { type: "separator" }, { type: "button", icon: ba, title: "Copy (Ctrl+C)", className: "jse-copy", onClick: k, disabled: !i }, { type: "separator" }, l, { type: "space" }] : [s, a, { type: "separator" }, { type: "button", icon: fm, title: "Sort", className: "jse-sort", onClick: b, disabled: d || u === void 0 }, { type: "button", icon: cm, title: "Transform contents (filter, sort, project)", className: "jse-transform", onClick: w, disabled: d || u === void 0 }, l, { type: "button", icon: L_, title: Bb, className: "jse-contextmenu", onClick: j }, { type: "separator" }, { type: "button", icon: my, title: "Undo (Ctrl+Z)", className: "jse-undo", onClick: y, disabled: !m.canUndo }, { type: "button", icon: py, title: "Redo (Ctrl+Shift+Z)", className: "jse-redo", onClick: x, disabled: !m.canRedo }, { type: "space" }]), 278528 & t.$$.dirty && n(0, o = N(c));
  }, [o, p, u, f, d, m, g, v, y, x, b, w, j, k, N, s, a, l, c, i, r];
}
var yae = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, vae, gae, Lt, { json: 2, selection: 3, readOnly: 4, showSearch: 1, historyState: 5, onExpandAll: 6, onCollapseAll: 7, onUndo: 8, onRedo: 9, onSort: 10, onTransform: 11, onContextMenu: 12, onCopy: 13, onRenderMenu: 14 }), r;
  }
  return at(e, ct), ot(e);
}();
function bae(t) {
  Tt(t, "svelte-s2toti", '.jse-welcome.svelte-s2toti.svelte-s2toti{flex:1;overflow:auto;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);display:flex;flex-direction:column;align-items:center;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-welcome.svelte-s2toti.svelte-s2toti:last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-welcome.svelte-s2toti .jse-space.jse-before.svelte-s2toti{flex:1}.jse-welcome.svelte-s2toti .jse-space.jse-after.svelte-s2toti{flex:2}.jse-welcome.svelte-s2toti .jse-contents.svelte-s2toti{display:flex;flex-direction:column;max-width:300px;margin:2em var(--jse-padding, 10px);gap:var(--jse-padding, 10px)}.jse-welcome.svelte-s2toti .jse-contents .jse-welcome-info.svelte-s2toti{color:var(--jse-panel-color-readonly, #b2b2b2)}.jse-welcome.svelte-s2toti .jse-contents button.svelte-s2toti{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-welcome.svelte-s2toti .jse-contents button.svelte-s2toti:hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-welcome.svelte-s2toti .jse-contents button.svelte-s2toti:disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}');
}
function j4(t) {
  var e, n, r, i, o, s, a;
  return { c: function() {
    (e = U("div")).innerHTML = "You can paste clipboard data using <b>Ctrl+V</b>, or use the following options:", n = le(), (r = U("button")).textContent = "Create object", i = le(), (o = U("button")).textContent = "Create array", $(e, "class", "jse-welcome-info svelte-s2toti"), $(r, "title", "Create an empty JSON object (press '{')"), $(r, "class", "svelte-s2toti"), $(o, "title", "Create an empty JSON array (press '[')"), $(o, "class", "svelte-s2toti");
  }, m: function(l, c) {
    X(l, e, c), X(l, n, c), X(l, r, c), X(l, i, c), X(l, o, c), s || (a = [_e(r, "click", Ho(t[4])), _e(o, "click", Ho(t[5]))], s = !0);
  }, p: Te, d: function(l) {
    l && (Q(e), Q(n), Q(r), Q(i), Q(o)), s = !1, Dn(a);
  } };
}
function xae(t) {
  var e, n, r, i, o, s, a, l, c, u, f = !t[0] && j4(t);
  return { c: function() {
    e = U("div"), n = U("div"), r = le(), i = U("div"), (o = U("div")).textContent = "Empty document", s = le(), f && f.c(), a = le(), l = U("div"), $(n, "class", "jse-space jse-before svelte-s2toti"), $(o, "class", "jse-welcome-title"), $(i, "class", "jse-contents svelte-s2toti"), $(l, "class", "jse-space jse-after svelte-s2toti"), $(e, "class", "jse-welcome svelte-s2toti"), $(e, "role", "none");
  }, m: function(d, h) {
    X(d, e, h), E(e, n), E(e, r), E(e, i), E(i, o), E(i, s), f && f.m(i, null), E(e, a), E(e, l), c || (u = _e(e, "click", t[6]), c = !0);
  }, p: function(d, h) {
    var p = Mt(h, 1)[0];
    d[0] ? f && (f.d(1), f = null) : f ? f.p(d, p) : ((f = j4(d)).c(), f.m(i, null));
  }, i: Te, o: Te, d: function(d) {
    d && Q(e), f && f.d(), c = !1, u();
  } };
}
function wae(t, e, n) {
  var r = e.readOnly, i = e.onCreateArray, o = e.onCreateObject, s = e.onClick;
  return t.$$set = function(a) {
    "readOnly" in a && n(0, r = a.readOnly), "onCreateArray" in a && n(1, i = a.onCreateArray), "onCreateObject" in a && n(2, o = a.onCreateObject), "onClick" in a && n(3, s = a.onClick);
  }, [r, i, o, s, function() {
    return o();
  }, function() {
    return i();
  }, function() {
    return s();
  }];
}
var jae = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, wae, xae, Lt, { readOnly: 0, onCreateArray: 1, onCreateObject: 2, onClick: 3 }, bae), r;
  }
  return at(e, ct), ot(e);
}();
function q0(t, e) {
  var n = typeof t == "string" ? t.toLowerCase() : t, r = typeof e == "string" ? e.toLowerCase() : e;
  return VW(n, r);
}
function VT(t) {
  var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [], n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : [], r = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 1;
  if (zn(Xe(t, e))) {
    if (n === void 0)
      throw new Error("Cannot sort: no property selected by which to sort the array");
    return function(i) {
      var o = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [], s = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : [], a = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 1, l = /* @__PURE__ */ function(u, f) {
        return function(d, h) {
          var p = Xe(d, u), m = Xe(h, u);
          return p === void 0 ? f : m === void 0 ? -f : typeof p != "string" && typeof m != "string" ? p > m ? f : p < m ? -f : 0 : f * q0(p, m);
        };
      }(s, a), c = Xe(i, o);
      return [{ op: "replace", path: We(o), value: c.slice(0).sort(l) }];
    }(t, e, n, r);
  }
  if (Yn(t))
    return function(i) {
      var o = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [], s = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 1, a = Xe(i, o), l = Object.keys(a).slice();
      l.sort(function(h, p) {
        return s * q0(h, p);
      });
      for (var c = [], u = 0; u < l.length; u++) {
        var f = l[u], d = We(o.concat(f));
        c.push({ op: "move", from: d, path: d });
      }
      return c;
    }(t, e, r);
  throw new Error("Cannot sort: no array or object");
}
function $ae(t) {
  Tt(t, "svelte-12glmu0", '.jse-navigation-bar-dropdown.svelte-12glmu0.svelte-12glmu0{position:absolute;top:100%;left:0;z-index:3;background:var(--jse-navigation-bar-background, var(--jse-background-color, #fff));color:var(--jse-navigation-bar-dropdown-color, #656565);box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24));display:flex;flex-direction:column;max-height:300px;overflow:auto;min-width:80px}.jse-navigation-bar-dropdown.svelte-12glmu0 button.jse-navigation-bar-dropdown-item.svelte-12glmu0{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);border:none;background:transparent;color:inherit;cursor:pointer;outline:none;text-align:left;white-space:nowrap;box-sizing:border-box;padding:calc(0.5 * var(--jse-padding, 10px)) 36px}.jse-navigation-bar-dropdown.svelte-12glmu0 button.jse-navigation-bar-dropdown-item.svelte-12glmu0:focus,.jse-navigation-bar-dropdown.svelte-12glmu0 button.jse-navigation-bar-dropdown-item.svelte-12glmu0:hover{background:var(--jse-navigation-bar-background-highlight, #e5e5e5)}.jse-navigation-bar-dropdown.svelte-12glmu0 button.jse-navigation-bar-dropdown-item.jse-selected.svelte-12glmu0{background:var(--jse-navigation-bar-dropdown-color, #656565);color:var(--jse-navigation-bar-background, var(--jse-background-color, #fff))}');
}
function $4(t, e, n) {
  var r = t.slice();
  return r[4] = e[n], r;
}
function k4(t, e) {
  var n, r, i, o, s, a = Qs(e[4].toString(), C4) + "";
  function l() {
    return e[3](e[4]);
  }
  return { key: t, first: null, c: function() {
    n = U("button"), r = Le(a), $(n, "type", "button"), $(n, "class", "jse-navigation-bar-dropdown-item svelte-12glmu0"), $(n, "title", i = e[4].toString()), Se(n, "jse-selected", e[4] === e[1]), this.first = n;
  }, m: function(c, u) {
    X(c, n, u), E(n, r), o || (s = _e(n, "click", Ho(l)), o = !0);
  }, p: function(c, u) {
    e = c, 1 & u && a !== (a = Qs(e[4].toString(), C4) + "") && yt(r, a), 1 & u && i !== (i = e[4].toString()) && $(n, "title", i), 3 & u && Se(n, "jse-selected", e[4] === e[1]);
  }, d: function(c) {
    c && Q(n), o = !1, s();
  } };
}
function S4(t) {
  var e, n;
  return { c: function() {
    e = U("button"), n = Le("..."), $(e, "type", "button"), $(e, "class", "jse-navigation-bar-dropdown-item svelte-12glmu0"), $(e, "title", "Limited to " + Du + " items");
  }, m: function(r, i) {
    X(r, e, i), E(e, n);
  }, p: Te, d: function(r) {
    r && Q(e);
  } };
}
function kae(t) {
  for (var e, n, r = [], i = /* @__PURE__ */ new Map(), o = Et(xp(t[0], Du)), s = function(f) {
    return f[4];
  }, a = 0; a < o.length; a += 1) {
    var l = $4(t, o, a), c = s(l);
    i.set(c, r[a] = k4(c, l));
  }
  var u = t[0].length > Du && S4();
  return { c: function() {
    e = U("div");
    for (var f = 0; f < r.length; f += 1)
      r[f].c();
    n = le(), u && u.c(), $(e, "class", "jse-navigation-bar-dropdown svelte-12glmu0");
  }, m: function(f, d) {
    X(f, e, d);
    for (var h = 0; h < r.length; h += 1)
      r[h] && r[h].m(e, null);
    E(e, n), u && u.m(e, null);
  }, p: function(f, d) {
    var h = Mt(d, 1)[0];
    7 & h && (o = Et(xp(f[0], Du)), r = Tm(r, h, s, 1, f, o, i, e, Xte, k4, n, $4)), f[0].length > Du ? u ? u.p(f, h) : ((u = S4()).c(), u.m(e, null)) : u && (u.d(1), u = null);
  }, i: Te, o: Te, d: function(f) {
    f && Q(e);
    for (var d = 0; d < r.length; d += 1)
      r[d].d();
    u && u.d();
  } };
}
var Du = 100, C4 = 30;
function Sae(t, e, n) {
  var r = e.items, i = e.selectedItem, o = e.onSelect;
  return t.$$set = function(s) {
    "items" in s && n(0, r = s.items), "selectedItem" in s && n(1, i = s.selectedItem), "onSelect" in s && n(2, o = s.onSelect);
  }, [r, i, o, function(s) {
    return o(s);
  }];
}
var Cae = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Sae, kae, Lt, { items: 0, selectedItem: 1, onSelect: 2 }, $ae), r;
  }
  return at(e, ct), ot(e);
}();
function _ae(t) {
  Tt(t, "svelte-x08607", ".jse-navigation-bar-item.svelte-x08607.svelte-x08607{position:relative;display:flex}.jse-navigation-bar-item.svelte-x08607 button.jse-navigation-bar-button.svelte-x08607{font-family:inherit;font-size:inherit;padding:calc(0.5 * var(--jse-padding, 10px)) 2px;border:none;background:transparent;color:inherit;cursor:pointer;outline:none;min-width:2em;white-space:nowrap}.jse-navigation-bar-item.svelte-x08607 button.jse-navigation-bar-button.svelte-x08607:focus,.jse-navigation-bar-item.svelte-x08607 button.jse-navigation-bar-button.svelte-x08607:hover{background:var(--jse-panel-button-background-highlight, #e0e0e0);color:var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d))}.jse-navigation-bar-item.svelte-x08607 button.jse-navigation-bar-button.jse-navigation-bar-arrow.svelte-x08607{padding:2px var(--jse-padding, 10px) 0}.jse-navigation-bar-item.svelte-x08607 button.jse-navigation-bar-button.jse-navigation-bar-arrow.jse-open.svelte-x08607{background:var(--jse-navigation-bar-background, var(--jse-background-color, #fff));color:var(--jse-navigation-bar-dropdown-color, #656565)}.jse-navigation-bar-item.svelte-x08607.svelte-x08607:last-child{padding-right:var(--jse-padding, 10px)}");
}
function _4(t) {
  var e, n, r, i;
  return { c: function() {
    e = U("button"), n = Le(t[2]), $(e, "type", "button"), $(e, "class", "jse-navigation-bar-button svelte-x08607");
  }, m: function(o, s) {
    X(o, e, s), E(e, n), r || (i = _e(e, "click", t[9]), r = !0);
  }, p: function(o, s) {
    4 & s && yt(n, o[2]);
  }, d: function(o) {
    o && Q(e), r = !1, i();
  } };
}
function Oae(t) {
  var e, n, r, i, o, s, a;
  r = new cn({ props: { data: D_ } });
  var l = t[2] !== void 0 && _4(t);
  return { c: function() {
    e = U("div"), n = U("button"), we(r.$$.fragment), i = le(), l && l.c(), $(n, "type", "button"), $(n, "class", "jse-navigation-bar-button jse-navigation-bar-arrow svelte-x08607"), Se(n, "jse-open", t[1]), $(e, "class", "jse-navigation-bar-item svelte-x08607");
  }, m: function(c, u) {
    X(c, e, u), E(e, n), be(r, n, null), E(e, i), l && l.m(e, null), t[10](e), o = !0, s || (a = _e(n, "click", t[4]), s = !0);
  }, p: function(c, u) {
    var f = Mt(u, 1)[0];
    (!o || 2 & f) && Se(n, "jse-open", c[1]), c[2] !== void 0 ? l ? l.p(c, f) : ((l = _4(c)).c(), l.m(e, null)) : l && (l.d(1), l = null);
  }, i: function(c) {
    o || (S(r.$$.fragment, c), o = !0);
  }, o: function(c) {
    A(r.$$.fragment, c), o = !1;
  }, d: function(c) {
    c && Q(e), xe(r), l && l.d(), t[10](null), s = !1, a();
  } };
}
function Aae(t, e, n) {
  var r, i, o, s, a = Hr("absolute-popup"), l = a.openAbsolutePopup, c = a.closeAbsolutePopup, u = e.path, f = e.index, d = e.onSelect, h = e.getItems, p = !1;
  function m(g) {
    c(s), d(r.concat(g));
  }
  return t.$$set = function(g) {
    "path" in g && n(5, u = g.path), "index" in g && n(6, f = g.index), "onSelect" in g && n(7, d = g.onSelect), "getItems" in g && n(8, h = g.getItems);
  }, t.$$.update = function() {
    96 & t.$$.dirty && (r = u.slice(0, f)), 96 & t.$$.dirty && n(2, i = u[f]);
  }, [o, p, i, m, function() {
    if (o) {
      n(1, p = !0);
      var g = { items: h(r), selectedItem: i, onSelect: m };
      s = l(Cae, g, { anchor: o, closeOnOuterClick: !0, onClose: function() {
        n(1, p = !1);
      } });
    }
  }, u, f, d, h, function() {
    return m(i);
  }, function(g) {
    tn[g ? "unshift" : "push"](function() {
      n(0, o = g);
    });
  }];
}
var WT = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Aae, Oae, Lt, { path: 5, index: 6, onSelect: 7, getItems: 8 }, _ae), r;
  }
  return at(e, ct), ot(e);
}();
function a2(t) {
  var e, n;
  if (navigator.clipboard)
    return navigator.clipboard.writeText(t);
  if ((e = (n = document).queryCommandSupported) !== null && e !== void 0 && e.call(n, "copy")) {
    var r = document.createElement("textarea");
    r.value = t, r.style.position = "fixed", r.style.opacity = "0", document.body.appendChild(r), r.select();
    try {
      document.execCommand("copy");
    } catch (i) {
      console.error(i);
    } finally {
      document.body.removeChild(r);
    }
  } else
    console.error("Copy failed.");
}
function Eae(t) {
  Tt(t, "svelte-1844qyt", ".jse-navigation-bar-path-editor.svelte-1844qyt.svelte-1844qyt{flex:1;display:flex;border:var(--jse-edit-outline, 2px solid #656565);background:var(--jse-background-color, #fff)}.jse-navigation-bar-path-editor.svelte-1844qyt input.jse-navigation-bar-text.svelte-1844qyt{flex:1;font-family:inherit;font-size:inherit;padding:0 5px 1px;background:var(--jse-background-color, #fff);color:var(--jse-text-color, #4d4d4d);border:none;outline:none}.jse-navigation-bar-path-editor.svelte-1844qyt button.svelte-1844qyt{border:none;background:var(--jse-background-color, #fff);cursor:pointer;font-family:inherit;font-size:80%;color:inherit}.jse-navigation-bar-path-editor.svelte-1844qyt button.jse-navigation-bar-copy.copied.svelte-1844qyt{color:var(--message-success-background, #9ac45d)}.jse-navigation-bar-path-editor.svelte-1844qyt button.jse-navigation-bar-validation-error.svelte-1844qyt{color:var(--jse-error-color, #ee5341)}.jse-navigation-bar-path-editor.error.svelte-1844qyt.svelte-1844qyt{border-color:var(--jse-error-color, #ee5341)}.jse-navigation-bar-path-editor.error.svelte-1844qyt input.jse-navigation-bar-text.svelte-1844qyt{color:var(--jse-error-color, #ee5341)}.jse-navigation-bar-path-editor.svelte-1844qyt .jse-copied-text.svelte-1844qyt{background:var(--message-success-background, #9ac45d);color:var(--jse-message-success-color, #fff);position:relative;margin:2px;padding:0 5px;border-radius:3px}");
}
function O4(t) {
  var e, n, r, i, o, s;
  return n = new cn({ props: { data: ql } }), { c: function() {
    e = U("button"), we(n.$$.fragment), $(e, "type", "button"), $(e, "class", "jse-navigation-bar-validation-error svelte-1844qyt");
  }, m: function(a, l) {
    X(a, e, l), be(n, e, null), i = !0, o || (s = Wr(r = Qb.call(null, e, he({ text: String(t[3] || "") }, t[4]))), o = !0);
  }, p: function(a, l) {
    r && di(r.update) && 8 & l && r.update.call(null, he({ text: String(a[3] || "") }, a[4]));
  }, i: function(a) {
    i || (S(n.$$.fragment, a), i = !0);
  }, o: function(a) {
    A(n.$$.fragment, a), i = !1;
  }, d: function(a) {
    a && Q(e), xe(n), o = !1, s();
  } };
}
function A4(t) {
  var e;
  return { c: function() {
    (e = U("div")).textContent = "Copied!", $(e, "class", "jse-copied-text svelte-1844qyt");
  }, m: function(n, r) {
    X(n, e, r);
  }, d: function(n) {
    n && Q(e);
  } };
}
function Mae(t) {
  var e, n, r, i, o, s, a, l, c, u, f = t[3] && O4(t), d = t[2] && A4();
  return a = new cn({ props: { data: ba } }), { c: function() {
    e = U("div"), n = U("input"), r = le(), f && f.c(), i = le(), d && d.c(), o = le(), s = U("button"), we(a.$$.fragment), $(n, "type", "text"), $(n, "class", "jse-navigation-bar-text svelte-1844qyt"), n.value = t[0], $(s, "type", "button"), $(s, "class", "jse-navigation-bar-copy svelte-1844qyt"), $(s, "title", "Copy selected path to the clipboard"), Se(s, "copied", t[2]), $(e, "class", "jse-navigation-bar-path-editor svelte-1844qyt"), Se(e, "error", t[3]);
  }, m: function(h, p) {
    X(h, e, p), E(e, n), t[15](n), E(e, r), f && f.m(e, null), E(e, i), d && d.m(e, null), E(e, o), E(e, s), be(a, s, null), l = !0, c || (u = [_e(n, "keydown", Ho(t[6])), _e(n, "input", t[5]), _e(s, "click", t[7])], c = !0);
  }, p: function(h, p) {
    var m = Mt(p, 1)[0];
    (!l || 1 & m && n.value !== h[0]) && (n.value = h[0]), h[3] ? f ? (f.p(h, m), 8 & m && S(f, 1)) : ((f = O4(h)).c(), S(f, 1), f.m(e, i)) : f && (Ae(), A(f, 1, 1, function() {
      f = null;
    }), Ee()), h[2] ? d || ((d = A4()).c(), d.m(e, o)) : d && (d.d(1), d = null), (!l || 4 & m) && Se(s, "copied", h[2]), (!l || 8 & m) && Se(e, "error", h[3]);
  }, i: function(h) {
    l || (S(f), S(a.$$.fragment, h), l = !0);
  }, o: function(h) {
    A(f), A(a.$$.fragment, h), l = !1;
  }, d: function(h) {
    h && Q(e), t[15](null), f && f.d(), d && d.d(), xe(a), c = !1, Dn(u);
  } };
}
function Tae(t, e, n) {
  var r, i, o, s = Hr("absolute-popup"), a = e.path, l = e.pathParser, c = e.onChange, u = e.onClose, f = e.onError, d = e.pathExists, h = !1, p = void 0, m = !1;
  function g() {
    i.focus();
  }
  function v(y) {
    try {
      var x = l.parse(y);
      return function(b) {
        if (!d(b))
          throw new Error("Path does not exist in current document");
      }(x), { path: x, error: void 0 };
    } catch (b) {
      return { path: void 0, error: b };
    }
  }
  return $o(function() {
    g();
  }), to(function() {
    clearTimeout(p);
  }), t.$$set = function(y) {
    "path" in y && n(8, a = y.path), "pathParser" in y && n(9, l = y.pathParser), "onChange" in y && n(10, c = y.onChange), "onClose" in y && n(11, u = y.onClose), "onError" in y && n(12, f = y.onError), "pathExists" in y && n(13, d = y.pathExists);
  }, t.$$.update = function() {
    768 & t.$$.dirty && n(0, o = l.stringify(a)), 16385 & t.$$.dirty && n(3, r = h ? v(o).error : void 0);
  }, [o, i, m, r, s, function(y) {
    n(0, o = y.currentTarget.value);
  }, function(y) {
    var x = Ga(y);
    if (x === "Escape" && u(), x === "Enter") {
      n(14, h = !0);
      var b = v(o);
      b.path !== void 0 ? c(b.path) : f(b.error);
    }
  }, function() {
    a2(o), n(2, m = !0), p = window.setTimeout(function() {
      return n(2, m = !1);
    }, 1e3), g();
  }, a, l, c, u, f, d, h, function(y) {
    tn[y ? "unshift" : "push"](function() {
      n(1, i = y);
    });
  }];
}
var Rae = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Tae, Mae, Nr, { path: 8, pathParser: 9, onChange: 10, onClose: 11, onError: 12, pathExists: 13 }, Eae), r;
  }
  return at(e, ct), ot(e);
}();
function Pae(t) {
  Tt(t, "svelte-1aycet9", '.jse-navigation-bar.svelte-1aycet9.svelte-1aycet9{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-button-color, inherit);padding:0;margin:0;display:flex;overflow:auto;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-navigation-bar.svelte-1aycet9 .jse-navigation-bar-edit.svelte-1aycet9{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);padding:calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);color:var(--jse-panel-color-readonly, #b2b2b2);background:transparent;border:none;display:flex;cursor:pointer;outline:none;align-items:center}.jse-navigation-bar.svelte-1aycet9 .jse-navigation-bar-edit.flex.svelte-1aycet9{flex:1}.jse-navigation-bar.svelte-1aycet9 .jse-navigation-bar-edit.svelte-1aycet9:focus,.jse-navigation-bar.svelte-1aycet9 .jse-navigation-bar-edit.svelte-1aycet9:hover,.jse-navigation-bar.svelte-1aycet9 .jse-navigation-bar-edit.editing.svelte-1aycet9{background:var(--jse-panel-button-background-highlight, #e0e0e0);color:var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d));transition:color 0.2s ease-in, background 0.2s ease-in}.jse-navigation-bar.svelte-1aycet9 .jse-navigation-bar-edit .jse-navigation-bar-space.svelte-1aycet9{flex:1;text-align:left}');
}
function E4(t, e, n) {
  var r = t.slice();
  return r[18] = e[n], r[20] = n, r;
}
function Iae(t) {
  var e, n;
  return e = new Rae({ props: { path: t[3], onClose: t[11], onChange: t[12], onError: t[1], pathExists: t[8], pathParser: t[2] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    8 & i && (o.path = r[3]), 2 & i && (o.onError = r[1]), 4 & i && (o.pathParser = r[2]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Nae(t) {
  for (var e, n, r, i = [], o = /* @__PURE__ */ new Map(), s = Et(t[3]), a = function(d) {
    return d[20];
  }, l = 0; l < s.length; l += 1) {
    var c = E4(t, s, l), u = a(c);
    o.set(u, i[l] = M4(u, c));
  }
  var f = t[6] && T4(t);
  return { c: function() {
    for (var d = 0; d < i.length; d += 1)
      i[d].c();
    e = le(), f && f.c(), n = wn();
  }, m: function(d, h) {
    for (var p = 0; p < i.length; p += 1)
      i[p] && i[p].m(d, h);
    X(d, e, h), f && f.m(d, h), X(d, n, h), r = !0;
  }, p: function(d, h) {
    648 & h && (s = Et(d[3]), Ae(), i = Tm(i, h, a, 1, d, s, o, e.parentNode, Db, M4, e, E4), Ee()), d[6] ? f ? (f.p(d, h), 64 & h && S(f, 1)) : ((f = T4(d)).c(), S(f, 1), f.m(n.parentNode, n)) : f && (Ae(), A(f, 1, 1, function() {
      f = null;
    }), Ee());
  }, i: function(d) {
    if (!r) {
      for (var h = 0; h < s.length; h += 1)
        S(i[h]);
      S(f), r = !0;
    }
  }, o: function(d) {
    for (var h = 0; h < i.length; h += 1)
      A(i[h]);
    A(f), r = !1;
  }, d: function(d) {
    d && (Q(e), Q(n));
    for (var h = 0; h < i.length; h += 1)
      i[h].d(d);
    f && f.d(d);
  } };
}
function M4(t, e) {
  var n, r, i;
  return r = new WT({ props: { getItems: e[7], path: e[3], index: e[20], onSelect: e[9] } }), { key: t, first: null, c: function() {
    n = wn(), we(r.$$.fragment), this.first = n;
  }, m: function(o, s) {
    X(o, n, s), be(r, o, s), i = !0;
  }, p: function(o, s) {
    e = o;
    var a = {};
    8 & s && (a.path = e[3]), 8 & s && (a.index = e[20]), r.$set(a);
  }, i: function(o) {
    i || (S(r.$$.fragment, o), i = !0);
  }, o: function(o) {
    A(r.$$.fragment, o), i = !1;
  }, d: function(o) {
    o && Q(n), xe(r, o);
  } };
}
function T4(t) {
  var e, n;
  return e = new WT({ props: { getItems: t[7], path: t[3], index: t[3].length, onSelect: t[9] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    8 & i && (o.path = r[3]), 8 & i && (o.index = r[3].length), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Dae(t) {
  var e, n, r, i, o, s, a, l, c, u, f, d, h, p = cr(t[0]) || t[5] ? "" : "Navigation bar", m = [Nae, Iae], g = [];
  function v(y, x) {
    return y[5] ? 1 : 0;
  }
  return n = v(t), r = g[n] = m[n](t), c = new cn({ props: { data: t[5] ? Sx : $x } }), { c: function() {
    e = U("div"), r.c(), i = le(), o = U("button"), s = U("span"), a = Le(p), l = le(), we(c.$$.fragment), $(s, "class", "jse-navigation-bar-space svelte-1aycet9"), $(o, "type", "button"), $(o, "class", "jse-navigation-bar-edit svelte-1aycet9"), $(o, "title", u = t[5] ? "Cancel editing the selected path" : "Edit the selected path"), Se(o, "flex", !t[5]), Se(o, "editing", t[5]), $(e, "class", "jse-navigation-bar svelte-1aycet9");
  }, m: function(y, x) {
    X(y, e, x), g[n].m(e, null), E(e, i), E(e, o), E(o, s), E(s, a), E(o, l), be(c, o, null), t[15](e), f = !0, d || (h = _e(o, "click", t[10]), d = !0);
  }, p: function(y, x) {
    var b = Mt(x, 1)[0], w = n;
    (n = v(y)) === w ? g[n].p(y, b) : (Ae(), A(g[w], 1, 1, function() {
      g[w] = null;
    }), Ee(), (r = g[n]) ? r.p(y, b) : (r = g[n] = m[n](y)).c(), S(r, 1), r.m(e, i)), (!f || 33 & b) && p !== (p = cr(y[0]) || y[5] ? "" : "Navigation bar") && yt(a, p);
    var j = {};
    32 & b && (j.data = y[5] ? Sx : $x), c.$set(j), (!f || 32 & b && u !== (u = y[5] ? "Cancel editing the selected path" : "Edit the selected path")) && $(o, "title", u), (!f || 32 & b) && Se(o, "flex", !y[5]), (!f || 32 & b) && Se(o, "editing", y[5]);
  }, i: function(y) {
    f || (S(r), S(c.$$.fragment, y), f = !0);
  }, o: function(y) {
    A(r), A(c.$$.fragment, y), f = !1;
  }, d: function(y) {
    y && Q(e), g[n].d(), xe(c), t[15](null), d = !1, h();
  } };
}
function Lae(t, e, n) {
  var r, i, o, s = Jr("jsoneditor:NavigationBar"), a = e.json, l = e.selection, c = e.onSelect, u = e.onError, f = e.pathParser, d = !1;
  function h(m) {
    s("select path", JSON.stringify(m)), c(ui(m, m));
  }
  function p() {
    n(5, d = !1);
  }
  return t.$$set = function(m) {
    "json" in m && n(0, a = m.json), "selection" in m && n(13, l = m.selection), "onSelect" in m && n(14, c = m.onSelect), "onError" in m && n(1, u = m.onError), "pathParser" in m && n(2, f = m.pathParser);
  }, t.$$.update = function() {
    8192 & t.$$.dirty && n(3, r = l ? ht(l) : []), 9 & t.$$.dirty && n(6, i = cr(Xe(a, r))), 8 & t.$$.dirty && setTimeout(function() {
      if (o && o.scrollTo) {
        var m = o.scrollWidth - o.clientWidth;
        m > 0 && (s("scrollTo ", m), o.scrollTo({ left: m, behavior: "smooth" }));
      }
    });
  }, [a, u, f, r, o, d, i, function(m) {
    s("get items for path", m);
    var g = Xe(a, m);
    if (Array.isArray(g))
      return oy(0, g.length).map(String);
    if (Yn(g)) {
      var v = Object.keys(g).slice(0);
      return v.sort(q0), v;
    }
    return [];
  }, function(m) {
    return ho(a, m);
  }, h, function() {
    n(5, d = !d);
  }, p, function(m) {
    p(), h(m);
  }, l, c, function(m) {
    tn[m ? "unshift" : "push"](function() {
      n(4, o = m);
    });
  }];
}
var Bae = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Lae, Dae, Lt, { json: 0, selection: 13, onSelect: 14, onError: 1, pathParser: 2 }, Pae), r;
  }
  return at(e, ct), ot(e);
}();
function qae(t) {
  Tt(t, "svelte-1vkjt6l", '.jse-search-box.svelte-1vkjt6l.svelte-1vkjt6l{border:var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7));border-radius:3px;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-color-readonly, #b2b2b2);box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24));display:inline-block;width:400px;max-width:100%;overflow:auto}.jse-search-box.svelte-1vkjt6l .jse-search-form.svelte-1vkjt6l{display:flex;align-items:stretch}.jse-search-box.svelte-1vkjt6l .jse-search-form button.svelte-1vkjt6l,.jse-search-box.svelte-1vkjt6l .jse-search-form input.svelte-1vkjt6l{font-family:inherit;font-size:inherit}.jse-search-box.svelte-1vkjt6l .jse-search-form button.svelte-1vkjt6l{display:block;text-align:center;border:none;padding:0 5px;margin:0;cursor:pointer;color:var(--jse-panel-button-color, inherit);background:var(--jse-panel-button-background, transparent)}.jse-search-box.svelte-1vkjt6l .jse-search-form button.svelte-1vkjt6l:hover{color:var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d));background:var(--jse-panel-button-background-highlight, #e0e0e0)}.jse-search-box.svelte-1vkjt6l .jse-search-form input.svelte-1vkjt6l{color:var(--jse-panel-color, var(--jse-text-color, #4d4d4d));border:var(--jse-input-border, 1px solid #d8dbdf);border-radius:3px;background:var(--jse-input-background, var(--jse-background-color, #fff));height:28px;padding:0 5px;margin:0;flex:1;width:0;min-width:50px;outline:none}.jse-search-box.svelte-1vkjt6l .jse-search-form .jse-replace-toggle.svelte-1vkjt6l{padding:var(--jse-padding, 10px) calc(0.5 * var(--jse-padding, 10px));min-width:20px;background:var(--jse-panel-button-background-highlight, #e0e0e0)}.jse-search-box.svelte-1vkjt6l .jse-search-form .jse-search-contents.svelte-1vkjt6l{flex:1;display:flex;flex-direction:column;padding:calc(0.5 * var(--jse-padding, 10px));gap:calc(0.5 * var(--jse-padding, 10px))}.jse-search-box.svelte-1vkjt6l .jse-search-form .jse-search-contents .jse-search-section.svelte-1vkjt6l{flex:1;display:flex;align-items:center;position:relative;padding-left:32px}.jse-search-box.svelte-1vkjt6l .jse-search-form .jse-search-contents .jse-search-section .jse-search-icon.svelte-1vkjt6l{color:inherit;cursor:inherit;background:inherit;position:absolute;top:calc(0.5 * var(--jse-padding, 10px));left:calc(0.5 * var(--jse-padding, 10px))}.jse-search-box.svelte-1vkjt6l .jse-search-form .jse-search-contents .jse-search-section label.jse-search-input-label.svelte-1vkjt6l{flex:1;display:flex}.jse-search-box.svelte-1vkjt6l .jse-search-form .jse-search-contents .jse-search-section .jse-search-count.svelte-1vkjt6l{color:inherit;font-size:80%;visibility:hidden;padding:0 5px;min-width:36px;text-align:center}.jse-search-box.svelte-1vkjt6l .jse-search-form .jse-search-contents .jse-search-section .jse-search-count.jse-visible.svelte-1vkjt6l{visibility:visible}.jse-search-box.svelte-1vkjt6l .jse-search-form .jse-search-contents .jse-replace-section.svelte-1vkjt6l{padding-left:32px;flex:1;display:flex}.jse-search-box.svelte-1vkjt6l .jse-search-form .jse-search-contents .jse-replace-section button.svelte-1vkjt6l{width:auto}');
}
function R4(t) {
  var e, n, r, i, o, s, a, l, c, u, f, d, h, p, m, g, v, y, x, b, w, j, k, N, z, _, B, I, Y = (t[3] !== -1 ? "".concat(t[3] + 1, "/") : "") + "", R = !t[4] && P4(t), Z = [Fae, zae], ne = [];
  function V(F, P) {
    return F[2] ? 0 : 1;
  }
  a = V(t), l = ne[a] = Z[a](t), y = new cn({ props: { data: BW } }), w = new cn({ props: { data: kW } }), N = new cn({ props: { data: Ac } });
  var M = t[0] && !t[4] && I4(t);
  return { c: function() {
    e = U("div"), n = U("form"), R && R.c(), r = le(), i = U("div"), o = U("div"), s = U("div"), l.c(), c = le(), u = U("label"), f = U("input"), d = le(), h = U("div"), p = Le(Y), m = Le(t[10]), g = le(), v = U("button"), we(y.$$.fragment), x = le(), b = U("button"), we(w.$$.fragment), j = le(), k = U("button"), we(N.$$.fragment), z = le(), M && M.c(), $(s, "class", "jse-search-icon svelte-1vkjt6l"), $(f, "class", "jse-search-input svelte-1vkjt6l"), $(f, "title", "Enter text to search"), $(f, "type", "text"), $(f, "placeholder", "Find"), $(u, "class", "jse-search-input-label svelte-1vkjt6l"), $(u, "about", "jse-search input"), $(h, "class", "jse-search-count svelte-1vkjt6l"), Se(h, "jse-visible", t[8] !== ""), $(v, "type", "button"), $(v, "class", "jse-search-next svelte-1vkjt6l"), $(v, "title", "Go to next search result (Enter)"), $(b, "type", "button"), $(b, "class", "jse-search-previous svelte-1vkjt6l"), $(b, "title", "Go to previous search result (Shift+Enter)"), $(k, "type", "button"), $(k, "class", "jse-search-clear svelte-1vkjt6l"), $(k, "title", "Close search box (Esc)"), $(o, "class", "jse-search-section svelte-1vkjt6l"), $(i, "class", "jse-search-contents svelte-1vkjt6l"), $(n, "class", "jse-search-form svelte-1vkjt6l"), $(e, "class", "jse-search-box svelte-1vkjt6l");
  }, m: function(F, P) {
    X(F, e, P), E(e, n), R && R.m(n, null), E(n, r), E(n, i), E(i, o), E(o, s), ne[a].m(s, null), E(o, c), E(o, u), E(u, f), ys(f, t[8]), E(o, d), E(o, h), E(h, p), E(h, m), E(o, g), E(o, v), be(y, v, null), E(o, x), E(o, b), be(w, b, null), E(o, j), E(o, k), be(N, k, null), E(i, z), M && M.m(i, null), _ = !0, B || (I = [_e(f, "input", t[21]), Wr(Wae.call(null, f)), _e(v, "click", t[22]), _e(b, "click", t[23]), _e(k, "click", t[24]), _e(n, "submit", t[12]), _e(n, "keydown", t[13])], B = !0);
  }, p: function(F, P) {
    F[4] ? R && (Ae(), A(R, 1, 1, function() {
      R = null;
    }), Ee()) : R ? (R.p(F, P), 16 & P && S(R, 1)) : ((R = P4(F)).c(), S(R, 1), R.m(n, r));
    var T = a;
    (a = V(F)) !== T && (Ae(), A(ne[T], 1, 1, function() {
      ne[T] = null;
    }), Ee(), (l = ne[a]) || (l = ne[a] = Z[a](F)).c(), S(l, 1), l.m(s, null)), 256 & P && f.value !== F[8] && ys(f, F[8]), (!_ || 8 & P) && Y !== (Y = (F[3] !== -1 ? "".concat(F[3] + 1, "/") : "") + "") && yt(p, Y), (!_ || 1024 & P) && yt(m, F[10]), (!_ || 256 & P) && Se(h, "jse-visible", F[8] !== ""), F[0] && !F[4] ? M ? M.p(F, P) : ((M = I4(F)).c(), M.m(i, null)) : M && (M.d(1), M = null);
  }, i: function(F) {
    _ || (S(R), S(l), S(y.$$.fragment, F), S(w.$$.fragment, F), S(N.$$.fragment, F), _ = !0);
  }, o: function(F) {
    A(R), A(l), A(y.$$.fragment, F), A(w.$$.fragment, F), A(N.$$.fragment, F), _ = !1;
  }, d: function(F) {
    F && Q(e), R && R.d(), ne[a].d(), xe(y), xe(w), xe(N), M && M.d(), B = !1, Dn(I);
  } };
}
function P4(t) {
  var e, n, r, i, o;
  return n = new cn({ props: { data: t[0] ? uo : ha } }), { c: function() {
    e = U("button"), we(n.$$.fragment), $(e, "type", "button"), $(e, "class", "jse-replace-toggle svelte-1vkjt6l"), $(e, "title", "Toggle visibility of replace options (Ctrl+H)");
  }, m: function(s, a) {
    X(s, e, a), be(n, e, null), r = !0, i || (o = _e(e, "click", t[11]), i = !0);
  }, p: function(s, a) {
    var l = {};
    1 & a && (l.data = s[0] ? uo : ha), n.$set(l);
  }, i: function(s) {
    r || (S(n.$$.fragment, s), r = !0);
  }, o: function(s) {
    A(n.$$.fragment, s), r = !1;
  }, d: function(s) {
    s && Q(e), xe(n), i = !1, o();
  } };
}
function zae(t) {
  var e, n;
  return e = new cn({ props: { data: gy } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Fae(t) {
  var e, n;
  return e = new cn({ props: { data: yW, spin: !0 } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function I4(t) {
  var e, n, r, i, o, s, a, l;
  return { c: function() {
    e = U("div"), n = U("input"), r = le(), (i = U("button")).textContent = "Replace", o = le(), (s = U("button")).textContent = "All", $(n, "class", "jse-replace-input svelte-1vkjt6l"), $(n, "title", "Enter replacement text"), $(n, "type", "text"), $(n, "placeholder", "Replace"), $(i, "type", "button"), $(i, "title", "Replace current occurrence (Ctrl+Enter)"), $(i, "class", "svelte-1vkjt6l"), $(s, "type", "button"), $(s, "title", "Replace all occurrences"), $(s, "class", "svelte-1vkjt6l"), $(e, "class", "jse-replace-section svelte-1vkjt6l");
  }, m: function(c, u) {
    X(c, e, u), E(e, n), ys(n, t[9]), E(e, r), E(e, i), E(e, o), E(e, s), a || (l = [_e(n, "input", t[25]), _e(i, "click", t[14]), _e(s, "click", t[15])], a = !0);
  }, p: function(c, u) {
    512 & u && n.value !== c[9] && ys(n, c[9]);
  }, d: function(c) {
    c && Q(e), a = !1, Dn(l);
  } };
}
function Vae(t) {
  var e, n, r = t[1] && R4(t);
  return { c: function() {
    r && r.c(), e = wn();
  }, m: function(i, o) {
    r && r.m(i, o), X(i, e, o), n = !0;
  }, p: function(i, o) {
    var s = Mt(o, 1)[0];
    i[1] ? r ? (r.p(i, s), 2 & s && S(r, 1)) : ((r = R4(i)).c(), S(r, 1), r.m(e.parentNode, e)) : r && (Ae(), A(r, 1, 1, function() {
      r = null;
    }), Ee());
  }, i: function(i) {
    n || (S(r), n = !0);
  }, o: function(i) {
    A(r), n = !1;
  }, d: function(i) {
    i && Q(e), r && r.d(i);
  } };
}
function Wae(t) {
  t.select();
}
function Hae(t, e, n) {
  var r, i, o = e.show, s = o !== void 0 && o, a = e.searching, l = e.resultCount, c = l === void 0 ? 0 : l, u = e.activeIndex, f = u === void 0 ? 0 : u, d = e.showReplace, h = d !== void 0 && d, p = e.readOnly, m = p !== void 0 && p, g = e.onChange, v = g === void 0 ? Kn : g, y = e.onPrevious, x = y === void 0 ? Kn : y, b = e.onNext, w = b === void 0 ? Kn : b, j = e.onReplace, k = j === void 0 ? Kn : j, N = e.onReplaceAll, z = N === void 0 ? Kn : N, _ = e.onClose, B = _ === void 0 ? Kn : _, I = "", Y = "", R = "";
  function Z() {
    n(0, h = !h && !m);
  }
  function ne() {
    m || k(I, R);
  }
  return t.$$set = function(V) {
    "show" in V && n(1, s = V.show), "searching" in V && n(2, a = V.searching), "resultCount" in V && n(16, c = V.resultCount), "activeIndex" in V && n(3, f = V.activeIndex), "showReplace" in V && n(0, h = V.showReplace), "readOnly" in V && n(4, m = V.readOnly), "onChange" in V && n(17, v = V.onChange), "onPrevious" in V && n(5, x = V.onPrevious), "onNext" in V && n(6, w = V.onNext), "onReplace" in V && n(18, k = V.onReplace), "onReplaceAll" in V && n(19, z = V.onReplaceAll), "onClose" in V && n(7, B = V.onClose);
  }, t.$$.update = function() {
    65536 & t.$$.dirty && n(10, r = c >= WM ? "".concat(999, "+") : String(c)), 131072 & t.$$.dirty && n(20, i = Xc(v, 300)), 1048832 & t.$$.dirty && i(I), 2 & t.$$.dirty && s && I !== "" && v(I);
  }, [h, s, a, f, m, x, w, B, I, R, r, Z, function(V) {
    V.preventDefault(), I !== Y ? (Y = I, i.cancel(), v(I)) : w();
  }, function(V) {
    V.stopPropagation();
    var M = Ga(V);
    M === "Enter" && (V.preventDefault(), w()), M === "Shift+Enter" && (V.preventDefault(), x()), M === "Ctrl+Enter" && (V.preventDefault(), h ? ne() : w()), M === "Ctrl+H" && (V.preventDefault(), Z()), M === "Escape" && (V.preventDefault(), B());
  }, ne, function() {
    m || z(I, R);
  }, c, v, k, z, i, function() {
    I = this.value, n(8, I);
  }, function() {
    return w();
  }, function() {
    return x();
  }, function() {
    return B();
  }, function() {
    R = this.value, n(9, R);
  }];
}
var Uae = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Hae, Vae, Lt, { show: 1, searching: 2, resultCount: 16, activeIndex: 3, showReplace: 0, readOnly: 4, onChange: 17, onPrevious: 5, onNext: 6, onReplace: 18, onReplaceAll: 19, onClose: 7 }, qae), r;
  }
  return at(e, ct), ot(e);
}(), Pf = Symbol("path");
function Jae(t, e) {
  var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 1 / 0, r = {};
  Array.isArray(t) && function(o, s, a) {
    if (o.length < s)
      o.forEach(a);
    else
      for (var l = s > 1 ? (o.length - 1) / (s - 1) : o.length, c = 0; c < s; c++) {
        var u = Math.floor(c * l);
        a(o[u], u, o);
      }
  }(t, n, function(o) {
    Yn(o) ? HT(o, r, e) : r[Pf] = !0;
  });
  var i = [];
  return Pf in r && i.push([]), UT(r, [], i, e), i;
}
function HT(t, e, n) {
  for (var r in t) {
    var i = t[r], o = e[r] || (e[r] = {});
    Yn(i) && n ? HT(i, o, n) : o[Pf] === void 0 && (o[Pf] = !0);
  }
}
function UT(t, e, n, r) {
  for (var i in t) {
    var o = e.concat(i), s = t[i];
    s && s[Pf] === !0 && n.push(o), dr(s) && r && UT(s, o, n, r);
  }
}
function Gae(t, e, n, r, i) {
  for (var o = arguments.length > 5 && arguments[5] !== void 0 ? arguments[5] : 80, s = zn(n) ? n.length : 0, a = function(v, y) {
    var x = Object.values(v);
    if (dn(x))
      return y;
    var b = function(w, j) {
      return w + j;
    };
    return x.reduce(b) / x.length;
  }(r, i), l = t - o, c = e + 2 * o, u = function(v) {
    return r[v] || i;
  }, f = 0, d = 0; d < l && f < s; )
    d += u(f), f++;
  f > 0 && (d -= u(--f));
  for (var h = f, p = 0; p < c && h < s; )
    p += u(h), h++;
  for (var m = 0, g = h; g < s; g++)
    m += u(g);
  return { startIndex: f, endIndex: h, startHeight: d, endHeight: m, averageItemHeight: a, visibleHeight: p, visibleItems: zn(n) ? n.slice(f, h) : [] };
}
function Jg(t, e, n, r) {
  for (var i = co(t, e).rowIndex, o = 0, s = 0; s < i; s++)
    o += n[s] || r;
  return o;
}
function co(t, e) {
  var n, r = SM(n = t) || OM(n) || Mm(n) || kM(), i = r[0], o = r.slice(1), s = parseInt(i, 10);
  return { rowIndex: isNaN(s) ? -1 : s, columnIndex: e.findIndex(function(a) {
    return La(o, a);
  }) };
}
function hl(t, e) {
  var n = t.rowIndex, r = t.columnIndex;
  return [String(n)].concat(Wt(e[r]));
}
function Kae(t, e) {
  var n = Mt(ty(t, function(a) {
    return qb(a.path[0]);
  }), 2), r = n[0], i = n[1], o = eu(r, Yae), s = H1(o, function(a) {
    var l = { row: [], columns: {} };
    return a.forEach(function(c) {
      var u = function(f, d) {
        var h = co(f.path, d);
        return h.columnIndex !== -1 ? h.columnIndex : -1;
      }(c, e);
      u !== -1 ? (l.columns[u] === void 0 && (l.columns[u] = []), l.columns[u].push(c)) : l.row.push(c);
    }), l;
  });
  return { root: i, rows: s };
}
function l2(t, e) {
  if (e && e.length !== 0)
    return e.length === 1 ? e[0] : { path: t, message: "Multiple validation issues: " + e.map(function(n) {
      return qi(n.path) + " " + n.message;
    }).join(", "), severity: Ks.warning };
}
function Yae(t) {
  return parseInt(t.path[0], 10);
}
function Qae(t, e, n) {
  return e.some(function(r) {
    return function(i, o, s) {
      if (!i)
        return !1;
      if (o.op === "replace") {
        var a = co(zo(o.path), s), l = a.rowIndex, c = a.columnIndex, u = s.findIndex(function(f) {
          return en(f, i.path);
        });
        if (l !== -1 && c !== -1 && c !== u)
          return !1;
      }
      return !0;
    }(t.sortedColumn, r, n);
  }) ? he(he({}, t), {}, { sortedColumn: null }) : t;
}
var pi = Jr("jsoneditor:actions");
function JT(t) {
  return z0.apply(this, arguments);
}
function z0() {
  return z0 = Dt(Ne().mark(function t(e) {
    var n, r, i, o, s, a, l, c, u, f;
    return Ne().wrap(function(d) {
      for (; ; )
        switch (d.prev = d.next) {
          case 0:
            if (n = e.json, r = e.documentState, i = e.indentation, o = e.readOnly, s = e.parser, a = e.onPatch, !o && n !== void 0 && r.selection && du(r.selection)) {
              d.next = 3;
              break;
            }
            return d.abrupt("return");
          case 3:
            if ((l = yT(n, r.selection, i, s)) != null) {
              d.next = 6;
              break;
            }
            return d.abrupt("return");
          case 6:
            return pi("cut", { selection: r.selection, clipboard: l, indentation: i }), d.next = 9, a2(l);
          case 9:
            c = jT(n, r.selection), u = c.operations, f = c.newSelection, a(u, function(h, p) {
              return { state: he(he({}, p), {}, { selection: f }) };
            });
          case 11:
          case "end":
            return d.stop();
        }
    }, t);
  })), z0.apply(this, arguments);
}
function GT(t) {
  return F0.apply(this, arguments);
}
function F0() {
  return F0 = Dt(Ne().mark(function t(e) {
    var n, r, i, o, s;
    return Ne().wrap(function(a) {
      for (; ; )
        switch (a.prev = a.next) {
          case 0:
            if (n = e.json, r = e.documentState, i = e.indentation, o = e.parser, (s = yT(n, r.selection, i, o)) != null) {
              a.next = 4;
              break;
            }
            return a.abrupt("return");
          case 4:
            return pi("copy", { clipboard: s, indentation: i }), a.next = 7, a2(s);
          case 7:
          case "end":
            return a.stop();
        }
    }, t);
  })), F0.apply(this, arguments);
}
function KT(t) {
  var e = t.clipboardText, n = t.json, r = t.selection, i = t.readOnly, o = t.parser, s = t.onPatch, a = t.onChangeText, l = t.openRepairModal;
  if (!i)
    try {
      c(e);
    } catch {
      l(e, function(f) {
        pi("repaired pasted text: ", f), c(f);
      });
    }
  function c(u) {
    if (n !== void 0) {
      var f = r || Gt([], !1), d = wT(n, f, u, o);
      pi("paste", { pastedText: u, operations: d, selectionNonNull: f }), s(d, function(h, p) {
        var m = p;
        return d.filter(function(g) {
          return (AS(g) || H0(g)) && cr(g.value);
        }).forEach(function(g) {
          var v = us(n, g.path);
          m = da(h, m, v);
        }), { state: m };
      });
    } else
      pi("paste text", { pastedText: u }), a(e, function(h, p) {
        if (h)
          return { state: da(h, p, []) };
      });
  }
}
function YT(t) {
  var e = t.json, n = t.text, r = t.documentState, i = t.keepSelection, o = t.readOnly, s = t.onChange, a = t.onPatch;
  if (!o && r.selection) {
    var l = e !== void 0 && (jr(r.selection) || sn(r.selection)) ? ui(r.selection.path, r.selection.path) : r.selection;
    if (dn(ht(r.selection)))
      pi("remove root", { selection: r.selection }), s && s({ text: "", json: void 0 }, e !== void 0 ? { text: void 0, json: e } : { text: n || "", json: e }, { contentErrors: null, patchResult: null });
    else if (e !== void 0) {
      var c = jT(e, l), u = c.operations, f = c.newSelection;
      pi("remove", { operations: u, selection: r.selection, newSelection: f }), a(u, function(d, h) {
        return { state: he(he({}, h), {}, { selection: i ? r.selection : f }) };
      });
    }
  }
}
function Xae(t) {
  var e = t.json, n = t.documentState, r = t.columns, i = t.readOnly, o = t.onPatch;
  if (!i && e !== void 0 && n.selection && du(n.selection)) {
    var s = co(ht(n.selection), r), a = s.rowIndex, l = s.columnIndex;
    pi("duplicate row", { rowIndex: a });
    var c = [String(a)];
    o(xT(e, [c]), function(u, f) {
      var d = Gt(hl({ rowIndex: a < e.length ? a + 1 : a, columnIndex: l }, r), !1);
      return { state: he(he({}, f), {}, { selection: d }) };
    });
  }
}
function Zae(t) {
  var e = t.json, n = t.documentState, r = t.columns, i = t.readOnly, o = t.onPatch;
  if (!i && e !== void 0 && n.selection && du(n.selection)) {
    var s = co(ht(n.selection), r).rowIndex;
    pi("insert before row", { rowIndex: s }), o(cc(e, [String(s)], [{ key: "", value: dr(e[0]) ? {} : "" }]));
  }
}
function ele(t) {
  var e = t.json, n = t.documentState, r = t.columns, i = t.readOnly, o = t.onPatch;
  if (!i && e !== void 0 && n.selection && du(n.selection)) {
    var s = co(ht(n.selection), r), a = s.rowIndex, l = s.columnIndex;
    pi("insert after row", { rowIndex: a });
    var c = a + 1, u = [String(c)], f = [{ key: "", value: dr(e[0]) ? {} : "" }];
    o(c < e.length ? cc(e, u, f) : T0(e, [], f), function(d, h) {
      var p = Gt(hl({ rowIndex: c, columnIndex: l }, r), !1);
      return { state: he(he({}, h), {}, { selection: p }) };
    });
  }
}
function tle(t) {
  var e = t.json, n = t.documentState, r = t.columns, i = t.readOnly, o = t.onPatch;
  if (!i && e !== void 0 && n.selection && du(n.selection)) {
    var s = co(ht(n.selection), r), a = s.rowIndex, l = s.columnIndex;
    pi("remove row", { rowIndex: a }), o(Sp([[String(a)]]), function(c, u) {
      var f = a < c.length ? a : a > 0 ? a - 1 : void 0, d = f !== void 0 ? Gt(hl({ rowIndex: f, columnIndex: l }, r), !1) : null;
      return pi("remove row new selection", { rowIndex: a, newRowIndex: f, newSelection: d }), { state: he(he({}, u), {}, { selection: d }) };
    });
  }
}
function Mp(t) {
  var e = t.insertType, n = t.selectInside, r = t.refJsonEditor, i = t.json, o = t.selection, s = t.readOnly, a = t.parser, l = t.onPatch, c = t.onReplaceJson;
  if (!s) {
    var u = function(m, g, v) {
      if (v === "object")
        return {};
      if (v === "array")
        return [];
      if (v === "structure" && m !== void 0) {
        var y = g ? gT(g) : [], x = Xe(m, y);
        if (Array.isArray(x) && !dn(x)) {
          var b = Xi(x);
          return cr(b) ? j1(b, function(w) {
            return Array.isArray(w) ? [] : Yn(w) ? void 0 : "";
          }) : "";
        }
      }
      return "";
    }(i, o, e);
    if (i !== void 0) {
      var f = a.stringify(u), d = wT(i, o, f, a);
      pi("onInsert", { insertType: e, operations: d, newValue: u, data: f });
      var h = _t(d.filter(function(m) {
        return m.op === "add" || m.op === "replace";
      }));
      l(d, function(m, g) {
        if (h) {
          var v = us(m, h.path);
          if (cr(u))
            return { state: he(he({}, ao(m, g, v, Zu)), {}, { selection: n ? Zs(v) : g.selection }) };
          if (u === "") {
            var y = dn(v) ? null : Xe(m, Zt(v));
            return { state: E0(m, he(he({}, g), {}, { selection: Yn(y) ? yo(v, !0) : Gt(v, !0) }), v) };
          }
        }
      }), pi("after patch"), h && u === "" && Tp(function() {
        return wp(r, "", !0, Rp);
      });
    } else {
      pi("onInsert", { insertType: e, newValue: u });
      var p = [];
      c(u, function(m, g) {
        return { state: he(he({}, da(m, g, p)), {}, { selection: cr(u) ? Zs(p) : Gt(p, !0) }) };
      });
    }
  }
}
function QT(t) {
  return V0.apply(this, arguments);
}
function V0() {
  return V0 = Dt(Ne().mark(function t(e) {
    var n, r, i, o, s, a, l, c, u, f, d, h;
    return Ne().wrap(function(p) {
      for (; ; )
        switch (p.prev = p.next) {
          case 0:
            if (n = e.char, r = e.selectInside, i = e.refJsonEditor, o = e.json, s = e.selection, a = e.readOnly, l = e.parser, c = e.onPatch, u = e.onReplaceJson, f = e.onSelect, !a) {
              p.next = 3;
              break;
            }
            return p.abrupt("return");
          case 3:
            if (!jr(s)) {
              p.next = 8;
              break;
            }
            return d = !s.edit, f(he(he({}, s), {}, { edit: !0 })), Tp(function() {
              return wp(i, n, d, Rp);
            }), p.abrupt("return");
          case 8:
            if (n !== "{") {
              p.next = 12;
              break;
            }
            Mp({ insertType: "object", selectInside: r, refJsonEditor: i, json: o, selection: s, readOnly: a, parser: l, onPatch: c, onReplaceJson: u }), p.next = 23;
            break;
          case 12:
            if (n !== "[") {
              p.next = 16;
              break;
            }
            Mp({ insertType: "array", selectInside: r, refJsonEditor: i, json: o, selection: s, readOnly: a, parser: l, onPatch: c, onReplaceJson: u }), p.next = 23;
            break;
          case 16:
            if (!sn(s) || o === void 0) {
              p.next = 20;
              break;
            }
            cr(Xe(o, s.path)) || (h = !s.edit, f(he(he({}, s), {}, { edit: !0 })), Tp(function() {
              return wp(i, n, h, Rp);
            })), p.next = 23;
            break;
          case 20:
            return pi("onInsertValueWithCharacter", { char: n }), p.next = 23, nle({ char: n, refJsonEditor: i, json: o, selection: s, readOnly: a, parser: l, onPatch: c, onReplaceJson: u });
          case 23:
          case "end":
            return p.stop();
        }
    }, t);
  })), V0.apply(this, arguments);
}
function nle(t) {
  return W0.apply(this, arguments);
}
function W0() {
  return W0 = Dt(Ne().mark(function t(e) {
    var n, r, i, o, s, a, l, c, u;
    return Ne().wrap(function(f) {
      for (; ; )
        switch (f.prev = f.next) {
          case 0:
            if (n = e.char, r = e.refJsonEditor, i = e.json, o = e.selection, s = e.readOnly, a = e.parser, l = e.onPatch, c = e.onReplaceJson, !s) {
              f.next = 3;
              break;
            }
            return f.abrupt("return");
          case 3:
            Mp({ insertType: "value", selectInside: !1, refJsonEditor: r, json: i, selection: o, readOnly: s, parser: a, onPatch: l, onReplaceJson: c }), u = !vi(o), Tp(function() {
              return wp(r, n, u, Rp);
            });
          case 6:
          case "end":
            return f.stop();
        }
    }, t);
  })), W0.apply(this, arguments);
}
function Tp(t) {
  setTimeout(function() {
    return setTimeout(t);
  });
}
function Rp(t) {
  t == null || t.refresh();
}
function rle(t) {
  Tt(t, "svelte-l2z0i3", '.jse-json-preview.svelte-l2z0i3{flex:1;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);color:var(--jse-panel-color-readonly, #b2b2b2);overflow:auto;white-space:pre-wrap;padding:2px;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7);border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}');
}
function ile(t) {
  var e, n;
  return { c: function() {
    e = U("div"), n = Le(t[0]), $(e, "class", "jse-json-preview svelte-l2z0i3");
  }, m: function(r, i) {
    X(r, e, i), E(e, n);
  }, p: function(r, i) {
    1 & Mt(i, 1)[0] && yt(n, r[0]);
  }, i: Te, o: Te, d: function(r) {
    r && Q(e);
  } };
}
function ole(t, e, n) {
  var r, i, o = e.text, s = e.json, a = e.indentation, l = e.parser;
  return t.$$set = function(c) {
    "text" in c && n(1, o = c.text), "json" in c && n(2, s = c.json), "indentation" in c && n(3, a = c.indentation), "parser" in c && n(4, l = c.parser);
  }, t.$$.update = function() {
    6 & t.$$.dirty && n(5, r = s !== void 0 ? { json: s } : { text: o || "" }), 56 & t.$$.dirty && n(0, i = Qs(O0(r, a, l), $0));
  }, [i, o, s, a, l, r];
}
var XT = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, ole, ile, Nr, { text: 1, json: 2, indentation: 3, parser: 4 }, rle), r;
  }
  return at(e, ct), ot(e);
}(), sle = Ib.window;
function ale(t) {
  Tt(t, "svelte-vx4hzc", '.jse-tree-mode.svelte-vx4hzc.svelte-vx4hzc{flex:1;display:flex;flex-direction:column;position:relative;background:var(--jse-background-color, #fff);min-width:0;min-height:0;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);color:var(--jse-text-color, #4d4d4d);line-height:var(--jse-line-height, calc(1em + 4px))}.jse-tree-mode.svelte-vx4hzc .jse-hidden-input-label .jse-hidden-input.svelte-vx4hzc{position:fixed;top:-10px;left:-10px;width:1px;height:1px;padding:0;border:0;outline:none}.jse-tree-mode.svelte-vx4hzc .jse-search-box-container.svelte-vx4hzc{position:relative;height:0;top:var(--jse-padding, 10px);margin-right:calc(var(--jse-padding, 10px) + 20px);margin-left:var(--jse-padding, 10px);text-align:right;z-index:3}.jse-tree-mode.no-main-menu.svelte-vx4hzc.svelte-vx4hzc{border-top:var(--jse-main-border, 1px solid #d7d7d7)}.jse-tree-mode.svelte-vx4hzc .jse-contents.svelte-vx4hzc{border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7);flex:1;overflow:auto;position:relative;padding:2px;display:flex;flex-direction:column}.jse-tree-mode.svelte-vx4hzc .jse-contents.svelte-vx4hzc:last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-tree-mode.svelte-vx4hzc .jse-contents .jse-loading-space.svelte-vx4hzc{flex:1}.jse-tree-mode.svelte-vx4hzc .jse-contents .jse-loading.svelte-vx4hzc{flex:2;text-align:center;color:var(--jse-panel-color-readonly, #b2b2b2);box-sizing:border-box;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px)}');
}
function N4(t) {
  var e, n, r;
  function i(s) {
    t[79](s);
  }
  var o = { json: t[11], selection: t[12].selection, readOnly: t[0], historyState: t[23], onExpandAll: t[41], onCollapseAll: t[42], onUndo: t[37], onRedo: t[38], onSort: t[39], onTransform: t[40], onContextMenu: t[46], onCopy: t[34], onRenderMenu: t[7] };
  return t[20] !== void 0 && (o.showSearch = t[20]), e = new yae({ props: o }), tn.push(function() {
    return Po(e, "showSearch", i);
  }), { c: function() {
    we(e.$$.fragment);
  }, m: function(s, a) {
    be(e, s, a), r = !0;
  }, p: function(s, a) {
    var l = {};
    2048 & a[0] && (l.json = s[11]), 4096 & a[0] && (l.selection = s[12].selection), 1 & a[0] && (l.readOnly = s[0]), 8388608 & a[0] && (l.historyState = s[23]), 128 & a[0] && (l.onRenderMenu = s[7]), !n && 1048576 & a[0] && (n = !0, l.showSearch = s[20], Ro(function() {
      return n = !1;
    })), e.$set(l);
  }, i: function(s) {
    r || (S(e.$$.fragment, s), r = !0);
  }, o: function(s) {
    A(e.$$.fragment, s), r = !1;
  }, d: function(s) {
    xe(e, s);
  } };
}
function D4(t) {
  var e, n;
  return e = new Bae({ props: { json: t[11], selection: t[12].selection, onSelect: t[50], onError: t[6], pathParser: t[4] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    2048 & i[0] && (o.json = r[11]), 4096 & i[0] && (o.selection = r[12].selection), 64 & i[0] && (o.onError = r[6]), 16 & i[0] && (o.pathParser = r[4]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function lle(t) {
  var e;
  return { c: function() {
    (e = U("div")).innerHTML = '<div class="jse-loading-space svelte-vx4hzc"></div> <div class="jse-loading svelte-vx4hzc">loading...</div>', $(e, "class", "jse-contents svelte-vx4hzc");
  }, m: function(n, r) {
    X(n, e, r);
  }, p: Te, i: Te, o: Te, d: function(n) {
    n && Q(e);
  } };
}
function cle(t) {
  var e, n, r, i, o, s, a, l, c, u = [fle, ule], f = [];
  function d(h, p) {
    return h[11] === void 0 ? 0 : 1;
  }
  return i = d(t), o = f[i] = u[i](t), { c: function() {
    e = U("label"), n = U("input"), r = le(), o.c(), s = wn(), $(n, "type", "text"), n.readOnly = !0, $(n, "tabindex", "-1"), $(n, "class", "jse-hidden-input svelte-vx4hzc"), $(e, "class", "jse-hidden-input-label");
  }, m: function(h, p) {
    X(h, e, p), E(e, n), t[80](n), X(h, r, p), f[i].m(h, p), X(h, s, p), a = !0, l || (c = _e(n, "paste", t[35]), l = !0);
  }, p: function(h, p) {
    var m = i;
    (i = d(h)) === m ? f[i].p(h, p) : (Ae(), A(f[m], 1, 1, function() {
      f[m] = null;
    }), Ee(), (o = f[i]) ? o.p(h, p) : (o = f[i] = u[i](h)).c(), S(o, 1), o.m(s.parentNode, s));
  }, i: function(h) {
    a || (S(o), a = !0);
  }, o: function(h) {
    A(o), a = !1;
  }, d: function(h) {
    h && (Q(e), Q(r), Q(s)), t[80](null), f[i].d(h), l = !1, c();
  } };
}
function ule(t) {
  var e, n, r, i, o, s, a, l, c, u, f, d, h;
  o = new Uae({ props: { show: t[20], resultCount: ((e = t[18]) === null || e === void 0 || (e = e.items) === null || e === void 0 ? void 0 : e.length) || 0, activeIndex: ((n = t[18]) === null || n === void 0 ? void 0 : n.activeIndex) || 0, showReplace: t[21], searching: t[22], readOnly: t[0], onChange: t[27], onNext: t[28], onPrevious: t[29], onReplace: t[30], onReplaceAll: t[31], onClose: t[32] } }), l = new dae({ props: { value: t[11], path: [], expandedMap: t[12].expandedMap, enforceStringMap: t[12].enforceStringMap, visibleSectionsMap: t[12].visibleSectionsMap, validationErrorsMap: t[25], searchResultItemsMap: (r = t[18]) === null || r === void 0 ? void 0 : r.itemsMap, selection: t[12].selection, context: t[14], onDragSelectionStart: Kn } });
  var p = t[19] && L4(t), m = t[24] && B4(t);
  return d = new t2({ props: { validationErrors: t[13], selectError: t[33] } }), { c: function() {
    i = U("div"), we(o.$$.fragment), s = le(), a = U("div"), we(l.$$.fragment), c = le(), p && p.c(), u = le(), m && m.c(), f = le(), we(d.$$.fragment), $(i, "class", "jse-search-box-container svelte-vx4hzc"), $(a, "class", "jse-contents svelte-vx4hzc"), $(a, "data-jsoneditor-scrollable-contents", !0);
  }, m: function(g, v) {
    X(g, i, v), be(o, i, null), X(g, s, v), X(g, a, v), be(l, a, null), t[84](a), X(g, c, v), p && p.m(g, v), X(g, u, v), m && m.m(g, v), X(g, f, v), be(d, g, v), h = !0;
  }, p: function(g, v) {
    var y, x, b, w = {};
    1048576 & v[0] && (w.show = g[20]), 262144 & v[0] && (w.resultCount = ((y = g[18]) === null || y === void 0 || (y = y.items) === null || y === void 0 ? void 0 : y.length) || 0), 262144 & v[0] && (w.activeIndex = ((x = g[18]) === null || x === void 0 ? void 0 : x.activeIndex) || 0), 2097152 & v[0] && (w.showReplace = g[21]), 4194304 & v[0] && (w.searching = g[22]), 1 & v[0] && (w.readOnly = g[0]), o.$set(w);
    var j = {};
    2048 & v[0] && (j.value = g[11]), 4096 & v[0] && (j.expandedMap = g[12].expandedMap), 4096 & v[0] && (j.enforceStringMap = g[12].enforceStringMap), 4096 & v[0] && (j.visibleSectionsMap = g[12].visibleSectionsMap), 33554432 & v[0] && (j.validationErrorsMap = g[25]), 262144 & v[0] && (j.searchResultItemsMap = (b = g[18]) === null || b === void 0 ? void 0 : b.itemsMap), 4096 & v[0] && (j.selection = g[12].selection), 16384 & v[0] && (j.context = g[14]), l.$set(j), g[19] ? p ? (p.p(g, v), 524288 & v[0] && S(p, 1)) : ((p = L4(g)).c(), S(p, 1), p.m(u.parentNode, u)) : p && (Ae(), A(p, 1, 1, function() {
      p = null;
    }), Ee()), g[24] ? m ? (m.p(g, v), 16777216 & v[0] && S(m, 1)) : ((m = B4(g)).c(), S(m, 1), m.m(f.parentNode, f)) : m && (Ae(), A(m, 1, 1, function() {
      m = null;
    }), Ee());
    var k = {};
    8192 & v[0] && (k.validationErrors = g[13]), d.$set(k);
  }, i: function(g) {
    h || (S(o.$$.fragment, g), S(l.$$.fragment, g), S(p), S(m), S(d.$$.fragment, g), h = !0);
  }, o: function(g) {
    A(o.$$.fragment, g), A(l.$$.fragment, g), A(p), A(m), A(d.$$.fragment, g), h = !1;
  }, d: function(g) {
    g && (Q(i), Q(s), Q(a), Q(c), Q(u), Q(f)), xe(o), xe(l), t[84](null), p && p.d(g), m && m.d(g), xe(d, g);
  } };
}
function fle(t) {
  var e, n, r, i, o = [hle, dle], s = [];
  function a(l, c) {
    return l[17] === "" || l[17] === void 0 ? 0 : 1;
  }
  return e = a(t), n = s[e] = o[e](t), { c: function() {
    n.c(), r = wn();
  }, m: function(l, c) {
    s[e].m(l, c), X(l, r, c), i = !0;
  }, p: function(l, c) {
    var u = e;
    (e = a(l)) === u ? s[e].p(l, c) : (Ae(), A(s[u], 1, 1, function() {
      s[u] = null;
    }), Ee(), (n = s[e]) ? n.p(l, c) : (n = s[e] = o[e](l)).c(), S(n, 1), n.m(r.parentNode, r));
  }, i: function(l) {
    i || (S(n), i = !0);
  }, o: function(l) {
    A(n), i = !1;
  }, d: function(l) {
    l && Q(r), s[e].d(l);
  } };
}
function L4(t) {
  var e, n;
  return e = new Jo({ props: { type: "info", message: "You pasted a JSON ".concat(Array.isArray(t[19].contents) ? "array" : "object", " as text"), actions: [{ icon: um, text: "Paste as JSON instead", title: "Replace the value with the pasted JSON", onMouseDown: t[47] }, { text: "Leave as is", title: "Keep the JSON embedded in the value", onClick: t[48] }] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    524288 & i[0] && (o.message = "You pasted a JSON ".concat(Array.isArray(r[19].contents) ? "array" : "object", " as text")), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function B4(t) {
  var e, n;
  return e = new Jo({ props: { type: "success", message: "The loaded JSON document was invalid but is successfully repaired.", actions: t[0] ? [] : [{ icon: cf, text: "Ok", title: "Accept the repaired document", onClick: t[8] }, { icon: Ma, text: "Repair manually instead", title: "Leave the document unchanged and repair it manually instead", onClick: t[49] }], onClose: t[9] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    1 & i[0] && (o.actions = r[0] ? [] : [{ icon: cf, text: "Ok", title: "Accept the repaired document", onClick: r[8] }, { icon: Ma, text: "Repair manually instead", title: "Leave the document unchanged and repair it manually instead", onClick: r[49] }]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function dle(t) {
  var e, n, r, i;
  return e = new Jo({ props: { type: "error", message: "The loaded JSON document is invalid and could not be repaired automatically.", actions: t[0] ? [] : [{ icon: Ma, text: "Repair manually", title: 'Open the document in "code" mode and repair it manually', onClick: t[49] }] } }), r = new XT({ props: { text: t[17], json: t[11], indentation: t[5], parser: t[3] } }), { c: function() {
    we(e.$$.fragment), n = le(), we(r.$$.fragment);
  }, m: function(o, s) {
    be(e, o, s), X(o, n, s), be(r, o, s), i = !0;
  }, p: function(o, s) {
    var a = {};
    1 & s[0] && (a.actions = o[0] ? [] : [{ icon: Ma, text: "Repair manually", title: 'Open the document in "code" mode and repair it manually', onClick: o[49] }]), e.$set(a);
    var l = {};
    131072 & s[0] && (l.text = o[17]), 2048 & s[0] && (l.json = o[11]), 32 & s[0] && (l.indentation = o[5]), 8 & s[0] && (l.parser = o[3]), r.$set(l);
  }, i: function(o) {
    i || (S(e.$$.fragment, o), S(r.$$.fragment, o), i = !0);
  }, o: function(o) {
    A(e.$$.fragment, o), A(r.$$.fragment, o), i = !1;
  }, d: function(o) {
    o && Q(n), xe(e, o), xe(r, o);
  } };
}
function hle(t) {
  var e, n;
  return e = new jae({ props: { readOnly: t[0], onCreateObject: t[81], onCreateArray: t[82], onClick: t[83] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    1 & i[0] && (o.readOnly = r[0]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function ple(t) {
  var e, n, r, i, o, s, a, l, c = t[1] && N4(t), u = t[2] && D4(t), f = [cle, lle], d = [];
  return i = function(h, p) {
    return h[26] ? 1 : 0;
  }(t), o = d[i] = f[i](t), { c: function() {
    e = U("div"), c && c.c(), n = le(), u && u.c(), r = le(), o.c(), $(e, "role", "tree"), $(e, "tabindex", "-1"), $(e, "class", "jse-tree-mode svelte-vx4hzc"), Se(e, "no-main-menu", !t[1]);
  }, m: function(h, p) {
    X(h, e, p), c && c.m(e, null), E(e, n), u && u.m(e, null), E(e, r), d[i].m(e, null), t[85](e), s = !0, a || (l = [_e(sle, "mousedown", t[51]), _e(e, "keydown", t[43]), _e(e, "mousedown", t[44]), _e(e, "contextmenu", t[45])], a = !0);
  }, p: function(h, p) {
    h[1] ? c ? (c.p(h, p), 2 & p[0] && S(c, 1)) : ((c = N4(h)).c(), S(c, 1), c.m(e, n)) : c && (Ae(), A(c, 1, 1, function() {
      c = null;
    }), Ee()), h[2] ? u ? (u.p(h, p), 4 & p[0] && S(u, 1)) : ((u = D4(h)).c(), S(u, 1), u.m(e, r)) : u && (Ae(), A(u, 1, 1, function() {
      u = null;
    }), Ee()), o.p(h, p), (!s || 2 & p[0]) && Se(e, "no-main-menu", !h[1]);
  }, i: function(h) {
    s || (S(c), S(u), S(o), s = !0);
  }, o: function(h) {
    A(c), A(u), A(o), s = !1;
  }, d: function(h) {
    h && Q(e), c && c.d(), u && u.d(), d[i].d(), t[85](null), a = !1, Dn(l);
  } };
}
function mle(t, e, n) {
  var r, i = Jr("jsoneditor:TreeMode"), o = typeof window > "u";
  i("isSSR:", o);
  var s, a, l, c, u, f = Hr("simple-modal").open, d = Ea(), h = Ea(), p = Hr("absolute-popup"), m = p.openAbsolutePopup, g = p.closeAbsolutePopup, v = !1, y = NT(), x = e.readOnly, b = e.externalContent, w = e.externalSelection, j = e.mainMenuBar, k = e.navigationBar, N = e.escapeControlCharacters, z = e.escapeUnicodeCharacters, _ = e.parser, B = e.parseMemoizeOne, I = e.validator, Y = e.validationParser, R = e.pathParser, Z = e.indentation, ne = e.onError, V = e.onChange, M = e.onChangeMode, F = e.onSelect, P = e.onRenderValue, T = e.onRenderMenu, O = e.onRenderContextMenu, L = e.onClassName, C = e.onFocus, H = e.onBlur, ie = e.onSortModal, te = e.onTransformModal, ke = e.onJSONEditorModal, Me = !1;
  e2({ onMount: $o, onDestroy: to, getWindow: function() {
    return fu(l);
  }, hasFocus: function() {
    return Me && document.hasFocus() || Hb(l);
  }, onFocus: function() {
    v = !0, C && C();
  }, onBlur: function() {
    v = !1, H && H();
  } });
  var fe = void 0;
  function pe(G) {
    i("updateSelection", G);
    var ce = typeof G == "function" ? G(ae.selection) || null : G;
    en(ce, ae.selection) || (n(12, ae = he(he({}, ae), {}, { selection: ce })), F(ce));
  }
  var Fe, Ue, ut, rn = !1, ae = $p(), At = !1, Ge = !1, me = !1, Ct = "";
  function _n(G) {
    return Ut.apply(this, arguments);
  }
  function Ut() {
    return Ut = Dt(Ne().mark(function G(ce) {
      return Ne().wrap(function(Ce) {
        for (; ; )
          switch (Ce.prev = Ce.next) {
            case 0:
              return i("search text updated", ce), n(78, Ct = ce), Ce.next = 4, mr();
            case 4:
              return Ce.next = 6, ee();
            case 6:
            case "end":
              return Ce.stop();
          }
      }, G);
    })), Ut.apply(this, arguments);
  }
  function un() {
    return (un = Dt(Ne().mark(function G() {
      return Ne().wrap(function(ce) {
        for (; ; )
          switch (ce.prev = ce.next) {
            case 0:
              return n(18, Fe = Fe ? bre(Fe) : void 0), ce.next = 3, ee();
            case 3:
            case "end":
              return ce.stop();
          }
      }, G);
    }))).apply(this, arguments);
  }
  function Xn() {
    return (Xn = Dt(Ne().mark(function G() {
      return Ne().wrap(function(ce) {
        for (; ; )
          switch (ce.prev = ce.next) {
            case 0:
              return n(18, Fe = Fe ? xre(Fe) : void 0), ce.next = 3, ee();
            case 3:
            case "end":
              return ce.stop();
          }
      }, G);
    }))).apply(this, arguments);
  }
  function kn() {
    return (kn = Dt(Ne().mark(function G(ce, Ce) {
      var Pe, De, qe, vt, dt;
      return Ne().wrap(function($t) {
        for (; ; )
          switch ($t.prev = $t.next) {
            case 0:
              if (De = (Pe = Fe) === null || Pe === void 0 ? void 0 : Pe.activeItem, i("handleReplace", { replacementText: Ce, activeItem: De }), De && c !== void 0) {
                $t.next = 4;
                break;
              }
              return $t.abrupt("return");
            case 4:
              return qe = wre(c, ae, Ce, De, _), vt = qe.operations, dt = qe.newSelection, bt(vt, function(Jn, or) {
                return { state: he(he({}, or), {}, { selection: dt }) };
              }), $t.next = 8, mr();
            case 8:
              return $t.next = 10, ee();
            case 10:
            case "end":
              return $t.stop();
          }
      }, G);
    }))).apply(this, arguments);
  }
  function D() {
    return D = Dt(Ne().mark(function G(ce, Ce) {
      var Pe, De, qe;
      return Ne().wrap(function(vt) {
        for (; ; )
          switch (vt.prev = vt.next) {
            case 0:
              return i("handleReplaceAll", { text: ce, replacementText: Ce }), Pe = jre(c, ae, ce, Ce, _), De = Pe.operations, qe = Pe.newSelection, bt(De, function(dt, $t) {
                return { state: he(he({}, $t), {}, { selection: qe }) };
              }), vt.next = 5, mr();
            case 5:
              return vt.next = 7, ee();
            case 7:
            case "end":
              return vt.stop();
          }
      }, G);
    })), D.apply(this, arguments);
  }
  function ee() {
    return oe.apply(this, arguments);
  }
  function oe() {
    return (oe = Dt(Ne().mark(function G() {
      var ce, Ce, Pe;
      return Ne().wrap(function(De) {
        for (; ; )
          switch (De.prev = De.next) {
            case 0:
              if (Ce = (ce = Fe) === null || ce === void 0 ? void 0 : ce.activeItem, i("focusActiveSearchResult", Fe), !Ce || c === void 0) {
                De.next = 9;
                break;
              }
              return Pe = Ce.path, n(12, ae = he(he({}, E0(c, ae, Pe)), {}, { selection: null })), De.next = 7, mr();
            case 7:
              return De.next = 9, Ye(Pe);
            case 9:
            case "end":
              return De.stop();
          }
      }, G);
    }))).apply(this, arguments);
  }
  var ge = DT({ onChange: function(G) {
    n(23, $e = G);
  } }), $e = ge.getState(), Oe, Ze, wt = ly(function(G, ce) {
    if (G === "")
      return i("clearing search result"), void (Fe !== void 0 && n(18, Fe = void 0));
    n(22, me = !0), setTimeout(function() {
      i("searching...", G);
      var Ce = kT(G, ce, WM);
      n(18, Fe = function(Pe, De, qe) {
        var vt = qe != null && qe.activeItem ? $$(qe.activeItem) : void 0, dt = De.findIndex(function(Rn) {
          return en(vt, $$(Rn));
        }), $t = dt !== -1 ? dt : (qe == null ? void 0 : qe.activeIndex) !== void 0 && (qe == null ? void 0 : qe.activeIndex) < De.length ? qe == null ? void 0 : qe.activeIndex : De.length > 0 ? 0 : -1, Jn = De.map(function(Rn, Vi) {
          return he(he({}, Rn), {}, { active: Vi === $t });
        }), or = Jn[$t];
        return { items: Jn, itemsMap: eu(Jn, function(Rn) {
          return We(Rn.path);
        }), activeItem: or, activeIndex: $t };
      }(0, Ce, Fe)), n(22, me = !1);
    });
  }, 300), kt = !1, En = [], It = Wf(LT);
  function Je(G, ce, Ce, Pe) {
    uc(function() {
      var De;
      try {
        De = It(G, ce, Ce, Pe);
      } catch (qe) {
        De = [{ path: [], message: "Failed to validate: " + qe.message, severity: Ks.warning }];
      }
      en(De, En) || (i("validationErrors changed:", De), n(13, En = De));
    }, function(De) {
      return i("validationErrors updated in ".concat(De, " ms"));
    });
  }
  function yn() {
    return i("validate"), fe ? { parseError: fe, isRepairable: !1 } : (Je(c, I, _, Y), dn(En) ? null : { validationErrors: En });
  }
  function Zn() {
    return c;
  }
  function jn() {
    return ae;
  }
  function Vn(G) {
    Af(G) ? function(ce) {
      if (ce !== void 0) {
        var Ce = !en(c, ce);
        if (i("update external json", { isChanged: Ce, currentlyText: c === void 0 }), !!Ce) {
          var Pe = { json: c, text: u }, De = ae, qe = c, vt = u, dt = kt;
          n(11, c = ce), Wn(c), n(17, u = void 0), n(24, kt = !1), fe = void 0, Hn(c), fn({ previousJson: qe, previousState: De, previousText: vt, previousTextIsRepaired: dt }), gt(Pe, null);
        }
      }
    }(G.json) : Bc(G) && function(ce) {
      if (!(ce === void 0 || Af(b))) {
        var Ce = ce !== u;
        if (i("update external text", { isChanged: Ce }), !!Ce) {
          var Pe = { json: c, text: u }, De = c, qe = ae, vt = u, dt = kt;
          try {
            n(11, c = B(ce)), Wn(c), n(17, u = ce), n(24, kt = !1), fe = void 0;
          } catch ($t) {
            try {
              n(11, c = B(fs(ce))), Wn(c), n(17, u = ce), n(24, kt = !0), fe = void 0, Hn(c);
            } catch {
              n(11, c = void 0), n(17, u = b.text), n(24, kt = !1), fe = u !== void 0 && u !== "" ? Lc(u, $t.message || String($t)) : void 0;
            }
          }
          Hn(c), fn({ previousJson: De, previousState: qe, previousText: vt, previousTextIsRepaired: dt }), gt(Pe, null);
        }
      }
    }(G.text);
  }
  function Wn(G) {
    rn || (rn = !0, n(12, ae = ao(G, ae, [], function(ce) {
      return XM({ json: ce }, HM) ? ss : Zu;
    }(G))));
  }
  function Hn(G) {
    ae.selection && (ho(G, ml(ae.selection)) && ho(G, ht(ae.selection)) || (i("clearing selection: path does not exist anymore", ae.selection), n(12, ae = he(he({}, ae), {}, { selection: Gl(G, ae) }))));
  }
  function fn(G) {
    var ce = G.previousJson, Ce = G.previousState, Pe = G.previousText, De = G.previousTextIsRepaired;
    ce === void 0 && Pe === void 0 || (c !== void 0 ? ce !== void 0 ? ge.add({ undo: { patch: [{ op: "replace", path: "", value: ce }], state: li(Ce), json: void 0, text: Pe, textIsRepaired: De }, redo: { patch: [{ op: "replace", path: "", value: c }], state: li(ae), json: void 0, text: u, textIsRepaired: kt } }) : ge.add({ undo: { patch: void 0, json: void 0, text: Pe, state: li(Ce), textIsRepaired: De }, redo: { patch: void 0, json: c, state: li(ae), text: u, textIsRepaired: kt } }) : ce !== void 0 && ge.add({ undo: { patch: void 0, json: ce, state: li(Ce), text: Pe, textIsRepaired: De }, redo: { patch: void 0, json: void 0, text: u, textIsRepaired: kt, state: li(ae) } }));
  }
  function ve(G, ce) {
    if (i("patch", G, ce), c === void 0)
      throw new Error("Cannot apply patch: no JSON");
    var Ce = { json: c, text: u }, Pe = c, De = ae, qe = u, vt = kt, dt = $T(c, G), $t = dT(c, ae, G), Jn = zc(c, G), or = function(Gn, oi) {
      return oi || !(arguments.length > 2 && arguments[2] !== void 0) || arguments[2] ? he(he({}, Gn), {}, { selection: oi }) : Gn;
    }($t.documentState, Jn, !1);
    i("patch updatedSelection", Jn);
    var Rn = typeof ce == "function" ? ce($t.json, or) : void 0;
    n(11, c = Rn && Rn.json !== void 0 ? Rn.json : $t.json);
    var Vi = Rn && Rn.state !== void 0 ? Rn.state : or;
    n(12, ae = Vi), n(17, u = void 0), n(24, kt = !1), n(19, ut = void 0), fe = void 0, Hn(c), ge.add({ undo: { patch: dt, json: void 0, text: qe, state: li(De), textIsRepaired: vt }, redo: { patch: G, json: void 0, state: li(Vi), text: u, textIsRepaired: kt } });
    var Tr = { json: c, previousJson: Pe, undo: dt, redo: G };
    return gt(Ce, Tr), Tr;
  }
  function He() {
    !x && ae.selection && pe(yo(ht(ae.selection), !0));
  }
  function Rt() {
    if (!x && ae.selection) {
      var G = ht(ae.selection), ce = Xe(c, G);
      cr(ce) ? function(Ce, Pe) {
        i("openJSONEditorModal", { path: Ce, value: Pe }), Me = !0, ke({ content: { json: Pe }, path: Ce, onPatch: Ze.onPatch, onClose: function() {
          Me = !1, tr();
        } });
      }(G, ce) : pe(Gt(G, !0));
    }
  }
  function qt() {
    if (!x && sn(ae.selection)) {
      var G = ht(ae.selection), ce = We(G), Ce = Xe(c, G), Pe = !Xs(Ce, ae.enforceStringMap, ce, _), De = Pe ? String(Ce) : uu(String(Ce), _);
      i("handleToggleEnforceString", { enforceString: Pe, value: Ce, updatedValue: De }), bt([{ op: "replace", path: ce, value: De }], function(qe, vt) {
        return { state: fT(vt, ce, Pe) };
      });
    }
  }
  function zt() {
    return Ft.apply(this, arguments);
  }
  function Ft() {
    return Ft = Dt(Ne().mark(function G() {
      var ce, Ce = arguments;
      return Ne().wrap(function(Pe) {
        for (; ; )
          switch (Pe.prev = Pe.next) {
            case 0:
              return ce = !(Ce.length > 0 && Ce[0] !== void 0) || Ce[0], Pe.next = 3, JT({ json: c, documentState: ae, indentation: ce ? Z : void 0, readOnly: x, parser: _, onPatch: bt });
            case 3:
            case "end":
              return Pe.stop();
          }
      }, G);
    })), Ft.apply(this, arguments);
  }
  function de() {
    return Qe.apply(this, arguments);
  }
  function Qe() {
    return Qe = Dt(Ne().mark(function G() {
      var ce, Ce = arguments;
      return Ne().wrap(function(Pe) {
        for (; ; )
          switch (Pe.prev = Pe.next) {
            case 0:
              if (ce = !(Ce.length > 0 && Ce[0] !== void 0) || Ce[0], c !== void 0) {
                Pe.next = 3;
                break;
              }
              return Pe.abrupt("return");
            case 3:
              return Pe.next = 5, GT({ json: c, documentState: ae, indentation: ce ? Z : void 0, parser: _ });
            case 5:
            case "end":
              return Pe.stop();
          }
      }, G);
    })), Qe.apply(this, arguments);
  }
  function ze() {
    f(BT, {}, he(he({}, Al), {}, { styleWindow: { width: "450px" } }), { onClose: function() {
      return tr();
    } });
  }
  function q(G, ce) {
    f(zT, { text: G, onParse: function(Ce) {
      return Pm(Ce, function(Pe) {
        return rd(Pe, _);
      });
    }, onRepair: YM, onApply: ce }, he(he({}, Al), {}, { styleWindow: { width: "600px", height: "500px" }, styleContent: { padding: 0, height: "100%" } }), { onClose: function() {
      return tr();
    } });
  }
  function K() {
    YT({ json: c, text: u, documentState: ae, keepSelection: !1, readOnly: x, onChange: V, onPatch: bt });
  }
  function re() {
    !x && c !== void 0 && ae.selection && du(ae.selection) && !dn(ht(ae.selection)) && (i("duplicate", { selection: ae.selection }), bt(xT(c, Sa(c, ae.selection))));
  }
  function ue() {
    if (!x && ae.selection && (Tn(ae.selection) || sn(ae.selection)) && !dn(ht(ae.selection))) {
      i("extract", { selection: ae.selection });
      var G = function(ce, Ce) {
        if (sn(Ce))
          return [{ op: "move", from: We(Ce.path), path: "" }];
        if (!Tn(Ce))
          throw new Error("Cannot create extract operations: parent must be an Object or Array");
        var Pe = Zt(Ce.focusPath), De = Xe(ce, Pe);
        if (zn(De))
          return [{ op: "replace", path: "", value: Sa(ce, Ce).map(function(vt) {
            var dt = ri(_t(vt));
            return De[dt];
          }) }];
        if (dr(De)) {
          var qe = {};
          return Sa(ce, Ce).forEach(function(vt) {
            var dt = String(_t(vt));
            qe[dt] = De[dt];
          }), [{ op: "replace", path: "", value: qe }];
        }
        throw new Error("Cannot extract: unsupported type of selection " + JSON.stringify(Ce));
      }(c, ae.selection);
      bt(G, function(ce, Ce) {
        if (cr(ce))
          return { state: da(ce, Ce, []) };
      });
    }
  }
  function ye(G) {
    c !== void 0 && Mp({ insertType: G, selectInside: !0, refJsonEditor: l, json: c, selection: ae.selection, readOnly: x, parser: _, onPatch: bt, onReplaceJson: pn });
  }
  function ft(G) {
    jr(ae.selection) && pe(Gt(ae.selection.path, !1)), ae.selection || pe(Gl(c, ae)), ye(G);
  }
  function jt(G) {
    if (!x && ae.selection)
      if ($h(ae.selection))
        try {
          var ce = ml(ae.selection), Ce = Xe(c, ce), Pe = function(qe, vt, dt) {
            if (vt === "array") {
              if (Array.isArray(qe))
                return qe;
              if (Yn(qe))
                return Qj(qe);
              if (typeof qe == "string")
                try {
                  var $t = dt.parse(qe);
                  if (Array.isArray($t))
                    return $t;
                  if (Yn($t))
                    return Qj($t);
                } catch {
                  return [qe];
                }
              return [qe];
            }
            if (vt === "object") {
              if (Array.isArray(qe))
                return Yj(qe);
              if (Yn(qe))
                return qe;
              if (typeof qe == "string")
                try {
                  var Jn = dt.parse(qe);
                  if (Yn(Jn))
                    return Jn;
                  if (Array.isArray(Jn))
                    return Yj(Jn);
                } catch {
                  return { value: qe };
                }
              return { value: qe };
            }
            if (vt === "value")
              return cr(qe) ? dt.stringify(qe) : qe;
            throw new Error("Cannot convert ".concat(zb(qe, dt), " to ").concat(vt));
          }(Ce, G, _);
          if (Pe === Ce)
            return;
          var De = [{ op: "replace", path: We(ce), value: Pe }];
          i("handleConvert", { selection: ae.selection, path: ce, type: G, operations: De }), bt(De, function(qe, vt) {
            return { state: ae.selection ? da(qe, vt, ht(ae.selection)) : ae };
          });
        } catch (qe) {
          ne(qe);
        }
      else
        ne(new Error("Cannot convert current selection to ".concat(G)));
  }
  function Qt() {
    if (ae.selection) {
      var G = m$(c, ae, !1), ce = Zt(ht(ae.selection));
      G && !dn(ht(G)) && en(ce, Zt(ht(G))) ? pe(zs(ht(G))) : pe(Zs(ce)), i("insert before", { selection: ae.selection, selectionBefore: G, parentPath: ce }), mr().then(function() {
        return Fi();
      });
    }
  }
  function Sn() {
    if (ae.selection) {
      var G = Ca(c, ae.selection);
      i("insert after", G), pe(zs(G)), mr().then(function() {
        return Fi();
      });
    }
  }
  function Mn(G) {
    return Jt.apply(this, arguments);
  }
  function Jt() {
    return (Jt = Dt(Ne().mark(function G(ce) {
      return Ne().wrap(function(Ce) {
        for (; ; )
          switch (Ce.prev = Ce.next) {
            case 0:
              return Ce.next = 2, QT({ char: ce, selectInside: !0, refJsonEditor: l, json: c, selection: ae.selection, readOnly: x, parser: _, onPatch: bt, onReplaceJson: pn, onSelect: pe });
            case 2:
            case "end":
              return Ce.stop();
          }
      }, G);
    }))).apply(this, arguments);
  }
  function bn() {
    if (!x && ge.getState().canUndo) {
      var G = ge.undo();
      if (G) {
        var ce = { json: c, text: u };
        n(11, c = G.undo.patch ? Do(c, G.undo.patch) : G.undo.json), n(12, ae = G.undo.state), n(17, u = G.undo.text), n(24, kt = G.undo.textIsRepaired), fe = void 0, i("undo", { item: G, json: c, documentState: ae }), gt(ce, G.undo.patch && G.redo.patch ? { json: c, previousJson: ce.json, redo: G.undo.patch, undo: G.redo.patch } : null), tr(), ae.selection && Ye(ht(ae.selection), !1);
      }
    }
  }
  function Ln() {
    if (!x && ge.getState().canRedo) {
      var G = ge.redo();
      if (G) {
        var ce = { json: c, text: u };
        n(11, c = G.redo.patch ? Do(c, G.redo.patch) : G.redo.json), n(12, ae = G.redo.state), n(17, u = G.redo.text), n(24, kt = G.redo.textIsRepaired), fe = void 0, i("redo", { item: G, json: c, documentState: ae }), gt(ce, G.undo.patch && G.redo.patch ? { json: c, previousJson: ce.json, redo: G.redo.patch, undo: G.undo.patch } : null), tr(), ae.selection && Ye(ht(ae.selection), !1);
      }
    }
  }
  function J(G) {
    var ce;
    x || c === void 0 || (Me = !0, ie({ id: d, json: c, rootPath: G, onSort: (ce = Dt(Ne().mark(function Ce(Pe) {
      var De;
      return Ne().wrap(function(qe) {
        for (; ; )
          switch (qe.prev = qe.next) {
            case 0:
              De = Pe.operations, i("onSort", G, De), bt(De, function(vt, dt) {
                return { state: he(he({}, da(vt, dt, G)), {}, { selection: Gt(G, !1) }) };
              });
            case 3:
            case "end":
              return qe.stop();
          }
      }, Ce);
    })), function(Ce) {
      return ce.apply(this, arguments);
    }), onClose: function() {
      Me = !1, tr();
    } }));
  }
  function je() {
    ae.selection && J(v$(c, ae.selection));
  }
  function Ie(G) {
    if (c !== void 0) {
      var ce = G.id, Ce = G.onTransform, Pe = G.onClose, De = G.rootPath || [];
      Me = !0, te({ id: ce || h, json: c, rootPath: De, onTransform: function(qe) {
        Ce ? Ce({ operations: qe, json: c, transformedJson: Do(c, qe) }) : (i("onTransform", De, qe), bt(qe, function(vt, dt) {
          return { state: he(he({}, da(vt, dt, De)), {}, { selection: Gt(De, !1) }) };
        }));
      }, onClose: function() {
        Me = !1, tr(), Pe && Pe();
      } });
    }
  }
  function Be() {
    ae.selection && Ie({ rootPath: v$(c, ae.selection) });
  }
  function Ye(G) {
    return Ot.apply(this, arguments);
  }
  function Ot() {
    return Ot = Dt(Ne().mark(function G(ce) {
      var Ce, Pe, De, qe, vt, dt = arguments;
      return Ne().wrap(function($t) {
        for (; ; )
          switch ($t.prev = $t.next) {
            case 0:
              return Ce = !(dt.length > 1 && dt[1] !== void 0) || dt[1], n(12, ae = E0(c, ae, ce)), $t.next = 4, mr();
            case 4:
              if (Pe = et(ce), i("scrollTo", { path: ce, elem: Pe, refContents: s }), Pe && s) {
                $t.next = 8;
                break;
              }
              return $t.abrupt("return", Promise.resolve());
            case 8:
              if (De = s.getBoundingClientRect(), qe = Pe.getBoundingClientRect(), Ce) {
                $t.next = 13;
                break;
              }
              if (!(qe.bottom > De.top && qe.top < De.bottom)) {
                $t.next = 13;
                break;
              }
              return $t.abrupt("return", Promise.resolve());
            case 13:
              return vt = -De.height / 4, $t.abrupt("return", new Promise(function(Jn) {
                y(Pe, { container: s, offset: vt, duration: 300, callback: function() {
                  return Jn();
                } });
              }));
            case 15:
            case "end":
              return $t.stop();
          }
      }, G);
    })), Ot.apply(this, arguments);
  }
  function et(G) {
    return s ? s.querySelector('div[data-path="'.concat(qc(G), '"]')) : null;
  }
  function Xt(G) {
    var ce = et(G);
    if (ce && s) {
      var Ce = s.getBoundingClientRect(), Pe = ce.getBoundingClientRect(), De = cr(Xe(c, G)) ? 20 : Pe.height;
      Pe.top < Ce.top + 20 ? y(ce, { container: s, offset: -20, duration: 0 }) : Pe.top + De > Ce.bottom - 20 && y(ce, { container: s, offset: -(Ce.height - De - 20), duration: 0 });
    }
  }
  function gt(G, ce) {
    var Ce;
    if (G.json !== void 0 || (G == null ? void 0 : G.text) !== void 0) {
      if (u !== void 0)
        (Ce = V) === null || Ce === void 0 || Ce({ text: u, json: void 0 }, G, { contentErrors: yn(), patchResult: ce });
      else if (c !== void 0) {
        var Pe;
        (Pe = V) === null || Pe === void 0 || Pe({ text: void 0, json: c }, G, { contentErrors: yn(), patchResult: ce });
      }
    }
  }
  function bt(G, ce) {
    return x ? { json: c, previousJson: c, undo: [], redo: [] } : (i("handlePatch", G, ce), ve(G, ce));
  }
  function pn(G, ce) {
    var Ce = ae, Pe = c, De = u, qe = { json: c, text: u }, vt = kt, dt = ao(c, ae, [], ss), $t = typeof ce == "function" ? ce(G, dt) : void 0;
    n(11, c = $t && $t.json !== void 0 ? $t.json : G), n(12, ae = $t && $t.state !== void 0 ? $t.state : dt), n(17, u = void 0), n(24, kt = !1), fe = void 0, Hn(c), fn({ previousJson: Pe, previousState: Ce, previousText: De, previousTextIsRepaired: vt }), gt(qe, null);
  }
  function On(G, ce) {
    i("handleChangeText");
    var Ce = ae, Pe = c, De = u, qe = { json: c, text: u }, vt = kt;
    try {
      n(11, c = B(G)), n(12, ae = ao(c, ae, [], ss)), n(17, u = void 0), n(24, kt = !1), fe = void 0;
    } catch ($t) {
      try {
        n(11, c = B(fs(G))), n(12, ae = ao(c, ae, [], ss)), n(17, u = G), n(24, kt = !0), fe = void 0;
      } catch {
        n(11, c = void 0), n(12, ae = $p({ json: c, expand: ss })), n(17, u = G), n(24, kt = !1), fe = u !== "" ? Lc(u, $t.message || String($t)) : void 0;
      }
    }
    if (typeof ce == "function") {
      var dt = ce(c, ae);
      n(11, c = dt && dt.json ? dt.json : c), n(12, ae = dt && dt.state ? dt.state : ae);
    }
    Hn(c), fn({ previousJson: Pe, previousState: Ce, previousText: De, previousTextIsRepaired: vt }), gt(qe, null);
  }
  function Un(G, ce) {
    var Ce = arguments.length > 2 && arguments[2] !== void 0 && arguments[2];
    i("expand", { path: G, expanded: ce, recursive: Ce }), n(12, ae = ce ? Ce ? ao(c, ae, G, Zu) : function(Pe, De) {
      return he(he({}, Pe), {}, { expandedMap: he(he({}, Pe.expandedMap), {}, eo({}, We(De), !0)) });
    }(ae, G) : f$(ae, G)), ae.selection && !ce && function(Pe, De) {
      return La(ht(Pe), De) && (ht(Pe).length > De.length || Cr(Pe));
    }(ae.selection, G) && pe(null), tr();
  }
  function Ai(G) {
    i("openFind", { findAndReplace: G }), n(20, At = !1), n(21, Ge = !1), mr().then(function() {
      n(20, At = !0), n(21, Ge = G);
    });
  }
  function Ya(G, ce) {
    i("handleExpandSection", G, ce);
    var Ce = We(G);
    n(12, ae = function(Pe, De, qe, vt) {
      return he(he({}, De), {}, { visibleSectionsMap: he(he({}, De.visibleSectionsMap), {}, eo({}, qe, uT(Nm(De, qe).concat(vt)))) });
    }(0, ae, Ce, ce));
  }
  function Es(G) {
    i("pasted json as text", G), n(19, ut = G);
  }
  function zi(G) {
    var ce = G.anchor, Ce = G.left, Pe = G.top, De = G.width, qe = G.height, vt = G.offsetTop, dt = G.offsetLeft, $t = G.showTip;
    Me = !0;
    var Jn = m(bse, { json: c, documentState: ae, parser: _, showTip: $t, onEditKey: He, onEditValue: Rt, onToggleEnforceString: qt, onCut: zt, onCopy: de, onPaste: ze, onRemove: K, onDuplicate: re, onExtract: ue, onInsertBefore: Qt, onInsert: ft, onConvert: jt, onInsertAfter: Sn, onSort: je, onTransform: Be, onRenderContextMenu: O, onCloseContextMenu: function() {
      g(Jn), tr();
    } }, { left: Ce, top: Pe, offsetTop: vt, offsetLeft: dt, width: De, height: qe, anchor: ce, closeOnOuterClick: !0, onClose: function() {
      Me = !1, tr();
    } });
  }
  function Fi(G) {
    if (!x && !vi(ae.selection)) {
      if (G && (G.stopPropagation(), G.preventDefault()), G && G.type === "contextmenu" && G.target !== a)
        zi({ left: G.clientX, top: G.clientY, width: Ds, height: Ns, showTip: !1 });
      else {
        var ce, Ce = (ce = s) === null || ce === void 0 ? void 0 : ce.querySelector(".jse-context-menu-pointer.jse-selected");
        if (Ce)
          zi({ anchor: Ce, offsetTop: 2, width: Ds, height: Ns, showTip: !1 });
        else {
          var Pe, De = (Pe = s) === null || Pe === void 0 ? void 0 : Pe.getBoundingClientRect();
          De && zi({ top: De.top + 2, left: De.left + 2, width: Ds, height: Ns, showTip: !1 });
        }
      }
      return !1;
    }
  }
  function Go() {
    return (Go = Dt(Ne().mark(function G() {
      var ce, Ce, Pe, De, qe;
      return Ne().wrap(function(vt) {
        for (; ; )
          switch (vt.prev = vt.next) {
            case 0:
              if (i("apply pasted json", ut), ut) {
                vt.next = 3;
                break;
              }
              return vt.abrupt("return");
            case 3:
              Pe = (Ce = ut).path, De = Ce.contents, n(19, ut = void 0), lT(qe = ((ce = s) === null || ce === void 0 ? void 0 : ce.querySelector(".jse-editable-div")) || null) && qe.cancel(), bt([{ op: "replace", path: We(Pe), value: De }], function(dt, $t) {
                return { state: da(dt, $t, Pe) };
              }), setTimeout(tr);
            case 10:
            case "end":
              return vt.stop();
          }
      }, G);
    }))).apply(this, arguments);
  }
  function tr() {
    i("focus"), a && (a.focus(), a.select());
  }
  function Ei(G) {
    return function(ce, Ce, Pe) {
      var De = Zt(Pe), qe = [_t(Pe)], vt = Xe(ce, De), dt = vt ? Vg(vt, Ce, qe) : void 0;
      return dt ? Gt(De.concat(dt), !1) : zs(Pe);
    }(c, ae, G);
  }
  function Ko(G) {
    r && r.onDrag(G);
  }
  function pu() {
    r && r.onDragEnd();
  }
  return t.$$set = function(G) {
    "readOnly" in G && n(0, x = G.readOnly), "externalContent" in G && n(52, b = G.externalContent), "externalSelection" in G && n(53, w = G.externalSelection), "mainMenuBar" in G && n(1, j = G.mainMenuBar), "navigationBar" in G && n(2, k = G.navigationBar), "escapeControlCharacters" in G && n(54, N = G.escapeControlCharacters), "escapeUnicodeCharacters" in G && n(55, z = G.escapeUnicodeCharacters), "parser" in G && n(3, _ = G.parser), "parseMemoizeOne" in G && n(56, B = G.parseMemoizeOne), "validator" in G && n(57, I = G.validator), "validationParser" in G && n(58, Y = G.validationParser), "pathParser" in G && n(4, R = G.pathParser), "indentation" in G && n(5, Z = G.indentation), "onError" in G && n(6, ne = G.onError), "onChange" in G && n(59, V = G.onChange), "onChangeMode" in G && n(60, M = G.onChangeMode), "onSelect" in G && n(61, F = G.onSelect), "onRenderValue" in G && n(62, P = G.onRenderValue), "onRenderMenu" in G && n(7, T = G.onRenderMenu), "onRenderContextMenu" in G && n(63, O = G.onRenderContextMenu), "onClassName" in G && n(64, L = G.onClassName), "onFocus" in G && n(65, C = G.onFocus), "onBlur" in G && n(66, H = G.onBlur), "onSortModal" in G && n(67, ie = G.onSortModal), "onTransformModal" in G && n(68, te = G.onTransformModal), "onJSONEditorModal" in G && n(69, ke = G.onJSONEditorModal);
  }, t.$$.update = function() {
    25165824 & t.$$.dirty[1] && n(77, Ue = Fb({ escapeControlCharacters: N, escapeUnicodeCharacters: z })), 4096 & t.$$.dirty[0] && i("selection", ae.selection), 2097152 & t.$$.dirty[1] && Vn(b), 4194304 & t.$$.dirty[1] && function(G) {
      en(ae.selection, G) || (i("applyExternalSelection", G), (Yb(G) || G === null) && pe(G));
    }(w), 2048 & t.$$.dirty[0] | 65536 & t.$$.dirty[2] && wt(Ct, c), 2056 & t.$$.dirty[0] | 201326592 & t.$$.dirty[1] && Je(c, I, _, Y), 8192 & t.$$.dirty[0] && n(25, Oe = function(G) {
      var ce = {};
      return G.forEach(function(Ce) {
        ce[We(Ce.path)] = Ce;
      }), G.forEach(function(Ce) {
        for (var Pe = Ce.path; Pe.length > 0; ) {
          Pe = Zt(Pe);
          var De = We(Pe);
          De in ce || (ce[De] = { isChildError: !0, path: Pe, message: "Contains invalid data", severity: Ks.warning });
        }
      }), ce;
    }(En)), 1024 & t.$$.dirty[0] && (r = s ? function(G) {
      var ce, Ce;
      function Pe(dt) {
        return dt < 20 ? ane : dt < 50 ? lne : cne;
      }
      function De() {
        if (G) {
          var dt = (ce || 0) * (Gj / 1e3);
          G.scrollTop += dt;
        }
      }
      function qe(dt) {
        Ce && dt === ce || (vt(), Hg("startAutoScroll", dt), ce = dt, Ce = setInterval(De, Gj));
      }
      function vt() {
        Ce && (Hg("stopAutoScroll"), clearInterval(Ce), Ce = void 0, ce = void 0);
      }
      return Hg("createAutoScrollHandler", G), { onDrag: function(dt) {
        if (G) {
          var $t = dt.clientY, Jn = G.getBoundingClientRect(), or = Jn.top, Rn = Jn.bottom;
          $t < or ? qe(-Pe(or - $t)) : $t > Rn ? qe(Pe($t - Rn)) : vt();
        }
      }, onDragEnd: function() {
        vt();
      } };
    }(s) : void 0), 9 & t.$$.dirty[0] | 32773 & t.$$.dirty[2] && n(14, Ze = { readOnly: x, parser: _, normalization: Ue, getJson: Zn, getDocumentState: jn, findElement: et, findNextInside: Ei, focus: tr, onPatch: bt, onInsert: ye, onExpand: Un, onSelect: pe, onFind: Ai, onExpandSection: Ya, onPasteJson: Es, onRenderValue: P, onContextMenu: zi, onClassName: L || function() {
    }, onDrag: Ko, onDragEnd: pu }), 16384 & t.$$.dirty[0] && i("context changed", Ze);
  }, [x, j, k, _, R, Z, ne, T, function() {
    return kt && c !== void 0 && pn(c), c !== void 0 ? { json: c } : { text: u || "" };
  }, tr, s, c, ae, En, Ze, a, l, u, Fe, ut, At, Ge, me, $e, kt, Oe, o, _n, function() {
    return un.apply(this, arguments);
  }, function() {
    return Xn.apply(this, arguments);
  }, function(G, ce) {
    return kn.apply(this, arguments);
  }, function(G, ce) {
    return D.apply(this, arguments);
  }, function() {
    n(20, At = !1), n(21, Ge = !1), _n(""), tr();
  }, function(G) {
    i("select validation error", G), pe(Gt(G.path, !1)), Ye(G.path);
  }, de, function(G) {
    var ce;
    G.preventDefault();
    var Ce = (ce = G.clipboardData) === null || ce === void 0 ? void 0 : ce.getData("text/plain");
    Ce !== void 0 && KT({ clipboardText: Ce, json: c, selection: ae.selection, readOnly: x, parser: _, onPatch: bt, onChangeText: On, openRepairModal: q });
  }, Mn, bn, Ln, function() {
    J([]);
  }, function() {
    Ie({ rootPath: [] });
  }, function() {
    Un([], !0, !0);
  }, function() {
    Un([], !1, !0);
  }, function(G) {
    var ce = Ga(G), Ce = G.shiftKey;
    if (i("keydown", { combo: ce, key: G.key }), ce === "Ctrl+X" && (G.preventDefault(), zt(!0)), ce === "Ctrl+Shift+X" && (G.preventDefault(), zt(!1)), ce === "Ctrl+C" && (G.preventDefault(), de(!0)), ce === "Ctrl+Shift+C" && (G.preventDefault(), de(!1)), ce === "Ctrl+D" && (G.preventDefault(), re()), ce !== "Delete" && ce !== "Backspace" || (G.preventDefault(), K()), ce === "Insert" && (G.preventDefault(), ye("structure")), ce === "Ctrl+A" && (G.preventDefault(), pe(Gt([], !1))), ce === "Ctrl+Q" && Fi(G), ce === "ArrowUp" || ce === "Shift+ArrowUp") {
      G.preventDefault();
      var Pe = ae.selection ? m$(c, ae, Ce) || ae.selection : Gl(c, ae);
      pe(Pe), Xt(ht(Pe));
    }
    if (ce === "ArrowDown" || ce === "Shift+ArrowDown") {
      G.preventDefault();
      var De = ae.selection ? function(or, Rn) {
        var Vi = arguments.length > 2 && arguments[2] !== void 0 && arguments[2], Tr = Rn.selection;
        if (!Tr)
          return null;
        var Gn = Vi ? ht(Tr) : Ca(or, Tr), oi = cr(Xe(or, Gn)) ? f$(Rn, Gn) : Rn, pr = Vg(or, Rn, Gn), Gr = Vg(or, oi, Gn);
        if (Vi)
          return Cr(Tr) ? pr !== null ? ui(pr, pr) : null : Ii(Tr) ? Gr !== null ? ui(Gr, Gr) : null : Gr !== null ? ui(ml(Tr), Gr) : null;
        if (Ii(Tr))
          return Gr !== null ? Gt(Gr, !1) : null;
        if (Cr(Tr) || sn(Tr))
          return pr !== null ? Gt(pr, !1) : null;
        if (jr(Tr)) {
          if (pr === null || pr.length === 0)
            return null;
          var Qa = Zt(pr), Fl = Xe(or, Qa);
          return Array.isArray(Fl) ? Gt(pr, !1) : yo(pr, !1);
        }
        return Tn(Tr) ? Gr !== null ? Gt(Gr, !1) : pr !== null ? Gt(pr, !1) : null : null;
      }(c, ae, Ce) || ae.selection : Gl(c, ae);
      pe(De), Xt(ht(De));
    }
    if (ce === "ArrowLeft" || ce === "Shift+ArrowLeft") {
      G.preventDefault();
      var qe = ae.selection ? function(or, Rn) {
        var Vi = arguments.length > 2 && arguments[2] !== void 0 && arguments[2], Tr = !(arguments.length > 3 && arguments[3] !== void 0) || arguments[3], Gn = Rn.selection;
        if (!Gn)
          return null;
        var oi = g$(or, Rn, Tr), pr = oi.caret, Gr = oi.previous;
        if (Vi)
          return Tn(Gn) ? null : ui(Gn.path, Gn.path);
        if (pr && Gr)
          return M0(Gr);
        var Qa = Zt(ht(Gn)), Fl = Xe(or, Qa);
        return sn(Gn) && Array.isArray(Fl) ? ui(Gn.path, Gn.path) : Tn(Gn) && !Array.isArray(Fl) ? yo(Gn.focusPath, !1) : null;
      }(c, ae, Ce, !x) || ae.selection : Gl(c, ae);
      pe(qe), Xt(ht(qe));
    }
    if (ce === "ArrowRight" || ce === "Shift+ArrowRight") {
      G.preventDefault();
      var vt = ae.selection && c !== void 0 ? function(or, Rn) {
        var Vi = arguments.length > 2 && arguments[2] !== void 0 && arguments[2], Tr = !(arguments.length > 3 && arguments[3] !== void 0) || arguments[3], Gn = Rn.selection;
        if (!Gn)
          return null;
        var oi = g$(or, Rn, Tr), pr = oi.caret, Gr = oi.next;
        return Vi ? Tn(Gn) ? null : ui(Gn.path, Gn.path) : pr && Gr ? M0(Gr) : Tn(Gn) ? Gt(Gn.focusPath, !1) : null;
      }(c, ae, Ce, !x) || ae.selection : Gl(c, ae);
      pe(vt), Xt(ht(vt));
    }
    if (ce === "Enter" && ae.selection) {
      if (Dm(ae.selection)) {
        var dt = ae.selection.focusPath, $t = Xe(c, Zt(dt));
        Array.isArray($t) && pe(Gt(dt, !1));
      }
      jr(ae.selection) && (G.preventDefault(), pe(he(he({}, ae.selection), {}, { edit: !0 }))), sn(ae.selection) && (G.preventDefault(), cr(Xe(c, ae.selection.path)) ? Un(ae.selection.path, !0) : pe(he(he({}, ae.selection), {}, { edit: !0 })));
    }
    if (ce.replace(/^Shift\+/, "").length === 1 && ae.selection)
      return G.preventDefault(), void Mn(G.key);
    if (ce === "Enter" && (Ii(ae.selection) || Cr(ae.selection)))
      return G.preventDefault(), void Mn("");
    if (ce === "Ctrl+Enter" && sn(ae.selection)) {
      var Jn = Xe(c, ae.selection.path);
      Rm(Jn) && window.open(String(Jn), "_blank");
    }
    ce === "Escape" && ae.selection && (G.preventDefault(), pe(null)), ce === "Ctrl+F" && (G.preventDefault(), Ai(!1)), ce === "Ctrl+H" && (G.preventDefault(), Ai(!0)), ce === "Ctrl+Z" && (G.preventDefault(), bn()), ce === "Ctrl+Shift+Z" && (G.preventDefault(), Ln());
  }, function(G) {
    i("handleMouseDown", G);
    var ce = G.target;
    Vb(ce, "BUTTON") || ce.isContentEditable || (tr(), ae.selection || c !== void 0 || u !== "" && u !== void 0 || (i("createDefaultSelection"), n(12, ae = he(he({}, ae), {}, { selection: Gt([], !1) }))));
  }, Fi, function(G) {
    x || zi({ anchor: sT(G.target, "BUTTON"), offsetTop: 0, width: Ds, height: Ns, showTip: !0 });
  }, function() {
    return Go.apply(this, arguments);
  }, function() {
    i("clear pasted json"), n(19, ut = void 0), tr();
  }, function() {
    M(ei.text);
  }, function(G) {
    pe(G), tr(), Ye(ht(G));
  }, function(G) {
    var ce = !id(G.target, function(Ce) {
      return Ce === l;
    });
    ce && vi(ae.selection) && (i("click outside the editor, stop edit mode"), pe(function(Ce) {
      return jr(Ce) || sn(Ce) ? he(he({}, Ce), {}, { edit: !1 }) : Ce;
    }), v && a && (a.focus(), a.blur()), i("blur (outside editor)"), a && a.blur());
  }, b, w, N, z, B, I, Y, V, M, F, P, O, L, C, H, ie, te, ke, function() {
    var G = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : Zu;
    i("expand");
    var ce = he(he({}, ae), {}, { expandedMap: {}, visibleSectionsMap: {} });
    n(12, ae = ao(c, ce, [], G));
  }, yn, Zn, ve, Ie, Ye, et, Ue, Ct, function(G) {
    n(20, At = G);
  }, function(G) {
    tn[G ? "unshift" : "push"](function() {
      n(15, a = G);
    });
  }, function() {
    tr(), Mn("{");
  }, function() {
    tr(), Mn("[");
  }, function() {
    tr();
  }, function(G) {
    tn[G ? "unshift" : "push"](function() {
      n(10, s = G);
    });
  }, function(G) {
    tn[G ? "unshift" : "push"](function() {
      n(16, l = G);
    });
  }];
}
var c2 = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, mle, ple, Lt, { readOnly: 0, externalContent: 52, externalSelection: 53, mainMenuBar: 1, navigationBar: 2, escapeControlCharacters: 54, escapeUnicodeCharacters: 55, parser: 3, parseMemoizeOne: 56, validator: 57, validationParser: 58, pathParser: 4, indentation: 5, onError: 6, onChange: 59, onChangeMode: 60, onSelect: 61, onRenderValue: 62, onRenderMenu: 7, onRenderContextMenu: 63, onClassName: 64, onFocus: 65, onBlur: 66, onSortModal: 67, onTransformModal: 68, onJSONEditorModal: 69, expand: 70, validate: 71, getJson: 72, patch: 73, acceptAutoRepair: 8, openTransformModal: 74, scrollTo: 75, findElement: 76, focus: 9 }, ale, [-1, -1, -1, -1, -1]), r;
  }
  return at(e, ct), ot(e, [{ key: "expand", get: function() {
    return this.$$.ctx[70];
  } }, { key: "validate", get: function() {
    return this.$$.ctx[71];
  } }, { key: "getJson", get: function() {
    return this.$$.ctx[72];
  } }, { key: "patch", get: function() {
    return this.$$.ctx[73];
  } }, { key: "acceptAutoRepair", get: function() {
    return this.$$.ctx[8];
  } }, { key: "openTransformModal", get: function() {
    return this.$$.ctx[74];
  } }, { key: "scrollTo", get: function() {
    return this.$$.ctx[75];
  } }, { key: "findElement", get: function() {
    return this.$$.ctx[76];
  } }, { key: "focus", get: function() {
    return this.$$.ctx[9];
  } }]), e;
}();
function gle(t) {
  Tt(t, "svelte-l4qqoi", '.jse-modal.svelte-l4qqoi.svelte-l4qqoi{flex:1;display:flex;flex-direction:column;min-width:0;min-height:0;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);line-height:normal;background:var(--jse-modal-background, #f5f5f5);color:var(--jse-text-color, #4d4d4d)}.jse-modal.svelte-l4qqoi .svelte-select{--border:var(--jse-svelte-select-border, 1px solid #d8dbdf);--item-is-active-bg:var(--jse-item-is-active-bg, #3883fa);--border-radius:var(--jse-svelte-select-border-radius, 3px);--background:var(--jse-svelte-select-background, #fff);--padding:var(--jse-svelte-select-padding, 0 10px);--multi-select-padding:var(--jse-svelte-select-multi-select-padding, 0 10px);--font-size:var(--jse-svelte-select-font-size, var(--jse-font-size, 16px));--height:36px;--multi-item-height:28px;--multi-item-margin:2px;--multi-item-padding:2px 8px;--multi-item-border-radius:6px;--indicator-top:8px}.jse-modal.svelte-l4qqoi .jse-modal-contents.svelte-l4qqoi{flex:1;display:flex;flex-direction:column;padding:20px;overflow:auto;min-width:0;min-height:0}.jse-modal.svelte-l4qqoi .jse-modal-contents .jse-actions.svelte-l4qqoi{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding, 10px)}.jse-modal.svelte-l4qqoi .jse-modal-contents .jse-actions button.jse-primary.svelte-l4qqoi{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-modal.svelte-l4qqoi .jse-modal-contents .jse-actions button.jse-primary.svelte-l4qqoi:hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-modal.svelte-l4qqoi .jse-modal-contents .jse-actions button.jse-primary.svelte-l4qqoi:disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.bg.jse-modal-bg{width:100%;height:100%;top:0;left:0;background:var(--jse-overlay-background, rgba(0, 0, 0, 0.3))}.bg.jse-modal-bg .jse-modal-window-wrap{margin:0}.bg.jse-modal-bg .jse-modal-window{max-width:90%;margin:4rem auto 2rem auto;border-radius:2px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-sort{width:400px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-transform{width:1200px;height:1200px;max-height:80%;display:flex}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-jsoneditor{width:800px;height:auto;min-height:500px;max-height:calc(100vh - 6rem);display:flex}.bg.jse-modal-bg .jse-modal-container{flex:1;display:flex;flex-direction:column;padding:0}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents.svelte-l4qqoi{color:inherit;min-height:0;padding:0}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents.svelte-l4qqoi{flex:1;display:flex;gap:calc(2 * var(--jse-padding, 10px));min-height:0;box-sizing:border-box;padding:0 calc(2 * var(--jse-padding, 10px)) var(--jse-padding, 10px)}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-query-contents.svelte-l4qqoi{flex:1;display:flex;flex-direction:column}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-query-contents .jse-description.svelte-l4qqoi p{margin:var(--jse-padding, 10px) 0}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-query-contents .jse-description.svelte-l4qqoi p:first-child{margin-top:0}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-query-contents .jse-description.svelte-l4qqoi p:last-child{margin-bottom:0}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-query-contents .jse-description.svelte-l4qqoi code{background:var(--jse-modal-code-background, rgba(0, 0, 0, 0.05));font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px)}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-query-contents textarea.jse-query.svelte-l4qqoi{flex:1;outline:none;resize:vertical}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-data-contents.svelte-l4qqoi{flex:1;display:flex;flex-direction:column;gap:calc(2 * var(--jse-padding, 10px))}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-data-contents .jse-original-data.svelte-l4qqoi{flex:1;display:flex;flex-direction:column;min-height:0;box-sizing:border-box}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-data-contents .jse-original-data.jse-hide.svelte-l4qqoi{flex:none}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-data-contents .jse-preview-data.svelte-l4qqoi{flex:1;display:flex;flex-direction:column;min-height:0;box-sizing:border-box}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-data-contents.jse-hide-original-data.svelte-l4qqoi{flex-direction:column;gap:0;margin-bottom:0}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-actions.svelte-l4qqoi{padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px)) calc(2 * var(--jse-padding, 10px))}@media screen and (max-width: 1200px){.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents.svelte-l4qqoi{flex-direction:column;overflow:auto}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-query-contents textarea.jse-query.svelte-l4qqoi{min-height:150px;flex:none}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-data-contents.svelte-l4qqoi .jse-tree-mode{height:300px;flex:none}}.jse-modal.jse-transform.svelte-l4qqoi .jse-label.svelte-l4qqoi{font-weight:bold;display:block;box-sizing:border-box}.jse-modal.jse-transform.svelte-l4qqoi .jse-label .jse-label-inner.svelte-l4qqoi{margin-top:calc(2 * var(--jse-padding, 10px));margin-bottom:calc(0.5 * var(--jse-padding, 10px));box-sizing:border-box}.jse-modal.jse-transform.svelte-l4qqoi .jse-label .jse-label-inner button.svelte-l4qqoi{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;font-weight:bold;padding:0}.jse-modal.jse-transform.svelte-l4qqoi .jse-tree-mode{flex:1;background:var(--jse-input-background-readonly, transparent);box-shadow:none;box-sizing:border-box;--jse-main-border:var(--jse-input-border, 1px solid #d8dbdf)}.jse-modal.jse-transform.svelte-l4qqoi input.svelte-l4qqoi,.jse-modal.jse-transform.svelte-l4qqoi textarea.svelte-l4qqoi{border:var(--jse-input-border, 1px solid #d8dbdf);outline:none;box-sizing:border-box;padding:calc(0.5 * var(--jse-padding, 10px));font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);color:inherit;background:var(--jse-input-background, var(--jse-background-color, #fff))}.jse-modal.jse-transform.svelte-l4qqoi input.svelte-l4qqoi:focus,.jse-modal.jse-transform.svelte-l4qqoi textarea.svelte-l4qqoi:focus{border:var(--jse-input-border-focus, 1px solid var(--jse-input-border-focus, var(--jse-theme-color, #3883fa)))}.jse-modal.jse-transform.svelte-l4qqoi input.svelte-l4qqoi:read-only,.jse-modal.jse-transform.svelte-l4qqoi textarea.svelte-l4qqoi:read-only{background:var(--jse-input-background-readonly, transparent)}.jse-modal.jse-transform.svelte-l4qqoi .jse-preview.jse-error.svelte-l4qqoi{flex:1;background:var(--jse-input-background-readonly, transparent);border:var(--jse-input-border, 1px solid #d8dbdf);color:var(--jse-error-color, #ee5341);padding:calc(0.5 * var(--jse-padding, 10px))}.jse-modal.jse-transform.svelte-l4qqoi a{color:var(--jse-a-color, #156fc5)}.jse-modal.jse-transform.svelte-l4qqoi a:hover{color:var(--jse-a-color-highlight, #0f508d)}');
}
function q4(t) {
  var e, n, r, i, o, s = [yle, vle], a = [];
  function l(c, u) {
    return 16384 & u[0] && (e = null), e == null && (e = !!Array.isArray(c[14])), e ? 0 : 1;
  }
  return n = l(t, [-1, -1]), r = a[n] = s[n](t), { c: function() {
    r.c(), i = wn();
  }, m: function(c, u) {
    a[n].m(c, u), X(c, i, u), o = !0;
  }, p: function(c, u) {
    var f = n;
    (n = l(c, u)) === f ? a[n].p(c, u) : (Ae(), A(a[f], 1, 1, function() {
      a[f] = null;
    }), Ee(), (r = a[n]) ? r.p(c, u) : (r = a[n] = s[n](c)).c(), S(r, 1), r.m(i.parentNode, i));
  }, i: function(c) {
    o || (S(r), o = !0);
  }, o: function(c) {
    A(r), o = !1;
  }, d: function(c) {
    c && Q(i), a[n].d(c);
  } };
}
function vle(t) {
  var e;
  return { c: function() {
    e = Le("(Only available for arrays, not for objects)");
  }, m: function(n, r) {
    X(n, e, r);
  }, p: Te, i: Te, o: Te, d: function(n) {
    n && Q(e);
  } };
}
function yle(t) {
  var e, n;
  return e = new zie({ props: { queryOptions: t[15], json: t[14], onChange: t[24] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    32768 & i[0] && (o.queryOptions = r[15]), 16384 & i[0] && (o.json = r[14]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function z4(t) {
  var e, n;
  return e = new c2({ props: { externalContent: t[17], externalSelection: null, readOnly: !0, mainMenuBar: !1, navigationBar: !1, indentation: t[2], escapeControlCharacters: t[3], escapeUnicodeCharacters: t[4], parser: t[5], parseMemoizeOne: t[6], onRenderValue: t[10], onRenderMenu: t[11], onRenderContextMenu: t[12], onError: console.error, onChange: Kn, onChangeMode: Kn, onSelect: Kn, onFocus: Kn, onBlur: Kn, onSortModal: Kn, onTransformModal: Kn, onJSONEditorModal: Kn, onClassName: t[13], validator: null, validationParser: t[7], pathParser: t[8] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    131072 & i[0] && (o.externalContent = r[17]), 4 & i[0] && (o.indentation = r[2]), 8 & i[0] && (o.escapeControlCharacters = r[3]), 16 & i[0] && (o.escapeUnicodeCharacters = r[4]), 32 & i[0] && (o.parser = r[5]), 64 & i[0] && (o.parseMemoizeOne = r[6]), 1024 & i[0] && (o.onRenderValue = r[10]), 2048 & i[0] && (o.onRenderMenu = r[11]), 4096 & i[0] && (o.onRenderContextMenu = r[12]), 8192 & i[0] && (o.onClassName = r[13]), 128 & i[0] && (o.validationParser = r[7]), 256 & i[0] && (o.pathParser = r[8]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function ble(t) {
  var e, n;
  return { c: function() {
    e = U("div"), n = Le(t[20]), $(e, "class", "jse-preview jse-error svelte-l4qqoi");
  }, m: function(r, i) {
    X(r, e, i), E(e, n);
  }, p: function(r, i) {
    1048576 & i[0] && yt(n, r[20]);
  }, i: Te, o: Te, d: function(r) {
    r && Q(e);
  } };
}
function xle(t) {
  var e, n;
  return e = new c2({ props: { externalContent: t[21], externalSelection: null, readOnly: !0, mainMenuBar: !1, navigationBar: !1, indentation: t[2], escapeControlCharacters: t[3], escapeUnicodeCharacters: t[4], parser: t[5], parseMemoizeOne: t[6], onRenderValue: t[10], onRenderMenu: t[11], onRenderContextMenu: t[12], onError: console.error, onChange: Kn, onChangeMode: Kn, onSelect: Kn, onFocus: Kn, onBlur: Kn, onSortModal: Kn, onTransformModal: Kn, onJSONEditorModal: Kn, onClassName: t[13], validator: null, validationParser: t[7], pathParser: t[8] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    2097152 & i[0] && (o.externalContent = r[21]), 4 & i[0] && (o.indentation = r[2]), 8 & i[0] && (o.escapeControlCharacters = r[3]), 16 & i[0] && (o.escapeUnicodeCharacters = r[4]), 32 & i[0] && (o.parser = r[5]), 64 & i[0] && (o.parseMemoizeOne = r[6]), 1024 & i[0] && (o.onRenderValue = r[10]), 2048 & i[0] && (o.onRenderMenu = r[11]), 4096 & i[0] && (o.onRenderContextMenu = r[12]), 8192 & i[0] && (o.onClassName = r[13]), 128 & i[0] && (o.validationParser = r[7]), 256 & i[0] && (o.pathParser = r[8]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function wle(t) {
  var e, n, r, i, o, s, a, l, c, u, f, d, h, p, m, g, v, y, x, b, w, j, k, N, z, _, B, I, Y, R, Z, ne, V, M, F, P, T, O, L, C, H, ie, te, ke, Me, fe, pe, Fe = t[23](t[0]).description + "";
  e = new Qie({ props: { queryLanguages: t[9], queryLanguageId: t[0], onChangeQueryLanguage: t[29] } }), y = new cn({ props: { data: t[18] ? uo : ha } });
  var Ue = t[18] && q4(t);
  Z = new cn({ props: { data: t[19] ? uo : ha } });
  var ut = t[19] && z4(t), rn = [xle, ble], ae = [];
  function At(Ge, me) {
    return Ge[20] ? 1 : 0;
  }
  return O = At(t), L = ae[O] = rn[O](t), { c: function() {
    we(e.$$.fragment), n = le(), r = U("div"), i = U("div"), o = U("div"), (s = U("div")).innerHTML = '<div class="jse-label-inner svelte-l4qqoi">Language</div>', a = le(), l = U("div"), c = le(), (u = U("div")).innerHTML = '<div class="jse-label-inner svelte-l4qqoi">Path</div>', f = le(), d = U("input"), p = le(), m = U("div"), g = U("div"), v = U("button"), we(y.$$.fragment), x = Le(`
                Wizard`), b = le(), Ue && Ue.c(), w = le(), (j = U("div")).innerHTML = '<div class="jse-label-inner svelte-l4qqoi">Query</div>', k = le(), N = U("textarea"), z = le(), _ = U("div"), B = U("div"), I = U("div"), Y = U("div"), R = U("button"), we(Z.$$.fragment), ne = Le(`
                  Original`), V = le(), ut && ut.c(), M = le(), F = U("div"), (P = U("div")).innerHTML = '<div class="jse-label-inner svelte-l4qqoi">Preview</div>', T = le(), L.c(), C = le(), H = U("div"), ie = U("button"), te = Le("Transform"), $(s, "class", "jse-label svelte-l4qqoi"), $(l, "class", "jse-description svelte-l4qqoi"), $(u, "class", "jse-label svelte-l4qqoi"), $(d, "class", "jse-path svelte-l4qqoi"), $(d, "type", "text"), d.readOnly = !0, $(d, "title", "Selected path"), d.value = h = dn(t[1]) ? "(document root)" : qi(t[1]), $(v, "type", "button"), $(v, "class", "svelte-l4qqoi"), $(g, "class", "jse-label-inner svelte-l4qqoi"), $(m, "class", "jse-label svelte-l4qqoi"), $(j, "class", "jse-label svelte-l4qqoi"), $(N, "class", "jse-query svelte-l4qqoi"), $(N, "spellcheck", "false"), N.value = t[16], $(o, "class", "jse-query-contents svelte-l4qqoi"), $(R, "type", "button"), $(R, "class", "svelte-l4qqoi"), $(Y, "class", "jse-label-inner svelte-l4qqoi"), $(I, "class", "jse-label svelte-l4qqoi"), $(B, "class", "jse-original-data svelte-l4qqoi"), Se(B, "jse-hide", !t[19]), $(P, "class", "jse-label svelte-l4qqoi"), $(F, "class", "jse-preview-data svelte-l4qqoi"), $(_, "class", "jse-data-contents svelte-l4qqoi"), Se(_, "jse-hide-original-data", !t[19]), $(i, "class", "jse-main-contents svelte-l4qqoi"), $(ie, "type", "button"), $(ie, "class", "jse-primary svelte-l4qqoi"), ie.disabled = ke = !!t[20], $(H, "class", "jse-actions svelte-l4qqoi"), $(r, "class", "jse-modal-contents svelte-l4qqoi");
  }, m: function(Ge, me) {
    be(e, Ge, me), X(Ge, n, me), X(Ge, r, me), E(r, i), E(i, o), E(o, s), E(o, a), E(o, l), l.innerHTML = Fe, E(o, c), E(o, u), E(o, f), E(o, d), E(o, p), E(o, m), E(m, g), E(g, v), be(y, v, null), E(v, x), E(o, b), Ue && Ue.m(o, null), E(o, w), E(o, j), E(o, k), E(o, N), E(i, z), E(i, _), E(_, B), E(B, I), E(I, Y), E(Y, R), be(Z, R, null), E(R, ne), E(B, V), ut && ut.m(B, null), E(_, M), E(_, F), E(F, P), E(F, T), ae[O].m(F, null), E(r, C), E(r, H), E(H, ie), E(ie, te), Me = !0, fe || (pe = [_e(v, "click", t[27]), _e(N, "input", t[25]), _e(R, "click", t[28]), _e(ie, "click", t[26]), Wr($le.call(null, ie))], fe = !0);
  }, p: function(Ge, me) {
    var Ct = {};
    512 & me[0] && (Ct.queryLanguages = Ge[9]), 1 & me[0] && (Ct.queryLanguageId = Ge[0]), e.$set(Ct), (!Me || 1 & me[0]) && Fe !== (Fe = Ge[23](Ge[0]).description + "") && (l.innerHTML = Fe), (!Me || 2 & me[0] && h !== (h = dn(Ge[1]) ? "(document root)" : qi(Ge[1])) && d.value !== h) && (d.value = h);
    var _n = {};
    262144 & me[0] && (_n.data = Ge[18] ? uo : ha), y.$set(_n), Ge[18] ? Ue ? (Ue.p(Ge, me), 262144 & me[0] && S(Ue, 1)) : ((Ue = q4(Ge)).c(), S(Ue, 1), Ue.m(o, w)) : Ue && (Ae(), A(Ue, 1, 1, function() {
      Ue = null;
    }), Ee()), (!Me || 65536 & me[0]) && (N.value = Ge[16]);
    var Ut = {};
    524288 & me[0] && (Ut.data = Ge[19] ? uo : ha), Z.$set(Ut), Ge[19] ? ut ? (ut.p(Ge, me), 524288 & me[0] && S(ut, 1)) : ((ut = z4(Ge)).c(), S(ut, 1), ut.m(B, null)) : ut && (Ae(), A(ut, 1, 1, function() {
      ut = null;
    }), Ee()), (!Me || 524288 & me[0]) && Se(B, "jse-hide", !Ge[19]);
    var un = O;
    (O = At(Ge)) === un ? ae[O].p(Ge, me) : (Ae(), A(ae[un], 1, 1, function() {
      ae[un] = null;
    }), Ee(), (L = ae[O]) ? L.p(Ge, me) : (L = ae[O] = rn[O](Ge)).c(), S(L, 1), L.m(F, null)), (!Me || 524288 & me[0]) && Se(_, "jse-hide-original-data", !Ge[19]), (!Me || 1048576 & me[0] && ke !== (ke = !!Ge[20])) && (ie.disabled = ke);
  }, i: function(Ge) {
    Me || (S(e.$$.fragment, Ge), S(y.$$.fragment, Ge), S(Ue), S(Z.$$.fragment, Ge), S(ut), S(L), Me = !0);
  }, o: function(Ge) {
    A(e.$$.fragment, Ge), A(y.$$.fragment, Ge), A(Ue), A(Z.$$.fragment, Ge), A(ut), A(L), Me = !1;
  }, d: function(Ge) {
    Ge && (Q(n), Q(r)), xe(e, Ge), xe(y), Ue && Ue.d(), xe(Z), ut && ut.d(), ae[O].d(), fe = !1, Dn(pe);
  } };
}
function jle(t) {
  var e, n, r, i, o;
  return n = new cT({ props: { $$slots: { default: [wle] }, $$scope: { ctx: t } } }), { c: function() {
    e = U("div"), we(n.$$.fragment), $(e, "class", "jse-modal jse-transform svelte-l4qqoi");
  }, m: function(s, a) {
    X(s, e, a), be(n, e, null), r = !0, i || (o = Wr(Hm.call(null, e, t[22])), i = !0);
  }, p: function(s, a) {
    var l = {};
    4194303 & a[0] | 2048 & a[1] && (l.$$scope = { dirty: a, ctx: s }), n.$set(l);
  }, i: function(s) {
    r || (S(n.$$.fragment, s), r = !0);
  }, o: function(s) {
    A(n.$$.fragment, s), r = !1;
  }, d: function(s) {
    s && Q(e), xe(n), i = !1, o();
  } };
}
function $le(t) {
  t.focus();
}
function kle(t, e, n) {
  var r, i, o = Jr("jsoneditor:TransformModal"), s = e.id, a = s === void 0 ? "transform-modal-" + Xu() : s, l = e.json, c = e.rootPath, u = c === void 0 ? [] : c, f = e.indentation, d = e.escapeControlCharacters, h = e.escapeUnicodeCharacters, p = e.parser, m = e.parseMemoizeOne, g = e.validationParser, v = e.pathParser, y = e.queryLanguages, x = e.queryLanguageId, b = e.onChangeQueryLanguage, w = e.onRenderValue, j = e.onRenderMenu, k = e.onRenderContextMenu, N = e.onClassName, z = e.onTransform, _ = Hr("simple-modal").close, B = "".concat(a, ":").concat(We(u)), I = _u[B] || {}, Y = Xd.showWizard !== !1, R = Xd.showOriginal !== !1, Z = I.queryOptions || {}, ne = x === I.queryLanguageId && I.query ? I.query : P(x).createQuery(l, I.queryOptions || {}), V = I.isManual || !1, M = void 0, F = { text: "" };
  function P(O) {
    return y.find(function(L) {
      return L.id === O;
    }) || y[0];
  }
  var T = Xc(function(O, L) {
    if (O === void 0)
      return n(21, F = { text: "" }), void n(20, M = "Error: No JSON");
    try {
      o("previewTransform", { query: L });
      var C = P(x).executeQuery(O, L, p);
      n(21, F = { json: C }), n(20, M = void 0);
    } catch (H) {
      n(21, F = { text: "" }), n(20, M = String(H));
    }
  }, 300);
  return t.$$set = function(O) {
    "id" in O && n(30, a = O.id), "json" in O && n(31, l = O.json), "rootPath" in O && n(1, u = O.rootPath), "indentation" in O && n(2, f = O.indentation), "escapeControlCharacters" in O && n(3, d = O.escapeControlCharacters), "escapeUnicodeCharacters" in O && n(4, h = O.escapeUnicodeCharacters), "parser" in O && n(5, p = O.parser), "parseMemoizeOne" in O && n(6, m = O.parseMemoizeOne), "validationParser" in O && n(7, g = O.validationParser), "pathParser" in O && n(8, v = O.pathParser), "queryLanguages" in O && n(9, y = O.queryLanguages), "queryLanguageId" in O && n(0, x = O.queryLanguageId), "onChangeQueryLanguage" in O && n(32, b = O.onChangeQueryLanguage), "onRenderValue" in O && n(10, w = O.onRenderValue), "onRenderMenu" in O && n(11, j = O.onRenderMenu), "onRenderContextMenu" in O && n(12, k = O.onRenderContextMenu), "onClassName" in O && n(13, N = O.onClassName), "onTransform" in O && n(33, z = O.onTransform);
  }, t.$$.update = function() {
    2 & t.$$.dirty[0] | 1 & t.$$.dirty[1] && n(14, r = Xe(l, u)), 16384 & t.$$.dirty[0] && n(17, i = r ? { json: r } : { text: "" }), 81920 & t.$$.dirty[0] && T(r, ne), 98305 & t.$$.dirty[0] | 24 & t.$$.dirty[1] && (n(34, _u[B] = { queryOptions: Z, query: ne, queryLanguageId: x, isManual: V }, _u), o("store state in memory", B, _u[B]));
  }, [x, u, f, d, h, p, m, g, v, y, w, j, k, N, r, Z, ne, i, Y, R, M, F, _, P, function(O) {
    n(15, Z = O), n(16, ne = P(x).createQuery(l, O)), n(35, V = !1), o("updateQueryByWizard", { queryOptions: Z, query: ne, isManual: V });
  }, function(O) {
    n(16, ne = O.target.value), n(35, V = !0), o("handleChangeQuery", { query: ne, isManual: V });
  }, function() {
    if (r === void 0)
      return n(21, F = { text: "" }), void n(20, M = "Error: No JSON");
    try {
      o("handleTransform", { query: ne });
      var O = P(x).executeQuery(r, ne, p);
      z([{ op: "replace", path: We(u), value: O }]), _();
    } catch (L) {
      console.error(L), n(21, F = { text: "" }), n(20, M = String(L));
    }
  }, function() {
    n(18, Y = !Y), Xd.showWizard = Y;
  }, function() {
    n(19, R = !R), Xd.showOriginal = R;
  }, function(O) {
    o("handleChangeQueryLanguage", O), n(0, x = O), b(O);
    var L = P(x);
    n(16, ne = L.createQuery(l, Z)), n(35, V = !1);
  }, a, l, b, z, _u, V];
}
var Sle = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, kle, jle, Lt, { id: 30, json: 31, rootPath: 1, indentation: 2, escapeControlCharacters: 3, escapeUnicodeCharacters: 4, parser: 5, parseMemoizeOne: 6, validationParser: 7, pathParser: 8, queryLanguages: 9, queryLanguageId: 0, onChangeQueryLanguage: 32, onRenderValue: 10, onRenderMenu: 11, onRenderContextMenu: 12, onClassName: 13, onTransform: 33 }, gle, [-1, -1]), r;
  }
  return at(e, ct), ot(e);
}(), Kl = {};
function Cle(t) {
  Tt(t, "svelte-qjdk97", '.jse-modal.svelte-qjdk97.svelte-qjdk97{flex:1;display:flex;flex-direction:column;min-width:0;min-height:0;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);line-height:normal;background:var(--jse-modal-background, #f5f5f5);color:var(--jse-text-color, #4d4d4d)}.jse-modal.svelte-qjdk97 .svelte-select{--border:var(--jse-svelte-select-border, 1px solid #d8dbdf);--item-is-active-bg:var(--jse-item-is-active-bg, #3883fa);--border-radius:var(--jse-svelte-select-border-radius, 3px);--background:var(--jse-svelte-select-background, #fff);--padding:var(--jse-svelte-select-padding, 0 10px);--multi-select-padding:var(--jse-svelte-select-multi-select-padding, 0 10px);--font-size:var(--jse-svelte-select-font-size, var(--jse-font-size, 16px));--height:36px;--multi-item-height:28px;--multi-item-margin:2px;--multi-item-padding:2px 8px;--multi-item-border-radius:6px;--indicator-top:8px}.jse-modal.svelte-qjdk97 .jse-modal-contents.svelte-qjdk97{flex:1;display:flex;flex-direction:column;padding:20px;overflow:auto;min-width:0;min-height:0}.jse-modal.svelte-qjdk97 .jse-modal-contents .jse-actions.svelte-qjdk97{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding, 10px)}.jse-modal.svelte-qjdk97 .jse-modal-contents .jse-actions button.jse-primary.svelte-qjdk97{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-modal.svelte-qjdk97 .jse-modal-contents .jse-actions button.jse-primary.svelte-qjdk97:hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-modal.svelte-qjdk97 .jse-modal-contents .jse-actions button.jse-primary.svelte-qjdk97:disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.bg.jse-modal-bg{width:100%;height:100%;top:0;left:0;background:var(--jse-overlay-background, rgba(0, 0, 0, 0.3))}.bg.jse-modal-bg .jse-modal-window-wrap{margin:0}.bg.jse-modal-bg .jse-modal-window{max-width:90%;margin:4rem auto 2rem auto;border-radius:2px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-sort{width:400px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-transform{width:1200px;height:1200px;max-height:80%;display:flex}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-jsoneditor{width:800px;height:auto;min-height:500px;max-height:calc(100vh - 6rem);display:flex}.bg.jse-modal-bg .jse-modal-container{flex:1;display:flex;flex-direction:column;padding:0}.jse-modal.jse-sort.svelte-qjdk97 table.svelte-qjdk97{width:100%;border-collapse:collapse;border-spacing:0}.jse-modal.jse-sort.svelte-qjdk97 table th.svelte-qjdk97,.jse-modal.jse-sort.svelte-qjdk97 table td.svelte-qjdk97{text-align:left;vertical-align:middle;font-weight:normal;padding-bottom:var(--jse-padding, 10px)}.jse-modal.jse-sort.svelte-qjdk97 table th input.jse-path.svelte-qjdk97,.jse-modal.jse-sort.svelte-qjdk97 table td input.jse-path.svelte-qjdk97{width:100%;box-sizing:border-box;padding:6px 16px;border:var(--jse-input-border, 1px solid #d8dbdf);border-radius:var(--jse-input-radius, 3px);font-family:inherit;font-size:inherit;background:inherit;color:inherit;outline:none}.jse-modal.jse-sort.svelte-qjdk97 table th input.jse-path.svelte-qjdk97:read-only,.jse-modal.jse-sort.svelte-qjdk97 table td input.jse-path.svelte-qjdk97:read-only{background:var(--jse-input-background-readonly, transparent)}.jse-modal.jse-sort.svelte-qjdk97 table th.svelte-qjdk97 .svelte-select input,.jse-modal.jse-sort.svelte-qjdk97 table td.svelte-qjdk97 .svelte-select input{box-sizing:border-box}.jse-modal.jse-sort.svelte-qjdk97 .jse-space.svelte-qjdk97{height:200px}.jse-modal.jse-sort.svelte-qjdk97 .jse-space .jse-error.svelte-qjdk97{color:var(--jse-error-color, #ee5341)}');
}
function F4(t) {
  var e, n, r, i, o, s, a;
  function l(u) {
    t[14](u);
  }
  var c = { showChevron: !0, items: t[5] };
  return t[1] !== void 0 && (c.value = t[1]), o = new al({ props: c }), tn.push(function() {
    return Po(o, "value", l);
  }), { c: function() {
    e = U("tr"), (n = U("th")).textContent = "Property", r = le(), i = U("td"), we(o.$$.fragment), $(n, "class", "svelte-qjdk97"), $(i, "class", "svelte-qjdk97");
  }, m: function(u, f) {
    X(u, e, f), E(e, n), E(e, r), E(e, i), be(o, i, null), a = !0;
  }, p: function(u, f) {
    var d = {};
    32 & f && (d.items = u[5]), !s && 2 & f && (s = !0, d.value = u[1], Ro(function() {
      return s = !1;
    })), o.$set(d);
  }, i: function(u) {
    a || (S(o.$$.fragment, u), a = !0);
  }, o: function(u) {
    A(o.$$.fragment, u), a = !1;
  }, d: function(u) {
    u && Q(e), xe(o);
  } };
}
function V4(t) {
  var e, n;
  return { c: function() {
    e = U("div"), n = Le(t[4]), $(e, "class", "jse-error svelte-qjdk97");
  }, m: function(r, i) {
    X(r, e, i), E(e, n);
  }, p: function(r, i) {
    16 & i && yt(n, r[4]);
  }, d: function(r) {
    r && Q(e);
  } };
}
function _le(t) {
  var e, n, r, i, o, s, a, l, c, u, f, d, h, p, m, g, v, y, x, b, w, j, k, N, z, _, B, I, Y, R, Z, ne, V;
  r = new n2({ props: { title: t[3] ? "Sort array items" : "Sort object keys" } });
  var M = t[3] && (t[5] && ((e = t[5]) === null || e === void 0 ? void 0 : e.length) > 1 || t[1] === void 0) && F4(t);
  function F(O) {
    t[15](O);
  }
  var P = { showChevron: !0, clearable: !1, items: t[7] };
  t[2] !== void 0 && (P.value = t[2]), j = new al({ props: P }), tn.push(function() {
    return Po(j, "value", F);
  });
  var T = t[4] && V4(t);
  return { c: function() {
    var O;
    n = U("div"), we(r.$$.fragment), i = le(), o = U("div"), s = U("table"), (a = U("colgroup")).innerHTML = '<col width="25%"/> <col width="75%"/>', l = le(), c = U("tbody"), u = U("tr"), (f = U("th")).textContent = "Path", d = le(), h = U("td"), p = U("input"), g = le(), M && M.c(), v = le(), y = U("tr"), (x = U("th")).textContent = "Direction", b = le(), w = U("td"), we(j.$$.fragment), N = le(), z = U("div"), T && T.c(), _ = le(), B = U("div"), I = U("button"), Y = Le("Sort"), $(f, "class", "svelte-qjdk97"), $(p, "class", "jse-path svelte-qjdk97"), $(p, "type", "text"), p.readOnly = !0, $(p, "title", "Selected path"), p.value = m = dn(t[0]) ? "(document root)" : qi(t[0]), $(h, "class", "svelte-qjdk97"), $(x, "class", "svelte-qjdk97"), $(w, "class", "svelte-qjdk97"), $(s, "class", "svelte-qjdk97"), $(z, "class", "jse-space svelte-qjdk97"), $(I, "type", "button"), $(I, "class", "jse-primary svelte-qjdk97"), I.disabled = R = !!(t[3] && t[5] && ((O = t[5]) === null || O === void 0 ? void 0 : O.length) > 1) && !t[1], $(B, "class", "jse-actions svelte-qjdk97"), $(o, "class", "jse-modal-contents svelte-qjdk97"), $(n, "class", "jse-modal jse-sort svelte-qjdk97");
  }, m: function(O, L) {
    X(O, n, L), be(r, n, null), E(n, i), E(n, o), E(o, s), E(s, a), E(s, l), E(s, c), E(c, u), E(u, f), E(u, d), E(u, h), E(h, p), E(c, g), M && M.m(c, null), E(c, v), E(c, y), E(y, x), E(y, b), E(y, w), be(j, w, null), E(o, N), E(o, z), T && T.m(z, null), E(o, _), E(o, B), E(B, I), E(I, Y), Z = !0, ne || (V = [_e(I, "click", t[8]), Wr(Ole.call(null, I)), Wr(Hm.call(null, n, t[6]))], ne = !0);
  }, p: function(O, L) {
    var C, H, ie = Mt(L, 1)[0], te = {};
    8 & ie && (te.title = O[3] ? "Sort array items" : "Sort object keys"), r.$set(te), (!Z || 1 & ie && m !== (m = dn(O[0]) ? "(document root)" : qi(O[0])) && p.value !== m) && (p.value = m), O[3] && (O[5] && ((C = O[5]) === null || C === void 0 ? void 0 : C.length) > 1 || O[1] === void 0) ? M ? (M.p(O, ie), 42 & ie && S(M, 1)) : ((M = F4(O)).c(), S(M, 1), M.m(c, v)) : M && (Ae(), A(M, 1, 1, function() {
      M = null;
    }), Ee());
    var ke = {};
    !k && 4 & ie && (k = !0, ke.value = O[2], Ro(function() {
      return k = !1;
    })), j.$set(ke), O[4] ? T ? T.p(O, ie) : ((T = V4(O)).c(), T.m(z, null)) : T && (T.d(1), T = null), (!Z || 42 & ie && R !== (R = !!(O[3] && O[5] && ((H = O[5]) === null || H === void 0 ? void 0 : H.length) > 1) && !O[1])) && (I.disabled = R);
  }, i: function(O) {
    Z || (S(r.$$.fragment, O), S(M), S(j.$$.fragment, O), Z = !0);
  }, o: function(O) {
    A(r.$$.fragment, O), A(M), A(j.$$.fragment, O), Z = !1;
  }, d: function(O) {
    O && Q(n), xe(r), M && M.d(), xe(j), T && T.d(), ne = !1, Dn(V);
  } };
}
function Ole(t) {
  t.focus();
}
function Ale(t, e, n) {
  var r, i, o, s, a, l = Jr("jsoneditor:SortModal"), c = e.id, u = e.json, f = e.rootPath, d = e.onSort, h = Hr("simple-modal").close, p = "".concat(c, ":").concat(We(f)), m = Xe(u, f), g = { value: 1, label: "ascending" }, v = [g, { value: -1, label: "descending" }], y = (r = Kl[p]) === null || r === void 0 ? void 0 : r.selectedProperty, x = ((i = Kl[p]) === null || i === void 0 ? void 0 : i.selectedDirection) || g, b = void 0;
  return t.$$set = function(w) {
    "id" in w && n(9, c = w.id), "json" in w && n(10, u = w.json), "rootPath" in w && n(0, f = w.rootPath), "onSort" in w && n(11, d = w.onSort);
  }, t.$$.update = function() {
    8 & t.$$.dirty && n(13, s = o && m !== void 0 ? _0(m) : void 0), 8192 & t.$$.dirty && n(5, a = s ? s.map(Nu) : void 0), 4102 & t.$$.dirty && (n(12, Kl[p] = { selectedProperty: y, selectedDirection: x }, Kl), l("store state in memory", p, Kl[p]));
  }, n(3, o = Array.isArray(m)), [f, y, x, o, b, a, h, v, function() {
    try {
      var w, j, k;
      n(4, b = void 0);
      var N = ((w = y) === null || w === void 0 ? void 0 : w.value) || ((j = a) === null || j === void 0 || (j = j[0]) === null || j === void 0 ? void 0 : j.value) || [], z = (k = x) === null || k === void 0 ? void 0 : k.value, _ = VT(u, f, N, z);
      d({ operations: _, rootPath: f, itemPath: N, direction: z }), h();
    } catch (B) {
      n(4, b = String(B));
    }
  }, c, u, d, Kl, s, function(w) {
    n(1, y = w);
  }, function(w) {
    n(2, x = w);
  }];
}
var Ele = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Ale, _le, Lt, { id: 9, json: 10, rootPath: 0, onSort: 11 }, Cle), r;
  }
  return at(e, ct), ot(e);
}();
function so() {
}
function nh(t) {
  var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1e3;
  if (t < 0.9 * e)
    return t.toFixed() + " B";
  var n = t / e;
  if (n < 0.9 * e)
    return n.toFixed(1) + " KB";
  var r = n / e;
  if (r < 0.9 * e)
    return r.toFixed(1) + " MB";
  var i = r / e;
  return i < 0.9 * e ? i.toFixed(1) + " GB" : (i / e).toFixed(1) + " TB";
}
function Mle(t) {
  var e, n;
  return e = new Wm({ props: { items: t[0] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    1 & Mt(i, 1)[0] && (o.items = r[0]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Tle(t, e, n) {
  var r, i, o = e.readOnly, s = o !== void 0 && o, a = e.onFormat, l = e.onCompact, c = e.onSort, u = e.onTransform, f = e.onToggleSearch, d = e.onUndo, h = e.onRedo, p = e.canUndo, m = e.canRedo, g = e.canFormat, v = e.canCompact, y = e.canSort, x = e.canTransform, b = e.onRenderMenu, w = { type: "button", icon: gy, title: "Search (Ctrl+F)", className: "jse-search", onClick: f };
  return t.$$set = function(j) {
    "readOnly" in j && n(1, s = j.readOnly), "onFormat" in j && n(2, a = j.onFormat), "onCompact" in j && n(3, l = j.onCompact), "onSort" in j && n(4, c = j.onSort), "onTransform" in j && n(5, u = j.onTransform), "onToggleSearch" in j && n(6, f = j.onToggleSearch), "onUndo" in j && n(7, d = j.onUndo), "onRedo" in j && n(8, h = j.onRedo), "canUndo" in j && n(9, p = j.canUndo), "canRedo" in j && n(10, m = j.canRedo), "canFormat" in j && n(11, g = j.canFormat), "canCompact" in j && n(12, v = j.canCompact), "canSort" in j && n(13, y = j.canSort), "canTransform" in j && n(14, x = j.canTransform), "onRenderMenu" in j && n(15, b = j.onRenderMenu);
  }, t.$$.update = function() {
    32702 & t.$$.dirty && n(16, i = s ? [w, { type: "space" }] : [{ type: "button", icon: B0, title: "Format JSON: add proper indentation and new lines (Ctrl+I)", className: "jse-format", onClick: a, disabled: s || !g }, { type: "button", icon: mae, title: "Compact JSON: remove all white spacing and new lines (Ctrl+Shift+I)", className: "jse-compact", onClick: l, disabled: s || !v }, { type: "separator" }, { type: "button", icon: fm, title: "Sort", className: "jse-sort", onClick: c, disabled: s || !y }, { type: "button", icon: cm, title: "Transform contents (filter, sort, project)", className: "jse-transform", onClick: u, disabled: s || !x }, w, { type: "separator" }, { type: "button", icon: my, title: "Undo (Ctrl+Z)", className: "jse-undo", onClick: d, disabled: !p }, { type: "button", icon: py, title: "Redo (Ctrl+Shift+Z)", className: "jse-redo", onClick: h, disabled: !m }, { type: "space" }]), 98304 & t.$$.dirty && n(0, r = b(i) || i);
  }, [r, s, a, l, c, u, f, d, h, p, m, g, v, y, x, b, i];
}
var Rle = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Tle, Mle, Lt, { readOnly: 1, onFormat: 2, onCompact: 3, onSort: 4, onTransform: 5, onToggleSearch: 6, onUndo: 7, onRedo: 8, canUndo: 9, canRedo: 10, canFormat: 11, canCompact: 12, canSort: 13, canTransform: 14, onRenderMenu: 15 }), r;
  }
  return at(e, ct), ot(e);
}();
function Ple(t) {
  Tt(t, "svelte-hhcn0f", '.jse-status-bar.svelte-hhcn0f.svelte-hhcn0f{background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-color-readonly, #b2b2b2);font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);margin:0;border-top:var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7));border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7);display:flex;gap:var(--jse-padding, 10px)}.jse-status-bar.svelte-hhcn0f.svelte-hhcn0f:last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-status-bar.svelte-hhcn0f .jse-status-bar-info.svelte-hhcn0f{padding:2px}');
}
function W4(t) {
  var e, n, r;
  return { c: function() {
    e = U("div"), n = Le("Line: "), r = Le(t[0]), $(e, "class", "jse-status-bar-info svelte-hhcn0f");
  }, m: function(i, o) {
    X(i, e, o), E(e, n), E(e, r);
  }, p: function(i, o) {
    1 & o && yt(r, i[0]);
  }, d: function(i) {
    i && Q(e);
  } };
}
function H4(t) {
  var e, n, r;
  return { c: function() {
    e = U("div"), n = Le("Column: "), r = Le(t[1]), $(e, "class", "jse-status-bar-info svelte-hhcn0f");
  }, m: function(i, o) {
    X(i, e, o), E(e, n), E(e, r);
  }, p: function(i, o) {
    2 & o && yt(r, i[1]);
  }, d: function(i) {
    i && Q(e);
  } };
}
function U4(t) {
  var e, n, r, i;
  return { c: function() {
    e = U("div"), n = Le("Selection: "), r = Le(t[2]), i = Le(" characters"), $(e, "class", "jse-status-bar-info svelte-hhcn0f");
  }, m: function(o, s) {
    X(o, e, s), E(e, n), E(e, r), E(e, i);
  }, p: function(o, s) {
    4 & s && yt(r, o[2]);
  }, d: function(o) {
    o && Q(e);
  } };
}
function Ile(t) {
  var e, n, r, i = t[0] !== void 0 && W4(t), o = t[1] !== void 0 && H4(t), s = t[2] !== void 0 && t[2] > 0 && U4(t);
  return { c: function() {
    e = U("div"), i && i.c(), n = le(), o && o.c(), r = le(), s && s.c(), $(e, "class", "jse-status-bar svelte-hhcn0f");
  }, m: function(a, l) {
    X(a, e, l), i && i.m(e, null), E(e, n), o && o.m(e, null), E(e, r), s && s.m(e, null);
  }, p: function(a, l) {
    var c = Mt(l, 1)[0];
    a[0] !== void 0 ? i ? i.p(a, c) : ((i = W4(a)).c(), i.m(e, n)) : i && (i.d(1), i = null), a[1] !== void 0 ? o ? o.p(a, c) : ((o = H4(a)).c(), o.m(e, r)) : o && (o.d(1), o = null), a[2] !== void 0 && a[2] > 0 ? s ? s.p(a, c) : ((s = U4(a)).c(), s.m(e, null)) : s && (s.d(1), s = null);
  }, i: Te, o: Te, d: function(a) {
    a && Q(e), i && i.d(), o && o.d(), s && s.d();
  } };
}
function Nle(t, e, n) {
  var r, i, o, s, a, l = e.editorState;
  return t.$$set = function(c) {
    "editorState" in c && n(3, l = c.editorState);
  }, t.$$.update = function() {
    var c, u, f;
    8 & t.$$.dirty && n(4, r = (c = l) === null || c === void 0 || (c = c.selection) === null || c === void 0 || (c = c.main) === null || c === void 0 ? void 0 : c.head), 24 & t.$$.dirty && n(5, i = r ? (u = l) === null || u === void 0 || (u = u.doc) === null || u === void 0 ? void 0 : u.lineAt(r) : void 0), 32 & t.$$.dirty && n(0, o = i ? i.number : void 0), 48 & t.$$.dirty && n(1, s = i !== void 0 && r !== void 0 ? r - i.from + 1 : void 0), 8 & t.$$.dirty && n(2, a = (f = l) === null || f === void 0 || (f = f.selection) === null || f === void 0 || (f = f.ranges) === null || f === void 0 ? void 0 : f.reduce(function(d, h) {
      return d + h.to - h.from;
    }, 0));
  }, [o, s, a, l, r, i];
}
var Dle = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Nle, Ile, Nr, { editorState: 3 }, Ple), r;
  }
  return at(e, ct), ot(e);
}(), u2 = Kf.define([{ tag: Ve.propertyName, color: "var(--internal-key-color)" }, { tag: Ve.number, color: "var(--internal-value-color-number)" }, { tag: Ve.bool, color: "var(--internal-value-color-boolean)" }, { tag: Ve.string, color: "var(--internal-value-color-string)" }, { tag: Ve.keyword, color: "var(--internal-value-color-null)" }]), Lle = TA(u2), Ble = u2.style;
function qle(t) {
  Tt(t, "svelte-a0poeb", '.jse-text-mode.svelte-a0poeb.svelte-a0poeb{--internal-key-color:var(--jse-key-color, #1a1a1a);--internal-value-color-number:var(--jse-value-color-number, #ee422e);--internal-value-color-boolean:var(--jse-value-color-boolean, #ff8c00);--internal-value-color-string:var(--jse-value-color-string, #008000);--internal-value-color-null:var(--jse-value-color-null, #004ed0);flex:1;box-sizing:border-box;display:flex;flex-direction:column;background:var(--jse-background-color, #fff)}.jse-text-mode.no-main-menu.svelte-a0poeb.svelte-a0poeb{border-top:var(--jse-main-border, 1px solid #d7d7d7)}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb{flex:1;display:flex;position:relative;flex-direction:column;overflow:hidden;min-width:0;min-height:0;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb:last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-text-mode.svelte-a0poeb .jse-contents.jse-hidden.svelte-a0poeb{visibility:hidden;position:absolute;top:0;left:0}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor{flex:1;overflow:hidden}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-scroller{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);line-height:var(--jse-line-height, calc(1em + 4px));color:var(--jse-delimiter-color, rgba(0, 0, 0, 0.38))}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-gutters{background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-color-readonly, #b2b2b2);border-right:var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7))}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-activeLine,.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-activeLineGutter{background:var(--jse-active-line-background-color, rgba(0, 0, 0, 0.06))}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-selectionBackground{background:var(--jse-selection-background-color, #d3d3d3)}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-searchMatch{background-color:var(--jse-search-match-color, #ffe665);outline:var(--jse-search-match-outline, 1px solid #ffd700)}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-searchMatch.cm-searchMatch-selected{background-color:var(--jse-search-match-active-color, #ffd700);outline:var(--jse-search-match-active-outline, 1px solid #e1be00)}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-selectionMatch{background-color:var(--jse-search-match-background-color, rgba(153, 255, 119, 0.5019607843))}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-foldPlaceholder{background:var(--jse-tag-background, rgba(0, 0, 0, 0.2));color:var(--jse-tag-color, var(--jse-text-color-inverse, #fff));border:none;padding:0 var(--jse-padding, 10px)}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-tooltip{font-size:var(--jse-font-size, 16px);font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);color:var(--jse-tooltip-color, var(--jse-text-color, #4d4d4d));background:var(--jse-tooltip-background, var(--jse-modal-background, #f5f5f5));border:var(--jse-tooltip-border, var(--jse-main-border, 1px solid #d7d7d7))}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-diagnosticAction{background:var(--jse-tooltip-action-button-color, var(--jse-text-color-inverse, #fff));background:var(--jse-tooltip-action-button-background, #4d4d4d)}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-panels{border-bottom:var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7))}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-search{background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-color, var(--jse-text-color, #4d4d4d));font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px)}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-search input{font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size-text-mode-search, 80%);color:var(--jse-input-color, var(--jse-text-color, #4d4d4d));border:var(--jse-input-border, 1px solid #d8dbdf);background:var(--jse-input-background, var(--jse-background-color, #fff));margin-right:2px}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-search button{font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size-text-mode-search, 80%);color:var(--jse-panel-button-color, inherit);background:var(--jse-panel-button-background, transparent);border:none;cursor:pointer;text-transform:capitalize;padding:calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);margin:0}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-search button:hover{color:var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d));background:var(--jse-panel-button-background-highlight, #e0e0e0)}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-search label{font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size-text-mode-search, 80%);padding-left:var(--jse-padding, 10px)}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-search label input{margin-right:2px}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-search button[name="close"]{width:32px;height:32px;font-size:24px;line-height:24px;padding:0;right:0;top:-4px}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-cursor-primary{border-color:var(--jse-text-color, #4d4d4d)}.jse-text-mode.svelte-a0poeb .jse-contents .jse-loading-space.svelte-a0poeb{flex:1}.jse-text-mode.svelte-a0poeb .jse-contents .jse-loading.svelte-a0poeb{flex:2;text-align:center;color:var(--jse-panel-color-readonly, #b2b2b2);box-sizing:border-box;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px)}.jse-text-mode.svelte-a0poeb .jse-contents.jse-preview.svelte-a0poeb{flex:1;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);color:var(--jse-panel-color-readonly, #b2b2b2);overflow:auto;white-space:pre-wrap;word-break:break-word;padding:2px}');
}
function Gg(t) {
  var e = t.slice(), n = e[11].length === 0;
  return e[98] = n, e;
}
function J4(t) {
  var e, n;
  return e = new Rle({ props: { readOnly: t[1], onFormat: t[17], onCompact: t[18], onSort: t[19], onTransform: t[20], onToggleSearch: t[21], onUndo: t[22], onRedo: t[23], canFormat: !t[98], canCompact: !t[98], canSort: !t[98], canTransform: !t[98], canUndo: t[12], canRedo: t[13], onRenderMenu: t[4] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    2 & i[0] && (o.readOnly = r[1]), 2048 & i[0] && (o.canFormat = !r[98]), 2048 & i[0] && (o.canCompact = !r[98]), 2048 & i[0] && (o.canSort = !r[98]), 2048 & i[0] && (o.canTransform = !r[98]), 4096 & i[0] && (o.canUndo = r[12]), 8192 & i[0] && (o.canRedo = r[13]), 16 & i[0] && (o.onRenderMenu = r[4]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function zle(t) {
  var e;
  return { c: function() {
    (e = U("div")).innerHTML = '<div class="jse-loading-space svelte-a0poeb"></div> <div class="jse-loading svelte-a0poeb">loading...</div>', $(e, "class", "jse-contents svelte-a0poeb");
  }, m: function(n, r) {
    X(n, e, r);
  }, p: Te, i: Te, o: Te, d: function(n) {
    n && Q(e);
  } };
}
function Fle(t) {
  var e, n, r, i, o, s = t[97] && G4(t), a = !t[97] && K4(t);
  return { c: function() {
    e = U("div"), n = le(), s && s.c(), r = le(), a && a.c(), i = wn(), $(e, "class", "jse-contents svelte-a0poeb"), Se(e, "jse-hidden", t[97]);
  }, m: function(l, c) {
    X(l, e, c), t[52](e), X(l, n, c), s && s.m(l, c), X(l, r, c), a && a.m(l, c), X(l, i, c), o = !0;
  }, p: function(l, c) {
    (!o || 268438016 & c[0]) && Se(e, "jse-hidden", l[97]), l[97] ? s ? (s.p(l, c), 2560 & c[0] && S(s, 1)) : ((s = G4(l)).c(), S(s, 1), s.m(r.parentNode, r)) : s && (Ae(), A(s, 1, 1, function() {
      s = null;
    }), Ee()), l[97] ? a && (Ae(), A(a, 1, 1, function() {
      a = null;
    }), Ee()) : a ? (a.p(l, c), 2560 & c[0] && S(a, 1)) : ((a = K4(l)).c(), S(a, 1), a.m(i.parentNode, i));
  }, i: function(l) {
    o || (S(s), S(a), o = !0);
  }, o: function(l) {
    A(s), A(a), o = !1;
  }, d: function(l) {
    l && (Q(e), Q(n), Q(r), Q(i)), t[52](null), s && s.d(l), a && a.d(l);
  } };
}
function G4(t) {
  var e, n, r, i, o, s = Qs(t[11] || "", $0) + "";
  return e = new Jo({ props: { icon: ql, type: "error", message: "The JSON document is larger than ".concat(nh(k0, 1024), ", ") + "and may crash your browser when loading it in text mode. Actual size: ".concat(nh(t[11].length, 1024), "."), actions: [{ text: "Open anyway", title: "Open the document in text mode. This may freeze or crash your browser.", onClick: t[24] }, { text: "Open in tree mode", title: "Open the document in tree mode. Tree mode can handle large documents.", onClick: t[25] }, { text: "Cancel", title: "Cancel opening this large document.", onClick: t[26] }], onClose: t[5] } }), { c: function() {
    we(e.$$.fragment), n = le(), r = U("div"), i = Le(s), $(r, "class", "jse-contents jse-preview svelte-a0poeb");
  }, m: function(a, l) {
    be(e, a, l), X(a, n, l), X(a, r, l), E(r, i), o = !0;
  }, p: function(a, l) {
    var c = {};
    2048 & l[0] && (c.message = "The JSON document is larger than ".concat(nh(k0, 1024), ", ") + "and may crash your browser when loading it in text mode. Actual size: ".concat(nh(a[11].length, 1024), ".")), e.$set(c), (!o || 2048 & l[0]) && s !== (s = Qs(a[11] || "", $0) + "") && yt(i, s);
  }, i: function(a) {
    o || (S(e.$$.fragment, a), o = !0);
  }, o: function(a) {
    A(e.$$.fragment, a), o = !1;
  }, d: function(a) {
    a && (Q(n), Q(r)), xe(e, a);
  } };
}
function K4(t) {
  var e, n, r, i, o, s = !t[14] && t[0] && t$(t[11]), a = t[3] && Y4(t), l = t[14] && Q4(t), c = s && X4(t);
  return i = new t2({ props: { validationErrors: t[10], selectError: t[27] } }), { c: function() {
    a && a.c(), e = le(), l && l.c(), n = le(), c && c.c(), r = le(), we(i.$$.fragment);
  }, m: function(u, f) {
    a && a.m(u, f), X(u, e, f), l && l.m(u, f), X(u, n, f), c && c.m(u, f), X(u, r, f), be(i, u, f), o = !0;
  }, p: function(u, f) {
    u[3] ? a ? (a.p(u, f), 8 & f[0] && S(a, 1)) : ((a = Y4(u)).c(), S(a, 1), a.m(e.parentNode, e)) : a && (Ae(), A(a, 1, 1, function() {
      a = null;
    }), Ee()), u[14] ? l ? (l.p(u, f), 16384 & f[0] && S(l, 1)) : ((l = Q4(u)).c(), S(l, 1), l.m(n.parentNode, n)) : l && (Ae(), A(l, 1, 1, function() {
      l = null;
    }), Ee()), 18433 & f[0] && (s = !u[14] && u[0] && t$(u[11])), s ? c ? (c.p(u, f), 18433 & f[0] && S(c, 1)) : ((c = X4(u)).c(), S(c, 1), c.m(r.parentNode, r)) : c && (Ae(), A(c, 1, 1, function() {
      c = null;
    }), Ee());
    var d = {};
    1024 & f[0] && (d.validationErrors = u[10]), i.$set(d);
  }, i: function(u) {
    o || (S(a), S(l), S(c), S(i.$$.fragment, u), o = !0);
  }, o: function(u) {
    A(a), A(l), A(c), A(i.$$.fragment, u), o = !1;
  }, d: function(u) {
    u && (Q(e), Q(n), Q(r)), a && a.d(u), l && l.d(u), c && c.d(u), xe(i, u);
  } };
}
function Y4(t) {
  var e, n;
  return e = new Dle({ props: { editorState: t[8] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    256 & i[0] && (o.editorState = r[8]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Q4(t) {
  var e, n;
  return e = new Jo({ props: { type: "error", icon: ql, message: t[14].message, actions: t[15], onClick: t[29], onClose: t[5] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    16384 & i[0] && (o.message = r[14].message), 32768 & i[0] && (o.actions = r[15]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function X4(t) {
  var e, n;
  return e = new Jo({ props: { type: "success", message: "Do you want to format the JSON?", actions: [{ icon: B0, text: "Format", title: "Format JSON: add proper indentation and new lines (Ctrl+I)", onClick: t[17] }, { icon: Ac, text: "No thanks", title: "Close this message", onClick: t[53] }], onClose: t[5] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    1 & i[0] && (o.actions = [{ icon: B0, text: "Format", title: "Format JSON: add proper indentation and new lines (Ctrl+I)", onClick: r[17] }, { icon: Ac, text: "No thanks", title: "Close this message", onClick: r[53] }]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Vle(t) {
  var e, n, r, i, o, s = t[2] && J4(Gg(t)), a = [Fle, zle], l = [];
  function c(u, f) {
    return f === 0 ? function(d) {
      var h = d.slice(), p = h[28](h[11], h[9]);
      return h[97] = p, h;
    }(u) : u;
  }
  return r = function(u, f) {
    return u[16] ? 1 : 0;
  }(t), i = l[r] = a[r](c(t, r)), { c: function() {
    e = U("div"), s && s.c(), n = le(), i.c(), $(e, "class", "jse-text-mode svelte-a0poeb"), Se(e, "no-main-menu", !t[2]);
  }, m: function(u, f) {
    X(u, e, f), s && s.m(e, null), E(e, n), l[r].m(e, null), t[54](e), o = !0;
  }, p: function(u, f) {
    u[2] ? s ? (s.p(Gg(u), f), 4 & f[0] && S(s, 1)) : ((s = J4(Gg(u))).c(), S(s, 1), s.m(e, n)) : s && (Ae(), A(s, 1, 1, function() {
      s = null;
    }), Ee()), i.p(c(u, r), f), (!o || 4 & f[0]) && Se(e, "no-main-menu", !u[2]);
  }, i: function(u) {
    o || (S(s), S(i), o = !0);
  }, o: function(u) {
    A(s), A(i), o = !1;
  }, d: function(u) {
    u && Q(e), s && s.d(), l[r].d(), t[54](null);
  } };
}
function Z4(t) {
  return { from: t.from || 0, to: t.to || 0, message: t.message || "", actions: t.actions, severity: t.severity };
}
function Wle(t, e, n) {
  var r, i, o, s, a, l, c = e.readOnly, u = e.mainMenuBar, f = e.statusBar, d = e.askToFormat, h = e.externalContent, p = e.externalSelection, m = e.indentation, g = e.tabSize, v = e.escapeUnicodeCharacters, y = e.parser, x = e.validator, b = e.validationParser, w = e.onChange, j = e.onChangeMode, k = e.onSelect, N = e.onError, z = e.onFocus, _ = e.onBlur, B = e.onRenderMenu, I = e.onSortModal, Y = e.onTransformModal, R = Jr("jsoneditor:TextMode"), Z = { key: "Mod-i", run: ut, shift: rn, preventDefault: !0 }, ne = typeof window > "u";
  R("isSSR:", ne);
  var V = !1, M = [], F = new Ps(), P = new Ps(), T = new Ps(), O = new Ps(), L = new Ps(), C = h, H = O0(C, m, y), ie = v;
  $o(Dt(Ne().mark(function ve() {
    return Ne().wrap(function(He) {
      for (; ; )
        switch (He.prev = He.next) {
          case 0:
            if (!ne) {
              He.next = 2;
              break;
            }
            return He.abrupt("return");
          case 2:
            try {
              a = _n({ target: o, initialText: Je(H, V) ? "" : r.escapeValue(H), readOnly: c, indentation: m });
            } catch (Rt) {
              console.error(Rt);
            }
          case 3:
          case "end":
            return He.stop();
        }
    }, ve);
  }))), to(function() {
    a && (R("Destroy CodeMirror editor"), a.destroy());
  });
  var te = !1, ke = !1, Me = Ea(), fe = Ea();
  function pe() {
    a && (R("focus"), a.focus());
  }
  var Fe = !1;
  function Ue(ve) {
    R("patch", ve);
    var He = y.parse(H), Rt = Do(He, ve), qt = IS(He, ve);
    return kn({ text: y.stringify(Rt, null, m) }), { json: Rt, previousJson: He, undo: qt, redo: ve };
  }
  function ut() {
    if (R("format"), c)
      return !1;
    try {
      var ve = y.parse(H);
      return kn({ text: y.stringify(ve, null, m) }), n(0, d = !0), !0;
    } catch (He) {
      N(He);
    }
    return !1;
  }
  function rn() {
    if (R("compact"), c)
      return !1;
    try {
      var ve = y.parse(H);
      return kn({ text: y.stringify(ve) }), n(0, d = !1), !0;
    } catch (He) {
      N(He);
    }
    return !1;
  }
  function ae() {
    if (R("repair"), !c)
      try {
        kn({ text: fs(H) }), n(51, yn = Ig), n(14, Zn = null);
      } catch (ve) {
        N(ve);
      }
  }
  function At(ve) {
    var He = ve.id, Rt = ve.rootPath, qt = ve.onTransform, zt = ve.onClose;
    try {
      var Ft = y.parse(H);
      Fe = !0, Y({ id: He || fe, json: Ft, rootPath: Rt || [], onTransform: function(de) {
        qt ? qt({ operations: de, json: Ft, transformedJson: Do(Ft, de) }) : (R("onTransform", de), Ue(de));
      }, onClose: function() {
        Fe = !1, pe(), zt && zt();
      } });
    } catch (de) {
      N(de);
    }
  }
  function Ge(ve, He) {
    R("setSelection", { anchor: ve, head: He }), a && a.dispatch(a.state.update({ selection: { anchor: ve, head: He }, scrollIntoView: !0 }));
  }
  function me(ve, He) {
    if (He.state.selection.ranges.length === 1) {
      var Rt = He.state.selection.ranges[0], qt = H.slice(Rt.from, Rt.to);
      if (qt === "{" || qt === "[") {
        var zt = kh.parse(H), Ft = Object.keys(zt.pointers).find(function(Qe) {
          var ze;
          return ((ze = zt.pointers[Qe].value) === null || ze === void 0 ? void 0 : ze.pos) === Rt.from;
        }), de = zt.pointers[Ft];
        Ft && de && de.value && de.valueEnd && (R("pointer found, selecting inner contents of path:", Ft, de), Ge(de.value.pos + 1, de.valueEnd.pos - 1));
      }
    }
  }
  function Ct() {
    return fY(jn, { delay: 300 });
  }
  function _n(ve) {
    var He = ve.target, Rt = ve.initialText, qt = ve.readOnly, zt = ve.indentation;
    R("Create CodeMirror editor", { readOnly: qt, indentation: zt });
    var Ft = xn.create({ doc: Rt, selection: D(p), extensions: [Vh.of([nY, Z]), F.of(Ct()), xY(), RJ(), NJ(), nJ(), ZG(), CG(), HU(), YU(), xn.allowMultipleSelections.of(!0), dG(), TA(EG, { fallback: !0 }), DG(), TQ(), VQ(), pJ(), vJ(), lJ(), LY(), Vh.of([].concat(Wt(NQ), Wt(tY), Wt(iQ), Wt(uK), Wt(jG), Wt(qE), Wt(cY))), Lle, YQ({ hideFirstIndent: !0 }), nt.domEventHandlers({ dblclick: me }), nt.updateListener.of(function(de) {
      n(8, l = de.state), de.docChanged ? wt() : de.selectionSet && It();
    }), RY(), JY({ top: !0 }), P.of(xn.readOnly.of(qt)), O.of(xn.tabSize.of(g)), T.of(Oe(zt)), L.of(nt.theme({}, { dark: Ut() })), nt.lineWrapping, XQ] });
    return a = new nt({ state: Ft, parent: He });
  }
  function Ut() {
    return !!o && getComputedStyle(o).getPropertyValue("--jse-theme").includes("dark");
  }
  function un(ve) {
    var He = ve.path, Rt = ve.message, qt = function(zt, Ft) {
      try {
        var de = kh.parse(zt), Qe = We(Ft), ze = de.pointers[Qe];
        if (ze)
          return { path: Ft, line: ze.key ? ze.key.line : ze.value ? ze.value.line : 0, column: ze.key ? ze.key.column : ze.value ? ze.value.column : 0, from: ze.key ? ze.key.pos : ze.value ? ze.value.pos : 0, to: ze.keyEnd ? ze.keyEnd.pos : ze.valueEnd ? ze.valueEnd.pos : 0 };
      } catch (q) {
        console.error(q);
      }
      return { path: Ft, line: 0, column: 0, from: 0, to: 0 };
    }(r.escapeValue(H), He);
    return { path: He, line: qt.line, column: qt.column, from: qt.from, to: qt.to, message: Rt, severity: Ks.warning, actions: [] };
  }
  function Xn(ve, He) {
    var Rt = ve.line, qt = ve.column, zt = ve.position, Ft = ve.message;
    return { path: [], line: Rt, column: qt, from: zt, to: zt, severity: Ks.error, message: Ft, actions: He && !c ? [{ name: "Auto repair", apply: function() {
      return ae();
    } }] : null };
  }
  function kn(ve) {
    var He = arguments.length > 1 && arguments[1] !== void 0 && arguments[1], Rt = O0(ve, m, y), qt = !en(ve, C), zt = C;
    C = ve, n(11, H = Rt), R("setCodeMirrorContent", { isChanged: qt, forceUpdate: He }), a && (qt || He) && (Je(H, V) || a.dispatch({ changes: { from: 0, to: a.state.doc.length, insert: r.escapeValue(H) } }), Ze(), qt && En(C, zt));
  }
  function D(ve) {
    return p$(ve) ? Re.fromJSON(ve) : void 0;
  }
  function ee() {
    return (ee = Dt(Ne().mark(function ve() {
      return Ne().wrap(function(He) {
        for (; ; )
          switch (He.prev = He.next) {
            case 0:
              return R("refresh"), He.next = 3, ge();
            case 3:
            case "end":
              return He.stop();
          }
      }, ve);
    }))).apply(this, arguments);
  }
  function oe() {
    if (a) {
      var ve = a ? r.unescapeValue(a.state.doc.toString()) : "", He = ve !== H;
      if (R("onChangeCodeMirrorValue", { isChanged: He }), He) {
        var Rt = C;
        n(11, H = ve), C = { text: H }, Ze(), En(C, Rt), mr().then(It);
      }
    }
  }
  function ge() {
    return $e.apply(this, arguments);
  }
  function $e() {
    return ($e = Dt(Ne().mark(function ve() {
      var He;
      return Ne().wrap(function(Rt) {
        for (; ; )
          switch (Rt.prev = Rt.next) {
            case 0:
              return Rt.next = 2, mr();
            case 2:
              a && (He = Ut(), R("updateTheme", { dark: He }), a.dispatch({ effects: [L.reconfigure(nt.theme({}, { dark: He }))] }));
            case 3:
            case "end":
              return Rt.stop();
          }
      }, ve);
    }))).apply(this, arguments);
  }
  function Oe(ve) {
    return gm.of(typeof ve == "number" ? " ".repeat(ve) : ve);
  }
  function Ze() {
    n(12, te = nK(a.state) > 0), n(13, ke = rK(a.state) > 0), R({ canUndo: te, canRedo: ke });
  }
  to(function() {
    kt();
  }), e2({ onMount: $o, onDestroy: to, getWindow: function() {
    return fu(s);
  }, hasFocus: function() {
    return Fe && document.hasFocus() || Hb(s);
  }, onFocus: z, onBlur: function() {
    kt(), _();
  } });
  var wt = Xc(oe, 300);
  function kt() {
    wt.flush();
  }
  function En(ve, He) {
    w && w(ve, He, { contentErrors: Vn(), patchResult: null });
  }
  function It() {
    k(he({ type: qn.text }, l.selection.toJSON()));
  }
  function Je(ve, He) {
    return !!ve && ve.length > k0 && !He;
  }
  var yn = Ig, Zn = null;
  function jn() {
    if (Je(H, V))
      return [];
    var ve = Vn();
    return xk(ve) ? [Z4(Xn(ve.parseError, ve.isRepairable))] : boe(ve) ? ve.validationErrors.map(un).map(Z4) : [];
  }
  function Vn() {
    R("validate:start"), kt();
    var ve = Wn(r.escapeValue(H), x, y, b);
    return xk(ve) ? (n(51, yn = ve.isRepairable ? Kj : "invalid"), n(14, Zn = ve.parseError), n(10, M = [])) : (n(51, yn = Ig), n(14, Zn = null), n(10, M = (ve == null ? void 0 : ve.validationErrors) || [])), R("validate:end"), ve;
  }
  var Wn = Wf(eoe);
  function Hn() {
    Zn && function(ve) {
      R("select parse error", ve);
      var He = Xn(ve, !1);
      Ge(He.from != null ? He.from : 0, He.to != null ? He.to : 0), pe();
    }(Zn);
  }
  var fn = { icon: _W, text: "Show me", title: "Move to the parse error location", onClick: Hn };
  return t.$$set = function(ve) {
    "readOnly" in ve && n(1, c = ve.readOnly), "mainMenuBar" in ve && n(2, u = ve.mainMenuBar), "statusBar" in ve && n(3, f = ve.statusBar), "askToFormat" in ve && n(0, d = ve.askToFormat), "externalContent" in ve && n(30, h = ve.externalContent), "externalSelection" in ve && n(31, p = ve.externalSelection), "indentation" in ve && n(32, m = ve.indentation), "tabSize" in ve && n(33, g = ve.tabSize), "escapeUnicodeCharacters" in ve && n(34, v = ve.escapeUnicodeCharacters), "parser" in ve && n(35, y = ve.parser), "validator" in ve && n(36, x = ve.validator), "validationParser" in ve && n(37, b = ve.validationParser), "onChange" in ve && n(38, w = ve.onChange), "onChangeMode" in ve && n(39, j = ve.onChangeMode), "onSelect" in ve && n(40, k = ve.onSelect), "onError" in ve && n(41, N = ve.onError), "onFocus" in ve && n(42, z = ve.onFocus), "onBlur" in ve && n(43, _ = ve.onBlur), "onRenderMenu" in ve && n(4, B = ve.onRenderMenu), "onSortModal" in ve && n(44, I = ve.onSortModal), "onTransformModal" in ve && n(45, Y = ve.onTransformModal);
  }, t.$$.update = function() {
    8 & t.$$.dirty[1] && (r = Fb({ escapeControlCharacters: !1, escapeUnicodeCharacters: v })), 1073741824 & t.$$.dirty[0] && kn(h), 1 & t.$$.dirty[1] && function(ve) {
      if (p$(ve)) {
        var He = D(ve);
        !a || !He || l && l.selection.eq(He) || (R("applyExternalSelection", He), a.dispatch({ selection: He }));
      }
    }(p), 32 & t.$$.dirty[1] && function(ve) {
      R("updateLinter", ve), a && a.dispatch({ effects: F.reconfigure(Ct()) });
    }(x), 2 & t.$$.dirty[1] && function(ve) {
      a && (R("updateIndentation", ve), a.dispatch({ effects: T.reconfigure(Oe(ve)) }));
    }(m), 4 & t.$$.dirty[1] && function(ve) {
      a && (R("updateTabSize", ve), a.dispatch({ effects: O.reconfigure(xn.tabSize.of(ve)) }));
    }(g), 2 & t.$$.dirty[0] && function(ve) {
      a && (R("updateReadOnly", ve), a.dispatch({ effects: [P.reconfigure(xn.readOnly.of(ve))] }));
    }(c), 524296 & t.$$.dirty[1] && ie !== v && (n(50, ie = v), R("forceUpdateText", { escapeUnicodeCharacters: v }), a && a.dispatch({ changes: { from: 0, to: a.state.doc.length, insert: r.escapeValue(H) } })), 2 & t.$$.dirty[0] | 1048576 & t.$$.dirty[1] && n(15, i = yn !== Kj || c ? [fn] : [{ icon: um, text: "Auto repair", title: "Automatically repair JSON", onClick: ae }, fn]);
  }, [d, c, u, f, B, pe, o, s, l, V, M, H, te, ke, Zn, i, ne, ut, rn, function() {
    var ve;
    if (!c)
      try {
        var He = y.parse(H);
        Fe = !0, I({ id: Me, json: He, rootPath: [], onSort: (ve = Dt(Ne().mark(function Rt(qt) {
          var zt;
          return Ne().wrap(function(Ft) {
            for (; ; )
              switch (Ft.prev = Ft.next) {
                case 0:
                  zt = qt.operations, R("onSort", zt), Ue(zt);
                case 3:
                case "end":
                  return Ft.stop();
              }
          }, Rt);
        })), function(Rt) {
          return ve.apply(this, arguments);
        }), onClose: function() {
          Fe = !1, pe();
        } });
      } catch (Rt) {
        N(Rt);
      }
  }, function() {
    c || At({ rootPath: [] });
  }, function() {
    a && (o && o.querySelector(".cm-search") ? Jy(a) : Uy(a));
  }, function() {
    c || a && (By(a), pe());
  }, function() {
    c || a && (Xh(a), pe());
  }, function() {
    n(9, V = !0), kn(h, !0);
  }, function() {
    j(ei.tree);
  }, function() {
    oe();
  }, function(ve) {
    R("select validation error", ve);
    var He = un(ve), Rt = He.from, qt = He.to;
    Rt !== null && qt !== null && (Ge(Rt, qt), pe());
  }, Je, Hn, h, p, m, g, v, y, x, b, w, j, k, N, z, _, I, Y, Ue, At, function() {
    return ee.apply(this, arguments);
  }, Vn, ie, yn, function(ve) {
    tn[ve ? "unshift" : "push"](function() {
      n(6, o = ve);
    });
  }, function() {
    return n(0, d = !1);
  }, function(ve) {
    tn[ve ? "unshift" : "push"](function() {
      n(7, s = ve);
    });
  }];
}
u2.style = function(t) {
  return Ble(t || []);
};
var Hle = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Wle, Vle, Lt, { readOnly: 1, mainMenuBar: 2, statusBar: 3, askToFormat: 0, externalContent: 30, externalSelection: 31, indentation: 32, tabSize: 33, escapeUnicodeCharacters: 34, parser: 35, validator: 36, validationParser: 37, onChange: 38, onChangeMode: 39, onSelect: 40, onError: 41, onFocus: 42, onBlur: 43, onRenderMenu: 4, onSortModal: 44, onTransformModal: 45, focus: 5, patch: 46, openTransformModal: 47, refresh: 48, validate: 49 }, qle, [-1, -1, -1, -1]), r;
  }
  return at(e, ct), ot(e, [{ key: "focus", get: function() {
    return this.$$.ctx[5];
  } }, { key: "patch", get: function() {
    return this.$$.ctx[46];
  } }, { key: "openTransformModal", get: function() {
    return this.$$.ctx[47];
  } }, { key: "refresh", get: function() {
    return this.$$.ctx[48];
  } }, { key: "validate", get: function() {
    return this.$$.ctx[49];
  } }]), e;
}();
function Ule(t) {
  var e, n;
  return e = new Wm({ props: { items: t[0] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    1 & Mt(i, 1)[0] && (o.items = r[0]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Jle(t, e, n) {
  var r, i, o = e.json, s = e.readOnly, a = e.historyState, l = e.onSort, c = e.onTransform, u = e.onContextMenu, f = e.onUndo, d = e.onRedo, h = e.onRenderMenu;
  return t.$$set = function(p) {
    "json" in p && n(1, o = p.json), "readOnly" in p && n(2, s = p.readOnly), "historyState" in p && n(3, a = p.historyState), "onSort" in p && n(4, l = p.onSort), "onTransform" in p && n(5, c = p.onTransform), "onContextMenu" in p && n(6, u = p.onContextMenu), "onUndo" in p && n(7, f = p.onUndo), "onRedo" in p && n(8, d = p.onRedo), "onRenderMenu" in p && n(9, h = p.onRenderMenu);
  }, t.$$.update = function() {
    510 & t.$$.dirty && n(10, r = s ? [{ type: "space" }] : [{ type: "button", icon: fm, title: "Sort", className: "jse-sort", onClick: l, disabled: s || o === void 0 }, { type: "button", icon: cm, title: "Transform contents (filter, sort, project)", className: "jse-transform", onClick: c, disabled: s || o === void 0 }, { type: "button", icon: L_, title: Bb, className: "jse-contextmenu", onClick: u }, { type: "separator" }, { type: "button", icon: my, title: "Undo (Ctrl+Z)", className: "jse-undo", onClick: f, disabled: !a.canUndo }, { type: "button", icon: py, title: "Redo (Ctrl+Shift+Z)", className: "jse-redo", onClick: d, disabled: !a.canRedo }, { type: "space" }]), 1536 & t.$$.dirty && n(0, i = h(r));
  }, [i, o, s, a, l, c, u, f, d, h, r];
}
var Gle = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Jle, Ule, Lt, { json: 1, readOnly: 2, historyState: 3, onSort: 4, onTransform: 5, onContextMenu: 6, onUndo: 7, onRedo: 8, onRenderMenu: 9 }), r;
  }
  return at(e, ct), ot(e);
}();
function eS(t, e, n) {
  var r = t.slice();
  return r[9] = e[n], r;
}
function tS(t) {
  var e, n, r, i = [t[9].props], o = t[9].component;
  function s(a, l) {
    var c = {};
    if (l !== void 0 && 1 & l)
      c = ko(i, [_l(a[9].props)]);
    else
      for (var u = 0; u < i.length; u += 1)
        c = Bi(c, i[u]);
    return { props: c };
  }
  return o && (e = bs(o, s(t))), { c: function() {
    e && we(e.$$.fragment), n = wn();
  }, m: function(a, l) {
    e && be(e, a, l), X(a, n, l), r = !0;
  }, p: function(a, l) {
    if (1 & l && o !== (o = a[9].component)) {
      if (e) {
        Ae();
        var c = e;
        A(c.$$.fragment, 1, 0, function() {
          xe(c, 1);
        }), Ee();
      }
      o ? (we((e = bs(o, s(a, l))).$$.fragment), S(e.$$.fragment, 1), be(e, n.parentNode, n)) : e = null;
    } else if (o) {
      var u = 1 & l ? ko(i, [_l(a[9].props)]) : {};
      e.$set(u);
    }
  }, i: function(a) {
    r || (e && S(e.$$.fragment, a), r = !0);
  }, o: function(a) {
    e && A(e.$$.fragment, a), r = !1;
  }, d: function(a) {
    a && Q(n), e && xe(e, a);
  } };
}
function nS(t) {
  var e, n, r = t[9].component, i = tS(t);
  return { c: function() {
    i.c(), e = wn();
  }, m: function(o, s) {
    i.m(o, s), X(o, e, s), n = !0;
  }, p: function(o, s) {
    1 & s && Lt(r, r = o[9].component) ? (Ae(), A(i, 1, 1, Te), Ee(), (i = tS(o)).c(), S(i, 1), i.m(e.parentNode, e)) : i.p(o, s);
  }, i: function(o) {
    n || (S(i), n = !0);
  }, o: function(o) {
    A(i), n = !1;
  }, d: function(o) {
    o && Q(e), i.d(o);
  } };
}
function Kle(t) {
  for (var e, n, r = Et(t[0]), i = [], o = 0; o < r.length; o += 1)
    i[o] = nS(eS(t, r, o));
  var s = function(a) {
    return A(i[a], 1, 1, function() {
      i[a] = null;
    });
  };
  return { c: function() {
    for (var a = 0; a < i.length; a += 1)
      i[a].c();
    e = wn();
  }, m: function(a, l) {
    for (var c = 0; c < i.length; c += 1)
      i[c] && i[c].m(a, l);
    X(a, e, l), n = !0;
  }, p: function(a, l) {
    var c = Mt(l, 1)[0];
    if (1 & c) {
      var u;
      for (r = Et(a[0]), u = 0; u < r.length; u += 1) {
        var f = eS(a, r, u);
        i[u] ? (i[u].p(f, c), S(i[u], 1)) : (i[u] = nS(f), i[u].c(), S(i[u], 1), i[u].m(e.parentNode, e));
      }
      for (Ae(), u = r.length; u < i.length; u += 1)
        s(u);
      Ee();
    }
  }, i: function(a) {
    if (!n) {
      for (var l = 0; l < r.length; l += 1)
        S(i[l]);
      n = !0;
    }
  }, o: function(a) {
    i = i.filter(Boolean);
    for (var l = 0; l < i.length; l += 1)
      A(i[l]);
    n = !1;
  }, d: function(a) {
    a && Q(e), Sr(i, a);
  } };
}
function Yle(t, e, n) {
  var r, i, o = e.path, s = e.value, a = e.context, l = e.enforceString, c = e.selection, u = e.searchResultItems;
  function f(d, h) {
    return a.onPatch(function(p, m) {
      return p.flatMap(function(g) {
        if (H0(g)) {
          var v = zo(g.path);
          if (v.length > 0) {
            for (var y = [g], x = Zt(v); x.length > 0 && !ho(m, x); )
              y.unshift({ op: "add", path: We(x), value: {} }), x = Zt(x);
            return y;
          }
        }
        return g;
      });
    }(d, a.getJson()), h);
  }
  return t.$$set = function(d) {
    "path" in d && n(1, o = d.path), "value" in d && n(2, s = d.value), "context" in d && n(3, a = d.context), "enforceString" in d && n(4, l = d.enforceString), "selection" in d && n(5, c = d.selection), "searchResultItems" in d && n(6, u = d.searchResultItems);
  }, t.$$.update = function() {
    40 & t.$$.dirty && n(7, r = !a.readOnly && sn(c) && vi(c)), 254 & t.$$.dirty && n(0, i = a.onRenderValue({ path: o, value: s, readOnly: a.readOnly, enforceString: l, isEditing: r, parser: a.parser, normalization: a.normalization, selection: c, searchResultItems: u, onPatch: f, onPasteJson: a.onPasteJson, onSelect: a.onSelect, onFind: a.onFind, findNextInside: a.findNextInside, focus: a.focus }));
  }, [i, o, s, a, l, c, u, r];
}
var Qle = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Yle, Kle, Lt, { path: 1, value: 2, context: 3, enforceString: 4, selection: 5, searchResultItems: 6 }), r;
  }
  return at(e, ct), ot(e);
}();
function Xle(t) {
  Tt(t, "svelte-1o4m3u7", '.jse-inline-value.svelte-1o4m3u7{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);line-height:var(--jse-line-height, calc(1em + 4px));border:none;padding:0 calc(0.5 * var(--jse-padding, 10px));background:transparent;color:inherit;cursor:pointer}.jse-inline-value.svelte-1o4m3u7:hover{background:var(--jse-hover-background-color, rgba(0, 0, 0, 0.06))}.jse-inline-value.jse-selected.svelte-1o4m3u7{background:var(--jse-selection-background-color, #d3d3d3)}');
}
function Zle(t) {
  var e, n, r, i, o, s = Qs((e = t[2].stringify(t[1])) !== null && e !== void 0 ? e : "", 50) + "";
  return { c: function() {
    n = U("button"), r = Le(s), $(n, "type", "button"), $(n, "class", "jse-inline-value svelte-1o4m3u7"), Se(n, "jse-selected", t[3]);
  }, m: function(a, l) {
    X(a, n, l), E(n, r), i || (o = _e(n, "dblclick", t[5]), i = !0);
  }, p: function(a, l) {
    var c, u = Mt(l, 1)[0];
    6 & u && s !== (s = Qs((c = a[2].stringify(a[1])) !== null && c !== void 0 ? c : "", 50) + "") && yt(r, s), 8 & u && Se(n, "jse-selected", a[3]);
  }, i: Te, o: Te, d: function(a) {
    a && Q(n), i = !1, o();
  } };
}
function ece(t, e, n) {
  var r = e.path, i = e.value, o = e.parser, s = e.isSelected, a = e.onEdit;
  return t.$$set = function(l) {
    "path" in l && n(0, r = l.path), "value" in l && n(1, i = l.value), "parser" in l && n(2, o = l.parser), "isSelected" in l && n(3, s = l.isSelected), "onEdit" in l && n(4, a = l.onEdit);
  }, [r, i, o, s, a, function() {
    return a(r);
  }];
}
var tce = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, ece, Zle, Lt, { path: 0, value: 1, parser: 2, isSelected: 3, onEdit: 4 }, Xle), r;
  }
  return at(e, ct), ot(e);
}();
function nce(t) {
  Tt(t, "svelte-2v0aqj", ".jse-column-header.svelte-2v0aqj.svelte-2v0aqj{background:none;border:none;font-family:inherit;font-size:inherit;color:inherit;display:flex;gap:var(--jse-padding, 10px);padding:calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px) calc(0.5 * var(--jse-padding, 10px)) calc(0.5 * var(--jse-padding, 10px));width:100%}.jse-column-header.svelte-2v0aqj.svelte-2v0aqj:hover{background:var(--jse-table-header-background-highlight, #e8e8e8)}.jse-column-header.svelte-2v0aqj.svelte-2v0aqj:not(.jse-column-header.jse-readonly){cursor:pointer}.jse-column-header.svelte-2v0aqj span.jse-column-sort-icon.svelte-2v0aqj{height:1em}");
}
function rS(t) {
  var e, n, r, i;
  return n = new cn({ props: { data: t[1] === vo.asc ? uo : kx } }), { c: function() {
    e = U("span"), we(n.$$.fragment), $(e, "class", "jse-column-sort-icon svelte-2v0aqj"), $(e, "title", r = "Currently sorted in ".concat(t[2], " order"));
  }, m: function(o, s) {
    X(o, e, s), be(n, e, null), i = !0;
  }, p: function(o, s) {
    var a = {};
    2 & s && (a.data = o[1] === vo.asc ? uo : kx), n.$set(a), (!i || 4 & s && r !== (r = "Currently sorted in ".concat(o[2], " order"))) && $(e, "title", r);
  }, i: function(o) {
    i || (S(n.$$.fragment, o), i = !0);
  }, o: function(o) {
    A(n.$$.fragment, o), i = !1;
  }, d: function(o) {
    o && Q(e), xe(n);
  } };
}
function rce(t) {
  var e, n, r, i, o, s, a, l, c = Qs(t[3], 50) + "", u = t[1] !== void 0 && rS(t);
  return { c: function() {
    e = U("button"), n = U("span"), r = Le(c), i = le(), u && u.c(), $(n, "class", "jse-column-name"), $(e, "type", "button"), $(e, "class", "jse-column-header svelte-2v0aqj"), $(e, "title", o = t[0] ? t[3] : t[3] + " (Click to sort the data by this column)"), Se(e, "jse-readonly", t[0]);
  }, m: function(f, d) {
    X(f, e, d), E(e, n), E(n, r), E(e, i), u && u.m(e, null), s = !0, a || (l = _e(e, "click", t[4]), a = !0);
  }, p: function(f, d) {
    var h = Mt(d, 1)[0];
    (!s || 8 & h) && c !== (c = Qs(f[3], 50) + "") && yt(r, c), f[1] !== void 0 ? u ? (u.p(f, h), 2 & h && S(u, 1)) : ((u = rS(f)).c(), S(u, 1), u.m(e, null)) : u && (Ae(), A(u, 1, 1, function() {
      u = null;
    }), Ee()), (!s || 9 & h && o !== (o = f[0] ? f[3] : f[3] + " (Click to sort the data by this column)")) && $(e, "title", o), (!s || 1 & h) && Se(e, "jse-readonly", f[0]);
  }, i: function(f) {
    s || (S(u), s = !0);
  }, o: function(f) {
    A(u), s = !1;
  }, d: function(f) {
    f && Q(e), u && u.d(), a = !1, l();
  } };
}
function ice(t, e, n) {
  var r, i, o, s = e.path, a = e.sortedColumn, l = e.readOnly, c = e.onSort;
  return t.$$set = function(u) {
    "path" in u && n(5, s = u.path), "sortedColumn" in u && n(6, a = u.sortedColumn), "readOnly" in u && n(0, l = u.readOnly), "onSort" in u && n(7, c = u.onSort);
  }, t.$$.update = function() {
    var u;
    32 & t.$$.dirty && n(3, r = dn(s) ? "values" : qi(s)), 96 & t.$$.dirty && n(1, i = a && en(s, (u = a) === null || u === void 0 ? void 0 : u.path) ? a.sortDirection : void 0), 2 & t.$$.dirty && n(2, o = i ? mne[i] : void 0);
  }, [l, i, o, r, function() {
    l || c({ path: s, sortDirection: i === vo.asc ? vo.desc : vo.asc });
  }, s, a, c];
}
var rh, ih, oce = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, ice, rce, Lt, { path: 5, sortedColumn: 6, readOnly: 0, onSort: 7 }, nce), r;
  }
  return at(e, ct), ot(e);
}();
function ZT(t, e) {
  return rh || (ih = /* @__PURE__ */ new WeakMap(), rh = new ResizeObserver(function(n) {
    var r, i = Sf(n);
    try {
      for (i.s(); !(r = i.n()).done; ) {
        var o = r.value, s = ih.get(o.target);
        s && s(o.target);
      }
    } catch (a) {
      i.e(a);
    } finally {
      i.f();
    }
  })), ih.set(t, e), rh.observe(t), { destroy: function() {
    ih.delete(t), rh.unobserve(t);
  } };
}
function sce(t) {
  var e, n;
  return e = new FT({ props: { items: t[2], onCloseContextMenu: t[1], tip: t[0] ? "Tip: you can open this context menu via right-click or with Ctrl+Q" : void 0 } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = Mt(i, 1)[0], s = {};
    4 & o && (s.items = r[2]), 2 & o && (s.onCloseContextMenu = r[1]), 1 & o && (s.tip = r[0] ? "Tip: you can open this context menu via right-click or with Ctrl+Q" : void 0), e.$set(s);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function ace(t, e, n) {
  var r, i, o, s, a, l, c, u, f, d, h = e.json, p = e.documentState, m = e.parser, g = e.showTip, v = e.onCloseContextMenu, y = e.onRenderContextMenu, x = e.onEditValue, b = e.onEditRow, w = e.onToggleEnforceString, j = e.onCut, k = e.onCopy, N = e.onPaste, z = e.onRemove, _ = e.onDuplicateRow, B = e.onInsertBeforeRow, I = e.onInsertAfterRow, Y = e.onRemoveRow;
  return t.$$set = function(R) {
    "json" in R && n(3, h = R.json), "documentState" in R && n(4, p = R.documentState), "parser" in R && n(5, m = R.parser), "showTip" in R && n(0, g = R.showTip), "onCloseContextMenu" in R && n(1, v = R.onCloseContextMenu), "onRenderContextMenu" in R && n(6, y = R.onRenderContextMenu), "onEditValue" in R && n(7, x = R.onEditValue), "onEditRow" in R && n(8, b = R.onEditRow), "onToggleEnforceString" in R && n(9, w = R.onToggleEnforceString), "onCut" in R && n(10, j = R.onCut), "onCopy" in R && n(11, k = R.onCopy), "onPaste" in R && n(12, N = R.onPaste), "onRemove" in R && n(13, z = R.onRemove), "onDuplicateRow" in R && n(14, _ = R.onDuplicateRow), "onInsertBeforeRow" in R && n(15, B = R.onInsertBeforeRow), "onInsertAfterRow" in R && n(16, I = R.onInsertAfterRow), "onRemoveRow" in R && n(17, Y = R.onRemoveRow);
  }, t.$$.update = function() {
    16 & t.$$.dirty && n(24, r = p.selection), 8 & t.$$.dirty && n(26, i = h !== void 0), 16777216 & t.$$.dirty && n(19, o = !!r), 16777224 & t.$$.dirty && n(25, s = h !== void 0 && r ? Xe(h, ht(r)) : void 0), 83886080 & t.$$.dirty && n(20, a = i && (Tn(r) || jr(r) || sn(r))), 83886080 & t.$$.dirty && n(23, l = i && r != null && kp(r)), 41943040 & t.$$.dirty && n(21, c = l && !cr(s)), 50331696 & t.$$.dirty && n(22, u = r != null && s !== void 0 && Xs(s, p.enforceStringMap, We(ht(r)), m)), 16514944 & t.$$.dirty && n(18, d = [{ type: "separator" }, { type: "row", items: [{ type: "column", items: [{ type: "label", text: "Table cell:" }, { type: "dropdown-button", main: { type: "button", onClick: function() {
      return x();
    }, icon: mc, text: "Edit", title: "Edit the value (Double-click on the value)", disabled: !l }, width: "11em", items: [{ type: "button", icon: mc, text: "Edit", title: "Edit the value (Double-click on the value)", onClick: function() {
      return x();
    }, disabled: !l }, { type: "button", icon: u ? af : lf, text: "Enforce string", title: "Enforce keeping the value as string when it contains a numeric value", onClick: function() {
      return w();
    }, disabled: !c }] }, { type: "dropdown-button", main: { type: "button", onClick: function() {
      return j(!0);
    }, icon: pc, text: "Cut", title: "Cut selected contents, formatted with indentation (Ctrl+X)", disabled: !a }, width: "10em", items: [{ type: "button", icon: pc, text: "Cut formatted", title: "Cut selected contents, formatted with indentation (Ctrl+X)", onClick: function() {
      return j(!0);
    }, disabled: !a }, { type: "button", icon: pc, text: "Cut compacted", title: "Cut selected contents, without indentation (Ctrl+Shift+X)", onClick: function() {
      return j(!1);
    }, disabled: !a }] }, { type: "dropdown-button", main: { type: "button", onClick: function() {
      return k(!0);
    }, icon: ba, text: "Copy", title: "Copy selected contents, formatted with indentation (Ctrl+C)", disabled: !a }, width: "12em", items: [{ type: "button", icon: ba, text: "Copy formatted", title: "Copy selected contents, formatted with indentation (Ctrl+C)", onClick: function() {
      return k(!1);
    }, disabled: !a }, { type: "button", icon: ba, text: "Copy compacted", title: "Copy selected contents, without indentation (Ctrl+Shift+C)", onClick: function() {
      return k(!1);
    }, disabled: !a }] }, { type: "button", onClick: function() {
      return N();
    }, icon: N_, text: "Paste", title: "Paste clipboard contents (Ctrl+V)", disabled: !o }, { type: "button", onClick: function() {
      return z();
    }, icon: mv, text: "Remove", title: "Remove selected contents (Delete)", disabled: !a }] }, { type: "column", items: [{ type: "label", text: "Table row:" }, { type: "button", onClick: function() {
      return b();
    }, icon: mc, text: "Edit row", title: "Edit the current row", disabled: !a }, { type: "button", onClick: function() {
      return _();
    }, icon: q_, text: "Duplicate row", title: "Duplicate the current row", disabled: !o }, { type: "button", onClick: function() {
      return B();
    }, icon: ic, text: "Insert before", title: "Insert a row before the current row", disabled: !o }, { type: "button", onClick: function() {
      return I();
    }, icon: ic, text: "Insert after", title: "Insert a row after the current row", disabled: !o }, { type: "button", onClick: function() {
      return Y();
    }, icon: mv, text: "Remove row", title: "Remove current row", disabled: !o }] }] }]), 262208 & t.$$.dirty && n(2, f = y(d));
  }, [g, v, f, h, p, m, y, x, b, w, j, k, N, z, _, B, I, Y, d, o, a, c, u, l, r, s, i];
}
var lce = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, ace, sce, Lt, { json: 3, documentState: 4, parser: 5, showTip: 0, onCloseContextMenu: 1, onRenderContextMenu: 6, onEditValue: 7, onEditRow: 8, onToggleEnforceString: 9, onCut: 10, onCopy: 11, onPaste: 12, onRemove: 13, onDuplicateRow: 14, onInsertBeforeRow: 15, onInsertAfterRow: 16, onRemoveRow: 17 }), r;
  }
  return at(e, ct), ot(e);
}();
function cce(t) {
  Tt(t, "svelte-fxr3ye", '.jse-table-mode-welcome.svelte-fxr3ye.svelte-fxr3ye{flex:1;display:flex;flex-direction:column;overflow:auto;align-items:center;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode-welcome.svelte-fxr3ye.svelte-fxr3ye:last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode-welcome.svelte-fxr3ye .jse-space.jse-before.svelte-fxr3ye{flex:1}.jse-table-mode-welcome.svelte-fxr3ye .jse-nested-arrays.svelte-fxr3ye{display:flex;flex-direction:column;gap:var(--jse-padding, 10px);max-width:300px;margin:2em var(--jse-padding, 10px);font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px)}.jse-table-mode-welcome.svelte-fxr3ye .jse-nested-arrays .jse-nested-arrays-info.svelte-fxr3ye{color:var(--jse-panel-color-readonly, #b2b2b2)}.jse-table-mode-welcome.svelte-fxr3ye .jse-nested-arrays button.jse-nested-array-action.svelte-fxr3ye{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px;text-align:left}.jse-table-mode-welcome.svelte-fxr3ye .jse-nested-arrays button.jse-nested-array-action.svelte-fxr3ye:hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-table-mode-welcome.svelte-fxr3ye .jse-nested-arrays button.jse-nested-array-action.svelte-fxr3ye:disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.jse-table-mode-welcome.svelte-fxr3ye .jse-nested-arrays button.jse-nested-array-action .jse-nested-array-count.svelte-fxr3ye{opacity:0.5;white-space:nowrap}.jse-table-mode-welcome.svelte-fxr3ye .jse-space.jse-after.svelte-fxr3ye{flex:2}');
}
function iS(t, e, n) {
  var r = t.slice();
  r[14] = e[n];
  var i = r[8](r[14]);
  return r[15] = i, r;
}
function uce(t) {
  var e, n;
  return { c: function() {
    e = Le(t[6]), n = Le(" cannot be opened in table mode.");
  }, m: function(r, i) {
    X(r, e, i), X(r, n, i);
  }, p: function(r, i) {
    64 & i && yt(e, r[6]);
  }, d: function(r) {
    r && (Q(e), Q(n));
  } };
}
function fce(t) {
  var e;
  return { c: function() {
    e = Le(`An object cannot be opened in table mode. You can open a nested array instead, or open the
        document in tree mode.`);
  }, m: function(n, r) {
    X(n, e, r);
  }, p: Te, d: function(n) {
    n && Q(e);
  } };
}
function dce(t) {
  var e;
  return { c: function() {
    e = Le("You can open the document in tree mode instead.");
  }, m: function(n, r) {
    X(n, e, r);
  }, d: function(n) {
    n && Q(e);
  } };
}
function hce(t) {
  var e, n, r;
  return { c: function() {
    e = Le("You can open the document in tree mode instead, or paste a JSON Array using "), (n = U("b")).textContent = "Ctrl+V", r = Le(".");
  }, m: function(i, o) {
    X(i, e, o), X(i, n, o), X(i, r, o);
  }, d: function(i) {
    i && (Q(e), Q(n), Q(r));
  } };
}
function oS(t) {
  var e, n, r, i, o, s, a, l, c, u, f, d, h, p = qi(t[14]) + "", m = t[15] + "", g = t[15] !== 1 ? "items" : "item";
  function v() {
    return t[12](t[14]);
  }
  return { c: function() {
    e = U("button"), n = Le(t[7]), r = Le(' "'), i = Le(p), o = Le(`"
        `), s = U("span"), a = Le("("), l = Le(m), c = le(), u = Le(g), f = Le(")"), $(s, "class", "jse-nested-array-count svelte-fxr3ye"), $(e, "type", "button"), $(e, "class", "jse-nested-array-action svelte-fxr3ye");
  }, m: function(y, x) {
    X(y, e, x), E(e, n), E(e, r), E(e, i), E(e, o), E(e, s), E(s, a), E(s, l), E(s, c), E(s, u), E(s, f), d || (h = _e(e, "click", v), d = !0);
  }, p: function(y, x) {
    t = y, 128 & x && yt(n, t[7]), 8 & x && p !== (p = qi(t[14]) + "") && yt(i, p), 8 & x && m !== (m = t[15] + "") && yt(l, m), 8 & x && g !== (g = t[15] !== 1 ? "items" : "item") && yt(u, g);
  }, d: function(y) {
    y && Q(e), d = !1, h();
  } };
}
function pce(t) {
  var e, n, r, i, o, s, a, l, c, u, f, d, h, p, m, g, v, y;
  function x(I, Y) {
    return I[5] ? fce : uce;
  }
  var b = x(t), w = b(t);
  function j(I, Y) {
    return I[4] && !I[0] ? hce : dce;
  }
  for (var k = j(t), N = k(t), z = Et(t[3]), _ = [], B = 0; B < z.length; B += 1)
    _[B] = oS(iS(t, z, B));
  return { c: function() {
    e = U("div"), n = U("div"), r = le(), i = U("div"), o = U("div"), s = Le(t[6]), a = le(), l = U("div"), w.c(), c = le(), N.c(), u = le();
    for (var I = 0; I < _.length; I += 1)
      _[I].c();
    f = le(), d = U("button"), h = Le(t[7]), p = Le(" in tree mode"), m = le(), g = U("div"), $(n, "class", "jse-space jse-before svelte-fxr3ye"), $(o, "class", "jse-nested-arrays-title"), $(l, "class", "jse-nested-arrays-info svelte-fxr3ye"), $(d, "type", "button"), $(d, "class", "jse-nested-array-action svelte-fxr3ye"), $(i, "class", "jse-nested-arrays svelte-fxr3ye"), $(g, "class", "jse-space jse-after svelte-fxr3ye"), $(e, "class", "jse-table-mode-welcome svelte-fxr3ye");
  }, m: function(I, Y) {
    X(I, e, Y), E(e, n), E(e, r), E(e, i), E(i, o), E(o, s), E(i, a), E(i, l), w.m(l, null), E(l, c), N.m(l, null), E(i, u);
    for (var R = 0; R < _.length; R += 1)
      _[R] && _[R].m(i, null);
    E(i, f), E(i, d), E(d, h), E(d, p), E(e, m), E(e, g), v || (y = _e(d, "click", t[13]), v = !0);
  }, p: function(I, Y) {
    var R = Mt(Y, 1)[0];
    if (64 & R && yt(s, I[6]), b === (b = x(I)) && w ? w.p(I, R) : (w.d(1), (w = b(I)) && (w.c(), w.m(l, c))), k !== (k = j(I)) && (N.d(1), (N = k(I)) && (N.c(), N.m(l, null))), 394 & R) {
      var Z;
      for (z = Et(I[3]), Z = 0; Z < z.length; Z += 1) {
        var ne = iS(I, z, Z);
        _[Z] ? _[Z].p(ne, R) : (_[Z] = oS(ne), _[Z].c(), _[Z].m(i, f));
      }
      for (; Z < _.length; Z += 1)
        _[Z].d(1);
      _.length = z.length;
    }
    128 & R && yt(h, I[7]);
  }, i: Te, o: Te, d: function(I) {
    I && Q(e), w.d(), N.d(), Sr(_, I), v = !1, y();
  } };
}
function mce(t, e, n) {
  var r, i, o, s, a, l = e.text, c = e.json, u = e.readOnly, f = e.parser, d = e.openJSONEditorModal, h = e.onChangeMode;
  return t.$$set = function(p) {
    "text" in p && n(9, l = p.text), "json" in p && n(10, c = p.json), "readOnly" in p && n(0, u = p.readOnly), "parser" in p && n(11, f = p.parser), "openJSONEditorModal" in p && n(1, d = p.openJSONEditorModal), "onChangeMode" in p && n(2, h = p.onChangeMode);
  }, t.$$.update = function() {
    1 & t.$$.dirty && n(7, r = u ? "View" : "Edit"), 1024 & t.$$.dirty && n(3, a = c ? function(p) {
      var m = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 2, g = [];
      return function v(y, x) {
        dr(y) && x.length < m && Object.keys(y).forEach(function(b) {
          v(y[b], x.concat(b));
        }), zn(y) && g.push(x);
      }(p, []), g;
    }(c).slice(0, 99).filter(function(p) {
      return p.length > 0;
    }) : []), 8 & t.$$.dirty && n(5, i = !dn(a)), 1536 & t.$$.dirty && n(4, o = c === void 0 && (l === "" || l === void 0)), 3120 & t.$$.dirty && n(6, s = i ? "Object with nested arrays" : o ? "An empty document" : dr(c) ? "An object" : zn(c) ? "An empty array" : "A ".concat(zb(c, f)));
  }, [u, d, h, a, o, i, s, r, function(p) {
    return Xe(c, p).length;
  }, l, c, f, function(p) {
    return d(p);
  }, function() {
    return h(ei.tree);
  }];
}
var gce = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, mce, pce, Lt, { text: 9, json: 10, readOnly: 0, parser: 11, openJSONEditorModal: 1, onChangeMode: 2 }, cce), r;
  }
  return at(e, ct), ot(e);
}();
function vce(t) {
  Tt(t, "svelte-1nml1r3", ".jse-column-header.svelte-1nml1r3{background:none;border:none;font-family:inherit;font-size:inherit;color:inherit;display:flex;gap:var(--jse-padding, 10px);padding:calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px) calc(0.5 * var(--jse-padding, 10px)) calc(0.5 * var(--jse-padding, 10px));width:100%}.jse-column-header.svelte-1nml1r3:hover{background:var(--jse-table-header-background-highlight, #e8e8e8)}.jse-column-header.svelte-1nml1r3:not(.jse-column-header.jse-readonly){cursor:pointer}");
}
function yce(t) {
  var e, n, r, i, o, s;
  return n = new cn({ props: { data: qW } }), { c: function() {
    e = U("button"), we(n.$$.fragment), $(e, "type", "button"), $(e, "class", "jse-column-header svelte-1nml1r3"), $(e, "title", r = "The Columns are created by sampling ".concat(t[1], " items out of ").concat(t[0], ". ") + "If you're missing a column, click here to sample all of the items instead of a subset. This is slower.");
  }, m: function(a, l) {
    X(a, e, l), be(n, e, null), i = !0, o || (s = _e(e, "click", t[3]), o = !0);
  }, p: function(a, l) {
    var c = Mt(l, 1)[0];
    (!i || 3 & c && r !== (r = "The Columns are created by sampling ".concat(a[1], " items out of ").concat(a[0], ". ") + "If you're missing a column, click here to sample all of the items instead of a subset. This is slower.")) && $(e, "title", r);
  }, i: function(a) {
    i || (S(n.$$.fragment, a), i = !0);
  }, o: function(a) {
    A(n.$$.fragment, a), i = !1;
  }, d: function(a) {
    a && Q(e), xe(n), o = !1, s();
  } };
}
function bce(t, e, n) {
  var r = e.count, i = e.maxSampleCount, o = e.onRefresh;
  return t.$$set = function(s) {
    "count" in s && n(0, r = s.count), "maxSampleCount" in s && n(1, i = s.maxSampleCount), "onRefresh" in s && n(2, o = s.onRefresh);
  }, [r, i, o, function() {
    return o();
  }];
}
var xce = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, bce, yce, Lt, { count: 0, maxSampleCount: 1, onRefresh: 2 }, vce), r;
  }
  return at(e, ct), ot(e);
}();
function wce(t) {
  Tt(t, "svelte-1bunebm", '.jse-table-mode.svelte-1bunebm.svelte-1bunebm{flex:1;display:flex;flex-direction:column;position:relative;background:var(--jse-background-color, #fff);min-width:0;min-height:0;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);color:var(--jse-text-color, #4d4d4d);line-height:var(--jse-line-height, calc(1em + 4px))}.jse-table-mode.no-main-menu.svelte-1bunebm.svelte-1bunebm{border-top:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode.svelte-1bunebm .jse-hidden-input-label.svelte-1bunebm{position:fixed;right:0;top:0;width:0;height:0}.jse-table-mode.svelte-1bunebm .jse-hidden-input-label .jse-hidden-input.svelte-1bunebm{width:0;height:0;padding:0;border:0;outline:none}.jse-table-mode.svelte-1bunebm .jse-contents.svelte-1bunebm{flex:1;align-items:start;flex-direction:column;display:flex;overflow:auto;overflow-anchor:none;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode.svelte-1bunebm .jse-contents.svelte-1bunebm:last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main.svelte-1bunebm{border-collapse:collapse;border-spacing:0}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-invisible-start-section td.svelte-1bunebm,.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-invisible-end-section td.svelte-1bunebm{margin:0;padding:0}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-invisible-end-section td.svelte-1bunebm{padding-bottom:var(--jse-padding, 10px)}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-row.svelte-1bunebm:hover{background-color:var(--jse-table-row-odd-background, rgba(0, 0, 0, 0.05))}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.svelte-1bunebm{padding:0 var(--jse-padding, 10px) 0 0;vertical-align:top;white-space:nowrap;height:var(--jse-line-height, calc(1em + 4px))}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.jse-table-cell-header.svelte-1bunebm,.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.jse-table-cell-gutter.svelte-1bunebm{font-weight:normal;text-align:left;color:var(--jse-text-readonly, #8d8d8d);background:var(--jse-table-header-background, #f5f5f5)}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.jse-table-cell-header.svelte-1bunebm{padding:0;position:sticky;top:0}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.jse-table-cell-header .jse-table-root-error.svelte-1bunebm{padding:calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px) calc(0.5 * var(--jse-padding, 10px)) calc(0.5 * var(--jse-padding, 10px))}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.jse-table-cell-gutter.svelte-1bunebm{padding:0 var(--jse-padding, 10px) 0 calc(0.5 * var(--jse-padding, 10px))}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.jse-selected-value.svelte-1bunebm>.jse-value{background:var(--jse-selection-background-color, #d3d3d3)}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.svelte-1bunebm div{display:inline-flex}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.svelte-1bunebm div.jse-value{overflow-wrap:normal;white-space:nowrap;vertical-align:top;display:inline-block}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-row .jse-table-cell .jse-context-menu-anchor.svelte-1bunebm{position:relative;vertical-align:top}.jse-table-mode.svelte-1bunebm .jse-contents.jse-contents-loading.svelte-1bunebm{align-items:unset}.jse-table-mode.svelte-1bunebm .jse-contents.jse-contents-loading .jse-loading-space.svelte-1bunebm{flex:1}.jse-table-mode.svelte-1bunebm .jse-contents.jse-contents-loading .jse-loading.svelte-1bunebm{flex:2;text-align:center;color:var(--jse-panel-color-readonly, #b2b2b2);box-sizing:border-box;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px)}');
}
function sS(t, e, n) {
  var r, i = t.slice();
  i[123] = e[n], i[128] = n;
  var o = i[23].startIndex + i[128];
  i[124] = o;
  var s = i[22].rows[i[124]];
  i[125] = s;
  var a = l2([String(i[124])], (r = i[125]) === null || r === void 0 ? void 0 : r.row);
  return i[126] = a, i;
}
function aS(t, e, n) {
  var r, i = t.slice();
  i[129] = e[n], i[135] = n;
  var o = [String(i[124])].concat(i[129]);
  i[130] = o;
  var s = Xe(i[123], i[129]);
  i[131] = s;
  var a = sn(i[11].selection) && La(i[11].selection.path, i[130]);
  i[132] = a;
  var l = (r = i[125]) === null || r === void 0 ? void 0 : r.columns[i[135]];
  i[133] = l;
  var c = l2(i[130], i[133]);
  return i[126] = c, i;
}
function lS(t, e, n) {
  var r = t.slice();
  return r[129] = e[n], r;
}
function Kg(t) {
  var e, n = t.slice(), r = l2([], (e = n[22]) === null || e === void 0 ? void 0 : e.root);
  return n[126] = r, n;
}
function cS(t) {
  var e, n;
  return e = new Gle({ props: { json: t[8], readOnly: t[0], historyState: t[20], onSort: t[41], onTransform: t[42], onUndo: t[43], onRedo: t[44], onContextMenu: t[33], onRenderMenu: t[5] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    256 & i[0] && (o.json = r[8]), 1 & i[0] && (o.readOnly = r[0]), 1048576 & i[0] && (o.historyState = r[20]), 32 & i[0] && (o.onRenderMenu = r[5]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function jce(t) {
  var e;
  return { c: function() {
    (e = U("div")).innerHTML = '<div class="jse-loading-space svelte-1bunebm"></div> <div class="jse-loading svelte-1bunebm">loading...</div>', $(e, "class", "jse-contents jse-contents-loading svelte-1bunebm");
  }, m: function(n, r) {
    X(n, e, r);
  }, p: Te, i: Te, o: Te, d: function(n) {
    n && Q(e);
  } };
}
function $ce(t) {
  var e, n, r, i, o, s, a, l, c, u = [Cce, Sce, kce], f = [];
  function d(h, p) {
    return h[25] ? 0 : h[17] && h[16] !== void 0 && h[16] !== "" ? 1 : 2;
  }
  return i = d(t), o = f[i] = u[i](t), { c: function() {
    e = U("label"), n = U("input"), r = le(), o.c(), s = wn(), $(n, "type", "text"), n.readOnly = !0, $(n, "tabindex", "-1"), $(n, "class", "jse-hidden-input svelte-1bunebm"), $(e, "class", "jse-hidden-input-label svelte-1bunebm");
  }, m: function(h, p) {
    X(h, e, p), E(e, n), t[73](n), X(h, r, p), f[i].m(h, p), X(h, s, p), a = !0, l || (c = _e(n, "paste", t[38]), l = !0);
  }, p: function(h, p) {
    var m = i;
    (i = d(h)) === m ? f[i].p(h, p) : (Ae(), A(f[m], 1, 1, function() {
      f[m] = null;
    }), Ee(), (o = f[i]) ? o.p(h, p) : (o = f[i] = u[i](h)).c(), S(o, 1), o.m(s.parentNode, s));
  }, i: function(h) {
    a || (S(o), a = !0);
  }, o: function(h) {
    A(o), a = !1;
  }, d: function(h) {
    h && (Q(e), Q(r), Q(s)), t[73](null), f[i].d(h), l = !1, c();
  } };
}
function kce(t) {
  var e, n;
  return e = new gce({ props: { text: t[16], json: t[8], readOnly: t[0], parser: t[2], openJSONEditorModal: t[40], onChangeMode: t[4] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    65536 & i[0] && (o.text = r[16]), 256 & i[0] && (o.json = r[8]), 1 & i[0] && (o.readOnly = r[0]), 4 & i[0] && (o.parser = r[2]), 16 & i[0] && (o.onChangeMode = r[4]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Sce(t) {
  var e, n, r, i;
  return e = new Jo({ props: { type: "error", message: "The loaded JSON document is invalid and could not be repaired automatically.", actions: t[0] ? [] : [{ icon: Ma, text: "Repair manually", title: 'Open the document in "code" mode and repair it manually', onClick: t[36] }] } }), r = new XT({ props: { text: t[16], json: t[8], indentation: t[3], parser: t[2] } }), { c: function() {
    we(e.$$.fragment), n = le(), we(r.$$.fragment);
  }, m: function(o, s) {
    be(e, o, s), X(o, n, s), be(r, o, s), i = !0;
  }, p: function(o, s) {
    var a = {};
    1 & s[0] && (a.actions = o[0] ? [] : [{ icon: Ma, text: "Repair manually", title: 'Open the document in "code" mode and repair it manually', onClick: o[36] }]), e.$set(a);
    var l = {};
    65536 & s[0] && (l.text = o[16]), 256 & s[0] && (l.json = o[8]), 8 & s[0] && (l.indentation = o[3]), 4 & s[0] && (l.parser = o[2]), r.$set(l);
  }, i: function(o) {
    i || (S(e.$$.fragment, o), S(r.$$.fragment, o), i = !0);
  }, o: function(o) {
    A(e.$$.fragment, o), A(r.$$.fragment, o), i = !1;
  }, d: function(o) {
    o && Q(n), xe(e, o), xe(r, o);
  } };
}
function Cce(t) {
  for (var e, n, r, i, o, s, a, l, c, u, f, d, h, p, m, g, v, y, x, b, w, j, k, N, z = !dn((e = t[22]) === null || e === void 0 ? void 0 : e.root), _ = z && uS(Kg(t)), B = Et(t[10]), I = [], Y = 0; Y < B.length; Y += 1)
    I[Y] = dS(lS(t, B, Y));
  for (var R = function(O) {
    return A(I[O], 1, 1, function() {
      I[O] = null;
    });
  }, Z = t[24] && hS(t), ne = Et(t[23].visibleItems), V = [], M = 0; M < ne.length; M += 1)
    V[M] = xS(sS(t, ne, M));
  var F = function(O) {
    return A(V[O], 1, 1, function() {
      V[O] = null;
    });
  }, P = t[18] && wS(t), T = t[19] && jS(t);
  return w = new t2({ props: { validationErrors: t[12], selectError: t[39] } }), { c: function() {
    n = U("div"), r = U("table"), i = U("tbody"), o = U("tr"), s = U("th"), _ && _.c(), a = le();
    for (var O = 0; O < I.length; O += 1)
      I[O].c();
    l = le(), Z && Z.c(), c = le(), u = U("tr"), f = U("td"), h = le();
    for (var L = 0; L < V.length; L += 1)
      V[L].c();
    p = le(), m = U("tr"), g = U("td"), y = le(), P && P.c(), x = le(), T && T.c(), b = le(), we(w.$$.fragment), $(s, "class", "jse-table-cell jse-table-cell-header svelte-1bunebm"), $(o, "class", "jse-table-row jse-table-row-header svelte-1bunebm"), $(f, "colspan", d = t[10].length), $(f, "class", "svelte-1bunebm"), hi(f, "height", t[23].startHeight + "px"), $(u, "class", "jse-table-invisible-start-section"), $(g, "colspan", v = t[10].length), $(g, "class", "svelte-1bunebm"), hi(g, "height", t[23].endHeight + "px"), $(m, "class", "jse-table-invisible-end-section"), $(r, "class", "jse-table-main svelte-1bunebm"), $(n, "class", "jse-contents svelte-1bunebm");
  }, m: function(O, L) {
    X(O, n, L), E(n, r), E(r, i), E(i, o), E(o, s), _ && _.m(s, null), E(o, a);
    for (var C = 0; C < I.length; C += 1)
      I[C] && I[C].m(o, null);
    E(o, l), Z && Z.m(o, null), E(i, c), E(i, u), E(u, f), E(i, h);
    for (var H = 0; H < V.length; H += 1)
      V[H] && V[H].m(i, null);
    E(i, p), E(i, m), E(m, g), t[76](n), X(O, y, L), P && P.m(O, L), X(O, x, L), T && T.m(O, L), X(O, b, L), be(w, O, L), j = !0, k || (N = [Wr(ZT.call(null, n, t[45])), _e(n, "scroll", t[29])], k = !0);
  }, p: function(O, L) {
    var C;
    if (4194304 & L[0] && (z = !dn((C = O[22]) === null || C === void 0 ? void 0 : C.root)), z ? _ ? (_.p(Kg(O), L), 4194304 & L[0] && S(_, 1)) : ((_ = uS(Kg(O))).c(), S(_, 1), _.m(s, null)) : _ && (Ae(), A(_, 1, 1, function() {
      _ = null;
    }), Ee()), 268438529 & L[0]) {
      var H;
      for (B = Et(O[10]), H = 0; H < B.length; H += 1) {
        var ie = lS(O, B, H);
        I[H] ? (I[H].p(ie, L), S(I[H], 1)) : (I[H] = dS(ie), I[H].c(), S(I[H], 1), I[H].m(o, l));
      }
      for (Ae(), H = B.length; H < I.length; H += 1)
        R(H);
      Ee();
    }
    if (O[24] ? Z ? (Z.p(O, L), 16777216 & L[0] && S(Z, 1)) : ((Z = hS(O)).c(), S(Z, 1), Z.m(o, null)) : Z && (Ae(), A(Z, 1, 1, function() {
      Z = null;
    }), Ee()), (!j || 1024 & L[0] && d !== (d = O[10].length)) && $(f, "colspan", d), 8388608 & L[0] && hi(f, "height", O[23].startHeight + "px"), 165678085 & L[0] | 33281 & L[1]) {
      var te;
      for (ne = Et(O[23].visibleItems), te = 0; te < ne.length; te += 1) {
        var ke = sS(O, ne, te);
        V[te] ? (V[te].p(ke, L), S(V[te], 1)) : (V[te] = xS(ke), V[te].c(), S(V[te], 1), V[te].m(i, p));
      }
      for (Ae(), te = ne.length; te < V.length; te += 1)
        F(te);
      Ee();
    }
    (!j || 1024 & L[0] && v !== (v = O[10].length)) && $(g, "colspan", v), 8388608 & L[0] && hi(g, "height", O[23].endHeight + "px"), O[18] ? P ? (P.p(O, L), 262144 & L[0] && S(P, 1)) : ((P = wS(O)).c(), S(P, 1), P.m(x.parentNode, x)) : P && (Ae(), A(P, 1, 1, function() {
      P = null;
    }), Ee()), O[19] ? T ? (T.p(O, L), 524288 & L[0] && S(T, 1)) : ((T = jS(O)).c(), S(T, 1), T.m(b.parentNode, b)) : T && (Ae(), A(T, 1, 1, function() {
      T = null;
    }), Ee());
    var Me = {};
    4096 & L[0] && (Me.validationErrors = O[12]), w.$set(Me);
  }, i: function(O) {
    if (!j) {
      S(_);
      for (var L = 0; L < B.length; L += 1)
        S(I[L]);
      S(Z);
      for (var C = 0; C < ne.length; C += 1)
        S(V[C]);
      S(P), S(T), S(w.$$.fragment, O), j = !0;
    }
  }, o: function(O) {
    A(_), I = I.filter(Boolean);
    for (var L = 0; L < I.length; L += 1)
      A(I[L]);
    A(Z), V = V.filter(Boolean);
    for (var C = 0; C < V.length; C += 1)
      A(V[C]);
    A(P), A(T), A(w.$$.fragment, O), j = !1;
  }, d: function(O) {
    O && (Q(n), Q(y), Q(x), Q(b)), _ && _.d(), Sr(I, O), Z && Z.d(), Sr(V, O), t[76](null), P && P.d(O), T && T.d(O), xe(w, O), k = !1, Dn(N);
  } };
}
function uS(t) {
  var e, n, r = t[126] && fS(t);
  return { c: function() {
    r && r.c(), e = wn();
  }, m: function(i, o) {
    r && r.m(i, o), X(i, e, o), n = !0;
  }, p: function(i, o) {
    i[126] ? r ? (r.p(i, o), 4194304 & o[0] && S(r, 1)) : ((r = fS(i)).c(), S(r, 1), r.m(e.parentNode, e)) : r && (Ae(), A(r, 1, 1, function() {
      r = null;
    }), Ee());
  }, i: function(i) {
    n || (S(r), n = !0);
  }, o: function(i) {
    A(r), n = !1;
  }, d: function(i) {
    i && Q(e), r && r.d(i);
  } };
}
function fS(t) {
  var e, n, r;
  return n = new hu({ props: { validationError: t[126], onExpand: so } }), { c: function() {
    e = U("div"), we(n.$$.fragment), $(e, "class", "jse-table-root-error svelte-1bunebm");
  }, m: function(i, o) {
    X(i, e, o), be(n, e, null), r = !0;
  }, p: function(i, o) {
    var s = {};
    4194304 & o[0] && (s.validationError = i[126]), n.$set(s);
  }, i: function(i) {
    r || (S(n.$$.fragment, i), r = !0);
  }, o: function(i) {
    A(n.$$.fragment, i), r = !1;
  }, d: function(i) {
    i && Q(e), xe(n);
  } };
}
function dS(t) {
  var e, n, r;
  return n = new oce({ props: { path: t[129], sortedColumn: t[11].sortedColumn, readOnly: t[0], onSort: t[28] } }), { c: function() {
    e = U("th"), we(n.$$.fragment), $(e, "class", "jse-table-cell jse-table-cell-header svelte-1bunebm");
  }, m: function(i, o) {
    X(i, e, o), be(n, e, null), r = !0;
  }, p: function(i, o) {
    var s = {};
    1024 & o[0] && (s.path = i[129]), 2048 & o[0] && (s.sortedColumn = i[11].sortedColumn), 1 & o[0] && (s.readOnly = i[0]), n.$set(s);
  }, i: function(i) {
    r || (S(n.$$.fragment, i), r = !0);
  }, o: function(i) {
    A(n.$$.fragment, i), r = !1;
  }, d: function(i) {
    i && Q(e), xe(n);
  } };
}
function hS(t) {
  var e, n, r;
  return n = new xce({ props: { count: Array.isArray(t[8]) ? t[8].length : 0, maxSampleCount: t[9], onRefresh: t[74] } }), { c: function() {
    e = U("th"), we(n.$$.fragment), $(e, "class", "jse-table-cell jse-table-cell-header svelte-1bunebm");
  }, m: function(i, o) {
    X(i, e, o), be(n, e, null), r = !0;
  }, p: function(i, o) {
    var s = {};
    256 & o[0] && (s.count = Array.isArray(i[8]) ? i[8].length : 0), 512 & o[0] && (s.maxSampleCount = i[9]), 512 & o[0] && (s.onRefresh = i[74]), n.$set(s);
  }, i: function(i) {
    r || (S(n.$$.fragment, i), r = !0);
  }, o: function(i) {
    A(n.$$.fragment, i), r = !1;
  }, d: function(i) {
    i && Q(e), xe(n);
  } };
}
function pS(t) {
  var e, n;
  return e = new hu({ props: { validationError: t[126], onExpand: so } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    12582912 & i[0] && (o.validationError = r[126]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function mS(t) {
  var e, n, r, i, o, s, a, l = t[124] + "", c = t[126] && pS(t);
  function u() {
    for (var f, d = arguments.length, h = new Array(d), p = 0; p < d; p++)
      h[p] = arguments[p];
    return (f = t)[75].apply(f, [t[124]].concat(h));
  }
  return { c: function() {
    e = U("th"), n = Le(l), r = le(), c && c.c(), $(e, "class", "jse-table-cell jse-table-cell-gutter svelte-1bunebm");
  }, m: function(f, d) {
    X(f, e, d), E(e, n), E(e, r), c && c.m(e, null), o = !0, s || (a = Wr(i = ZT.call(null, e, u)), s = !0);
  }, p: function(f, d) {
    t = f, (!o || 8388608 & d[0]) && l !== (l = t[124] + "") && yt(n, l), t[126] ? c ? (c.p(t, d), 12582912 & d[0] && S(c, 1)) : ((c = pS(t)).c(), S(c, 1), c.m(e, null)) : c && (Ae(), A(c, 1, 1, function() {
      c = null;
    }), Ee()), i && di(i.update) && 8388608 & d[0] && i.update.call(null, u);
  }, i: function(f) {
    o || (S(c), o = !0);
  }, o: function(f) {
    A(c), o = !1;
  }, d: function(f) {
    f && Q(e), c && c.d(), s = !1, a();
  } };
}
function _ce(t) {
  var e, n;
  return e = new Qle({ props: { path: t[130], value: t[131] !== void 0 ? t[131] : "", enforceString: Xs(t[131], t[11].enforceStringMap, We(t[130]), t[21].parser), selection: t[132] ? t[11].selection : null, searchResultItems: t[27], context: t[21] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    8389632 & i[0] && (o.path = r[130]), 8389632 & i[0] && (o.value = r[131] !== void 0 ? r[131] : ""), 10488832 & i[0] && (o.enforceString = Xs(r[131], r[11].enforceStringMap, We(r[130]), r[21].parser)), 8391680 & i[0] && (o.selection = r[132] ? r[11].selection : null), 2097152 & i[0] && (o.context = r[21]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Oce(t) {
  var e, n;
  return e = new tce({ props: { path: t[130], value: t[131], parser: t[2], isSelected: t[132], onEdit: t[40] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    8389632 & i[0] && (o.path = r[130]), 8389632 & i[0] && (o.value = r[131]), 4 & i[0] && (o.parser = r[2]), 8391680 & i[0] && (o.isSelected = r[132]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function gS(t) {
  var e, n, r, i;
  return n = new Ka({ props: { selected: !0, onContextMenu: t[31] } }), { c: function() {
    e = U("div"), we(n.$$.fragment), r = le(), $(e, "class", "jse-context-menu-anchor svelte-1bunebm");
  }, m: function(o, s) {
    X(o, e, s), be(n, e, null), X(o, r, s), i = !0;
  }, p: Te, i: function(o) {
    i || (S(n.$$.fragment, o), i = !0);
  }, o: function(o) {
    A(n.$$.fragment, o), i = !1;
  }, d: function(o) {
    o && (Q(e), Q(r)), xe(n);
  } };
}
function vS(t) {
  var e, n;
  return e = new hu({ props: { validationError: t[126], onExpand: so } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    12583936 & i[0] && (o.validationError = r[126]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function yS(t) {
  var e, n, r, i, o, s, a, l, c = !t[0] && t[132] && !vi(t[11].selection), u = [Oce, _ce], f = [];
  function d(m, g) {
    return 8389632 & g[0] && (n = null), n == null && (n = !!cr(m[131])), n ? 0 : 1;
  }
  r = d(t, [-1, -1, -1, -1, -1]), i = f[r] = u[r](t);
  var h = c && gS(t), p = t[126] && vS(t);
  return { c: function() {
    e = U("td"), i.c(), o = wn(), h && h.c(), s = wn(), p && p.c(), $(e, "class", "jse-table-cell svelte-1bunebm"), $(e, "data-path", a = qc(t[130])), Se(e, "jse-selected-value", t[132]);
  }, m: function(m, g) {
    X(m, e, g), f[r].m(e, null), E(e, o), h && h.m(e, null), E(e, s), p && p.m(e, null), l = !0;
  }, p: function(m, g) {
    var v = r;
    (r = d(m, g)) === v ? f[r].p(m, g) : (Ae(), A(f[v], 1, 1, function() {
      f[v] = null;
    }), Ee(), (i = f[r]) ? i.p(m, g) : (i = f[r] = u[r](m)).c(), S(i, 1), i.m(e, o)), 8391681 & g[0] && (c = !m[0] && m[132] && !vi(m[11].selection)), c ? h ? (h.p(m, g), 8391681 & g[0] && S(h, 1)) : ((h = gS(m)).c(), S(h, 1), h.m(e, s)) : h && (Ae(), A(h, 1, 1, function() {
      h = null;
    }), Ee()), m[126] ? p ? (p.p(m, g), 12583936 & g[0] && S(p, 1)) : ((p = vS(m)).c(), S(p, 1), p.m(e, null)) : p && (Ae(), A(p, 1, 1, function() {
      p = null;
    }), Ee()), (!l || 8389632 & g[0] && a !== (a = qc(m[130]))) && $(e, "data-path", a), (!l || 8391680 & g[0]) && Se(e, "jse-selected-value", m[132]);
  }, i: function(m) {
    l || (S(i), S(h), S(p), l = !0);
  }, o: function(m) {
    A(i), A(h), A(p), l = !1;
  }, d: function(m) {
    m && Q(e), f[r].d(), h && h.d(), p && p.d();
  } };
}
function bS(t) {
  var e;
  return { c: function() {
    $(e = U("td"), "class", "jse-table-cell svelte-1bunebm");
  }, m: function(n, r) {
    X(n, e, r);
  }, d: function(n) {
    n && Q(e);
  } };
}
function xS(t) {
  for (var e, n, r, i, o = t[124], s = mS(t), a = Et(t[10]), l = [], c = 0; c < a.length; c += 1)
    l[c] = yS(aS(t, a, c));
  var u = function(d) {
    return A(l[d], 1, 1, function() {
      l[d] = null;
    });
  }, f = t[24] && bS();
  return { c: function() {
    e = U("tr"), s.c(), n = le();
    for (var d = 0; d < l.length; d += 1)
      l[d].c();
    r = le(), f && f.c(), $(e, "class", "jse-table-row svelte-1bunebm");
  }, m: function(d, h) {
    X(d, e, h), s.m(e, null), E(e, n);
    for (var p = 0; p < l.length; p += 1)
      l[p] && l[p].m(e, null);
    E(e, r), f && f.m(e, null), i = !0;
  }, p: function(d, h) {
    if (8388608 & h[0] && Lt(o, o = d[124]) ? (Ae(), A(s, 1, 1, Te), Ee(), (s = mS(d)).c(), S(s, 1), s.m(e, n)) : s.p(d, h), 148900869 & h[0] | 513 & h[1]) {
      var p;
      for (a = Et(d[10]), p = 0; p < a.length; p += 1) {
        var m = aS(d, a, p);
        l[p] ? (l[p].p(m, h), S(l[p], 1)) : (l[p] = yS(m), l[p].c(), S(l[p], 1), l[p].m(e, r));
      }
      for (Ae(), p = a.length; p < l.length; p += 1)
        u(p);
      Ee();
    }
    d[24] ? f || ((f = bS()).c(), f.m(e, null)) : f && (f.d(1), f = null);
  }, i: function(d) {
    if (!i) {
      S(s);
      for (var h = 0; h < a.length; h += 1)
        S(l[h]);
      i = !0;
    }
  }, o: function(d) {
    A(s), l = l.filter(Boolean);
    for (var h = 0; h < l.length; h += 1)
      A(l[h]);
    i = !1;
  }, d: function(d) {
    d && Q(e), s.d(d), Sr(l, d), f && f.d();
  } };
}
function wS(t) {
  var e, n;
  return e = new Jo({ props: { type: "info", message: "You pasted a JSON ".concat(Array.isArray(t[18].contents) ? "array" : "object", " as text"), actions: [{ icon: um, text: "Paste as JSON instead", title: "Paste the text as JSON instead of a single value", onMouseDown: t[34] }, { text: "Leave as is", title: "Keep the pasted content as a single value", onClick: t[35] }] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    262144 & i[0] && (o.message = "You pasted a JSON ".concat(Array.isArray(r[18].contents) ? "array" : "object", " as text")), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function jS(t) {
  var e, n;
  return e = new Jo({ props: { type: "success", message: "The loaded JSON document was invalid but is successfully repaired.", actions: t[0] ? [] : [{ icon: cf, text: "Ok", title: "Accept the repaired document", onClick: t[7] }, { icon: Ma, text: "Repair manually instead", title: "Leave the document unchanged and repair it manually instead", onClick: t[36] }], onClose: t[6] } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    1 & i[0] && (o.actions = r[0] ? [] : [{ icon: cf, text: "Ok", title: "Accept the repaired document", onClick: r[7] }, { icon: Ma, text: "Repair manually instead", title: "Leave the document unchanged and repair it manually instead", onClick: r[36] }]), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Ace(t) {
  var e, n, r, i, o, s, a, l = t[1] && cS(t), c = [$ce, jce], u = [];
  return r = function(f, d) {
    return f[26] ? 1 : 0;
  }(t), i = u[r] = c[r](t), { c: function() {
    e = U("div"), l && l.c(), n = le(), i.c(), $(e, "role", "table"), $(e, "class", "jse-table-mode svelte-1bunebm"), Se(e, "no-main-menu", !t[1]);
  }, m: function(f, d) {
    X(f, e, d), l && l.m(e, null), E(e, n), u[r].m(e, null), t[77](e), o = !0, s || (a = [_e(e, "mousedown", t[30]), _e(e, "keydown", t[37]), _e(e, "contextmenu", t[32])], s = !0);
  }, p: function(f, d) {
    f[1] ? l ? (l.p(f, d), 2 & d[0] && S(l, 1)) : ((l = cS(f)).c(), S(l, 1), l.m(e, n)) : l && (Ae(), A(l, 1, 1, function() {
      l = null;
    }), Ee()), i.p(f, d), (!o || 2 & d[0]) && Se(e, "no-main-menu", !f[1]);
  }, i: function(f) {
    o || (S(l), S(i), o = !0);
  }, o: function(f) {
    A(l), A(i), o = !1;
  }, d: function(f) {
    f && Q(e), l && l.d(), u[r].d(), t[77](null), s = !1, Dn(a);
  } };
}
var Ou = 18;
function Ece(t, e, n) {
  var r, i, o, s, a = Jr("jsoneditor:TableMode"), l = Hr("simple-modal").open, c = Hr("absolute-popup"), u = c.openAbsolutePopup, f = c.closeAbsolutePopup, d = NT(), h = Ea(), p = Ea(), m = typeof window > "u";
  a("isSSR:", m);
  var g, v, y, x, b, w, j = e.readOnly, k = e.externalContent, N = e.externalSelection, z = e.mainMenuBar, _ = e.escapeControlCharacters, B = e.escapeUnicodeCharacters, I = e.flattenColumns, Y = e.parser, R = e.parseMemoizeOne, Z = e.validator, ne = e.validationParser, V = e.indentation, M = e.onChange, F = e.onChangeMode, P = e.onSelect, T = e.onRenderValue, O = e.onRenderMenu, L = e.onRenderContextMenu, C = e.onFocus, H = e.onBlur, ie = e.onSortModal, te = e.onTransformModal, ke = e.onJSONEditorModal;
  e2({ onMount: $o, onDestroy: to, getWindow: function() {
    return fu(v);
  }, hasFocus: function() {
    return Ue && document.hasFocus() || Hb(v);
  }, onFocus: function() {
    C && C();
  }, onBlur: function() {
    H && H();
  } });
  var Me, fe = void 0, pe = 1e4, Fe = [], Ue = !1, ut = {}, rn = 600, ae = 0;
  function At(J) {
    a("updateSelection", J);
    var je = typeof J == "function" ? J(me.selection) || null : J;
    en(je, me.selection) || (n(11, me = he(he({}, me), {}, { selection: je })), P(je));
  }
  function Ge(J) {
    me.selection && J !== void 0 && (ho(J, ml(me.selection)) && ho(J, ht(me.selection)) || (a("clearing selection: path does not exist anymore", me.selection), n(11, me = he(he({}, me), {}, { selection: null }))));
  }
  var me = $p(), Ct = !1, _n, Ut = DT({ onChange: function(J) {
    n(20, un = J);
  } }), un = Ut.getState();
  function Xn(J) {
    var je = b, Ie = Bc(J) ? J.text !== w : !en(je, J.json);
    if (a("update external content", { isChanged: Ie }), Ie) {
      var Be = { json: b, text: w }, Ye = b, Ot = me, et = w, Xt = Ct;
      if (Bc(J))
        try {
          n(8, b = R(J.text)), n(16, w = J.text), n(19, Ct = !1), n(17, fe = void 0);
        } catch (gt) {
          try {
            n(8, b = R(fs(J.text))), n(16, w = J.text), n(19, Ct = !0), n(17, fe = void 0);
          } catch {
            n(8, b = void 0), n(16, w = J.text), n(19, Ct = !1), n(17, fe = w !== "" ? Lc(w, gt.message || String(gt)) : void 0);
          }
        }
      else
        n(8, b = J.json), n(16, w = void 0), n(19, Ct = !1), n(17, fe = void 0);
      Ge(b), me.sortedColumn && n(11, me = he(he({}, me), {}, { sortedColumn: null })), kn({ previousJson: Ye, previousState: Ot, previousText: et, previousTextIsRepaired: Xt }), Ze(Be, null);
    }
  }
  function kn(J) {
    var je = J.previousJson, Ie = J.previousState, Be = J.previousText, Ye = J.previousTextIsRepaired;
    je === void 0 && Be === void 0 || (b !== void 0 ? je !== void 0 ? Ut.add({ undo: { patch: [{ op: "replace", path: "", value: je }], state: li(Ie), json: void 0, text: Be, textIsRepaired: Ye }, redo: { patch: [{ op: "replace", path: "", value: b }], state: li(me), json: void 0, text: w, textIsRepaired: Ct } }) : Ut.add({ undo: { patch: void 0, json: void 0, text: Be, state: li(Ie), textIsRepaired: Ye }, redo: { patch: void 0, json: b, state: li(me), text: w, textIsRepaired: Ct } }) : je !== void 0 && Ut.add({ undo: { patch: void 0, json: je, state: li(Ie), text: Be, textIsRepaired: Ye }, redo: { patch: void 0, json: void 0, text: w, textIsRepaired: Ct, state: li(me) } }));
  }
  var D = [], ee = Wf(LT);
  function oe(J, je, Ie, Be) {
    uc(function() {
      var Ye;
      try {
        Ye = ee(J, je, Ie, Be);
      } catch (Ot) {
        Ye = [{ path: [], message: "Failed to validate: " + Ot.message, severity: Ks.warning }];
      }
      en(Ye, D) || (a("validationErrors changed:", Ye), n(12, D = Ye));
    }, function(Ye) {
      return a("validationErrors updated in ".concat(Ye, " ms"));
    });
  }
  function ge() {
    return a("validate"), fe ? { parseError: fe, isRepairable: !1 } : (oe(b, Z, Y, ne), dn(D) ? null : { validationErrors: D });
  }
  function $e(J, je) {
    if (a("patch", J, je), b === void 0)
      throw new Error("Cannot apply patch: no JSON");
    var Ie = { json: b }, Be = b, Ye = me, Ot = Ct, et = $T(b, J), Xt = dT(b, me, J).json, gt = Qae(me, J, Fe), bt = typeof je == "function" ? je(Xt, gt) : void 0;
    n(8, b = bt && bt.json !== void 0 ? bt.json : Xt);
    var pn = bt && bt.state !== void 0 ? bt.state : gt;
    n(11, me = pn), n(16, w = void 0), n(19, Ct = !1), n(18, Me = void 0), n(17, fe = void 0), Ut.add({ undo: { patch: et, json: void 0, text: void 0, state: li(Ye), textIsRepaired: Ot }, redo: { patch: J, json: void 0, state: li(pn), text: void 0, textIsRepaired: Ct } });
    var On = { json: b, previousJson: Be, undo: et, redo: J };
    return Ze(Ie, On), On;
  }
  function Oe(J, je) {
    return j ? { json: b, previousJson: b, redo: [], undo: [] } : $e(J, je);
  }
  function Ze(J, je) {
    (J.json !== void 0 || (J == null ? void 0 : J.text) !== void 0) && M && (w !== void 0 ? M({ text: w, json: void 0 }, J, { contentErrors: ge(), patchResult: je }) : b !== void 0 && M({ text: void 0, json: b }, J, { contentErrors: ge(), patchResult: je }));
  }
  function wt(J) {
    a("handleFind", J);
  }
  function kt(J) {
    a("pasted json as text", J), n(18, Me = J);
  }
  function En(J) {
    var je = parseInt(J[0], 10), Ie = [String(je + 1)].concat(Wt(J.slice(1)));
    return ho(b, Ie) ? Gt(Ie, !1) : Gt(J, !1);
  }
  function It() {
    a("focus"), x && (x.focus(), x.select());
  }
  function Je() {
    me.selection || At(!zn(b) || dn(b) || dn(Fe) ? null : Gt(["0"].concat(Wt(Fe[0])), !1));
  }
  function yn(J) {
    var je = !(arguments.length > 1 && arguments[1] !== void 0) || arguments[1], Ie = Jg(J, Fe, ut, Ou), Be = Ie - ae, Ye = Vn(J);
    if (a("scrollTo", { path: J, top: Ie, scrollTop: ae, elem: Ye }), !y)
      return Promise.resolve();
    var Ot = y.getBoundingClientRect();
    if (Ye && !je) {
      var et = Ye.getBoundingClientRect();
      if (et.bottom > Ot.top && et.top < Ot.bottom)
        return Promise.resolve();
    }
    var Xt = -Ot.height / 4;
    return new Promise(Ye ? function(gt) {
      d(Ye, { container: y, offset: Xt, duration: 300, callback: function() {
        Zn(J), gt();
      } });
    } : function(gt) {
      var bt;
      d(Be, { container: y, offset: Xt, duration: 300, callback: (bt = Dt(Ne().mark(function pn() {
        return Ne().wrap(function(On) {
          for (; ; )
            switch (On.prev = On.next) {
              case 0:
                return On.next = 2, mr();
              case 2:
                if (Jg(J, Fe, ut, Ou) === Ie) {
                  On.next = 8;
                  break;
                }
                return On.next = 6, yn(J, je);
              case 6:
                On.next = 9;
                break;
              case 8:
                Zn(J);
              case 9:
                gt();
              case 10:
              case "end":
                return On.stop();
            }
        }, pn);
      })), function() {
        return bt.apply(this, arguments);
      }) });
    });
  }
  function Zn(J) {
    var je = Vn(J);
    if (je && y) {
      var Ie = y.getBoundingClientRect(), Be = je.getBoundingClientRect();
      if (Be.right > Ie.right) {
        var Ye = Be.right - Ie.right;
        n(14, y.scrollLeft += Ye, y);
      }
      if (Be.left < Ie.left) {
        var Ot = Ie.left - Be.left;
        n(14, y.scrollLeft -= Ot, y);
      }
    }
  }
  function jn(J) {
    (function(je) {
      if (y) {
        var Ie = co(je, Fe).rowIndex, Be = Jg(je, Fe, ut, Ou), Ye = Be + (ut[Ie] || Ou), Ot = y.getBoundingClientRect(), et = ae, Xt = ae + Ot.height - 18;
        if (Ye > Xt) {
          var gt = Ye - Xt;
          n(14, y.scrollTop += gt, y);
        }
        if (Be < et) {
          var bt = et - Be;
          n(14, y.scrollTop -= bt, y);
        }
      }
    })(J), Zn(J);
  }
  function Vn(J) {
    return y ? y.querySelector('td[data-path="'.concat(qc(J), '"]')) : null;
  }
  function Wn(J) {
    var je = J.anchor, Ie = J.left, Be = J.top, Ye = J.width, Ot = J.height, et = J.offsetTop, Xt = J.offsetLeft, gt = J.showTip;
    Ue = !0;
    var bt = u(lce, { json: b, documentState: me, parser: Y, showTip: gt, onEditValue: fn, onEditRow: ve, onToggleEnforceString: He, onCut: zt, onCopy: de, onPaste: qt, onRemove: ze, onDuplicateRow: q, onInsertBeforeRow: K, onInsertAfterRow: re, onRemoveRow: ue, onRenderContextMenu: L, onCloseContextMenu: function() {
      f(bt), It();
    } }, { left: Ie, top: Be, offsetTop: et, offsetLeft: Xt, width: Ye, height: Ot, anchor: je, closeOnOuterClick: !0, onClose: function() {
      Ue = !1, It();
    } });
  }
  function Hn(J) {
    if (!j && !vi(me.selection)) {
      if (J && (J.stopPropagation(), J.preventDefault()), J && J.type === "contextmenu" && J.target !== x)
        Wn({ left: J.clientX, top: J.clientY, width: Ds, height: Ns, showTip: !1 });
      else {
        var je, Ie = (je = y) === null || je === void 0 ? void 0 : je.querySelector(".jse-table-cell.jse-selected-value");
        if (Ie)
          Wn({ anchor: Ie, offsetTop: 2, width: Ds, height: Ns, showTip: !1 });
        else {
          var Be, Ye = (Be = y) === null || Be === void 0 ? void 0 : Be.getBoundingClientRect();
          Ye && Wn({ top: Ye.top + 2, left: Ye.left + 2, width: Ds, height: Ns, showTip: !1 });
        }
      }
      return !1;
    }
  }
  function fn() {
    if (!j && me.selection) {
      var J = ht(me.selection);
      cr(Xe(b, J)) ? Sn(J) : At(Gt(J, !0));
    }
  }
  function ve() {
    !j && me.selection && Sn(ht(me.selection).slice(0, 1));
  }
  function He() {
    if (!j && sn(me.selection)) {
      var J = me.selection.path, je = We(J), Ie = Xe(b, J), Be = !Xs(Ie, me.enforceStringMap, je, Y), Ye = Be ? String(Ie) : uu(String(Ie), Y);
      a("handleToggleEnforceString", { enforceString: Be, value: Ie, updatedValue: Ye }), Oe([{ op: "replace", path: je, value: Ye }], function(Ot, et) {
        return { state: fT(et, je, Be) };
      });
    }
  }
  function Rt() {
    return (Rt = Dt(Ne().mark(function J() {
      var je, Ie, Be, Ye, Ot;
      return Ne().wrap(function(et) {
        for (; ; )
          switch (et.prev = et.next) {
            case 0:
              if (a("apply pasted json", Me), Me) {
                et.next = 3;
                break;
              }
              return et.abrupt("return");
            case 3:
              Be = (Ie = Me).path, Ye = Ie.contents, lT(Ot = ((je = y) === null || je === void 0 ? void 0 : je.querySelector(".jse-editable-div")) || null) && Ot.cancel(), Oe([{ op: "replace", path: We(Be), value: Ye }]), setTimeout(It);
            case 9:
            case "end":
              return et.stop();
          }
      }, J);
    }))).apply(this, arguments);
  }
  function qt() {
    l(BT, {}, he(he({}, Al), {}, { styleWindow: { width: "450px" } }), { onClose: function() {
      return It();
    } });
  }
  function zt(J) {
    return Ft.apply(this, arguments);
  }
  function Ft() {
    return (Ft = Dt(Ne().mark(function J(je) {
      return Ne().wrap(function(Ie) {
        for (; ; )
          switch (Ie.prev = Ie.next) {
            case 0:
              return Ie.next = 2, JT({ json: b, documentState: me, indentation: je ? V : void 0, readOnly: j, parser: Y, onPatch: Oe });
            case 2:
            case "end":
              return Ie.stop();
          }
      }, J);
    }))).apply(this, arguments);
  }
  function de() {
    return Qe.apply(this, arguments);
  }
  function Qe() {
    return Qe = Dt(Ne().mark(function J() {
      var je, Ie = arguments;
      return Ne().wrap(function(Be) {
        for (; ; )
          switch (Be.prev = Be.next) {
            case 0:
              if (je = !(Ie.length > 0 && Ie[0] !== void 0) || Ie[0], b !== void 0) {
                Be.next = 3;
                break;
              }
              return Be.abrupt("return");
            case 3:
              return Be.next = 5, GT({ json: b, documentState: me, indentation: je ? V : void 0, parser: Y });
            case 5:
            case "end":
              return Be.stop();
          }
      }, J);
    })), Qe.apply(this, arguments);
  }
  function ze() {
    YT({ json: b, text: w, documentState: me, keepSelection: !0, readOnly: j, onChange: M, onPatch: Oe });
  }
  function q() {
    Xae({ json: b, documentState: me, columns: Fe, readOnly: j, onPatch: Oe });
  }
  function K() {
    Zae({ json: b, documentState: me, columns: Fe, readOnly: j, onPatch: Oe });
  }
  function re() {
    ele({ json: b, documentState: me, columns: Fe, readOnly: j, onPatch: Oe });
  }
  function ue() {
    tle({ json: b, documentState: me, columns: Fe, readOnly: j, onPatch: Oe });
  }
  function ye() {
    return (ye = Dt(Ne().mark(function J(je) {
      return Ne().wrap(function(Ie) {
        for (; ; )
          switch (Ie.prev = Ie.next) {
            case 0:
              return Ie.next = 2, QT({ char: je, selectInside: !1, refJsonEditor: v, json: b, selection: me.selection, readOnly: j, parser: Y, onPatch: Oe, onReplaceJson: ft, onSelect: At });
            case 2:
            case "end":
              return Ie.stop();
          }
      }, J);
    }))).apply(this, arguments);
  }
  function ft(J, je) {
    var Ie = me, Be = b, Ye = w, Ot = { json: b, text: w }, et = Ct, Xt = ao(b, me, [], ss), gt = typeof je == "function" ? je(J, Xt) : void 0;
    n(8, b = gt && gt.json !== void 0 ? gt.json : J), n(11, me = gt && gt.state !== void 0 ? gt.state : Xt), n(16, w = void 0), n(19, Ct = !1), n(17, fe = void 0), Ge(b), kn({ previousJson: Be, previousState: Ie, previousText: Ye, previousTextIsRepaired: et }), Ze(Ot, null);
  }
  function jt(J, je) {
    a("handleChangeText");
    var Ie = me, Be = b, Ye = w, Ot = { json: b, text: w }, et = Ct;
    try {
      n(8, b = R(J)), n(11, me = ao(b, me, [], ss)), n(16, w = void 0), n(19, Ct = !1), n(17, fe = void 0);
    } catch (gt) {
      try {
        n(8, b = R(fs(J))), n(11, me = ao(b, me, [], ss)), n(16, w = J), n(19, Ct = !0), n(17, fe = void 0);
      } catch {
        n(8, b = void 0), n(11, me = $p({ json: b, expand: ss })), n(16, w = J), n(19, Ct = !1), n(17, fe = w !== "" ? Lc(w, gt.message || String(gt)) : void 0);
      }
    }
    if (typeof je == "function") {
      var Xt = je(b, me);
      n(8, b = Xt && Xt.json ? Xt.json : b), n(11, me = Xt && Xt.state ? Xt.state : me);
    }
    Ge(b), kn({ previousJson: Be, previousState: Ie, previousText: Ye, previousTextIsRepaired: et }), Ze(Ot, null);
  }
  function Qt(J) {
    if (b !== void 0) {
      var je = J.id, Ie = J.onTransform, Be = J.onClose, Ye = J.rootPath || [];
      Ue = !0, te({ id: je || p, json: b, rootPath: Ye || [], onTransform: function(Ot) {
        Ie ? Ie({ operations: Ot, json: b, transformedJson: Do(b, Ot) }) : (a("onTransform", Ye, Ot), Oe(Ot));
      }, onClose: function() {
        Ue = !1, It(), Be && Be();
      } });
    }
  }
  function Sn(J) {
    a("openJSONEditorModal", { path: J }), Ue = !0, ke({ content: { json: Xe(b, J) }, path: J, onPatch: _n.onPatch, onClose: function() {
      Ue = !1, It();
    } });
  }
  function Mn(J, je) {
    l(zT, { text: J, onParse: function(Ie) {
      return Pm(Ie, function(Be) {
        return rd(Be, Y);
      });
    }, onRepair: YM, onApply: je }, he(he({}, Al), {}, { styleWindow: { width: "600px", height: "500px" }, styleContent: { padding: 0, height: "100%" } }), { onClose: function() {
      return It();
    } });
  }
  function Jt() {
    if (!j && Ut.getState().canUndo) {
      var J = Ut.undo();
      if (J) {
        var je = { json: b, text: w };
        n(8, b = J.undo.patch ? Do(b, J.undo.patch) : J.undo.json), n(11, me = J.undo.state), n(16, w = J.undo.text), n(19, Ct = J.undo.textIsRepaired), n(17, fe = void 0), a("undo", { item: J, json: b }), Ze(je, J.undo.patch && J.redo.patch ? { json: b, previousJson: je.json, redo: J.undo.patch, undo: J.redo.patch } : null), It(), me.selection && yn(ht(me.selection), !1);
      }
    }
  }
  function bn() {
    if (!j && Ut.getState().canRedo) {
      var J = Ut.redo();
      if (J) {
        var je = { json: b, text: w };
        n(8, b = J.redo.patch ? Do(b, J.redo.patch) : J.redo.json), n(11, me = J.redo.state), n(16, w = J.redo.text), n(19, Ct = J.redo.textIsRepaired), n(17, fe = void 0), a("redo", { item: J, json: b }), Ze(je, J.undo.patch && J.redo.patch ? { json: b, previousJson: je.json, redo: J.redo.patch, undo: J.undo.patch } : null), It(), me.selection && yn(ht(me.selection), !1);
      }
    }
  }
  function Ln(J, je) {
    n(70, ut[je] = J.getBoundingClientRect().height, ut);
  }
  return t.$$set = function(J) {
    "readOnly" in J && n(0, j = J.readOnly), "externalContent" in J && n(47, k = J.externalContent), "externalSelection" in J && n(48, N = J.externalSelection), "mainMenuBar" in J && n(1, z = J.mainMenuBar), "escapeControlCharacters" in J && n(49, _ = J.escapeControlCharacters), "escapeUnicodeCharacters" in J && n(50, B = J.escapeUnicodeCharacters), "flattenColumns" in J && n(51, I = J.flattenColumns), "parser" in J && n(2, Y = J.parser), "parseMemoizeOne" in J && n(52, R = J.parseMemoizeOne), "validator" in J && n(53, Z = J.validator), "validationParser" in J && n(54, ne = J.validationParser), "indentation" in J && n(3, V = J.indentation), "onChange" in J && n(55, M = J.onChange), "onChangeMode" in J && n(4, F = J.onChangeMode), "onSelect" in J && n(56, P = J.onSelect), "onRenderValue" in J && n(57, T = J.onRenderValue), "onRenderMenu" in J && n(5, O = J.onRenderMenu), "onRenderContextMenu" in J && n(58, L = J.onRenderContextMenu), "onFocus" in J && n(59, C = J.onFocus), "onBlur" in J && n(60, H = J.onBlur), "onSortModal" in J && n(61, ie = J.onSortModal), "onTransformModal" in J && n(62, te = J.onTransformModal), "onJSONEditorModal" in J && n(63, ke = J.onJSONEditorModal);
  }, t.$$.update = function() {
    786432 & t.$$.dirty[1] && n(69, g = Fb({ escapeControlCharacters: _, escapeUnicodeCharacters: B })), 65536 & t.$$.dirty[1] && Xn(k), 131072 & t.$$.dirty[1] && function(J) {
      en(me.selection, J) || (a("applyExternalSelection", J), (Yb(J) || J === null) && At(J));
    }(N), 1792 & t.$$.dirty[0] | 1048576 & t.$$.dirty[1] && n(10, Fe = zn(b) ? function(J, je) {
      var Ie, Be = new Set(je.map(We)), Ye = new Set(J.map(We)), Ot = Sf(Be);
      try {
        for (Ot.s(); !(Ie = Ot.n()).done; ) {
          var et = Ie.value;
          Ye.has(et) || Be.delete(et);
        }
      } catch (pn) {
        Ot.e(pn);
      } finally {
        Ot.f();
      }
      var Xt, gt = Sf(Ye);
      try {
        for (gt.s(); !(Xt = gt.n()).done; ) {
          var bt = Xt.value;
          Be.has(bt) || Be.add(bt);
        }
      } catch (pn) {
        gt.e(pn);
      } finally {
        gt.f();
      }
      return Wt(Be).map(zo);
    }(Jae(b, I, pe), Fe) : []), 1280 & t.$$.dirty[0] && n(25, r = b && !dn(Fe)), 768 & t.$$.dirty[0] && n(24, i = Array.isArray(b) && b.length > pe), 256 & t.$$.dirty[0] | 1792 & t.$$.dirty[2] && n(23, o = Gae(ae, rn, b, ut, Ou)), 256 & t.$$.dirty[0] && y && y.scrollTo({ top: y.scrollTop, left: y.scrollLeft }), 2309 & t.$$.dirty[0] | 67108864 & t.$$.dirty[1] | 128 & t.$$.dirty[2] && n(21, _n = { readOnly: j, parser: Y, normalization: g, getJson: function() {
      return b;
    }, getDocumentState: function() {
      return me;
    }, findElement: Vn, findNextInside: En, focus: It, onPatch: Oe, onSelect: At, onFind: wt, onPasteJson: kt, onRenderValue: T }), 260 & t.$$.dirty[0] | 12582912 & t.$$.dirty[1] && oe(b, Z, Y, ne), 5120 & t.$$.dirty[0] && n(22, s = Kae(D, Fe));
  }, [j, z, Y, V, F, O, It, function() {
    if (Ct && b !== void 0) {
      var J = me, je = b, Ie = w, Be = { json: b, text: w }, Ye = Ct;
      n(16, w = void 0), n(19, Ct = !1), Ge(b), kn({ previousJson: je, previousState: J, previousText: Ie, previousTextIsRepaired: Ye }), Ze(Be, null);
    }
    return { json: b, text: w };
  }, b, pe, Fe, me, D, v, y, x, w, fe, Me, Ct, un, _n, s, o, i, r, m, void 0, function(J) {
    if (!j) {
      a("onSortByHeader", J);
      var je = J.sortDirection === vo.desc ? -1 : 1;
      Oe(VT(b, [], J.path, je), function(Ie, Be) {
        return { state: he(he({}, Be), {}, { sortedColumn: J }) };
      });
    }
  }, function(J) {
    n(72, ae = J.target.scrollTop);
  }, function(J) {
    var je = J.target, Ie = aT(je);
    if (Ie) {
      if (vi(me.selection) && Ef(b, me.selection, Ie))
        return;
      At(Gt(Ie, !1)), J.preventDefault();
    }
    Vb(je, "BUTTON") || je.isContentEditable || It();
  }, Wn, Hn, function(J) {
    j || Wn({ anchor: sT(J.target, "BUTTON"), offsetTop: 0, width: Ds, height: Ns, showTip: !0 });
  }, function() {
    return Rt.apply(this, arguments);
  }, function() {
    a("clear pasted json"), n(18, Me = void 0), It();
  }, function() {
    F(ei.text);
  }, function(J) {
    var je = Ga(J);
    if (a("keydown", { combo: je, key: J.key }), je === "Ctrl+X" && (J.preventDefault(), zt(!0)), je === "Ctrl+Shift+X" && (J.preventDefault(), zt(!1)), je === "Ctrl+C" && (J.preventDefault(), de(!0)), je === "Ctrl+Shift+C" && (J.preventDefault(), de(!1)), je === "Ctrl+D" && J.preventDefault(), je !== "Delete" && je !== "Backspace" || (J.preventDefault(), ze()), je === "Insert" && J.preventDefault(), je === "Ctrl+A" && J.preventDefault(), je === "Ctrl+Q" && Hn(J), je === "ArrowLeft" && (J.preventDefault(), Je(), me.selection)) {
      var Ie = function(gt, bt) {
        var pn = co(ht(bt), gt), On = pn.rowIndex, Un = pn.columnIndex;
        return Un > 0 ? Gt(hl({ rowIndex: On, columnIndex: Un - 1 }, gt), !1) : bt;
      }(Fe, me.selection);
      At(Ie), jn(ht(Ie));
    }
    if (je === "ArrowRight" && (J.preventDefault(), Je(), me.selection)) {
      var Be = function(gt, bt) {
        var pn = co(ht(bt), gt), On = pn.rowIndex, Un = pn.columnIndex;
        return Un < gt.length - 1 ? Gt(hl({ rowIndex: On, columnIndex: Un + 1 }, gt), !1) : bt;
      }(Fe, me.selection);
      At(Be), jn(ht(Be));
    }
    if (je === "ArrowUp" && (J.preventDefault(), Je(), me.selection)) {
      var Ye = function(gt, bt) {
        var pn = co(ht(bt), gt), On = pn.rowIndex, Un = pn.columnIndex;
        return On > 0 ? Gt(hl({ rowIndex: On - 1, columnIndex: Un }, gt), !1) : bt;
      }(Fe, me.selection);
      At(Ye), jn(ht(Ye));
    }
    if (je === "ArrowDown" && (J.preventDefault(), Je(), me.selection)) {
      var Ot = function(gt, bt, pn) {
        var On = co(ht(pn), bt), Un = On.rowIndex, Ai = On.columnIndex;
        return Un < gt.length - 1 ? Gt(hl({ rowIndex: Un + 1, columnIndex: Ai }, bt), !1) : pn;
      }(b, Fe, me.selection);
      At(Ot), jn(ht(Ot));
    }
    if (je === "Enter" && me.selection && sn(me.selection)) {
      J.preventDefault();
      var et = me.selection.path;
      cr(Xe(b, et)) ? Sn(et) : j || At(he(he({}, me.selection), {}, { edit: !0 }));
    }
    if (je.replace(/^Shift\+/, "").length === 1 && me.selection)
      return J.preventDefault(), void function(gt) {
        ye.apply(this, arguments);
      }(J.key);
    if (je === "Ctrl+Enter" && sn(me.selection)) {
      var Xt = Xe(b, me.selection.path);
      Rm(Xt) && window.open(String(Xt), "_blank");
    }
    je === "Escape" && me.selection && (J.preventDefault(), At(null)), je === "Ctrl+F" && J.preventDefault(), je === "Ctrl+H" && J.preventDefault(), je === "Ctrl+Z" && (J.preventDefault(), Jt()), je === "Ctrl+Shift+Z" && (J.preventDefault(), bn());
  }, function(J) {
    var je;
    J.preventDefault();
    var Ie = (je = J.clipboardData) === null || je === void 0 ? void 0 : je.getData("text/plain");
    Ie !== void 0 && KT({ clipboardText: Ie, json: b, selection: me.selection, readOnly: j, parser: Y, onPatch: Oe, onChangeText: jt, openRepairModal: Mn });
  }, function(J) {
    a("select validation error", J), At(Gt(J.path, !1)), yn(J.path);
  }, Sn, function() {
    (function(J) {
      j || b === void 0 || (Ue = !0, ie({ id: h, json: b, rootPath: J, onSort: function(je) {
        var Ie = je.operations, Be = je.itemPath, Ye = je.direction;
        a("onSort", Ie, J, Be, Ye), Oe(Ie, function(Ot, et) {
          return { state: he(he({}, et), {}, { sortedColumn: { path: Be, sortDirection: Ye === -1 ? vo.desc : vo.asc } }) };
        });
      }, onClose: function() {
        Ue = !1, It();
      } }));
    })([]);
  }, function() {
    Qt({ rootPath: [] });
  }, Jt, bn, function(J) {
    n(71, rn = J.getBoundingClientRect().height);
  }, Ln, k, N, _, B, I, R, Z, ne, M, P, T, L, C, H, ie, te, ke, ge, $e, yn, Vn, Qt, g, ut, rn, ae, function(J) {
    tn[J ? "unshift" : "push"](function() {
      n(15, x = J);
    });
  }, function() {
    return n(9, pe = 1 / 0);
  }, function(J, je) {
    return Ln(je, J);
  }, function(J) {
    tn[J ? "unshift" : "push"](function() {
      n(14, y = J);
    });
  }, function(J) {
    tn[J ? "unshift" : "push"](function() {
      n(13, v = J);
    });
  }];
}
var Mce = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Ece, Ace, Lt, { readOnly: 0, externalContent: 47, externalSelection: 48, mainMenuBar: 1, escapeControlCharacters: 49, escapeUnicodeCharacters: 50, flattenColumns: 51, parser: 2, parseMemoizeOne: 52, validator: 53, validationParser: 54, indentation: 3, onChange: 55, onChangeMode: 4, onSelect: 56, onRenderValue: 57, onRenderMenu: 5, onRenderContextMenu: 58, onFocus: 59, onBlur: 60, onSortModal: 61, onTransformModal: 62, onJSONEditorModal: 63, validate: 64, patch: 65, focus: 6, acceptAutoRepair: 7, scrollTo: 66, findElement: 67, openTransformModal: 68 }, wce, [-1, -1, -1, -1, -1]), r;
  }
  return at(e, ct), ot(e, [{ key: "validate", get: function() {
    return this.$$.ctx[64];
  } }, { key: "patch", get: function() {
    return this.$$.ctx[65];
  } }, { key: "focus", get: function() {
    return this.$$.ctx[6];
  } }, { key: "acceptAutoRepair", get: function() {
    return this.$$.ctx[7];
  } }, { key: "scrollTo", get: function() {
    return this.$$.ctx[66];
  } }, { key: "findElement", get: function() {
    return this.$$.ctx[67];
  } }, { key: "openTransformModal", get: function() {
    return this.$$.ctx[68];
  } }]), e;
}();
function Tce(t) {
  var e, n, r = { externalContent: t[0], externalSelection: t[1], readOnly: t[2], indentation: t[3], mainMenuBar: t[6], navigationBar: t[7], escapeControlCharacters: t[10], escapeUnicodeCharacters: t[11], parser: t[13], parseMemoizeOne: t[14], validator: t[15], validationParser: t[16], pathParser: t[17], onError: t[23], onChange: t[18], onChangeMode: t[19], onSelect: t[20], onRenderValue: t[21], onClassName: t[22], onFocus: t[24], onBlur: t[25], onRenderMenu: t[32], onRenderContextMenu: t[33], onSortModal: t[26], onTransformModal: t[27], onJSONEditorModal: t[28] };
  return e = new c2({ props: r }), t[49](e), { c: function() {
    we(e.$$.fragment);
  }, m: function(i, o) {
    be(e, i, o), n = !0;
  }, p: function(i, o) {
    var s = {};
    1 & o[0] && (s.externalContent = i[0]), 2 & o[0] && (s.externalSelection = i[1]), 4 & o[0] && (s.readOnly = i[2]), 8 & o[0] && (s.indentation = i[3]), 64 & o[0] && (s.mainMenuBar = i[6]), 128 & o[0] && (s.navigationBar = i[7]), 1024 & o[0] && (s.escapeControlCharacters = i[10]), 2048 & o[0] && (s.escapeUnicodeCharacters = i[11]), 8192 & o[0] && (s.parser = i[13]), 16384 & o[0] && (s.parseMemoizeOne = i[14]), 32768 & o[0] && (s.validator = i[15]), 65536 & o[0] && (s.validationParser = i[16]), 131072 & o[0] && (s.pathParser = i[17]), 8388608 & o[0] && (s.onError = i[23]), 262144 & o[0] && (s.onChange = i[18]), 524288 & o[0] && (s.onChangeMode = i[19]), 1048576 & o[0] && (s.onSelect = i[20]), 2097152 & o[0] && (s.onRenderValue = i[21]), 4194304 & o[0] && (s.onClassName = i[22]), 16777216 & o[0] && (s.onFocus = i[24]), 33554432 & o[0] && (s.onBlur = i[25]), 2 & o[1] && (s.onRenderMenu = i[32]), 4 & o[1] && (s.onRenderContextMenu = i[33]), 67108864 & o[0] && (s.onSortModal = i[26]), 134217728 & o[0] && (s.onTransformModal = i[27]), 268435456 & o[0] && (s.onJSONEditorModal = i[28]), e.$set(s);
  }, i: function(i) {
    n || (S(e.$$.fragment, i), n = !0);
  }, o: function(i) {
    A(e.$$.fragment, i), n = !1;
  }, d: function(i) {
    t[49](null), xe(e, i);
  } };
}
function Rce(t) {
  var e, n, r = { externalContent: t[0], externalSelection: t[1], readOnly: t[2], mainMenuBar: t[6], escapeControlCharacters: t[10], escapeUnicodeCharacters: t[11], flattenColumns: t[12], parser: t[13], parseMemoizeOne: t[14], validator: t[15], validationParser: t[16], indentation: t[3], onChange: t[18], onChangeMode: t[19], onSelect: t[20], onRenderValue: t[21], onFocus: t[24], onBlur: t[25], onRenderMenu: t[32], onRenderContextMenu: t[33], onSortModal: t[26], onTransformModal: t[27], onJSONEditorModal: t[28] };
  return e = new Mce({ props: r }), t[48](e), { c: function() {
    we(e.$$.fragment);
  }, m: function(i, o) {
    be(e, i, o), n = !0;
  }, p: function(i, o) {
    var s = {};
    1 & o[0] && (s.externalContent = i[0]), 2 & o[0] && (s.externalSelection = i[1]), 4 & o[0] && (s.readOnly = i[2]), 64 & o[0] && (s.mainMenuBar = i[6]), 1024 & o[0] && (s.escapeControlCharacters = i[10]), 2048 & o[0] && (s.escapeUnicodeCharacters = i[11]), 4096 & o[0] && (s.flattenColumns = i[12]), 8192 & o[0] && (s.parser = i[13]), 16384 & o[0] && (s.parseMemoizeOne = i[14]), 32768 & o[0] && (s.validator = i[15]), 65536 & o[0] && (s.validationParser = i[16]), 8 & o[0] && (s.indentation = i[3]), 262144 & o[0] && (s.onChange = i[18]), 524288 & o[0] && (s.onChangeMode = i[19]), 1048576 & o[0] && (s.onSelect = i[20]), 2097152 & o[0] && (s.onRenderValue = i[21]), 16777216 & o[0] && (s.onFocus = i[24]), 33554432 & o[0] && (s.onBlur = i[25]), 2 & o[1] && (s.onRenderMenu = i[32]), 4 & o[1] && (s.onRenderContextMenu = i[33]), 67108864 & o[0] && (s.onSortModal = i[26]), 134217728 & o[0] && (s.onTransformModal = i[27]), 268435456 & o[0] && (s.onJSONEditorModal = i[28]), e.$set(s);
  }, i: function(i) {
    n || (S(e.$$.fragment, i), n = !0);
  }, o: function(i) {
    A(e.$$.fragment, i), n = !1;
  }, d: function(i) {
    t[48](null), xe(e, i);
  } };
}
function Pce(t) {
  var e, n, r = { externalContent: t[0], externalSelection: t[1], readOnly: t[2], indentation: t[3], tabSize: t[4], mainMenuBar: t[6], statusBar: t[8], askToFormat: t[9], escapeUnicodeCharacters: t[11], parser: t[13], validator: t[15], validationParser: t[16], onChange: t[18], onSelect: t[20], onChangeMode: t[19], onError: t[23], onFocus: t[24], onBlur: t[25], onRenderMenu: t[32], onSortModal: t[26], onTransformModal: t[27] };
  return e = new Hle({ props: r }), t[47](e), { c: function() {
    we(e.$$.fragment);
  }, m: function(i, o) {
    be(e, i, o), n = !0;
  }, p: function(i, o) {
    var s = {};
    1 & o[0] && (s.externalContent = i[0]), 2 & o[0] && (s.externalSelection = i[1]), 4 & o[0] && (s.readOnly = i[2]), 8 & o[0] && (s.indentation = i[3]), 16 & o[0] && (s.tabSize = i[4]), 64 & o[0] && (s.mainMenuBar = i[6]), 256 & o[0] && (s.statusBar = i[8]), 512 & o[0] && (s.askToFormat = i[9]), 2048 & o[0] && (s.escapeUnicodeCharacters = i[11]), 8192 & o[0] && (s.parser = i[13]), 32768 & o[0] && (s.validator = i[15]), 65536 & o[0] && (s.validationParser = i[16]), 262144 & o[0] && (s.onChange = i[18]), 1048576 & o[0] && (s.onSelect = i[20]), 524288 & o[0] && (s.onChangeMode = i[19]), 8388608 & o[0] && (s.onError = i[23]), 16777216 & o[0] && (s.onFocus = i[24]), 33554432 & o[0] && (s.onBlur = i[25]), 2 & o[1] && (s.onRenderMenu = i[32]), 67108864 & o[0] && (s.onSortModal = i[26]), 134217728 & o[0] && (s.onTransformModal = i[27]), e.$set(s);
  }, i: function(i) {
    n || (S(e.$$.fragment, i), n = !0);
  }, o: function(i) {
    A(e.$$.fragment, i), n = !1;
  }, d: function(i) {
    t[47](null), xe(e, i);
  } };
}
function Ice(t) {
  var e, n, r, i, o, s = [Pce, Rce, Tce], a = [];
  function l(c, u) {
    return 32 & u[0] && (e = null), e == null && (e = !(c[5] !== ei.text && String(c[5]) !== "code")), e ? 0 : c[5] === ei.table ? 1 : 2;
  }
  return n = l(t, [-1, -1]), r = a[n] = s[n](t), { c: function() {
    r.c(), i = wn();
  }, m: function(c, u) {
    a[n].m(c, u), X(c, i, u), o = !0;
  }, p: function(c, u) {
    var f = n;
    (n = l(c, u)) === f ? a[n].p(c, u) : (Ae(), A(a[f], 1, 1, function() {
      a[f] = null;
    }), Ee(), (r = a[n]) ? r.p(c, u) : (r = a[n] = s[n](c)).c(), S(r, 1), r.m(i.parentNode, i));
  }, i: function(c) {
    o || (S(r), o = !0);
  }, o: function(c) {
    A(r), o = !1;
  }, d: function(c) {
    c && Q(i), a[n].d(c);
  } };
}
function Nce(t, e, n) {
  var r, i, o, s, a, l, c = e.content, u = e.selection, f = e.readOnly, d = e.indentation, h = e.tabSize, p = e.mode, m = e.mainMenuBar, g = e.navigationBar, v = e.statusBar, y = e.askToFormat, x = e.escapeControlCharacters, b = e.escapeUnicodeCharacters, w = e.flattenColumns, j = e.parser, k = e.parseMemoizeOne, N = e.validator, z = e.validationParser, _ = e.pathParser, B = e.insideModal, I = e.onChange, Y = e.onChangeMode, R = e.onSelect, Z = e.onRenderValue, ne = e.onClassName, V = e.onRenderMenu, M = e.onRenderContextMenu, F = e.onError, P = e.onFocus, T = e.onBlur, O = e.onSortModal, L = e.onTransformModal, C = e.onJSONEditorModal, H = { type: "separator" };
  function ie() {
    return (ie = Dt(Ne().mark(function te() {
      return Ne().wrap(function(ke) {
        for (; ; )
          switch (ke.prev = ke.next) {
            case 0:
              if (!o) {
                ke.next = 3;
                break;
              }
              return ke.next = 3, o.refresh();
            case 3:
            case "end":
              return ke.stop();
          }
      }, te);
    }))).apply(this, arguments);
  }
  return t.$$set = function(te) {
    "content" in te && n(0, c = te.content), "selection" in te && n(1, u = te.selection), "readOnly" in te && n(2, f = te.readOnly), "indentation" in te && n(3, d = te.indentation), "tabSize" in te && n(4, h = te.tabSize), "mode" in te && n(5, p = te.mode), "mainMenuBar" in te && n(6, m = te.mainMenuBar), "navigationBar" in te && n(7, g = te.navigationBar), "statusBar" in te && n(8, v = te.statusBar), "askToFormat" in te && n(9, y = te.askToFormat), "escapeControlCharacters" in te && n(10, x = te.escapeControlCharacters), "escapeUnicodeCharacters" in te && n(11, b = te.escapeUnicodeCharacters), "flattenColumns" in te && n(12, w = te.flattenColumns), "parser" in te && n(13, j = te.parser), "parseMemoizeOne" in te && n(14, k = te.parseMemoizeOne), "validator" in te && n(15, N = te.validator), "validationParser" in te && n(16, z = te.validationParser), "pathParser" in te && n(17, _ = te.pathParser), "insideModal" in te && n(34, B = te.insideModal), "onChange" in te && n(18, I = te.onChange), "onChangeMode" in te && n(19, Y = te.onChangeMode), "onSelect" in te && n(20, R = te.onSelect), "onRenderValue" in te && n(21, Z = te.onRenderValue), "onClassName" in te && n(22, ne = te.onClassName), "onRenderMenu" in te && n(35, V = te.onRenderMenu), "onRenderContextMenu" in te && n(36, M = te.onRenderContextMenu), "onError" in te && n(23, F = te.onError), "onFocus" in te && n(24, P = te.onFocus), "onBlur" in te && n(25, T = te.onBlur), "onSortModal" in te && n(26, O = te.onSortModal), "onTransformModal" in te && n(27, L = te.onTransformModal), "onJSONEditorModal" in te && n(28, C = te.onJSONEditorModal);
  }, t.$$.update = function() {
    524320 & t.$$.dirty[0] && n(46, s = [{ type: "button", text: "text", title: "Switch to text mode (current mode: ".concat(p, ")"), className: "jse-group-button jse-first" + (p === ei.text || p === "code" ? " jse-selected" : ""), onClick: function() {
      return Y(ei.text);
    } }, { type: "button", text: "tree", title: "Switch to tree mode (current mode: ".concat(p, ")"), className: "jse-group-button " + (p === ei.tree ? " jse-selected" : ""), onClick: function() {
      return Y(ei.tree);
    } }, { type: "button", text: "table", title: "Switch to table mode (current mode: ".concat(p, ")"), className: "jse-group-button jse-last" + (p === ei.table ? " jse-selected" : ""), onClick: function() {
      return Y(ei.table);
    } }]), 32 & t.$$.dirty[0] | 32792 & t.$$.dirty[1] && n(32, a = function(te) {
      var ke = qT(te[0]) ? s.concat(te) : s.concat(H, te);
      return V(ke, { mode: p, modal: B }) || ke;
    }), 34 & t.$$.dirty[0] | 40 & t.$$.dirty[1] && n(33, l = function(te) {
      return M(te, { mode: p, modal: B, selection: u }) || te;
    });
  }, [c, u, f, d, h, p, m, g, v, y, x, b, w, j, k, N, z, _, I, Y, R, Z, ne, F, P, T, O, L, C, r, i, o, a, l, B, V, M, function(te) {
    if (r)
      return r.patch(te);
    if (i)
      return i.patch(te);
    if (o)
      return o.patch(te);
    throw new Error('Method patch is not available in mode "'.concat(p, '"'));
  }, function(te) {
    if (r)
      return r.expand(te);
    throw new Error('Method expand is not available in mode "'.concat(p, '"'));
  }, function(te) {
    if (o)
      o.openTransformModal(te);
    else if (r)
      r.openTransformModal(te);
    else {
      if (!i)
        throw new Error('Method transform is not available in mode "'.concat(p, '"'));
      i.openTransformModal(te);
    }
  }, function() {
    if (o)
      return o.validate();
    if (r)
      return r.validate();
    if (i)
      return i.validate();
    throw new Error('Method validate is not available in mode "'.concat(p, '"'));
  }, function() {
    return r ? r.acceptAutoRepair() : c;
  }, function(te) {
    if (r)
      return r.scrollTo(te);
    if (i)
      return i.scrollTo(te);
    throw new Error('Method scrollTo is not available in mode "'.concat(p, '"'));
  }, function(te) {
    if (r)
      return r.findElement(te);
    if (i)
      return i.findElement(te);
    throw new Error('Method findElement is not available in mode "'.concat(p, '"'));
  }, function() {
    o ? o.focus() : r ? r.focus() : i && i.focus();
  }, function() {
    return ie.apply(this, arguments);
  }, s, function(te) {
    tn[te ? "unshift" : "push"](function() {
      n(31, o = te);
    });
  }, function(te) {
    tn[te ? "unshift" : "push"](function() {
      n(30, i = te);
    });
  }, function(te) {
    tn[te ? "unshift" : "push"](function() {
      n(29, r = te);
    });
  }];
}
var eR = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Nce, Ice, Nr, { content: 0, selection: 1, readOnly: 2, indentation: 3, tabSize: 4, mode: 5, mainMenuBar: 6, navigationBar: 7, statusBar: 8, askToFormat: 9, escapeControlCharacters: 10, escapeUnicodeCharacters: 11, flattenColumns: 12, parser: 13, parseMemoizeOne: 14, validator: 15, validationParser: 16, pathParser: 17, insideModal: 34, onChange: 18, onChangeMode: 19, onSelect: 20, onRenderValue: 21, onClassName: 22, onRenderMenu: 35, onRenderContextMenu: 36, onError: 23, onFocus: 24, onBlur: 25, onSortModal: 26, onTransformModal: 27, onJSONEditorModal: 28, patch: 37, expand: 38, transform: 39, validate: 40, acceptAutoRepair: 41, scrollTo: 42, findElement: 43, focus: 44, refresh: 45 }, null, [-1, -1]), r;
  }
  return at(e, ct), ot(e, [{ key: "patch", get: function() {
    return this.$$.ctx[37];
  } }, { key: "expand", get: function() {
    return this.$$.ctx[38];
  } }, { key: "transform", get: function() {
    return this.$$.ctx[39];
  } }, { key: "validate", get: function() {
    return this.$$.ctx[40];
  } }, { key: "acceptAutoRepair", get: function() {
    return this.$$.ctx[41];
  } }, { key: "scrollTo", get: function() {
    return this.$$.ctx[42];
  } }, { key: "findElement", get: function() {
    return this.$$.ctx[43];
  } }, { key: "focus", get: function() {
    return this.$$.ctx[44];
  } }, { key: "refresh", get: function() {
    return this.$$.ctx[45];
  } }]), e;
}();
function Dce(t) {
  Tt(t, "svelte-1m3nfgb", '.jse-modal.svelte-1m3nfgb.svelte-1m3nfgb{flex:1;display:flex;flex-direction:column;min-width:0;min-height:0;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);line-height:normal;background:var(--jse-modal-background, #f5f5f5);color:var(--jse-text-color, #4d4d4d)}.jse-modal.svelte-1m3nfgb .svelte-select{--border:var(--jse-svelte-select-border, 1px solid #d8dbdf);--item-is-active-bg:var(--jse-item-is-active-bg, #3883fa);--border-radius:var(--jse-svelte-select-border-radius, 3px);--background:var(--jse-svelte-select-background, #fff);--padding:var(--jse-svelte-select-padding, 0 10px);--multi-select-padding:var(--jse-svelte-select-multi-select-padding, 0 10px);--font-size:var(--jse-svelte-select-font-size, var(--jse-font-size, 16px));--height:36px;--multi-item-height:28px;--multi-item-margin:2px;--multi-item-padding:2px 8px;--multi-item-border-radius:6px;--indicator-top:8px}.jse-modal.svelte-1m3nfgb .jse-modal-contents.svelte-1m3nfgb{flex:1;display:flex;flex-direction:column;padding:20px;overflow:auto;min-width:0;min-height:0}.jse-modal.svelte-1m3nfgb .jse-modal-contents .jse-actions.svelte-1m3nfgb{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding, 10px)}.jse-modal.svelte-1m3nfgb .jse-modal-contents .jse-actions button.jse-primary.svelte-1m3nfgb{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-modal.svelte-1m3nfgb .jse-modal-contents .jse-actions button.jse-primary.svelte-1m3nfgb:hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-modal.svelte-1m3nfgb .jse-modal-contents .jse-actions button.jse-primary.svelte-1m3nfgb:disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.bg.jse-modal-bg{width:100%;height:100%;top:0;left:0;background:var(--jse-overlay-background, rgba(0, 0, 0, 0.3))}.bg.jse-modal-bg .jse-modal-window-wrap{margin:0}.bg.jse-modal-bg .jse-modal-window{max-width:90%;margin:4rem auto 2rem auto;border-radius:2px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-sort{width:400px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-transform{width:1200px;height:1200px;max-height:80%;display:flex}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-jsoneditor{width:800px;height:auto;min-height:500px;max-height:calc(100vh - 6rem);display:flex}.bg.jse-modal-bg .jse-modal-container{flex:1;display:flex;flex-direction:column;padding:0}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb .jse-modal-contents.svelte-1m3nfgb{padding-top:0}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb .jse-modal-contents .jse-label.svelte-1m3nfgb{font-weight:bold;display:block;box-sizing:border-box}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb .jse-modal-contents .jse-label .jse-label-inner.svelte-1m3nfgb{margin-top:calc(2 * var(--jse-padding, 10px));margin-bottom:calc(0.5 * var(--jse-padding, 10px));box-sizing:border-box}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb .jse-modal-contents .jse-label .jse-label-inner button.svelte-1m3nfgb{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;font-weight:bold;padding:0}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb .jse-modal-contents .jse-modal-inline-editor.svelte-1m3nfgb{flex:1;min-height:150px;min-width:0;display:flex;--jse-theme-color:var(--jse-modal-editor-theme-color, var(--jse-modal-theme-color, #707070));--jse-theme-color-highlight:var(--jse-modal-editor-theme-color-highlight, var(--jse-modal-theme-color-highlight, #646464))}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb .jse-actions.svelte-1m3nfgb{gap:var(--jse-padding, 10px);align-items:center}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb .jse-actions .jse-error.svelte-1m3nfgb{flex:1;color:var(--jse-error-color, #ee5341)}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb .jse-actions button.jse-secondary.svelte-1m3nfgb{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-secondary-background, #d3d3d3);color:var(--jse-button-secondary-color, var(--jse-text-color, #4d4d4d));padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb .jse-actions button.jse-secondary.svelte-1m3nfgb:hover{background:var(--jse-button-secondary-background-highlight, #e1e1e1)}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb .jse-actions button.jse-secondary.svelte-1m3nfgb:disabled{background:var(--jse-button-secondary-background-disabled, #9d9d9d)}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb input.svelte-1m3nfgb{border:var(--jse-input-border, 1px solid #d8dbdf);outline:none;box-sizing:border-box;padding:calc(0.5 * var(--jse-padding, 10px));font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);color:inherit;background:var(--jse-input-background, var(--jse-background-color, #fff))}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb input.svelte-1m3nfgb:focus{border:var(--jse-input-border-focus, 1px solid var(--jse-input-border-focus, var(--jse-theme-color, #3883fa)))}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb input.svelte-1m3nfgb:read-only{background:var(--jse-input-background-readonly, transparent)}');
}
function $S(t) {
  var e, n;
  return { c: function() {
    e = U("div"), n = Le(t[22]), $(e, "class", "jse-error svelte-1m3nfgb");
  }, m: function(r, i) {
    X(r, e, i), E(e, n);
  }, p: function(r, i) {
    4194304 & i[0] && yt(n, r[22]);
  }, d: function(r) {
    r && Q(e);
  } };
}
function kS(t) {
  var e, n, r, i, o, s;
  return n = new cn({ props: { data: jW } }), { c: function() {
    e = U("button"), we(n.$$.fragment), r = Le(" Back"), $(e, "type", "button"), $(e, "class", "jse-secondary svelte-1m3nfgb");
  }, m: function(a, l) {
    X(a, e, l), be(n, e, null), E(e, r), i = !0, o || (s = _e(e, "click", t[27]), o = !0);
  }, p: Te, i: function(a) {
    i || (S(n.$$.fragment, a), i = !0);
  }, o: function(a) {
    A(n.$$.fragment, a), i = !1;
  }, d: function(a) {
    a && Q(e), xe(n), o = !1, s();
  } };
}
function Lce(t) {
  var e, n, r;
  return { c: function() {
    (e = U("button")).textContent = "Close", $(e, "type", "button"), $(e, "class", "jse-primary svelte-1m3nfgb");
  }, m: function(i, o) {
    X(i, e, o), n || (r = [_e(e, "click", t[27]), Wr(tR.call(null, e))], n = !0);
  }, p: Te, d: function(i) {
    i && Q(e), n = !1, Dn(r);
  } };
}
function Bce(t) {
  var e, n, r;
  return { c: function() {
    (e = U("button")).textContent = "Apply", $(e, "type", "button"), $(e, "class", "jse-primary svelte-1m3nfgb");
  }, m: function(i, o) {
    X(i, e, o), n || (r = [_e(e, "click", t[26]), Wr(tR.call(null, e))], n = !0);
  }, p: Te, d: function(i) {
    i && Q(e), n = !1, Dn(r);
  } };
}
function qce(t) {
  var e, n, r, i, o, s, a, l, c, u, f, d, h, p, m, g, v, y, x;
  n = new n2({ props: { title: "Edit nested content " + (t[20].length > 1 ? " (".concat(t[20].length, ")") : ""), onClose: t[27] } });
  var b = { mode: t[23].mode, content: t[23].content, selection: t[23].selection, readOnly: t[0], indentation: t[1], tabSize: t[2], statusBar: t[5], askToFormat: t[6], mainMenuBar: t[3], navigationBar: t[4], escapeControlCharacters: t[7], escapeUnicodeCharacters: t[8], flattenColumns: t[9], parser: t[10], parseMemoizeOne: t[24], validator: t[11], validationParser: t[12], pathParser: t[13], insideModal: !0, onError: t[31], onChange: t[28], onChangeMode: t[30], onSelect: t[29], onRenderValue: t[14], onClassName: t[15], onFocus: so, onBlur: so, onRenderMenu: t[16], onRenderContextMenu: t[17], onSortModal: t[18], onTransformModal: t[19], onJSONEditorModal: t[32] };
  d = new eR({ props: b }), t[37](d);
  var w = t[22] && $S(t), j = t[20].length > 1 && kS(t);
  function k(_, B) {
    return _[0] ? Lce : Bce;
  }
  var N = k(t), z = N(t);
  return { c: function() {
    e = U("div"), we(n.$$.fragment), r = le(), i = U("div"), (o = U("div")).innerHTML = '<div class="jse-label-inner svelte-1m3nfgb">Path</div>', s = le(), a = U("input"), l = le(), (c = U("div")).innerHTML = '<div class="jse-label-inner svelte-1m3nfgb">Contents</div>', u = le(), f = U("div"), we(d.$$.fragment), h = le(), p = U("div"), w && w.c(), m = le(), j && j.c(), g = le(), z.c(), $(o, "class", "jse-label svelte-1m3nfgb"), $(a, "class", "jse-path svelte-1m3nfgb"), $(a, "type", "text"), a.readOnly = !0, $(a, "title", "Selected path"), a.value = t[25], $(c, "class", "jse-label svelte-1m3nfgb"), $(f, "class", "jse-modal-inline-editor svelte-1m3nfgb"), $(p, "class", "jse-actions svelte-1m3nfgb"), $(i, "class", "jse-modal-contents svelte-1m3nfgb"), $(e, "class", "jse-modal jse-jsoneditor-modal svelte-1m3nfgb");
  }, m: function(_, B) {
    X(_, e, B), be(n, e, null), E(e, r), E(e, i), E(i, o), E(i, s), E(i, a), E(i, l), E(i, c), E(i, u), E(i, f), be(d, f, null), E(i, h), E(i, p), w && w.m(p, null), E(p, m), j && j.m(p, null), E(p, g), z.m(p, null), v = !0, y || (x = Wr(Hm.call(null, e, t[27])), y = !0);
  }, p: function(_, B) {
    var I = {};
    1048576 & B[0] && (I.title = "Edit nested content " + (_[20].length > 1 ? " (".concat(_[20].length, ")") : "")), n.$set(I), (!v || 33554432 & B[0] && a.value !== _[25]) && (a.value = _[25]);
    var Y = {};
    8388608 & B[0] && (Y.mode = _[23].mode), 8388608 & B[0] && (Y.content = _[23].content), 8388608 & B[0] && (Y.selection = _[23].selection), 1 & B[0] && (Y.readOnly = _[0]), 2 & B[0] && (Y.indentation = _[1]), 4 & B[0] && (Y.tabSize = _[2]), 32 & B[0] && (Y.statusBar = _[5]), 64 & B[0] && (Y.askToFormat = _[6]), 8 & B[0] && (Y.mainMenuBar = _[3]), 16 & B[0] && (Y.navigationBar = _[4]), 128 & B[0] && (Y.escapeControlCharacters = _[7]), 256 & B[0] && (Y.escapeUnicodeCharacters = _[8]), 512 & B[0] && (Y.flattenColumns = _[9]), 1024 & B[0] && (Y.parser = _[10]), 16777216 & B[0] && (Y.parseMemoizeOne = _[24]), 2048 & B[0] && (Y.validator = _[11]), 4096 & B[0] && (Y.validationParser = _[12]), 8192 & B[0] && (Y.pathParser = _[13]), 16384 & B[0] && (Y.onRenderValue = _[14]), 32768 & B[0] && (Y.onClassName = _[15]), 65536 & B[0] && (Y.onRenderMenu = _[16]), 131072 & B[0] && (Y.onRenderContextMenu = _[17]), 262144 & B[0] && (Y.onSortModal = _[18]), 524288 & B[0] && (Y.onTransformModal = _[19]), d.$set(Y), _[22] ? w ? w.p(_, B) : ((w = $S(_)).c(), w.m(p, m)) : w && (w.d(1), w = null), _[20].length > 1 ? j ? (j.p(_, B), 1048576 & B[0] && S(j, 1)) : ((j = kS(_)).c(), S(j, 1), j.m(p, g)) : j && (Ae(), A(j, 1, 1, function() {
      j = null;
    }), Ee()), N === (N = k(_)) && z ? z.p(_, B) : (z.d(1), (z = N(_)) && (z.c(), z.m(p, null)));
  }, i: function(_) {
    v || (S(n.$$.fragment, _), S(d.$$.fragment, _), S(j), v = !0);
  }, o: function(_) {
    A(n.$$.fragment, _), A(d.$$.fragment, _), A(j), v = !1;
  }, d: function(_) {
    _ && Q(e), xe(n), t[37](null), xe(d), w && w.d(), j && j.d(), z.d(), y = !1, x();
  } };
}
function tR(t) {
  t.focus();
}
function zce(t, e, n) {
  var r, i, o, s, a, l = Jr("jsoneditor:JSONEditorModal"), c = e.content, u = e.path, f = e.onPatch, d = e.readOnly, h = e.indentation, p = e.tabSize, m = e.mainMenuBar, g = e.navigationBar, v = e.statusBar, y = e.askToFormat, x = e.escapeControlCharacters, b = e.escapeUnicodeCharacters, w = e.flattenColumns, j = e.parser, k = e.validator, N = e.validationParser, z = e.pathParser, _ = e.onRenderValue, B = e.onClassName, I = e.onRenderMenu, Y = e.onRenderContextMenu, R = e.onSortModal, Z = e.onTransformModal, ne = Hr("simple-modal").close, V = { mode: P(c), content: c, selection: null, relativePath: u }, M = [V], F = void 0;
  function P(O) {
    return Af(O) && zn(O.json) ? ei.table : ei.tree;
  }
  function T() {
    var O, L = ((O = _t(M)) === null || O === void 0 ? void 0 : O.selection) || null;
    Yb(L) && a.scrollTo(ht(L));
  }
  return t.$$set = function(O) {
    "content" in O && n(33, c = O.content), "path" in O && n(34, u = O.path), "onPatch" in O && n(35, f = O.onPatch), "readOnly" in O && n(0, d = O.readOnly), "indentation" in O && n(1, h = O.indentation), "tabSize" in O && n(2, p = O.tabSize), "mainMenuBar" in O && n(3, m = O.mainMenuBar), "navigationBar" in O && n(4, g = O.navigationBar), "statusBar" in O && n(5, v = O.statusBar), "askToFormat" in O && n(6, y = O.askToFormat), "escapeControlCharacters" in O && n(7, x = O.escapeControlCharacters), "escapeUnicodeCharacters" in O && n(8, b = O.escapeUnicodeCharacters), "flattenColumns" in O && n(9, w = O.flattenColumns), "parser" in O && n(10, j = O.parser), "validator" in O && n(11, k = O.validator), "validationParser" in O && n(12, N = O.validationParser), "pathParser" in O && n(13, z = O.pathParser), "onRenderValue" in O && n(14, _ = O.onRenderValue), "onClassName" in O && n(15, B = O.onClassName), "onRenderMenu" in O && n(16, I = O.onRenderMenu), "onRenderContextMenu" in O && n(17, Y = O.onRenderContextMenu), "onSortModal" in O && n(18, R = O.onSortModal), "onTransformModal" in O && n(19, Z = O.onTransformModal);
  }, t.$$.update = function() {
    1048576 & t.$$.dirty[0] && n(23, r = _t(M) || V), 1048576 & t.$$.dirty[0] && n(36, i = M.flatMap(function(O) {
      return O.relativePath;
    })), 32 & t.$$.dirty[1] && n(25, o = dn(i) ? "(document root)" : qi(i)), 1024 & t.$$.dirty[0] && n(24, s = Wf(j.parse));
  }, [d, h, p, m, g, v, y, x, b, w, j, k, N, z, _, B, I, Y, R, Z, M, a, F, r, s, o, function() {
    if (l("handleApply"), !d)
      try {
        n(22, F = void 0);
        var O = r.relativePath, L = r.content, C = [{ op: "replace", path: We(O), value: Zj(L, j).json }];
        if (M.length > 1) {
          var H = Zj(M[M.length - 2].content, j).json, ie = { json: Do(H, C) }, te = he(he({}, M[M.length - 2] || V), {}, { content: ie });
          n(20, M = [].concat(Wt(M.slice(0, M.length - 2)), [te])), mr().then(T);
        } else
          f(C), ne();
      } catch (ke) {
        n(22, F = String(ke));
      }
  }, function() {
    l("handleClose"), M.length > 1 ? (n(20, M = Zt(M)), mr().then(T), n(22, F = void 0)) : ne();
  }, function(O) {
    l("handleChange", O);
    var L = he(he({}, r), {}, { content: O });
    n(20, M = [].concat(Wt(Zt(M)), [L]));
  }, function(O) {
    l("handleChangeSelection", O);
    var L = he(he({}, r), {}, { selection: O });
    n(20, M = [].concat(Wt(Zt(M)), [L]));
  }, function(O) {
    l("handleChangeMode", O);
    var L = he(he({}, r), {}, { mode: O });
    n(20, M = [].concat(Wt(Zt(M)), [L]));
  }, function(O) {
    n(22, F = O.toString()), console.error(O);
  }, function(O) {
    var L = O.content, C = O.path;
    l("handleJSONEditorModal", { content: L, path: C });
    var H = { mode: P(L), content: L, selection: null, relativePath: C };
    n(20, M = [].concat(Wt(M), [H]));
  }, c, u, f, i, function(O) {
    tn[O ? "unshift" : "push"](function() {
      n(21, a = O);
    });
  }];
}
var Fce = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, zce, qce, Lt, { content: 33, path: 34, onPatch: 35, readOnly: 0, indentation: 1, tabSize: 2, mainMenuBar: 3, navigationBar: 4, statusBar: 5, askToFormat: 6, escapeControlCharacters: 7, escapeUnicodeCharacters: 8, flattenColumns: 9, parser: 10, validator: 11, validationParser: 12, pathParser: 13, onRenderValue: 14, onClassName: 15, onRenderMenu: 16, onRenderContextMenu: 17, onSortModal: 18, onTransformModal: 19 }, Dce, [-1, -1]), r;
  }
  return at(e, ct), ot(e);
}();
function Vce(t, e, n) {
  var r = Hr("simple-modal");
  return [r.open, r.close];
}
var Wce = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Vce, null, Lt, { open: 0, close: 1 }), r;
  }
  return at(e, ct), ot(e, [{ key: "open", get: function() {
    return this.$$.ctx[0];
  } }, { key: "close", get: function() {
    return this.$$.ctx[1];
  } }]), e;
}();
function Hce(t) {
  Tt(t, "svelte-ybuk0j", '.jse-main.svelte-ybuk0j{width:100%;height:100%;min-width:0;min-height:150px;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);line-height:normal;position:relative;display:flex;flex-direction:row}');
}
function SS(t) {
  var e, n, r = { mode: t[1], content: t[0], selection: t[2], readOnly: t[3], indentation: t[4], tabSize: t[5], statusBar: t[8], askToFormat: t[9], mainMenuBar: t[6], navigationBar: t[7], escapeControlCharacters: t[10], escapeUnicodeCharacters: t[11], flattenColumns: t[12], parser: t[13], parseMemoizeOne: t[27], validator: t[14], validationParser: t[15], pathParser: t[16], insideModal: !1, onError: t[21], onChange: t[28], onChangeMode: t[32], onSelect: t[29], onRenderValue: t[17], onClassName: t[18], onFocus: t[30], onBlur: t[31], onRenderMenu: t[19], onRenderContextMenu: t[20], onSortModal: t[34], onTransformModal: t[33], onJSONEditorModal: t[35] };
  return e = new eR({ props: r }), t[62](e), { c: function() {
    we(e.$$.fragment);
  }, m: function(i, o) {
    be(e, i, o), n = !0;
  }, p: function(i, o) {
    var s = {};
    2 & o[0] && (s.mode = i[1]), 1 & o[0] && (s.content = i[0]), 4 & o[0] && (s.selection = i[2]), 8 & o[0] && (s.readOnly = i[3]), 16 & o[0] && (s.indentation = i[4]), 32 & o[0] && (s.tabSize = i[5]), 256 & o[0] && (s.statusBar = i[8]), 512 & o[0] && (s.askToFormat = i[9]), 64 & o[0] && (s.mainMenuBar = i[6]), 128 & o[0] && (s.navigationBar = i[7]), 1024 & o[0] && (s.escapeControlCharacters = i[10]), 2048 & o[0] && (s.escapeUnicodeCharacters = i[11]), 4096 & o[0] && (s.flattenColumns = i[12]), 8192 & o[0] && (s.parser = i[13]), 134217728 & o[0] && (s.parseMemoizeOne = i[27]), 16384 & o[0] && (s.validator = i[14]), 32768 & o[0] && (s.validationParser = i[15]), 65536 & o[0] && (s.pathParser = i[16]), 2097152 & o[0] && (s.onError = i[21]), 131072 & o[0] && (s.onRenderValue = i[17]), 262144 & o[0] && (s.onClassName = i[18]), 524288 & o[0] && (s.onRenderMenu = i[19]), 1048576 & o[0] && (s.onRenderContextMenu = i[20]), e.$set(s);
  }, i: function(i) {
    n || (S(e.$$.fragment, i), n = !0);
  }, o: function(i) {
    A(e.$$.fragment, i), n = !1;
  }, d: function(i) {
    t[62](null), xe(e, i);
  } };
}
function Uce(t) {
  var e, n, r, i, o, s = t[22];
  function a(u) {
    t[61](u);
  }
  var l = {};
  t[25] !== void 0 && (l.open = t[25]), e = new Wce({ props: l }), tn.push(function() {
    return Po(e, "open", a);
  });
  var c = SS(t);
  return { c: function() {
    we(e.$$.fragment), r = le(), i = U("div"), c.c(), $(i, "class", "jse-main svelte-ybuk0j"), Se(i, "jse-focus", t[23]);
  }, m: function(u, f) {
    be(e, u, f), X(u, r, f), X(u, i, f), c.m(i, null), o = !0;
  }, p: function(u, f) {
    var d = {};
    !n && 33554432 & f[0] && (n = !0, d.open = u[25], Ro(function() {
      return n = !1;
    })), e.$set(d), 4194304 & f[0] && Lt(s, s = u[22]) ? (Ae(), A(c, 1, 1, Te), Ee(), (c = SS(u)).c(), S(c, 1), c.m(i, null)) : c.p(u, f), (!o || 8388608 & f[0]) && Se(i, "jse-focus", u[23]);
  }, i: function(u) {
    o || (S(e.$$.fragment, u), S(c), o = !0);
  }, o: function(u) {
    A(e.$$.fragment, u), A(c), o = !1;
  }, d: function(u) {
    u && (Q(r), Q(i)), xe(e, u), c.d(u);
  } };
}
function Jce(t) {
  var e, n;
  return e = new VM({ props: { closeOnEsc: !1, $$slots: { default: [Uce] }, $$scope: { ctx: t } } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    201326591 & i[0] | 8 & i[2] && (o.$$scope = { dirty: i, ctx: r }), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Gce(t) {
  for (var e, n, r, i = [{ show: (e = t[26]) === null || e === void 0 ? void 0 : e.component }, pne, { closeOnEsc: !1 }], o = { $$slots: { default: [Jce] }, $$scope: { ctx: t } }, s = 0; s < i.length; s += 1)
    o = Bi(o, i[s]);
  return (n = new VM({ props: o })).$on("close", t[36]), { c: function() {
    we(n.$$.fragment);
  }, m: function(a, l) {
    be(n, a, l), r = !0;
  }, p: function(a, l) {
    var c, u = 67108864 & l[0] ? ko(i, [{ show: (c = a[26]) === null || c === void 0 ? void 0 : c.component }, i[1], i[2]]) : {};
    201326591 & l[0] | 8 & l[2] && (u.$$scope = { dirty: l, ctx: a }), n.$set(u);
  }, i: function(a) {
    r || (S(n.$$.fragment, a), r = !0);
  }, o: function(a) {
    A(n.$$.fragment, a), r = !1;
  }, d: function(a) {
    xe(n, a);
  } };
}
function Kce(t) {
  var e, n;
  return e = new cT({ props: { $$slots: { default: [Gce] }, $$scope: { ctx: t } } }), { c: function() {
    we(e.$$.fragment);
  }, m: function(r, i) {
    be(e, r, i), n = !0;
  }, p: function(r, i) {
    var o = {};
    268435455 & i[0] | 8 & i[2] && (o.$$scope = { dirty: i, ctx: r }), e.$set(o);
  }, i: function(r) {
    n || (S(e.$$.fragment, r), n = !0);
  }, o: function(r) {
    A(e.$$.fragment, r), n = !1;
  }, d: function(r) {
    xe(e, r);
  } };
}
function Yce(t, e, n) {
  var r, i, o, s = Jr("jsoneditor:JSONEditor"), a = e.content, l = a === void 0 ? { text: "" } : a, c = e.selection, u = c === void 0 ? null : c, f = e.readOnly, d = f !== void 0 && f, h = e.indentation, p = h === void 0 ? 2 : h, m = e.tabSize, g = m === void 0 ? 4 : m, v = e.mode, y = v === void 0 ? ei.tree : v, x = e.mainMenuBar, b = x === void 0 || x, w = e.navigationBar, j = w === void 0 || w, k = e.statusBar, N = k === void 0 || k, z = e.askToFormat, _ = z === void 0 || z, B = e.escapeControlCharacters, I = B !== void 0 && B, Y = e.escapeUnicodeCharacters, R = Y !== void 0 && Y, Z = e.flattenColumns, ne = Z === void 0 || Z, V = e.parser, M = V === void 0 ? JSON : V, F = e.validator, P = F === void 0 ? null : F, T = e.validationParser, O = T === void 0 ? JSON : T, L = e.pathParser, C = L === void 0 ? { parse: zne, stringify: qi } : L, H = e.queryLanguages, ie = H === void 0 ? [Vne] : H, te = e.queryLanguageId, ke = te === void 0 ? ie[0].id : te, Me = e.onChangeQueryLanguage, fe = Me === void 0 ? so : Me, pe = e.onChange, Fe = pe === void 0 ? null : pe, Ue = e.onSelect, ut = Ue === void 0 ? so : Ue, rn = e.onRenderValue, ae = rn === void 0 ? Vre : rn, At = e.onClassName, Ge = At === void 0 ? function() {
  } : At, me = e.onRenderMenu, Ct = me === void 0 ? so : me, _n = e.onRenderContextMenu, Ut = _n === void 0 ? so : _n, un = e.onChangeMode, Xn = un === void 0 ? so : un, kn = e.onError, D = kn === void 0 ? function(de) {
    console.error(de), alert(de.toString());
  } : kn, ee = e.onFocus, oe = ee === void 0 ? so : ee, ge = e.onBlur, $e = ge === void 0 ? so : ge, Oe = Xu(), Ze = !1, wt = null, kt = M;
  function En() {
    return (En = Dt(Ne().mark(function de(Qe) {
      var ze;
      return Ne().wrap(function(q) {
        for (; ; )
          switch (q.prev = q.next) {
            case 0:
              if (s("set"), !(ze = Ng(Qe))) {
                q.next = 4;
                break;
              }
              throw new Error(ze);
            case 4:
              return n(22, Oe = Xu()), q.next = 7, mr();
            case 7:
              n(0, l = Qe);
            case 8:
            case "end":
              return q.stop();
          }
      }, de);
    }))).apply(this, arguments);
  }
  function It() {
    return (It = Dt(Ne().mark(function de(Qe) {
      var ze;
      return Ne().wrap(function(q) {
        for (; ; )
          switch (q.prev = q.next) {
            case 0:
              if (s("update"), !(ze = Ng(Qe))) {
                q.next = 4;
                break;
              }
              throw new Error(ze);
            case 4:
              return n(0, l = Qe), q.next = 7, mr();
            case 7:
            case "end":
              return q.stop();
          }
      }, de);
    }))).apply(this, arguments);
  }
  function Je() {
    return (Je = Dt(Ne().mark(function de(Qe) {
      var ze;
      return Ne().wrap(function(q) {
        for (; ; )
          switch (q.prev = q.next) {
            case 0:
              if (!Bc(l)) {
                q.next = 8;
                break;
              }
              q.prev = 1, n(0, l = { json: M.parse(l.text), text: void 0 }), q.next = 8;
              break;
            case 5:
              throw q.prev = 5, q.t0 = q.catch(1), new Error("Cannot apply patch: current document contains invalid JSON");
            case 8:
              return ze = i.patch(Qe), q.next = 11, mr();
            case 11:
              return q.abrupt("return", ze);
            case 12:
            case "end":
              return q.stop();
          }
      }, de, null, [[1, 5]]);
    }))).apply(this, arguments);
  }
  function yn() {
    return (yn = Dt(Ne().mark(function de(Qe) {
      return Ne().wrap(function(ze) {
        for (; ; )
          switch (ze.prev = ze.next) {
            case 0:
              return n(2, u = Qe), ze.next = 3, mr();
            case 3:
            case "end":
              return ze.stop();
          }
      }, de);
    }))).apply(this, arguments);
  }
  function Zn() {
    return (Zn = Dt(Ne().mark(function de(Qe) {
      return Ne().wrap(function(ze) {
        for (; ; )
          switch (ze.prev = ze.next) {
            case 0:
              return i.expand(Qe), ze.next = 3, mr();
            case 3:
            case "end":
              return ze.stop();
          }
      }, de);
    }))).apply(this, arguments);
  }
  function jn() {
    return jn = Dt(Ne().mark(function de() {
      var Qe;
      return Ne().wrap(function(ze) {
        for (; ; )
          switch (ze.prev = ze.next) {
            case 0:
              return Qe = i.acceptAutoRepair(), ze.next = 3, mr();
            case 3:
              return ze.abrupt("return", Qe);
            case 4:
            case "end":
              return ze.stop();
          }
      }, de);
    })), jn.apply(this, arguments);
  }
  function Vn() {
    return (Vn = Dt(Ne().mark(function de(Qe) {
      return Ne().wrap(function(ze) {
        for (; ; )
          switch (ze.prev = ze.next) {
            case 0:
              return ze.next = 2, i.scrollTo(Qe);
            case 2:
            case "end":
              return ze.stop();
          }
      }, de);
    }))).apply(this, arguments);
  }
  function Wn() {
    return Hn.apply(this, arguments);
  }
  function Hn() {
    return (Hn = Dt(Ne().mark(function de() {
      return Ne().wrap(function(Qe) {
        for (; ; )
          switch (Qe.prev = Qe.next) {
            case 0:
              return i.focus(), Qe.next = 3, mr();
            case 3:
            case "end":
              return Qe.stop();
          }
      }, de);
    }))).apply(this, arguments);
  }
  function fn() {
    return (fn = Dt(Ne().mark(function de() {
      return Ne().wrap(function(Qe) {
        for (; ; )
          switch (Qe.prev = Qe.next) {
            case 0:
              return Qe.next = 2, i.refresh();
            case 2:
            case "end":
              return Qe.stop();
          }
      }, de);
    }))).apply(this, arguments);
  }
  function ve() {
    return (ve = Dt(Ne().mark(function de(Qe) {
      return Ne().wrap(function(ze) {
        for (; ; )
          switch (ze.prev = ze.next) {
            case 0:
              return this.$set(Qe), ze.next = 3, mr();
            case 3:
            case "end":
              return ze.stop();
          }
      }, de, this);
    }))).apply(this, arguments);
  }
  function He() {
    return (He = Dt(Ne().mark(function de() {
      return Ne().wrap(function(Qe) {
        for (; ; )
          switch (Qe.prev = Qe.next) {
            case 0:
              return this.$destroy(), Qe.next = 3, mr();
            case 3:
            case "end":
              return Qe.stop();
          }
      }, de, this);
    }))).apply(this, arguments);
  }
  function Rt() {
    return (Rt = Dt(Ne().mark(function de(Qe) {
      return Ne().wrap(function(ze) {
        for (; ; )
          switch (ze.prev = ze.next) {
            case 0:
              if (y !== Qe) {
                ze.next = 2;
                break;
              }
              return ze.abrupt("return");
            case 2:
              return n(1, y = Qe), ze.next = 5, mr();
            case 5:
              return ze.next = 7, Wn();
            case 7:
              Xn(Qe);
            case 8:
            case "end":
              return ze.stop();
          }
      }, de);
    }))).apply(this, arguments);
  }
  function qt(de) {
    s("handleChangeQueryLanguage", de), n(37, ke = de), fe(de);
  }
  function zt(de) {
    var Qe = de.id, ze = de.json, q = de.rootPath, K = de.onTransform, re = de.onClose;
    d || o(Sle, { id: Qe, json: ze, rootPath: q, indentation: p, escapeControlCharacters: I, escapeUnicodeCharacters: R, parser: M, parseMemoizeOne: r, validationParser: O, pathParser: C, queryLanguages: ie, queryLanguageId: ke, onChangeQueryLanguage: qt, onRenderValue: ae, onRenderMenu: Ct, onRenderContextMenu: Ut, onClassName: Ge, onTransform: K }, hne, { onClose: re });
  }
  function Ft(de) {
    var Qe = de.id, ze = de.json, q = de.rootPath, K = de.onSort, re = de.onClose;
    d || o(Ele, { id: Qe, json: ze, rootPath: q, onSort: K }, dne, { onClose: re });
  }
  return t.$$set = function(de) {
    "content" in de && n(0, l = de.content), "selection" in de && n(2, u = de.selection), "readOnly" in de && n(3, d = de.readOnly), "indentation" in de && n(4, p = de.indentation), "tabSize" in de && n(5, g = de.tabSize), "mode" in de && n(1, y = de.mode), "mainMenuBar" in de && n(6, b = de.mainMenuBar), "navigationBar" in de && n(7, j = de.navigationBar), "statusBar" in de && n(8, N = de.statusBar), "askToFormat" in de && n(9, _ = de.askToFormat), "escapeControlCharacters" in de && n(10, I = de.escapeControlCharacters), "escapeUnicodeCharacters" in de && n(11, R = de.escapeUnicodeCharacters), "flattenColumns" in de && n(12, ne = de.flattenColumns), "parser" in de && n(13, M = de.parser), "validator" in de && n(14, P = de.validator), "validationParser" in de && n(15, O = de.validationParser), "pathParser" in de && n(16, C = de.pathParser), "queryLanguages" in de && n(38, ie = de.queryLanguages), "queryLanguageId" in de && n(37, ke = de.queryLanguageId), "onChangeQueryLanguage" in de && n(39, fe = de.onChangeQueryLanguage), "onChange" in de && n(40, Fe = de.onChange), "onSelect" in de && n(41, ut = de.onSelect), "onRenderValue" in de && n(17, ae = de.onRenderValue), "onClassName" in de && n(18, Ge = de.onClassName), "onRenderMenu" in de && n(19, Ct = de.onRenderMenu), "onRenderContextMenu" in de && n(20, Ut = de.onRenderContextMenu), "onChangeMode" in de && n(42, Xn = de.onChangeMode), "onError" in de && n(21, D = de.onError), "onFocus" in de && n(43, oe = de.onFocus), "onBlur" in de && n(44, $e = de.onBlur);
  }, t.$$.update = function() {
    if (8193 & t.$$.dirty[0] | 536870912 & t.$$.dirty[1] && !ZM(M, kt)) {
      if (s("parser changed, recreate editor"), Af(l)) {
        var de = kt.stringify(l.json);
        n(0, l = { json: de !== void 0 ? M.parse(de) : void 0 });
      }
      n(60, kt = M), n(22, Oe = Xu());
    }
    if (1 & t.$$.dirty[0]) {
      var Qe = Ng(l);
      Qe && console.error("Error: " + Qe);
    }
    8192 & t.$$.dirty[0] && n(27, r = Wf(M.parse)), 2 & t.$$.dirty[0] && (s("mode changed to", y), y === "code" && console.warn('Deprecation warning: "code" mode is renamed to "text". Please use mode="text" instead.'));
  }, [l, y, u, d, p, g, b, j, N, _, I, R, ne, M, P, O, C, ae, Ge, Ct, Ut, D, Oe, Ze, i, o, wt, r, function(de, Qe, ze) {
    n(0, l = de), Fe && Fe(de, Qe, ze);
  }, function(de) {
    n(2, u = de), ut(de);
  }, function() {
    n(23, Ze = !0), oe && oe();
  }, function() {
    n(23, Ze = !1), $e && $e();
  }, function(de) {
    return Rt.apply(this, arguments);
  }, zt, Ft, function(de) {
    var Qe = de.content, ze = de.path, q = de.onPatch, K = de.onClose;
    s("onJSONEditorModal", { content: Qe, path: ze }), n(26, wt = { component: FM(Fce, { content: Qe, path: ze, onPatch: q, readOnly: d, indentation: p, tabSize: g, mainMenuBar: b, navigationBar: j, statusBar: N, askToFormat: _, escapeControlCharacters: I, escapeUnicodeCharacters: R, flattenColumns: ne, parser: M, validator: void 0, validationParser: O, pathParser: C, onRenderValue: ae, onClassName: Ge, onRenderMenu: Ct, onRenderContextMenu: Ut, onSortModal: Ft, onTransformModal: zt }), callbacks: { onClose: K } });
  }, function() {
    var de, Qe;
    (de = wt) === null || de === void 0 || (de = de.callbacks) === null || de === void 0 || (Qe = de.onClose) === null || Qe === void 0 || Qe.call(de), n(26, wt = null);
  }, ke, ie, fe, Fe, ut, Xn, oe, $e, function() {
    return l;
  }, function(de) {
    return En.apply(this, arguments);
  }, function(de) {
    return It.apply(this, arguments);
  }, function(de) {
    return Je.apply(this, arguments);
  }, function(de) {
    return yn.apply(this, arguments);
  }, function(de) {
    return Zn.apply(this, arguments);
  }, function(de) {
    i.transform(de);
  }, function() {
    return i.validate();
  }, function() {
    return jn.apply(this, arguments);
  }, function(de) {
    return Vn.apply(this, arguments);
  }, function(de) {
    return i.findElement(de);
  }, Wn, function() {
    return fn.apply(this, arguments);
  }, function(de) {
    return ve.apply(this, arguments);
  }, function() {
    return He.apply(this, arguments);
  }, kt, function(de) {
    n(25, o = de);
  }, function(de) {
    tn[de ? "unshift" : "push"](function() {
      n(24, i = de);
    });
  }];
}
var iue = function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, Yce, Kce, Lt, { content: 0, selection: 2, readOnly: 3, indentation: 4, tabSize: 5, mode: 1, mainMenuBar: 6, navigationBar: 7, statusBar: 8, askToFormat: 9, escapeControlCharacters: 10, escapeUnicodeCharacters: 11, flattenColumns: 12, parser: 13, validator: 14, validationParser: 15, pathParser: 16, queryLanguages: 38, queryLanguageId: 37, onChangeQueryLanguage: 39, onChange: 40, onSelect: 41, onRenderValue: 17, onClassName: 18, onRenderMenu: 19, onRenderContextMenu: 20, onChangeMode: 42, onError: 21, onFocus: 43, onBlur: 44, get: 45, set: 46, update: 47, patch: 48, select: 49, expand: 50, transform: 51, validate: 52, acceptAutoRepair: 53, scrollTo: 54, findElement: 55, focus: 56, refresh: 57, updateProps: 58, destroy: 59 }, Hce, [-1, -1, -1]), r;
  }
  return at(e, ct), ot(e, [{ key: "get", get: function() {
    return this.$$.ctx[45];
  } }, { key: "set", get: function() {
    return this.$$.ctx[46];
  } }, { key: "update", get: function() {
    return this.$$.ctx[47];
  } }, { key: "patch", get: function() {
    return this.$$.ctx[48];
  } }, { key: "select", get: function() {
    return this.$$.ctx[49];
  } }, { key: "expand", get: function() {
    return this.$$.ctx[50];
  } }, { key: "transform", get: function() {
    return this.$$.ctx[51];
  } }, { key: "validate", get: function() {
    return this.$$.ctx[52];
  } }, { key: "acceptAutoRepair", get: function() {
    return this.$$.ctx[53];
  } }, { key: "scrollTo", get: function() {
    return this.$$.ctx[54];
  } }, { key: "findElement", get: function() {
    return this.$$.ctx[55];
  } }, { key: "focus", get: function() {
    return this.$$.ctx[56];
  } }, { key: "refresh", get: function() {
    return this.$$.ctx[57];
  } }, { key: "updateProps", get: function() {
    return this.$$.ctx[58];
  } }, { key: "destroy", get: function() {
    return this.$$.ctx[59];
  } }]), e;
}();
function Qce(t) {
  Tt(t, "svelte-9wp3tj", ".jse-value.jse-string.svelte-9wp3tj{color:var(--jse-value-color-string, #008000)}.jse-value.jse-object.svelte-9wp3tj,.jse-value.jse-array.svelte-9wp3tj{min-width:16px;color:var(--jse-delimiter-color, rgba(0, 0, 0, 0.38))}.jse-value.jse-number.svelte-9wp3tj{color:var(--jse-value-color-number, #ee422e)}.jse-value.jse-boolean.svelte-9wp3tj{color:var(--jse-value-color-boolean, #ff8c00)}.jse-value.jse-null.svelte-9wp3tj{color:var(--jse-value-color-null, #004ed0)}.jse-value.jse-invalid.svelte-9wp3tj{color:var(--jse-text-color, #4d4d4d)}.jse-value.jse-url.svelte-9wp3tj{color:var(--jse-value-color-url, #008000);text-decoration:underline}.jse-enum-value.svelte-9wp3tj{background:var(--jse-hover-background-color, rgba(0, 0, 0, 0.06));border:none;padding:0;font-family:inherit;font-size:inherit;cursor:pointer;outline:none}.jse-enum-value.jse-selected.svelte-9wp3tj{background:var(--jse-selection-background-color, #d3d3d3);color:inherit}.jse-enum-value.jse-value.svelte-9wp3tj:focus{color:var(--jse-text-color, #4d4d4d)}.jse-json-node.jse-selected .jse-enum-value.svelte-9wp3tj{background:transparent}");
}
function CS(t, e, n) {
  var r = t.slice();
  return r[13] = e[n], r;
}
function _S(t) {
  var e, n, r, i = t[13].text + "";
  return { c: function() {
    e = U("option"), n = Le(i), e.__value = r = t[13].value, ys(e, e.__value);
  }, m: function(o, s) {
    X(o, e, s), E(e, n);
  }, p: function(o, s) {
    4 & s && i !== (i = o[13].text + "") && yt(n, i), 4 & s && r !== (r = o[13].value) && (e.__value = r, ys(e, e.__value));
  }, d: function(o) {
    o && Q(e);
  } };
}
function Xce(t) {
  for (var e, n, r, i, o = Et(t[2]), s = [], a = 0; a < o.length; a += 1)
    s[a] = _S(CS(t, o, a));
  return { c: function() {
    e = U("select");
    for (var l = 0; l < s.length; l += 1)
      s[l].c();
    $(e, "class", n = ir("jse-enum-value ".concat(Mf(t[4], t[0]))) + " svelte-9wp3tj"), t[4] === void 0 && Cl(function() {
      return t[10].call(e);
    }), Se(e, "jse-selected", sn(t[1]));
  }, m: function(l, c) {
    X(l, e, c);
    for (var u = 0; u < s.length; u += 1)
      s[u] && s[u].m(e, null);
    Vj(e, t[4], !0), t[11](e), r || (i = [_e(e, "change", t[10]), _e(e, "change", t[5]), _e(e, "mousedown", Zce)], r = !0);
  }, p: function(l, c) {
    var u = Mt(c, 1)[0];
    if (4 & u) {
      var f;
      for (o = Et(l[2]), f = 0; f < o.length; f += 1) {
        var d = CS(l, o, f);
        s[f] ? s[f].p(d, u) : (s[f] = _S(d), s[f].c(), s[f].m(e, null));
      }
      for (; f < s.length; f += 1)
        s[f].d(1);
      s.length = o.length;
    }
    17 & u && n !== (n = ir("jse-enum-value ".concat(Mf(l[4], l[0]))) + " svelte-9wp3tj") && $(e, "class", n), 16 & u && Vj(e, l[4]), 19 & u && Se(e, "jse-selected", sn(l[1]));
  }, i: Te, o: Te, d: function(l) {
    l && Q(e), Sr(s, l), t[11](null), r = !1, Dn(i);
  } };
}
function Zce(t) {
  t.stopPropagation();
}
function eue(t, e, n) {
  var r, i = e.path, o = e.value, s = e.parser, a = e.readOnly, l = e.selection, c = e.onPatch, u = e.options, f = o;
  return t.$$set = function(d) {
    "path" in d && n(6, i = d.path), "value" in d && n(7, o = d.value), "parser" in d && n(0, s = d.parser), "readOnly" in d && n(8, a = d.readOnly), "selection" in d && n(1, l = d.selection), "onPatch" in d && n(9, c = d.onPatch), "options" in d && n(2, u = d.options);
  }, t.$$.update = function() {
    128 & t.$$.dirty && n(4, f = o), 2 & t.$$.dirty && function(d) {
      d && r && r.focus();
    }(l);
  }, [s, l, u, r, f, function(d) {
    d.stopPropagation(), a || c([{ op: "replace", path: We(i), value: f }]);
  }, i, o, a, c, function() {
    var d;
    d = this.querySelector(":checked"), f = d && d.__value, n(4, f), n(7, o);
  }, function(d) {
    tn[d ? "unshift" : "push"](function() {
      n(3, r = d), n(2, u);
    });
  }];
}
(function(t) {
  function e(n) {
    var r;
    return it(this, e), lt(rt(r = st(this, e)), n, eue, Xce, Lt, { path: 6, value: 7, parser: 0, readOnly: 8, selection: 1, onPatch: 9, options: 2 }, Qce), r;
  }
  return at(e, ct), ot(e);
})();
var oue = { id: "lodash", name: "Lodash", description: `
<p>
  Enter a JavaScript function to filter, sort, or transform the data.
  You can use <a href="https://lodash.com" target="_blank" rel="noopener noreferrer">Lodash</a>
  functions like <code>_.map</code>, <code>_.filter</code>,
  <code>_.orderBy</code>, <code>_.sortBy</code>, <code>_.groupBy</code>,
  <code>_.pick</code>, <code>_.uniq</code>, <code>_.get</code>, etcetera.
</p>
`, createQuery: function(t, e) {
  var n = e.filter, r = e.sort, i = e.projection, o = [`  return _.chain(data)
`];
  if (n && n.path && n.relation && n.value) {
    var s = "item => item".concat(ts(n.path)), a = Jb(n.value), l = typeof a == "string" ? "'".concat(n.value, "'") : JM(n.value) && !Number.isSafeInteger(a) ? "".concat(n.value, "n") : n.value;
    o.push("    .filter(".concat(s, " ").concat(n.relation, " ").concat(l, `)
`));
  }
  if (r && r.path && r.direction && o.push("    .orderBy([".concat(function(f) {
    return f.length === 0 ? "" : f.every(function(d) {
      return Im.test(d) || Ub.test(d);
    }) ? "'" + f.map(Fne).join("").replace(/^\./, "") + "'" : JSON.stringify(f);
  }(r.path), "], ['").concat(r.direction, `'])
`)), i && i.paths)
    if (i.paths.length > 1) {
      var c = i.paths.map(function(f) {
        var d = _t(f) || "item";
        return "      ".concat(JSON.stringify(d), ": item").concat(ts(f));
      });
      o.push(`    .map(item => ({
`.concat(c.join(`,
`), `
    }))
`));
    } else {
      var u = i.paths[0];
      o.push("    .map(item => item".concat(ts(u), `)
`));
    }
  return o.push(`    .value()
`), `function query (data) {
`.concat(o.join(""), "}");
}, executeQuery: function(t, e) {
  (function(r) {
    var i, o, s = (i = r.match(/_\.chain\(/g)) === null || i === void 0 ? void 0 : i.length, a = (o = r.match(/\.value\(\)/g)) === null || o === void 0 ? void 0 : o.length;
    if (s !== a)
      throw new Error("Cannot execute query: Lodash _.chain(...) must end with .value()");
  })(e);
  var n = new Function("_", `"use strict";

` + e + `

if (typeof query !== "function") {
  throw new Error("Cannot execute query: expecting a function named 'query' but is undefined")
}

return query;
`)(pW)(t);
  return n !== void 0 ? n : null;
} }, sue = { id: "jmespath", name: "JMESPath", description: `
<p>
  Enter a <a href="https://jmespath.org" target="_blank" rel="noopener noreferrer">JMESPath</a> query 
  to filter, sort, or transform the JSON data.
 To learn JMESPath, go to <a href="https://jmespath.org/tutorial.html" target="_blank" rel="noopener noreferrer">the interactive tutorial</a>.
</p>
`, createQuery: function(t, e) {
  var n = e.sort, r = e.filter, i = e.projection, o = "";
  if (r && r.path && r.relation && r.value) {
    var s = ["0"].concat(r.path), a = Xe(t, s), l = Jb(r.value), c = typeof a == "string" && l != null ? '"'.concat(r.value, '"') : l;
    o += "[? " + Au(r.path) + " " + r.relation + " `" + c + "`]";
  } else
    o += Array.isArray(t) ? "[*]" : "@";
  if (n && n.path && n.direction && (n.direction === "desc" ? o += " | reverse(sort_by(@, &" + Au(n.path) + "))" : o += " | sort_by(@, &" + Au(n.path) + ")"), i && i.paths)
    if (o[o.length - 1] !== "]" && (o += " | [*]"), i.paths.length === 1) {
      var u = i.paths[0];
      o += u.length === 0 ? "" : "." + Au(u);
    } else
      i.paths.length > 1 && (o += ".{" + i.paths.map(function(f) {
        return nR(f[f.length - 1]) + ": " + Au(f);
      }).join(", ") + "}");
  return o;
}, executeQuery: function(t, e, n) {
  var r = ZM(n, JSON) ? t : function(i) {
    var o = n.stringify(i);
    return o !== void 0 ? JSON.parse(o) : void 0;
  }(t);
  return Vte.search(r, e);
} };
function Au(t) {
  if (t.length === 0)
    return "@";
  var e = t.map(function(n) {
    return typeof n == "number" ? "[" + n + "]" : "." + nR(String(n));
  }).join("");
  return e[0] === "." ? e.slice(1) : e;
}
function nR(t) {
  return t.match(/^[A-Za-z\d_$]+$/) ? t : JSON.stringify(t);
}
export {
  rre as BooleanToggle,
  Io as CaretType,
  fre as ColorPicker,
  yre as EditableValue,
  iue as JSONEditor,
  ei as Mode,
  Pre as ReadonlyValue,
  qo as SearchField,
  qn as SelectionType,
  vo as SortDirection,
  Fre as TimestampTag,
  ka as UpdateSelectionAfterChange,
  Ks as ValidationSeverity,
  zs as createAfterSelection,
  Zs as createInsideSelection,
  yo as createKeySelection,
  ui as createMultiSelection,
  Gt as createValueSelection,
  $ne as estimateSerializedSize,
  Ii as isAfterSelection,
  xk as isContentParseError,
  boe as isContentValidationErrors,
  yoe as isContextMenuColumn,
  voe as isContextMenuRow,
  vi as isEditingSelection,
  ZM as isEqualParser,
  Cr as isInsideSelection,
  Af as isJSONContent,
  jr as isKeySelection,
  XM as isLargeContent,
  ld as isMenuButton,
  r2 as isMenuDropDownButton,
  goe as isMenuLabel,
  Vm as isMenuSeparator,
  qT as isMenuSpace,
  Tn as isMultiSelection,
  woe as isNestedValidationError,
  Bc as isTextContent,
  xoe as isValidationError,
  sn as isValueSelection,
  Vne as javascriptQueryLanguage,
  sue as jmespathQueryLanguage,
  oue as lodashQueryLanguage,
  Hm as onEscape,
  zne as parseJSONPath,
  Vre as renderValue,
  ZT as resizeObserver,
  qi as stringifyJSONPath,
  Zj as toJSONContent,
  jne as toTextContent
};
